"use strict";function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(void 0).Velocity=e()}(function(){var W="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e){return!0===e||!1===e}function V(e){return"[object Function]"===Object.prototype.toString.call(e)}function q(e){return!(!e||!e.nodeType)}function Y(e){return"number"==typeof e}function X(e){if(!e||"object"!==(void 0===e?"undefined":W(e))||e.nodeType||"[object Object]"!==Object.prototype.toString.call(e))return!1;e=Object.getPrototypeOf(e);return!e||e.hasOwnProperty("constructor")&&e.constructor===Object}function K(e){return"string"==typeof e}function $(e){return e&&Y(e.length)&&V(e.velocity)}function N(e){return e&&e!==window&&Y(e.length)&&!K(e)&&!V(e)&&!q(e)&&(0===e.length||q(e[0]))}function P(e){return Array.prototype.slice.call(e,0)}function A(e,t,n,r){e&&Object.defineProperty(e,t,{configurable:!r,writable:!r,value:n})}function L(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){var l=l.value;if(void 0!==l&&l==l)return l}}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}}var n=Date.now||function(){return(new Date).getTime()};function u(e,t){e instanceof Element&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(\\s|$)","gi")," "))}var J={};function i(e,t){var n,r=e[0],i=e[1];K(r)?V(i)?J[r]&&(n=J,e=r,!Object.prototype.propertyIsEnumerable.call(n,e))?console.warn("VelocityJS: Trying to override internal 'registerAction' callback",r):!0===t?A(J,r,i):J[r]=i:console.warn("VelocityJS: Trying to set 'registerAction' callback to an invalid value:",r,i):console.warn("VelocityJS: Trying to set 'registerAction' name to an invalid value:",r)}i(["registerAction",i],!0);var ee=400,o={fast:200,normal:400,slow:600},h={};function a(e){var t=e[0],e=e[1];K(t)?V(e)?h[t]?console.warn("VelocityJS: Trying to override 'registerEasing' callback",t):h[t]=e:console.warn("VelocityJS: Trying to set 'registerEasing' callback to an invalid value:",t,e):console.warn("VelocityJS: Trying to set 'registerEasing' name to an invalid value:",t)}function z(e,t,n,r){return t+e*(n-t)}function w(e){return Math.min(Math.max(e,0),1)}function l(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function b(e,t,n){return((l(t,n)*e+s(t,n))*e+3*t)*e}function S(e,t,n){return 3*l(t,n)*e*e+2*s(t,n)*e+3*t}function c(){for(var a=4,l=1e-7,s=10,u=11,c=1/(u-1),e=("Float32Array"in window),t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(4===n.length){for(var i=0;i<4;++i)if("number"!=typeof n[i]||isNaN(n[i])||!isFinite(n[i]))return;var f=w(n[0]),o=n[1],d=w(n[2]),v=n[3],p=new(e?Float32Array:Array)(u),y=!1,g="generateBezier("+[f,o,d,v]+")",e=function(e,t,n,r){return y||m(),0===e?t:1===e?n:f===o&&d===v?t+e*(n-t):t+b(h(e),o,v)*(n-t)};return e.getControlPoints=function(){return[{x:f,y:o},{x:d,y:v}]},e.toString=function(){return g},e}function h(e){for(var t=u-1,n=0,r=1;r!==t&&p[r]<=e;++r)n+=c;var i=n+(e-p[--r])/(p[r+1]-p[r])*c,o=S(i,f,d);return.001<=o?function(e,t){for(var n=0;n<a;++n){var r=S(t,f,d);if(0===r)return t;t-=(b(t,f,d)-e)/r}return t}(e,i):0===o?i:function(e,t,n){for(var r,i=void 0,o=0;0<(r=b(i=t+(n-t)/2,f,d)-e)?n=i:t=i,Math.abs(r)>l&&++o<s;);return i}(e,n,n+c)}function m(){y=!0,f===o&&d===v||function(){for(var e=0;e<u;++e)p[e]=b(e*c,f,d)}()}}i(["registerEasing",a],!0),a(["linear",z]),a(["swing",function(e,t,n){return t+(.5-Math.cos(e*Math.PI)/2)*(n-t)}]),a(["spring",function(e,t,n){return t+(1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e))*(n-t)}]);var f=c(.42,0,1,1),d=c(0,0,.58,1),v=c(.42,0,.58,1);function y(e){return-e.tension*e.x-e.friction*e.v}function g(e,t,n){e={x:e.x+n.dx*t,v:e.v+n.dv*t,tension:e.tension,friction:e.friction};return{dx:e.v,dv:y(e)}}function m(e,t,n){for(var r,i,o,a,l,s,u,c={x:-1,v:0,tension:parseFloat(e)||500,friction:parseFloat(t)||20},f=[0],t=null!=n,d=0,v=void 0,p=void 0,v=t?(d=m(c.tension,c.friction))/n*.016:.016;i=v,s=u=s=l=a=o=void 0,o={dx:(r=p||c).v,dv:y(r)},a=g(r,.5*i,o),l=g(r,.5*i,a),s=g(r,i,l),u=1/6*(o.dx+2*(a.dx+l.dx)+s.dx),s=1/6*(o.dv+2*(a.dv+l.dv)+s.dv),r.x=r.x+u*i,r.v=r.v+s*i,p=r,f.push(1+p.x),d+=16,1e-4<Math.abs(p.x)&&1e-4<Math.abs(p.v););return t?function(e,t,n){return 0===e?t:1===e?n:t+f[Math.floor(e*(f.length-1))]*(n-t)}:d}a(["ease",c(.25,.1,.25,1)]),a(["easeIn",f]),a(["ease-in",f]),a(["easeOut",d]),a(["ease-out",d]),a(["easeInOut",v]),a(["ease-in-out",v]),a(["easeInSine",c(.47,0,.745,.715)]),a(["easeOutSine",c(.39,.575,.565,1)]),a(["easeInOutSine",c(.445,.05,.55,.95)]),a(["easeInQuad",c(.55,.085,.68,.53)]),a(["easeOutQuad",c(.25,.46,.45,.94)]),a(["easeInOutQuad",c(.455,.03,.515,.955)]),a(["easeInCubic",c(.55,.055,.675,.19)]),a(["easeOutCubic",c(.215,.61,.355,1)]),a(["easeInOutCubic",c(.645,.045,.355,1)]),a(["easeInQuart",c(.895,.03,.685,.22)]),a(["easeOutQuart",c(.165,.84,.44,1)]),a(["easeInOutQuart",c(.77,0,.175,1)]),a(["easeInQuint",c(.755,.05,.855,.06)]),a(["easeOutQuint",c(.23,1,.32,1)]),a(["easeInOutQuint",c(.86,0,.07,1)]),a(["easeInExpo",c(.95,.05,.795,.035)]),a(["easeOutExpo",c(.19,1,.22,1)]),a(["easeInOutExpo",c(1,0,0,1)]),a(["easeInCirc",c(.6,.04,.98,.335)]),a(["easeOutCirc",c(.075,.82,.165,1)]),a(["easeInOutCirc",c(.785,.135,.15,.86)]);var p={};function x(e,t){return Y(e)?e:K(e)?o[e.toLowerCase()]||parseFloat(e.replace("ms","").replace("s","000")):null==t?void 0:x(t)}function O(e){if(M(e))return e;null!=e&&console.warn("VelocityJS: Trying to set 'cache' to an invalid value:",e)}function I(e){if(V(e))return e;null!=e&&console.warn("VelocityJS: Trying to set 'begin' to an invalid value:",e)}function j(e,t){if(V(e))return e;null==e||t||console.warn("VelocityJS: Trying to set 'complete' to an invalid value:",e)}function C(e){var t=x(e);if(!isNaN(t))return t;null!=e&&console.error("VelocityJS: Trying to set 'delay' to an invalid value:",e)}function te(e,t){var n=x(e);if(!isNaN(n)&&0<=n)return n;null==e||t||console.error("VelocityJS: Trying to set 'duration' to an invalid value:",e)}function ne(e,t,n){if(K(e))return h[e];if(V(e))return e;if(Array.isArray(e)){if(1===e.length)return r=e[0],p[r]||(p[r]=function(e,t,n){return 0===e?t:1===e?n:t+Math.round(e*r)*(1/r)*(n-t)});if(2===e.length)return m(e[0],e[1],t);if(4===e.length)return c.apply(null,e)||!1}var r;null==e||n||console.error("VelocityJS: Trying to set 'easing' to an invalid value:",e)}function E(e){if(!1===e)return 0;var t=parseInt(e,10);if(!isNaN(t)&&0<=t)return Math.min(t,60);null!=e&&console.warn("VelocityJS: Trying to set 'fpsLimit' to an invalid value:",e)}function F(e){switch(e){case!1:return 0;case!0:return!0;default:var t=parseInt(e,10);if(!isNaN(t)&&0<=t)return t}null!=e&&console.warn("VelocityJS: Trying to set 'loop' to an invalid value:",e)}function H(e,t){if(!1===e||K(e))return e;null==e||t||console.warn("VelocityJS: Trying to set 'queue' to an invalid value:",e)}function R(e){switch(e){case!1:return 0;case!0:return!0;default:var t=parseInt(e,10);if(!isNaN(t)&&0<=t)return t}null!=e&&console.warn("VelocityJS: Trying to set 'repeat' to an invalid value:",e)}function B(e){if(Y(e))return e;null!=e&&console.error("VelocityJS: Trying to set 'speed' to an invalid value:",e)}function G(e){if(M(e))return e;null!=e&&console.error("VelocityJS: Trying to set 'sync' to an invalid value:",e)}var k=void 0,_=void 0,T=void 0,Q=void 0,D=void 0,U=void 0,Z=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,le=void 0,se=void 0,ue=void 0,ce=void 0,fe=void 0,de=(t(ve,null,[{key:"reset",value:function(){k=!0,T=_=void 0,Q=0,U=ne("swing",D=ee),oe=980/(Z=60),le=ae=!(re=0),se="",ce=1,fe=!(ue=0)}},{key:"cache",get:function(){return k},set:function(e){void 0!==(e=O(e))&&(k=e)}},{key:"begin",get:function(){return _},set:function(e){void 0!==(e=I(e))&&(_=e)}},{key:"complete",get:function(){return T},set:function(e){void 0!==(e=j(e))&&(T=e)}},{key:"delay",get:function(){return Q},set:function(e){void 0!==(e=C(e))&&(Q=e)}},{key:"duration",get:function(){return D},set:function(e){void 0!==(e=te(e))&&(D=e)}},{key:"easing",get:function(){return U},set:function(e){void 0!==(e=ne(e,D))&&(U=e)}},{key:"fpsLimit",get:function(){return Z},set:function(e){void 0!==(e=E(e))&&(oe=980/(Z=e))}},{key:"loop",get:function(){return re},set:function(e){void 0!==(e=F(e))&&(re=e)}},{key:"mobileHA",get:function(){return ie},set:function(e){M(e)&&(ie=e)}},{key:"minFrameTime",get:function(){return oe}},{key:"promise",get:function(){return ae},set:function(e){void 0!==(e=function(e){if(M(e))return e;null!=e&&console.warn("VelocityJS: Trying to set 'promise' to an invalid value:",e)}(e))&&(ae=e)}},{key:"promiseRejectEmpty",get:function(){return le},set:function(e){void 0!==(e=function(e){if(M(e))return e;null!=e&&console.warn("VelocityJS: Trying to set 'promiseRejectEmpty' to an invalid value:",e)}(e))&&(le=e)}},{key:"queue",get:function(){return se},set:function(e){void 0!==(e=H(e))&&(se=e)}},{key:"repeat",get:function(){return ue},set:function(e){void 0!==(e=R(e))&&(ue=e)}},{key:"repeatAgain",get:function(){return ue}},{key:"speed",get:function(){return ce},set:function(e){void 0!==(e=B(e))&&(ce=e)}},{key:"sync",get:function(){return fe},set:function(e){void 0!==(e=G(e))&&(fe=e)}}]),ve);function ve(){e(this,ve)}Object.freeze(de),de.reset();var pe=[],ye={},ge=new Set,he=[],me=new Map,we="velocityData";function be(e){var t=e[we];if(t)return t;for(var n=e.ownerDocument.defaultView,r=0,i=0;i<he.length;i++){var o=he[i];K(o)?e instanceof n[o]&&(r|=1<<i):e instanceof o&&(r|=1<<i)}t={types:r,count:0,computedStyle:null,cache:{},queueList:{},lastAnimationList:{},lastFinishList:{},window:n};return Object.defineProperty(e,we,{value:t}),t}var v=window&&window===window.window,t=v&&void 0!==window.pageYOffset,Se={isClient:v,isMobile:v&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isGingerbread:v&&/Android 2\.3\.[3-7]/i.test(navigator.userAgent),prefixElement:v&&document.createElement("div"),windowScrollAnchor:t,scrollAnchor:t?window:!v||document.documentElement||document.body.parentNode||document.body,scrollPropertyLeft:t?"pageXOffset":"scrollLeft",scrollPropertyTop:t?"pageYOffset":"scrollTop",className:"velocity-animating",isTicking:!1,first:void 0,last:void 0,firstNew:void 0};function xe(e){var t=Se.last;e._prev=t,e._next=void 0,t?t._next=e:Se.first=e,Se.last=e,Se.firstNew||(Se.firstNew=e);t=e.element;be(t).count++||(e=t,t=Se.className,e instanceof Element&&(e.classList?e.classList.add(t):(u(e,t),e.className+=(e.className.length?" ":"")+t)))}function ke(e){var t=e._next,n=e._prev,r=(null==e.queue?e.options:e).queue;Se.firstNew===e&&(Se.firstNew=t),Se.first===e?Se.first=t:n&&(n._next=t),Se.last===e?Se.last=n:t&&(t._prev=n),r&&be(e.element)&&(e._next=e._prev=void 0)}var _e={};function Oe(e){var t,n,r,i=e.options,o=L(e.queue,i.queue),a=L(e.loop,i.loop,de.loop),l=L(e.repeat,i.repeat,de.repeat),s=8&e._flags;s||!a&&!l?(--(n=be(t=e.element)).count||s||u(t,Se.className),i&&++i._completed===i._total&&(!s&&i.complete&&(function(e){var t=e.complete||e.options.complete;if(t)try{var n=e.elements;t.call(n,n,e)}catch(e){setTimeout(function(){throw e},1)}}(e),i.complete=null),(r=i._resolver)&&(r(e.elements),delete i._resolver)),!1!==o&&(s||(n.lastFinishList[o]=e.timeStart+L(e.duration,i.duration,de.duration)),function(e,t,n){if(!1!==t){K(t)||(t="");var r=be(e),e=r.queueList[t];e?(r.queueList[t]=e._next||null,n||xe(e)):null===e&&delete r.queueList[t]}}(t,o)),ke(e)):(l&&!0!==l?e.repeat=l-1:a&&!0!==a&&(e.loop=a-1,e.repeat=L(e.repeatAgain,i.repeatAgain,de.repeatAgain)),a&&(e._flags^=64),!1!==o&&(be(e.element).lastFinishList[o]=e.timeStart+L(e.duration,i.duration,de.duration)),e.timeStart=e.ellapsedTime=e.percentComplete=0,e._flags&=-5)}function Ee(e){var t=e[0],n=e[1],r=e[2];if((!K(t)||window[t]instanceof Object)&&(K(t)||t instanceof Object))if(K(n))if(V(r)){var i,o=he.indexOf(t),a=3;if(o<0&&!K(t))if(me.has(t))o=he.indexOf(me.get(t));else for(var l in window)if(window[l]===t){(o=he.indexOf(l))<0&&(o=he.push(l)-1,pe[o]={},me.set(t,l));break}o<0&&(o=he.push(t)-1,pe[o]={}),pe[o][n]=r,K(e[a])&&(i=e[a++],(ye[i]||(ye[i]=[])).push(r)),!1===e[a]&&ge.add(n)}else console.warn("VelocityJS: Trying to set 'registerNormalization' callback to an invalid value:",n,r);else console.warn("VelocityJS: Trying to set 'registerNormalization' name to an invalid value:",n);else console.warn("VelocityJS: Trying to set 'registerNormalization' constructor to an invalid value:",t)}function Te(e){var t=e[0],e=e[1],n=he.indexOf(t);if(n<0&&!K(t))if(me.has(t))n=he.indexOf(me.get(t));else for(var r in window)if(window[r]===t){n=he.indexOf(r);break}return 0<=n&&pe[n].hasOwnProperty(e)}function Me(e,t){for(var e=be(e),n=void 0,r=he.length-1,i=e.types;!n&&0<=r;r--)i&1<<r&&(n=pe[r][t]);return n}function Ve(e,t,n,r){var i=ge.has(t),o=!i&&be(e);(i||o&&o.cache[t]!==n)&&(i||(o.cache[t]=n||void 0),(r=r||Me(e,t))&&r(e,n),2<=Dt.debug&&console.info('Set "'+t+'": "'+n+'"',e))}i(["registerNormalization",Ee]),i(["hasNormalization",Te]);var qe={};function Ne(e){var t=qe[e];return t||(qe[e]=e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}))}var Ae=/#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})/gi,Le=/#([a-f\d])([a-f\d])([a-f\d])/gi,Je=/(rgba?\(\s*)?(\b[a-z]+\b)/g,Ie=/rgb(a?)\(([^\)]+)\)/gi,je=/\s+/g,Ce={};function Pe(e,t,n,r){return"rgba("+parseInt(t,16)+","+parseInt(n,16)+","+parseInt(r,16)+",1)"}function ze(e){return e.replace(Ae,Pe).replace(Le,function(e,t,n,r){return Pe(0,t+t,n+n,r+r)}).replace(Je,function(e,t,n){return Ce[n]?(t||"rgba(")+Ce[n]+(t?"":",1)"):e}).replace(Ie,function(e,t,n){return"rgba("+n.replace(je,"")+(t?"":",1")+")"})}function Fe(e,t,n){if("border-box"===Be(e,"boxSizing").toString().toLowerCase()!==n)return 0;var t="width"===t?["Left","Right"]:["Top","Bottom"],r=["padding"+t[0],"padding"+t[1],"border"+t[0]+"Width","border"+t[1]+"Width"],i=0,o=!0,a=!1,l=void 0;try{for(var s=r[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var u=u.value,u=parseFloat(Be(e,u));isNaN(u)||(i+=u)}}catch(e){a=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(a)throw l}}return n?-i:i}function He(e,t){return e.getBoundingClientRect()[t]+Fe(e,t,!0)+"px"}function Re(e,t){var n=be(e),r=n.computedStyle||n.window.getComputedStyle(e,null),i=0;if(n.computedStyle||(n.computedStyle=r),"none"===r.display)switch(t){case"width":case"height":return Ve(e,"display","auto"),i=He(e,t),Ve(e,"display","none"),String(i)}if("auto"===(i=(i=r[t])||e.style[t]))switch(t){case"width":case"height":i=He(e,t);break;case"top":case"left":case"right":case"bottom":var o=Be(e,"position");if("fixed"===o||"absolute"===o){i=e.getBoundingClientRect[t]+"px";break}default:i="0px"}return i?String(i):""}function Be(e,t,n,r){var i=be(e),o=void 0;return ge.has(t)&&(r=!0),!r&&i&&null!=i.cache[t]?o=i.cache[t]:(n=n||Me(e,t))&&(o=n(e),i&&(i.cache[t]=o)),2<=Dt.debug&&console.info('Get "'+t+'": "'+o+'"',e),o}var We=/^#([A-f\d]{3}){1,2}$/i,$e={function:function(e,t,n,r,i,o){return e.call(t,r,n.length,i)},number:function(e,t,n,r,i,o){return String(e)+function(e){for(var t in ye)if(ye[t].includes(e))return t;return""}(o.fn)},string:ze,undefined:function(e,t,n,r,i,o){return ze(Be(t,i,o.fn)||"")}};function Ge(e,t){var n,r,i,o,a,l,s,u,c=e.tweens=Object.create(null),f=e.elements,d=e.element,v=f.indexOf(d),p=be(d),y=L(e.queue,e.options.queue),g=L(e.options.duration,de.duration);for(n in t)t.hasOwnProperty(n)&&(l=Me(d,r=Ne(n)),i=t[n],l||"tween"===r?null!=i?(u=s=void 0,(o=c[r]={}).fn=l,V(i)&&(i=i.call(d,v,f.length,f)),Array.isArray(i)?(a=i[1],l=i[2],s=i[0],u=K(a)&&(/^[\d-]/.test(a)||We.test(a))||V(a)||Y(a)?a:K(a)&&h[a]||Array.isArray(a)?(o.easing=ne(a,g),l):a||l):s=i,o.end=$e[void 0===s?"undefined":W(s)](s,d,f,v,r,o),null==u&&!1!==y&&void 0!==p.queueList[y]||(o.start=$e[void 0===u?"undefined":W(u)](u,d,f,v,r,o),Ze(r,o))):Dt.debug&&console.log('Skipping "'+n+'" due to no value supplied.'):Dt.debug&&console.log('Skipping "'+n+'" due to a lack of browser support.'))}var Qe=/((?:[+\-*/]=)?(?:[+-]?\d*\.\d+|[+-]?\d+)[a-z%]*|(?:.(?!$|[+-]?\d|[+\-*/]=[+-]?\d))+.|.)/g,De=/^([+\-*/]=)?([+-]?\d*\.\d+|[+-]?\d+)(.*)$/;function Ue(i,o){for(var a=i.length,e=[],t=[],l=void 0,n=0;n<a;n++){if(!K(i[n]))return;""===i[n]?e[n]=[""]:e[n]=P(i[n].match(Qe)),t[n]=0,l=l||1<e[n].length}for(var s=[],u=s.pattern=[],r=function(e){if(K(u[u.length-1]))u[u.length-1]+=e;else if(e){u.push(e);for(var t=0;t<a;t++)s[t].push(null)}},c=function(){if(!(l||1<u.length)){for(var e="display"===o,t="visibility"===o,n=0;n<a;n++){var r=i[n];s[n][0]=r,s[n].easing=ne(e&&"none"===r||t&&"hidden"===r||!e&&!t?"at-end":"at-start",400)}return u[0]=!1,s}},f=!0,d=0;d<a;d++)s[d]=[];for(;f;){for(var v=[],p=[],y=void 0,g=!1,h=!1,m=0;m<a;m++){var w=t[m]++,b=e[m][w];if(!b){if(m)return;for(;m<a;m++){var S=t[m]++;if(e[m][S])return c()}f=!1;break}var x=b.match(De);if(x){if(y)return c();var k=parseFloat(x[2]),_=x[3],w=x[1]?x[1][0]+_:void 0,x=w||_;k&&!p.includes(x)&&p.push(x),_||(k?h=!0:g=!0),v[m]=w?[k,x,!0]:[k,x]}else{if(v.length)return c();if(y){if(y!==b)return c()}else y=b}}if(y)r(y);else if(p.length)if(2===p.length&&g&&!h&&p.splice(p[0]?1:0,1),1===p.length){var O=p[0];switch(O[0]){case"+":case"-":case"*":case"/":return void(o&&console.error('Velocity: The first property must not contain a relative function "'+o+'":',i))}u.push(!1);for(var E=0;E<a;E++)s[E].push(v[E][0]);r(O)}else{r("calc(");for(var T=u.length-1,M=0;M<p.length;M++){var V=p[M],q=V[0],N="*"===q||"/"===q,A=N||"+"===q||"-"===q;N&&(u[T]+="(",r(")")),M&&r(" "+(A?q:"+")+" "),u.push(!1);for(var L=0;L<a;L++){var J=v[L],J=J[1]===V?J[0]:3===J.length?s[L-1][s[L-1].length-1]:N?1:0;s[L].push(J)}r(A?V.substring(1):V)}r(")")}}for(var I=0,j=0;I<u.length;I++){var C=u[I];K(C)?j&&0<=C.indexOf(",")?j++:0<=C.indexOf("rgb")&&(j=1):j&&(j<4?u[I]=!0:j=0)}return s}function Ze(e,t,n,r){var i=t.start,o=t.end;if(K(o)&&K(i)){var a,l,s,u=Ue([i,o],e);if(!u&&r&&(a=i.match(/\d\.?\d*/g)||["0"],l=a.length,s=0,u=Ue([o.replace(/\d+\.?\d*/g,function(){return a[s++%l]}),o],e)),u)switch(Dt.debug&&console.log("Velocity: Sequence found:",u),u[0].percent=0,u[1].percent=1,t.sequence=u,t.easing){case h["at-start"]:case h.during:case h["at-end"]:u[0].easing=u[1].easing=t.easing}}}function Ye(e){if(Se.firstNew===e&&(Se.firstNew=e._next),!(1&e._flags)){var t,n=e.element,r=e.tweens;L(e.options.duration,de.duration);for(t in r){var i,o=r[t];null==o.start&&(K(i=Be(e.element,t))?(o.start=ze(i),Ze(t,o,0,!0)):Array.isArray(i)||console.warn("bad type",o,t,i)),Dt.debug&&console.log('tweensContainer "'+t+'": '+JSON.stringify(o),n)}e._flags|=1}}function Xe(e){var t=e.begin||e.options.begin;if(t)try{var n=e.elements;t.call(n,n,e)}catch(e){setTimeout(function(){throw e},1)}}function Ke(){var e=!0,t=!1,n=void 0;try{for(var r,i=rt[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)!function(e){var t=e.progress||e.options.progress;if(t)try{var n=e.elements,r=e.percentComplete,i=e.options,o=e.tween;t.call(n,n,r,Math.max(0,e.timeStart+(null!=e.duration?e:null!=i.duration?i:de).duration-ut),void 0!==o?o:String(100*r),e)}catch(e){setTimeout(function(){throw e},1)}}(r.value)}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}rt.clear();var o=!0,a=!1,l=void 0;try{for(var s,u=nt[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)Oe(s.value)}catch(e){a=!0,l=e}finally{try{!o&&u.return&&u.return()}finally{if(a)throw l}}nt.clear()}var et,tt=1e3/60,nt=new Set,rt=new Set,it=("function"!=typeof(t=window.performance||{}).now&&(et=t.timing&&t.timing.navigationStart?t.timing.navigationStart:n(),t.now=function(){return n()-et}),t),ot=function(e){return setTimeout(e,Math.max(0,tt-(it.now()-ut)))},at=window.requestAnimationFrame||ot,lt=void 0,st=void 0,ut=0;try{(st=new Worker(URL.createObjectURL(new Blob(["("+function(){var t=this,n=void 0;this.onmessage=function(e){switch(e.data){case!0:n=n||setInterval(function(){t.postMessage(!0)},1e3/30);break;case!1:n&&(clearInterval(n),n=0);break;default:t.postMessage(e.data)}}}+")()"])))).onmessage=function(e){(!0===e.data?ct:Ke)()},Se.isMobile||void 0===document.hidden||document.addEventListener("visibilitychange",function(){st.postMessage(Se.isTicking&&document.hidden)})}catch(e){}function ct(e){if(!lt){if(!(lt=!0)!==e){var t=it.now(),n=ut?t-ut:tt,r=de.speed,i=de.easing,o=de.duration,a=void 0,l=void 0;if(n>=de.minFrameTime||!ut){for(ut=t;Se.firstNew;)Ye(Se.firstNew);for(a=Se.first;a&&a!==Se.firstNew;a=a._next){var s,u,c,f=a.element,d=be(f);f.parentNode&&d?(s=a.options,u=a._flags,(c=a.timeStart)||(c=t-n,!1!==(f=(null!=a.queue?a:s).queue)&&(c=Math.max(c,d.lastFinishList[f]||0)),a.timeStart=c),16&u?a.timeStart+=n:2&u||(a._flags|=2,s._ready++)):ke(a)}for(a=Se.first;a&&a!==Se.firstNew;a=l){var v=a._flags,l=a._next;if(2&v&&!(16&v)){var p=a.options;if(32&v&&p._ready<p._total)a.timeStart+=n;else{var y=null!=a.speed?a.speed:null!=p.speed?p.speed:r,g=a.timeStart;if(!(4&v)){var h=(null!=a.delay?a:p).delay;if(h){if(t<g+h/y)continue;a.timeStart=g+=h/(0<h?y:1)}a._flags|=4,0==p._started++&&(p._first=a,p.begin&&(Xe(a),p.begin=void 0))}1!==y&&(a.timeStart=g+=Math.min(n,t-g)*(1-y));var m,w=null!=a.easing?a.easing:null!=p.easing?p.easing:i,y=a.ellapsedTime=t-g,g=null!=a.duration?a.duration:null!=p.duration?p.duration:o,b=a.percentComplete=Dt.mock?1:Math.min(y/g,1),S=a.tweens,x=64&v;for(m in(a.progress||p._first===a&&p.progress)&&rt.add(a),1===b&&nt.add(a),S){var k=S[m],_=k.sequence,O=_.pattern,E="",T=0;if(O){for(var M=(k.easing||w)(b,0,1,m),V=0,q=0;q<_.length-1;q++)_[q].percent<M&&(V=q);for(var N=_[V],A=_[V+1]||N,L=(b-N.percent)/(A.percent-N.percent),J=x?1-L:L,I=A.easing||w||z;T<O.length;T++){var j,C=N[T];null==C?E+=O[T]:C===(j=A[T])?E+=C:(j=I(J,C,j,m),E+=!0!==O[T]?j:Math.round(j))}"tween"!==m?(1===b&&(E=function(e){if(0<=e.indexOf("calc(")){for(var t=e.split(/([\(\)])/),n=0,r=0;r<t.length;r++){var i=t[r];switch(i){case"(":n++;break;case")":n--;break;default:n&&"0"===i[0]&&(t[r]=i.replace(/^0[a-z%]+ \+ /,""))}}return t.join("").replace(/(?:calc)?\(([0-9\.]+[a-z%]+)\)/g,"$1")}return e}(E)),Ve(a.element,m,E,k.fn)):a.tween=E}else console.warn("VelocityJS: Missing pattern:",m,JSON.stringify(k[m])),delete S[m]}}}}(rt.size||nt.size)&&(document.hidden?st?st.postMessage(""):setTimeout(Ke,1):Ke())}}Se.first?(Se.isTicking=!0,document.hidden?st?!1===e&&st.postMessage(!0):ot(ct):at(ct)):(Se.isTicking=!1,ut=0,document.hidden&&st&&st.postMessage(!1)),lt=!1}}function ft(e,t,n){if(Ye(e),void 0===t||t===L(e.queue,e.options.queue,n)){for(var r in 4&e._flags||(0==(n=e.options)._started++&&(n._first=e,n.begin&&(Xe(e),n.begin=void 0)),e._flags|=4),e.tweens){var i=e.tweens[r],o=i.sequence,a=o.pattern,l="",s=0;if(a)for(var u=o[o.length-1];s<a.length;s++){var c=u[s];l+=null==c?a[s]:c}Ve(e.element,r,l,i.fn)}Oe(e)}}i(["finish",function(e,t,n){var r=H(e[0],!0),i=de.queue,o=!0===e[void 0===r?0:1];if($(t)&&t.velocity.animations){var a=!0,l=!1,s=void 0;try{for(var u,c=t.velocity.animations[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)ft(u.value,r,i)}catch(e){l=!0,s=e}finally{try{!a&&c.return&&c.return()}finally{if(l)throw s}}}else{for(;Se.firstNew;)Ye(Se.firstNew);for(var f,d=Se.first;d&&(o||d!==Se.firstNew);d=f||Se.firstNew)f=d._next,t&&!t.includes(d.element)||ft(d,r,i)}n&&($(t)&&t.velocity.animations&&t.then?t.then(n._resolver):n._resolver(t))}],!0);var dt={isExpanded:1,isReady:2,isStarted:4,isStopped:8,isPaused:16,isSync:32,isReverse:64};function vt(e,t,n,r){void 0!==t&&t!==L(e.queue,e.options.queue,n)||(r?e._flags|=16:e._flags&=-17)}function pt(e,t,n,r){var i=0===r.indexOf("pause"),o="false"!==(0<=r.indexOf(".")?r.replace(/^.*\./,""):void 0)&&H(e[0]),a=de.queue;if($(t)&&t.velocity.animations){var l=!0,s=!1,u=void 0;try{for(var c,f=t.velocity.animations[Symbol.iterator]();!(l=(c=f.next()).done);l=!0)vt(c.value,o,a,i)}catch(e){s=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(s)throw u}}}else for(var d=Se.first;d;)t&&!t.includes(d.element)||vt(d,o,a,i),d=d._next;n&&($(t)&&t.velocity.animations&&t.then?t.then(n._resolver):n._resolver(t))}function yt(e,t,n,r){var i=e[0],o=e[1];if(!i)return console.warn("VelocityJS: Cannot access a non-existant property!"),null;if(void 0===o&&!X(i)){if(Array.isArray(i)){if(1===t.length){var a={},l=!0,s=!1,u=void 0;try{for(var c=i[Symbol.iterator]();!(l=(f=c.next()).done);l=!0){var f=f.value;a[f]=ze(Be(t[0],f))}}catch(e){s=!0,u=e}finally{try{!l&&c.return&&c.return()}finally{if(s)throw u}}return a}var d=[],v=!0,p=!1,y=void 0;try{for(var g,h=t[Symbol.iterator]();!(v=(g=h.next()).done);v=!0){var m=g.value,w={},b=!0,S=!1,x=void 0;try{for(var k=i[Symbol.iterator]();!(b=(_=k.next()).done);b=!0){var _=_.value;w[_]=ze(Be(m,_))}}catch(e){S=!0,x=e}finally{try{!b&&k.return&&k.return()}finally{if(S)throw x}}d.push(w)}}catch(e){p=!0,y=e}finally{try{!v&&h.return&&h.return()}finally{if(p)throw y}}return d}if(1===t.length)return ze(Be(t[0],i));var O=[],E=!0,T=!1,M=void 0;try{for(var V=t[Symbol.iterator]();!(E=(q=V.next()).done);E=!0){var q=q.value;O.push(ze(Be(q,i)))}}catch(e){T=!0,M=e}finally{try{!E&&V.return&&V.return()}finally{if(T)throw M}}return O}var N=[];if(X(i)){for(var A in i)if(i.hasOwnProperty(A)){var L=!0,J=!1,I=void 0;try{for(var j=t[Symbol.iterator]();!(L=(P=j.next()).done);L=!0){var C=P.value,P=i[A];K(P)||Y(P)?Ve(C,A,i[A]):(N.push('Cannot set a property "'+A+'" to an unknown type: '+(void 0===P?"undefined":W(P))),console.warn('VelocityJS: Cannot set a property "'+A+'" to an unknown type:',P))}}catch(e){J=!0,I=e}finally{try{!L&&j.return&&j.return()}finally{if(J)throw I}}}}else if(K(o)||Y(o)){var z=!0,F=!1,H=void 0;try{for(var R,B=t[Symbol.iterator]();!(z=(R=B.next()).done);z=!0)Ve(R.value,i,String(o))}catch(e){F=!0,H=e}finally{try{!z&&B.return&&B.return()}finally{if(F)throw H}}}else N.push('Cannot set a property "'+i+'" to an unknown type: '+(void 0===o?"undefined":W(o))),console.warn('VelocityJS: Cannot set a property "'+i+'" to an unknown type:',o);n&&(N.length?n._rejecter(N.join(", ")):$(t)&&t.velocity.animations&&t.then?t.then(n._resolver):n._resolver(t))}function gt(e,t,n){Ye(e),void 0!==t&&t!==L(e.queue,e.options.queue,n)||(e._flags|=8,Oe(e))}i(["option",function(e,t,n,r){var i=e[0],o="false"!==(r=0<=r.indexOf(".")?r.replace(/^.*\./,""):void 0)&&H(r,!0),a=void 0,l=e[1];if(!i)return console.warn("VelocityJS: Cannot access a non-existant key!"),null;if($(t)&&t.velocity.animations)a=t.velocity.animations;else{a=[];for(var s=Se.first;s;s=s._next)0<=t.indexOf(s.element)&&L(s.queue,s.options.queue)===o&&a.push(s);if(1<t.length&&1<a.length){for(var u=1,c=a[0].options;u<a.length;)if(a[u++].options!==c){c=null;break}c&&(a=[a[0]])}}if(void 0===l){var f=[],d=dt[i],v=!0,p=!1,y=void 0;try{for(var g=a[Symbol.iterator]();!(v=(h=g.next()).done);v=!0){var h=h.value;void 0===d?f.push(L(h[i],h.options[i])):f.push(0==(h._flags&d))}}catch(e){p=!0,y=e}finally{try{!v&&g.return&&g.return()}finally{if(p)throw y}}return 1===t.length&&1===a.length?f[0]:f}var m=void 0;switch(i){case"cache":l=O(l);break;case"begin":l=I(l);break;case"complete":l=j(l);break;case"delay":l=C(l);break;case"duration":l=te(l);break;case"fpsLimit":l=E(l);break;case"loop":l=F(l);break;case"percentComplete":m=!0,l=parseFloat(l);break;case"repeat":case"repeatAgain":l=R(l);break;default:if("_"!==i[0]){var w=parseFloat(l);l===String(w)&&(l=w);break}case"queue":case"promise":case"promiseRejectEmpty":case"easing":case"started":return void console.warn("VelocityJS: Trying to set a read-only key:",i)}if(void 0===l||l!=l)return console.warn("VelocityJS: Trying to set an invalid value:"+i+"="+l+" ("+e[1]+")"),null;var b=!0,S=!1,x=void 0;try{for(var k=a[Symbol.iterator]();!(b=(_=k.next()).done);b=!0){var _=_.value;m?_.timeStart=ut-L(_.duration,_.options.duration,de.duration)*l:_[i]=l}}catch(e){S=!0,x=e}finally{try{!b&&k.return&&k.return()}finally{if(S)throw x}}n&&($(t)&&t.velocity.animations&&t.then?t.then(n._resolver):n._resolver(t))}],!0),i(["pause",pt],!0),i(["resume",pt],!0),i(["property",yt],!0),i(["reverse",function(e,t,n,r){throw new SyntaxError("VelocityJS: The 'reverse' action is built in and private.")}],!0),i(["stop",function(e,t,n,r){var i=H(e[0],!0),o=de.queue,a=!0===e[void 0===i?0:1];if($(t)&&t.velocity.animations){var l=!0,s=!1,u=void 0;try{for(var c,f=t.velocity.animations[Symbol.iterator]();!(l=(c=f.next()).done);l=!0)gt(c.value,i,o)}catch(e){s=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(s)throw u}}}else{for(;Se.firstNew;)Ye(Se.firstNew);for(var d,v=Se.first;v&&(a||v!==Se.firstNew);v=d||Se.firstNew)d=v._next,t&&!t.includes(v.element)||gt(v,i,o)}n&&($(t)&&t.velocity.animations&&t.then?t.then(n._resolver):n._resolver(t))}],!0),i(["style",yt],!0),i(["tween",function(e,t,n,r){var i=void 0;if(t){if(1!==t.length)throw new Error("VelocityJS: Cannot tween more than one element!")}else{if(!e.length)return console.info('Velocity(<element>, "tween", percentComplete, property, end | [end, <easing>, <start>], <easing>) => value\nVelocity(<element>, "tween", percentComplete, {property: end | [end, <easing>, <start>], ...}, <easing>) => {property: value, ...}'),null;t=[document.body],i=!0}var o,a,l=e[0],s={elements:t,element:t[0],queue:!1,options:{duration:1e3},tweens:null},u={},c=e[1],f=void 0,d=void 0,v=e[2],p=0;if(K(e[1])?v=_e&&_e[e[1]]?(d=_e[e[1]],c={},e[2]):(f=!0,o={},a=e[1],t=e[2],a in o?Object.defineProperty(o,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[a]=t,c=o,e[3]):Array.isArray(e[1])&&(f=!0,c={tween:e[1]},v=e[2]),!Y(l)||l<0||1<l)throw new Error("VelocityJS: Must tween a percentage from 0 to 1!");if(!X(c))throw new Error("VelocityJS: Cannot tween an invalid property!");if(i)for(var y in c)if(c.hasOwnProperty(y)&&(!Array.isArray(c[y])||c[y].length<2))throw new Error("VelocityJS: When not supplying an element you must force-feed values: "+y);var g,h=ne(L(v,de.easing),ee);for(g in d?Yt(s,d):Ge(s,c),s.tweens){var m=s.tweens[g],w=m.sequence,b=w.pattern,S="",x=0;if(p++,b){for(var k=(m.easing||h)(l,0,1,g),_=0,O=0;O<w.length-1;O++)w[O].percent<k&&(_=O);for(var E=w[_],T=w[_+1]||E,M=(l-E.percent)/(T.percent-E.percent),V=T.easing||z;x<b.length;x++){var q,N=E[x];null==N?S+=b[x]:N===(q=T[x])?S+=N:(q=V(M,N,q,g),S+=!0===b[x]?Math.round(q):q)}u[g]=S}}if(f&&1===p)for(var A in u)if(u.hasOwnProperty(A))return u[A];return u}],!0);var ht,mt,wt,bt,St,xt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};for(ht in xt)xt.hasOwnProperty(ht)&&(mt=xt[ht],Ce[ht]=Math.floor(mt/65536)+","+Math.floor(mt/256%256)+","+mt%256);function kt(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function _t(e){return 1-kt(1-e)}wt=1.7,a(["easeInBack",function(e,t,n){return 0===e?t:1===e?n:Math.pow(e,2)*((wt+1)*e-wt)*(n-t)}]),bt=1.7,a(["easeOutBack",function(e,t,n){return 0===e?t:1===e?n:(Math.pow(--e,2)*((bt+1)*e+bt)+1)*(n-t)}]),St=1.7,St*=1.525,a(["easeInOutBack",function(e,t,n){return 0===e?t:1===e?n:.5*((e*=2)<1?Math.pow(e,2)*((St+1)*e-St):Math.pow(e-2,2)*((St+1)*(e-2)+St)+2)*(n-t)}]),a(["easeInBounce",function(e,t,n){return 0===e?t:1===e?n:_t(e)*(n-t)}]),a(["easeOutBounce",function(e,t,n){return 0===e?t:1===e?n:kt(e)*(n-t)}]),a(["easeInOutBounce",function(e,t,n){return 0===e?t:1===e?n:(e<.5?.5*_t(2*e):.5*kt(2*e-1)+.5)*(n-t)}]);var Ot,Et,Tt,Mt,Vt,qt,Nt=2*Math.PI;function At(n,r){return function(e,t){if(void 0===t)return Fe(e,n,r)+"px";Ve(e,n,parseFloat(t)-Fe(e,n,r)+"px")}}Ot=1,Et=.3,a(["easeInElastic",function(e,t,n){return 0===e?t:1===e?n:-(Ot*Math.pow(2,10*--e)*Math.sin((e-Et/Nt*Math.asin(1/Ot))*Nt/Et))*(n-t)}]),Tt=1,Mt=.3,a(["easeOutElastic",function(e,t,n){return 0===e?t:1===e?n:(Tt*Math.pow(2,-10*e)*Math.sin((e-Mt/Nt*Math.asin(1/Tt))*Nt/Mt)+1)*(n-t)}]),Vt=1,qt=.3*1.5,a(["easeInOutElastic",function(e,t,n){if(0===e)return t;if(1===e)return n;var r=qt/Nt*Math.asin(1/Vt);return((e=2*e-1)<0?Vt*Math.pow(2,10*e)*Math.sin((e-r)*Nt/qt)*-.5:Vt*Math.pow(2,-10*e)*Math.sin((e-r)*Nt/qt)*.5+1)*(n-t)}]),a(["at-start",function(e,t,n){return 0===e?t:n}]),a(["during",function(e,t,n){return 0===e||1===e?t:n}]),a(["at-end",function(e,t,n){return 1===e?n:t}]),Ee(["Element","innerWidth",At("width",!0)]),Ee(["Element","innerHeight",At("height",!0)]),Ee(["Element","outerWidth",At("width",!1)]),Ee(["Element","outerHeight",At("height",!1)]);var Lt=/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|let|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i,Jt=/^(li)$/i,It=/^(tr)$/i,jt=/^(table)$/i,Ct=/^(tbody)$/i;function Pt(o,a){return function(e,t){if(null==t)return Be(e,"client"+o,null,!0),Be(e,"scroll"+o,null,!0),e["scroll"+a]+"px";var n=parseFloat(t);switch(t.replace(String(n),"")){case"":case"px":e["scroll"+a]=n;break;case"%":var r=parseFloat(Be(e,"client"+o)),i=parseFloat(Be(e,"scroll"+o));e["scroll"+a]=Math.max(0,i-r)*n/100}}}Ee(["Element","display",function(e,t){var n,r=e.style;if(void 0===t)return Re(e,"display");"auto"===t&&(n=e&&e.nodeName,e=be(e),t=Lt.test(n)?"inline":Jt.test(n)?"list-item":It.test(n)?"table-row":jt.test(n)?"table":Ct.test(n)?"table-row-group":"block",e.cache.display=t),r.display=t}]),Ee(["HTMLElement","scroll",Pt("Height","Top"),!1]),Ee(["HTMLElement","scrollTop",Pt("Height","Top"),!1]),Ee(["HTMLElement","scrollLeft",Pt("Width","Left"),!1]),Ee(["HTMLElement","scrollWidth",function(e,t){if(null==t)return e.scrollWidth+"px"}]),Ee(["HTMLElement","clientWidth",function(e,t){if(null==t)return e.clientWidth+"px"}]),Ee(["HTMLElement","scrollHeight",function(e,t){if(null==t)return e.scrollHeight+"px"}]),Ee(["HTMLElement","clientHeight",function(e,t){if(null==t)return e.clientHeight+"px"}]);var zt=/^(b(lockSize|o(rder(Bottom(LeftRadius|RightRadius|Width)|Image(Outset|Width)|LeftWidth|R(adius|ightWidth)|Spacing|Top(LeftRadius|RightRadius|Width)|Width)|ttom))|column(Gap|RuleWidth|Width)|f(lexBasis|ontSize)|grid(ColumnGap|Gap|RowGap)|height|inlineSize|le(ft|tterSpacing)|m(a(rgin(Bottom|Left|Right|Top)|x(BlockSize|Height|InlineSize|Width))|in(BlockSize|Height|InlineSize|Width))|o(bjectPosition|utline(Offset|Width))|p(adding(Bottom|Left|Right|Top)|erspective)|right|s(hapeMargin|troke(Dashoffset|Width))|t(extIndent|op|ransformOrigin)|w(idth|ordSpacing))$/;var Ft,Ht=/^(webkit|moz|ms|o)[A-Z]/,t=Se.prefixElement;if(t)for(var Rt in t.style)Ht.test(Rt)?Ee(["Element",Ft=Rt.replace(/^[a-z]+([A-Z])/,function(e,t){return t.toLowerCase()}),function(n,r){return function(e,t){if(void 0===t)return Re(e,n)||Re(e,r);e.style[n]=e.style[r]=t}}(Rt,Ft),zt.test(Ft)?"px":void 0]):Te(["Element",Rt])||Ee(["Element",Rt,function(n){return function(e,t){if(void 0===t)return Re(e,n);e.style[n]=t}}(Rt),zt.test(Rt)?"px":void 0]);var Bt=document.createElement("div"),Wt=/^SVG(.*)Element$/,$t=/Element$/;function Gt(n){return function(e,t){if(void 0===t)try{return e.getBBox()[n]+"px"}catch(e){return"0px"}e.setAttribute(n,t)}}Object.getOwnPropertyNames(window).forEach(function(t){var e=Wt.exec(t);if(e&&"SVG"!==e[1])try{var n,r=e[1]?document.createElementNS("http://www.w3.org/2000/svg",(e[1]||"svg").toLowerCase()):document.createElement("svg");for(n in r){var i=r[n];!K(n)||"o"===n[0]&&"n"===n[1]||n===n.toUpperCase()||$t.test(n)||n in Bt||V(i)||Ee([t,n,function(n){return function(e,t){if(void 0===t)return e.getAttribute(n);e.setAttribute(n,t)}}(n)])}}catch(e){console.error("VelocityJS: Error when trying to identify SVG attributes on "+t+".",e)}}),Ee(["SVGElement","width",Gt("width")]),Ee(["SVGElement","height",Gt("height")]),Ee(["Element","tween",function(e,t){if(void 0===t)return""}]);var Qt,Dt=tn;if((t=Qt=Qt||{}).Actions=J,t.Easings=h,t.Sequences=_e,t.State=Se,t.defaults=de,t.patch=nn,t.debug=!1,t.mock=!1,t.version="2.0.6",t.Velocity=tn,function(){if(document.documentMode)return document.documentMode;for(var e=7;4<e;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}}()<=8)throw new Error("VelocityJS cannot run on Internet Explorer 8 or earlier");window&&(an=window.jQuery,on=window.Zepto,nn(window,!0),nn(Element&&Element.prototype),nn(NodeList&&NodeList.prototype),nn(HTMLCollection&&HTMLCollection.prototype),nn(an,!0),nn(an&&an.fn),nn(on,!0),nn(on&&on.fn));for(var Ut in Qt)!function(t){if(Qt.hasOwnProperty(t))switch(void 0===t?"undefined":W(t)){case"number":case"boolean":A(Dt,t,{get:function(){return Qt[t]},set:function(e){Qt[t]=e}},!0);break;default:A(Dt,t,Qt[t],!0)}}(Ut);Object.freeze(Dt);var Zt=/(\d*\.\d+|\d+\.?|from|to)/g;function Yt(e,t){var n,r,i=e.tweens=Object.create(null),o=e.element;for(n in t.tweens)t.tweens.hasOwnProperty(n)&&((r=Me(o,n))||"tween"===n?i[n]={fn:r,sequence:t.tweens[n]}:Dt.debug&&console.log("Skipping ["+n+"] due to a lack of browser support."))}i(["registerSequence",function e(t){if(X(t[0]))for(var n in t[0])t[0].hasOwnProperty(n)&&e([n,t[0][n]]);else if(K(t[0])){var r=t[0],i=t[1];if(K(r))if(X(i)){_e[r]&&console.warn("VelocityJS: Replacing named sequence:",r);var o,a={},l=new Array(100),s=[],u=_e[r]={},c=te(i.duration);for(o in u.tweens={},Y(c)&&(u.duration=c),i)if(i.hasOwnProperty(o)){var f=String(o).match(Zt);if(f){var d=!0,v=!1,p=void 0;try{for(var y=f[Symbol.iterator]();!(d=(h=y.next()).done);d=!0){var g=h.value,h="from"===g?0:"to"===g?100:parseFloat(g);if(h<0||100<h)console.warn("VelocityJS: Trying to use an invalid value as a percentage (0 <= n <= 100):",r,h);else if(isNaN(h))console.warn("VelocityJS: Trying to use an invalid number as a percentage:",r,o,g);else for(var m in a[String(h)]||(a[String(h)]=[]),a[String(h)].push(o),i[o])s.includes(m)||s.push(m)}}catch(e){v=!0,p=e}finally{try{!d&&y.return&&y.return()}finally{if(v)throw p}}}}var w=Object.keys(a).sort(function(e,t){return e=parseFloat(e),(t=parseFloat(t))<e?1:e<t?-1:0});w.forEach(function(e){l.push.apply(a[e])});var b=!0,S=!1,x=void 0;try{for(var k=s[Symbol.iterator]();!(b=(_=k.next()).done);b=!0){var _=_.value,O=[],E=Ne(_),T=!0,M=!1,V=void 0;try{for(var q,N=w[Symbol.iterator]();!(T=(q=N.next()).done);T=!0){var A=q.value,L=!0,J=!1,I=void 0;try{for(var j=a[A][Symbol.iterator]();!(L=(C=j.next()).done);L=!0){var C=i[C.value];C[E]&&O.push(K(C[E])?C[E]:C[E][0])}}catch(e){J=!0,I=e}finally{try{!L&&j.return&&j.return()}finally{if(J)throw I}}}}catch(e){M=!0,V=e}finally{try{!T&&N.return&&N.return()}finally{if(M)throw V}}if(O.length){var P=Ue(O,E),z=0;if(P){var F=!0,H=!1,R=void 0;try{for(var B,W=w[Symbol.iterator]();!(F=(B=W.next()).done);F=!0){var $=B.value,G=!0,Q=!1,D=void 0;try{for(var U=a[$][Symbol.iterator]();!(G=(Z=U.next()).done);G=!0){var Z=i[Z.value][E];Z&&(Array.isArray(Z)&&1<Z.length&&(K(Z[1])||Array.isArray(Z[1]))&&(P[z].easing=ne(Z[1],u.duration||ee)),P[z++].percent=parseFloat($)/100)}}catch(e){Q=!0,D=e}finally{try{!G&&U.return&&U.return()}finally{if(Q)throw D}}}}catch(e){H=!0,R=e}finally{try{!F&&W.return&&W.return()}finally{if(H)throw R}}u.tweens[E]=P}}}}catch(e){S=!0,x=e}finally{try{!b&&k.return&&k.return()}finally{if(S)throw x}}}else console.warn("VelocityJS: Trying to set 'registerSequence' sequence to an invalid value:",r,i);else console.warn("VelocityJS: Trying to set 'registerSequence' name to an invalid value:",r)}}],!0);var Xt=void 0;try{Xt=Promise}catch(e){}var Kt=", if that is deliberate then pass `promiseRejectEmpty:false` as an option";function en(e,t){A(t,"promise",e),A(t,"then",e.then.bind(e)),A(t,"catch",e.catch.bind(e)),e.finally&&A(t,"finally",e.finally.bind(e))}function tn(){var e=de,t=arguments.length<=0?void 0:arguments[0],n=X(t)&&(t.p||X(t.properties)&&!t.properties.names||K(t.properties)),r=0,i=void 0,o=void 0,a=void 0,l=void 0,s=void 0,u=void 0,c=void 0;q(this)?i=[this]:N(this)?(i=P(this),$(this)&&(l=this.velocity.animations)):n?(i=P(t.elements||t.e),r++):q(t)?(i=P([t]),r++):N(t)&&(i=P(t),r++),i&&(A(i,"velocity",tn.bind(i)),l&&A(i.velocity,"animations",l));var f="reverse"===(o=n?L(t.properties,t.p):(p=r++,arguments.length<=p?void 0:arguments[p])),d=!f&&K(o),v=d&&_e[o],p=n?L(t.options,t.o):arguments.length<=r?void 0:arguments[r];if(X(p)&&(a=p),Xt&&L(a&&a.promise,e.promise)&&(s=new Xt(function(t,e){c=e,u=function(e){$(e)&&e.promise?(delete e.then,delete e.catch,delete e.finally,t(e),en(e.promise,e)):t(e)}}),i&&en(s,i)),s&&(p=L(t=a&&a.promiseRejectEmpty,e.promiseRejectEmpty),i||d?o||(p?c("Velocity: No properties supplied"+(M(t)?"":Kt)+". Aborting."):u()):p?c("Velocity: No elements supplied"+(M(t)?"":Kt)+". Aborting."):u()),!i&&!d||!o)return s;if(d){for(var y,g=[],h=s&&{_promise:s,_resolver:u,_rejecter:c};r<arguments.length;)g.push((y=r++,arguments.length<=y?void 0:arguments[y]));var m=o.replace(/\..*$/,""),w=J[m];if(w){var b=w(g,i,h,o);return void 0!==b?b:i||s}if(!v)return void console.error("VelocityJS: First argument ("+o+") was not a property map, a known action, or a registered redirect. Aborting.")}d=void 0;if(X(o)||f||v){var S,x={},m=e.sync;if(s&&(A(x,"_promise",s),A(x,"_rejecter",c),A(x,"_resolver",u)),A(x,"_ready",0),A(x,"_started",0),A(x,"_completed",0),A(x,"_total",0),X(a)?(d=void 0!==(S=te(a.duration)),x.duration=L(S,e.duration),x.delay=L(C(a.delay),e.delay),x.easing=ne(L(a.easing,e.easing),x.duration)||ne(e.easing,x.duration),x.loop=L(F(a.loop),e.loop),x.repeat=x.repeatAgain=L(R(a.repeat),e.repeat),null!=a.speed&&(x.speed=L(B(a.speed),1)),M(a.promise)&&(x.promise=a.promise),x.queue=L(H(a.queue),e.queue),a.mobileHA&&!Se.isGingerbread&&(x.mobileHA=!0),!0===a.drag&&(x.drag=!0),(Y(a.stagger)||V(a.stagger))&&(x.stagger=a.stagger),f||(null!=a.display&&(o.display=a.display,console.error('Deprecated "options.display" used, this is now a property:',a.display)),null!=a.visibility&&(o.visibility=a.visibility,console.error('Deprecated "options.visibility" used, this is now a property:',a.visibility))),w=I(a.begin),h=j(a.complete),b=function(e){if(V(e))return e;null!=e&&console.warn("VelocityJS: Trying to set 'progress' to an invalid value:",e)}(a.progress),S=G(a.sync),null!=w&&(x.begin=w),null!=h&&(x.complete=h),null!=b&&(x.progress=b),null!=S&&(m=S)):n||(S=0,x.duration=te(arguments.length<=r?void 0:arguments[r],!0),void 0===x.duration?x.duration=e.duration:(d=!0,S++),V(arguments.length<=r+S?void 0:arguments[r+S])||void 0!==(n=ne(arguments.length<=r+S?void 0:arguments[r+S],L(x&&te(x.duration),e.duration),!0))&&(S++,x.easing=n),void 0!==(S=j(arguments.length<=r+S?void 0:arguments[r+S],!0))&&(x.complete=S),x.delay=e.delay,x.loop=e.loop,x.repeat=x.repeatAgain=e.repeat),f&&!1===x.queue)throw new Error("VelocityJS: Cannot reverse a queue:false animation.");!d&&v&&v.duration&&(x.duration=v.duration);for(var k={options:x,elements:i,_prev:void 0,_next:void 0,_flags:m?32:0,percentComplete:0,ellapsedTime:0,timeStart:0},l=[],_=0;_<i.length;_++){var O=i[_],E=0;if(q(O)){if(f){var T=be(O).lastAnimationList[x.queue];if(!(o=T&&T.tweens)){console.error("VelocityJS: Attempting to reverse an animation on an element with no previous animation:",O);continue}E|=64&~(64&T._flags)}T=Object.assign({},k,{element:O,_flags:k._flags|E});x._total++,l.push(T),x.stagger&&(V(x.stagger)?Y(E=function(e,t,n,r,i,o){try{return e.call(t,n,r,i,o)}catch(e){console.error("VelocityJS: Exception when calling '"+o+"' callback:",e)}}(x.stagger,O,_,i.length,i,"stagger"))&&(T.delay=x.delay+E):T.delay=x.delay+x.stagger*_),x.drag&&(T.duration=x.duration-x.duration*Math.max(1-(_+1)/i.length,.75)),v?Yt(T,v):f?T.tweens=o:(T.tweens=Object.create(null),Ge(T,o)),function(e,t,n){if(e=be(e),!1!==n&&(e.lastAnimationList[n]=t),!1===n)xe(t);else{K(n)||(n="");var r=e.queueList[n];if(r){for(;r._next;)r=r._next;(r._next=t)._prev=r}else null===r?e.queueList[n]=t:(e.queueList[n]=null,xe(t))}}(O,T,x.queue)}}!1===Se.isTicking&&ct(!1),l&&A(i.velocity,"animations",l)}return i||s}function nn(e,t){try{A(e,(t?"V":"v")+"elocity",tn)}catch(e){console.warn("VelocityJS: Error when trying to add prototype.",e)}}var rn,on,an,ln=tn;if((an=rn=rn||{}).Actions=J,an.Easings=h,an.Sequences=_e,an.State=Se,an.defaults=de,an.patch=nn,an.debug=!1,an.mock=!1,an.version="2.0.6",an.Velocity=tn,function(){if(document.documentMode)return document.documentMode;for(var e=7;4<e;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}}()<=8)throw new Error("VelocityJS cannot run on Internet Explorer 8 or earlier");window&&(on=window.jQuery,an=window.Zepto,nn(window,!0),nn(Element&&Element.prototype),nn(NodeList&&NodeList.prototype),nn(HTMLCollection&&HTMLCollection.prototype),nn(on,!0),nn(on&&on.fn),nn(an,!0),nn(an&&an.fn));for(var sn in rn)!function(t){if(rn.hasOwnProperty(t))switch(void 0===t?"undefined":W(t)){case"number":case"boolean":A(ln,t,{get:function(){return rn[t]},set:function(e){rn[t]=e}},!0);break;default:A(ln,t,rn[t],!0)}}(sn);return Object.freeze(ln),ln});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlZlbG9jaXR5LmpzIl0sIm5hbWVzIjpbImZhY3RvcnkiLCJleHBvcnRzIiwiX3R5cGVvZjIiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJWZWxvY2l0eSIsIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm9iaiIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiY3JlYXRlQ2xhc3MiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJrZXkiLCJpc0Jvb2xlYW4iLCJ2YXJpYWJsZSIsImlzRnVuY3Rpb24iLCJPYmplY3QiLCJ0b1N0cmluZyIsImNhbGwiLCJub2RlVHlwZSIsImlzTnVtYmVyIiwiaXNQbGFpbk9iamVjdCIsInByb3RvIiwiaGFzT3duUHJvcGVydHkiLCJpc1N0cmluZyIsImdldFByb3RvdHlwZU9mIiwiaXNXcmFwcGVkIiwid2luZG93IiwiaXNOb2RlIiwiQXJyYXkiLCJzbGljZSIsImFycmF5TGlrZSIsImRlZmluZVByb3BlcnR5JDEiLCJuYW1lIiwidmFsdWUiLCJyZWFkb25seSIsImVsZW1lbnQiLCJkZWZpbmVQcm9wZXJ0eSIsIkVsZW1lbnQiLCJnZXRWYWx1ZSIsIl9sZW4iLCJhcmd1bWVudHMiLCJhcmdzIiwiX2tleSIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwidW5kZWZpbmVkIiwiX2l0ZXJhdG9yIiwiX3N0ZXAiLCJuZXh0IiwiZG9uZSIsImFyZyIsImVyciIsIm5vdyIsIkRhdGUiLCJyZW1vdmVDbGFzcyIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsInJlcGxhY2UiLCJSZWdFeHAiLCJBY3Rpb25zIiwicmVnaXN0ZXJBY3Rpb24iLCJpbnRlcm5hbCIsImNhbGxiYWNrIiwicHJvcGVydHkiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsImNvbnNvbGUiLCJ3YXJuIiwiREVGQVVMVF9EVVJBVElPTiIsImZhc3QiLCJzbG93IiwiRWFzaW5ncyIsInJlZ2lzdGVyRWFzaW5nIiwiRFVSQVRJT05fRkFTVCIsIkRVUkFUSU9OX05PUk1BTCIsIkZVWlpZX01TX1BFUl9TRUNPTkQiLCJERUZBVUxUX0RFTEFZIiwiREVGQVVMVF9GUFNMSU1JVCIsIkRFRkFVTFRfQ0FDSEUiLCJEVVJBVElPTl9TTE9XIiwiQ0xBU1NOQU1FIiwicGVyY2VudENvbXBsZXRlIiwic3RhcnRWYWx1ZSIsImVuZFZhbHVlIiwiRHVyYXRpb24iLCJmaXhSYW5nZSIsIk1hdGgiLCJtaW4iLCJtYXgiLCJudW0iLCJhQTEiLCJhQTIiLCJCIiwiY2FsY0JlemllciIsImFUIiwibGluZWFyRWFzaW5nIiwiZ2V0U2xvcGUiLCJBIiwiZ2VuZXJhdGVCZXppZXIiLCJORVdUT05fSVRFUkFUSU9OUyIsIlNVQkRJVklTSU9OX1BSRUNJU0lPTiIsIlNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TIiwia1NwbGluZVRhYmxlU2l6ZSIsImtTYW1wbGVTdGVwU2l6ZSIsImZsb2F0MzJBcnJheVN1cHBvcnRlZCIsInNwcmluZ0Vhc2luZyIsImlzTmFOIiwiaXNGaW5pdGUiLCJtWDEiLCJtWTEiLCJtWDIiLCJtWTIiLCJtU2FtcGxlVmFsdWVzIiwiRmxvYXQzMkFycmF5Iiwic3RyIiwiZiIsInByZWNvbXB1dGVkIiwiY3VycmVudFgiLCJnZXRURm9yWCIsImN1cnJlbnRUIiwiZ2V0Q29udHJvbFBvaW50cyIsImJpbmFyeVN1YmRpdmlkZSIsIngiLCJ5IiwiYVgiLCJpbnRlcnZhbFN0YXJ0IiwiY3VycmVudFNhbXBsZSIsImxhc3RTYW1wbGUiLCJndWVzc0ZvclQiLCJpbml0aWFsU2xvcGUiLCJhR3Vlc3NUIiwiX2kiLCJjdXJyZW50U2xvcGUiLCJuZXd0b25SYXBoc29uSXRlcmF0ZSIsImFBIiwiYUIiLCJORVdUT05fTUlOX1NMT1BFIiwicHJlY29tcHV0ZSIsIl9pMiIsIkRFRkFVTFRfUFJPTUlTRV9SRUpFQ1RfRU1QVFkiLCJjb3MiLCJQSSIsImV4cCIsImVhc2VJbiIsImVhc2VJbk91dCIsInNwcmluZ0FjY2VsZXJhdGlvbkZvclN0YXRlIiwic3RhdGUiLCJ0ZW5zaW9uIiwiZnJpY3Rpb24iLCJ2IiwiaW5pdGlhbFN0YXRlIiwiZHQiLCJkZXJpdmF0aXZlIiwiY2FsY1NhbXBsZVZhbHVlcyIsImR4IiwiZHYiLCJkdXJhdGlvbiIsImEiLCJiIiwiYyIsImR4ZHQiLCJpbml0U3RhdGUiLCJwYXJzZUZsb2F0IiwicGF0aCIsInRpbWVMYXBzZWQiLCJsYXN0U3RhdGUiLCJoYXZlRHVyYXRpb24iLCJnZW5lcmF0ZVNwcmluZ1JLNCIsImR2ZHQiLCJzcHJpbmdFdmFsdWF0ZVN0YXRlV2l0aERlcml2YXRpdmUiLCJkIiwiYWJzIiwiZWFzZU91dCIsInBhcnNlRHVyYXRpb24iLCJkZWYiLCJzcHJpbmdJbnRlZ3JhdGVTdGF0ZSIsInZhbGlkYXRlQ2FjaGUiLCJ2YWxpZGF0ZUJlZ2luIiwidG9sZXJhbmNlIiwibm9FcnJvciIsInZhbGlkYXRlRGVsYXkiLCJwYXJzZWQiLCJlcnJvciIsInZhbGlkYXRlRHVyYXRpb24iLCJ2YWxpZGF0ZUVhc2luZyIsImNhY2hlIiwiZm4iLCJzdGVwcyIsImFwcGx5IiwicGFyc2VJbnQiLCJ0b0xvd2VyQ2FzZSIsInZhbGlkYXRlUXVldWUiLCJ2YWxpZGF0ZVJlcGVhdCIsInZhbGlkYXRlU3BlZWQiLCJpc0FycmF5IiwiZ2VuZXJhdGVTdGVwIiwidmFsaWRhdGVTeW5jIiwiY2FjaGUkMSIsImNvbXBsZXRlIiwiZGVsYXkiLCJlYXNpbmciLCJmcHNMaW1pdCIsImxvb3AiLCJtb2JpbGVIQSIsIm1pbkZyYW1lVGltZSIsInZhbGlkYXRlRnBzTGltaXQiLCJwcm9taXNlIiwicHJvbWlzZVJlamVjdEVtcHR5IiwicXVldWUiLCJyZXBlYXQiLCJzcGVlZCIsInN5bmMiLCJkZWZhdWx0cyQxIiwiZGVmYXVsdHMkJDEiLCJiZWdpbiIsInZhbGlkYXRlTG9vcCIsImdldCIsInNldCIsInZhbGlkYXRlUHJvZ3Jlc3MiLCJ2YWxpZGF0ZUNvbXBsZXRlIiwidmFsaWRhdGVQcm9taXNlIiwidmFsaWRhdGVQcm9taXNlUmVqZWN0RW1wdHkiLCJERUZBVUxUX1BST01JU0UiLCJERUZBVUxUX1FVRVVFIiwidGhpcyIsImZyZWV6ZSIsInJlc2V0IiwiTm9ybWFsaXphdGlvbnMiLCJOb0NhY2hlTm9ybWFsaXphdGlvbnMiLCJTZXQiLCJzZXQkJDEiLCJjb25zdHJ1Y3RvckNhY2hlIiwiTWFwIiwiZGF0YSIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsInR5cGVzIiwiaW5kZXgiLCJnZXQkJDEiLCJjb25zdHJ1Y3RvcnMiLCJfY29uc3RydWN0b3IiLCJuZXdEYXRhIiwiY291bnQiLCJjb21wdXRlZFN0eWxlIiwibGFzdEFuaW1hdGlvbkxpc3QiLCJsYXN0RmluaXNoTGlzdCIsImRhdGFOYW1lIiwicGFnZVlPZmZzZXQiLCJTdGF0ZSIsImlzQ2xpZW50IiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImlzR2luZ2VyYnJlYWQiLCJwcmVmaXhFbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwid2luZG93U2Nyb2xsQW5jaG9yIiwiZG9jdW1lbnRFbGVtZW50IiwiYm9keSIsInBhcmVudE5vZGUiLCJzY3JvbGxQcm9wZXJ0eVRvcCIsImZpcnN0IiwiZmlyc3ROZXciLCJhbmltYXRlIiwiYW5pbWF0aW9uIiwicHJldiIsIl9uZXh0IiwibGFzdCIsImFkZCIsImZyZWVBbmltYXRpb25DYWxsIiwiX3ByZXYiLCJxdWV1ZU5hbWUiLCJvcHRpb25zIiwiTm9ybWFsaXphdGlvblVuaXRzIiwiRGF0YSIsIlNlcXVlbmNlc09iamVjdCIsImNvbXBsZXRlQ2FsbCIsImFjdGl2ZUNhbGwiLCJpc0xvb3AiLCJpc1N0b3BwZWQiLCJfZmxhZ3MiLCJpc1JlcGVhdCIsInNjcm9sbEFuY2hvciIsIl90b3RhbCIsInNjcm9sbFByb3BlcnR5TGVmdCIsImVsZW1lbnRzIiwic2V0VGltZW91dCIsImNhbGxDb21wbGV0ZSIsInJlc29sdmVyIiwiX3Jlc29sdmVyIiwidGltZVN0YXJ0Iiwic2tpcCIsInF1ZXVlTGlzdCIsImRlcXVldWUiLCJyZXBlYXRBZ2FpbiIsInJlZ2lzdGVyTm9ybWFsaXphdGlvbiIsInVuaXQiLCJpbmRleE9mIiwibmV4dEFyZyIsImhhcyIsInB1c2giLCJnZXROb3JtYWxpemF0aW9uIiwicHJvcGVydHlOYW1lIiwic2V0UHJvcGVydHlWYWx1ZSIsInByb3BlcnR5VmFsdWUiLCJub0NhY2hlIiwiVmVsb2NpdHkkJDEiLCJkZWJ1ZyIsImluZm8iLCJoYXNOb3JtYWxpemF0aW9uIiwiY2FjaGUkMiIsImZpeGVkIiwiJCIsImxldHRlciIsInJ4Q29sb3I2IiwicnhDb2xvck5hbWUiLCJyeFJHQiIsInJ4U3BhY2VzIiwiQ29sb3JOYW1lcyIsInIiLCJnIiwiZml4Q29sb3JzIiwicnhDb2xvcjMiLCIkMCIsIiQxIiwiJDIiLCJhdWdtZW50RGltZW5zaW9uIiwid2FudElubmVyIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInNpZGVzIiwiYXVnbWVudCIsImZpZWxkcyIsImZpZWxkIiwiZ2V0V2lkdGhIZWlnaHQiLCJjb21wdXRlUHJvcGVydHlWYWx1ZSIsImdldENvbXB1dGVkU3R5bGUiLCJjb21wdXRlZFZhbHVlIiwic3R5bGUiLCJwb3NpdGlvbiIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIlN0cmluZyIsInNraXBDYWNoZSIsInJ4SGV4IiwiZWxlbWVudEFycmF5SW5kZXgiLCJ0d2VlbiIsIm51bWJlciIsImluY2x1ZGVzIiwiZ2V0Tm9ybWFsaXphdGlvblVuaXQiLCJzdHJpbmciLCJleHBhbmRQcm9wZXJ0aWVzIiwicHJvcGVydGllcyIsInZhbHVlRGF0YSIsImFycjEiLCJhcnIyIiwidHdlZW5zIiwiY3JlYXRlIiwiY2FtZWxDYXNlIiwiZGVwdGgiLCJqb2luIiwiZW5kIiwiY29tbWFuZHMiLCJzdGFydCIsImV4cGxvZGVUd2VlbiIsInRva2VucyIsImxvZyIsInJlbW92ZU5lc3RlZENhbGMiLCJyeFRva2VuIiwicnhOdW1iZXIiLCJwYXJ0cyIsImluZGV4ZXMiLCJudW1iZXJzIiwicGFydCIsInBhcnRzTGVuZ3RoIiwiY2xvbmVBcnJheSIsIm1hdGNoIiwibWFrZVJHQkEiLCJpZ25vcmUiLCJzZXF1ZW5jZSIsInBhdHRlcm4iLCJhZGRTdHJpbmciLCJ0ZXh0IiwiX3BhcnQiLCJyZXR1cm5TdHJpbmdUeXBlIiwiaXNEaXNwbGF5IiwiaXNWaXNpYmlsaXR5IiwiX3BhcnQyIiwiaXNCb3JkZXJCb3giLCJfcGFydDMiLCJtb3JlIiwiYml0cyIsInVuaXRzIiwiaGFzTnVtYmVycyIsIl9wYXJ0NCIsInRva2VuIiwiaW5kZXgyIiwiZGlnaXRzIiwiY2hhbmdlIiwiY2hhbmdlT3JVbml0IiwiaXNVbml0bGVzcyIsIl91bml0IiwiX3BhcnQ1IiwicGF0dGVybkNhbGMiLCJfdW5pdDIiLCJfZmlyc3RMZXR0ZXIiLCJpc0NvbXBsZXgiLCJpc01hdGhzIiwiX3BhcnQ2IiwiYml0IiwiaW5SR0IiLCJfdGV4dCIsInN0YXJ0aW5nIiwic3RhcnROdW1iZXJzIiwiZmluZFBhdHRlcm4iLCJfZnVuY3Rpb24iLCJKU09OIiwic3RyaW5naWZ5IiwiYXN5bmNDYWxsYmFja3MiLCJwcm9ncmVzc2VkIiwicHJvZ3Jlc3MiLCJsYXN0VGljayIsInR3ZWVuVmFsdWUiLCJwcm9ncmVzc0NhbGwiLCJjbGVhciIsIl9kaWRJdGVyYXRvckVycm9yMiIsIl9pdGVyYXRvckVycm9yMiIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJjb21wbGV0ZWQiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiIsIkZSQU1FX1RJTUUiLCJwZXJmb3JtYW5jZSIsInBlcmYiLCJ0aW1pbmciLCJuYXZpZ2F0aW9uU3RhcnQiLCJub3dPZmZzZXQiLCJyQUZQcm94eSIsInJBRlNoaW0iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aWNraW5nIiwid29ya2VyIiwiV29ya2VyIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiQmxvYiIsIl90aGlzIiwiaW50ZXJ2YWwiLCJvbm1lc3NhZ2UiLCJlIiwic2V0SW50ZXJ2YWwiLCJwb3N0TWVzc2FnZSIsImNsZWFySW50ZXJ2YWwiLCJ0aWNrIiwiaGlkZGVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImlzVGlja2luZyIsInRpbWVzdGFtcCIsInRpbWVDdXJyZW50IiwiZGVmYXVsdFNwZWVkIiwiZGVmYXVsdEVhc2luZyIsImRlZmF1bHREdXJhdGlvbiIsIm5leHRDYWxsIiwidmFsaWRhdGVUd2VlbnMiLCJmbGFncyIsImRlbHRhVGltZSIsIl9yZWFkeSIsIl9vcHRpb25zIiwicGVyY2VudCIsIl90aW1lU3RhcnQiLCJfc3RhcnRlZCIsIl9maXJzdCIsImJlZ2luQ2FsbCIsImFjdGl2ZUVhc2luZyIsIm1pbGxpc2Vjb25kc0VsbGFwc2VkIiwiZWxsYXBzZWRUaW1lIiwibW9jayIsInJldmVyc2UiLCJjdXJyZW50VmFsdWUiLCJlYXNpbmdDb21wbGV0ZSIsImJlc3QiLCJqIiwidHdlZW5Gcm9tIiwidHdlZW5UbyIsInJhd1BlcmNlbnQiLCJ0d2VlblBlcmNlbnQiLCJyZXN1bHQiLCJyb3VuZCIsInNwbGl0Iiwic2l6ZSIsImNoZWNrQW5pbWF0aW9uU2hvdWxkQmVGaW5pc2hlZCIsImRlZmF1bHRRdWV1ZSIsImVuZFZhbHVlcyIsInByb21pc2VIYW5kbGVyIiwiZmluaXNoQWxsIiwiaXNWZWxvY2l0eVJlc3VsdCIsInZlbG9jaXR5IiwiYW5pbWF0aW9ucyIsInRoZW4iLCJhbmltYXRpb25GbGFncyIsImlzRXhwYW5kZWQiLCJpc1JlYWR5IiwiaXNTdGFydGVkIiwiaXNQYXVzZWQiLCJpc1N5bmMiLCJjaGVja0FuaW1hdGlvbiIsInBhdXNlUmVzdW1lIiwiYWN0aW9uIiwicHJvcCIsIl9yZXN1bHQiLCJyZXMiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyIsIl9kaWRJdGVyYXRvckVycm9yMyIsIl9pdGVyYXRvckVycm9yMyIsIl9pdGVyYXRvcjMiLCJfc3RlcDMiLCJfcHJvcCIsIl9yZXN1bHQyIiwiX2RpZEl0ZXJhdG9yRXJyb3I0IiwiX2l0ZXJhdG9yRXJyb3I0IiwiX2l0ZXJhdG9yNCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240IiwiX3N0ZXA0IiwiX2VsZW1lbnQiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSIsIl9kaWRJdGVyYXRvckVycm9yNSIsIl9pdGVyYXRvckVycm9yNSIsIl9pdGVyYXRvcjUiLCJfc3RlcDUiLCJfZWxlbWVudDIiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiIsIl9kaWRJdGVyYXRvckVycm9yNiIsIl9zdGVwNiIsIl9pdGVyYXRvcjYiLCJfaXRlcmF0b3JFcnJvcjYiLCJmaW5pc2giLCJjaGVja0FuaW1hdGlvblNob3VsZEJlU3RvcHBlZCIsImlzUmV2ZXJzZSIsImlzTW9iaWxlIiwiZmxhZyIsImlzUGVyY2VudENvbXBsZXRlIiwiX2FuaW1hdGlvbiIsInByb3BlcnR5QWN0aW9uIiwiU3ludGF4RXJyb3IiLCJFcnJvciIsInJlcXVpcmVGb3JjZWZlZWRpbmciLCJzaW5nbGVSZXN1bHQiLCJtYXliZVNlcXVlbmNlIiwiX3Byb3BlcnR5IiwiZXhwYW5kU2VxdWVuY2UiLCJmYWtlQW5pbWF0aW9uIiwicHJvcGVydHlUd2VlbiIsInR3ZWVuRWFzaW5nIiwiX3Byb3BlcnR5MiIsImNvbG9yIiwiYW1vdW50IiwiY29sb3JWYWx1ZXMiLCJhbGljZWJsdWUiLCJhbnRpcXVld2hpdGUiLCJhcXVhIiwiYXp1cmUiLCJiaXNxdWUiLCJibGFjayIsImJsYW5jaGVkYWxtb25kIiwiYmx1ZSIsImJyb3duIiwiYnVybHl3b29kIiwiY2FkZXRibHVlIiwiY2hhcnRyZXVzZSIsImNob2NvbGF0ZSIsImNvcmFsIiwiY29ybmZsb3dlcmJsdWUiLCJjb3Juc2lsayIsImN5YW4iLCJkYXJrYmx1ZSIsImRhcmtjeWFuIiwiZGFya2dyYXkiLCJkYXJrZ3JleSIsImRhcmtncmVlbiIsImRhcmtraGFraSIsImRhcmttYWdlbnRhIiwiZGFya29saXZlZ3JlZW4iLCJkYXJrb3JhbmdlIiwiZGFya29yY2hpZCIsImRhcmtyZWQiLCJkYXJrc2FsbW9uIiwiZGFya3NlYWdyZWVuIiwiZGFya3NsYXRlYmx1ZSIsImRhcmtzbGF0ZWdyYXkiLCJkYXJrc2xhdGVncmV5IiwiZGFya3R1cnF1b2lzZSIsImRhcmt2aW9sZXQiLCJkZWVwcGluayIsImRlZXBza3libHVlIiwiZGltZ3JheSIsImRpbWdyZXkiLCJkb2RnZXJibHVlIiwiZmlyZWJyaWNrIiwiZmxvcmFsd2hpdGUiLCJmb3Jlc3RncmVlbiIsImZ1Y2hzaWEiLCJnYWluc2Jvcm8iLCJnb2xkIiwiZ29sZGVucm9kIiwiZ3JlZW4iLCJncmVlbnllbGxvdyIsImhvbmV5ZGV3IiwiaW5kaWFucmVkIiwiaW5kaWdvIiwiaXZvcnkiLCJraGFraSIsImxhdmVuZGVyIiwibGF2ZW5kZXJibHVzaCIsImxhd25ncmVlbiIsImxlbW9uY2hpZmZvbiIsImxpZ2h0Ymx1ZSIsImxpZ2h0Y29yYWwiLCJsaWdodGN5YW4iLCJsaWdodGdvbGRlbnJvZHllbGxvdyIsImxpZ2h0Z3JleSIsImxpZ2h0Z3JlZW4iLCJsaWdodHNhbG1vbiIsImxpZ2h0c2VhZ3JlZW4iLCJsaWdodHNreWJsdWUiLCJsaWdodHNsYXRlZ3JheSIsImxpZ2h0c2xhdGVncmV5IiwibGlnaHR5ZWxsb3ciLCJsaW1lZ3JlZW4iLCJsaW5lbiIsIm1hZ2VudGEiLCJtYXJvb24iLCJtZWRpdW1vcmNoaWQiLCJtZWRpdW1wdXJwbGUiLCJtZWRpdW1zZWFncmVlbiIsIm1lZGl1bXNsYXRlYmx1ZSIsIm1lZGl1bXNwcmluZ2dyZWVuIiwibWVkaXVtdHVycXVvaXNlIiwibWVkaXVtdmlvbGV0cmVkIiwibWlkbmlnaHRibHVlIiwibWludGNyZWFtIiwibWlzdHlyb3NlIiwibW9jY2FzaW4iLCJuYXZham93aGl0ZSIsIm5hdnkiLCJvbGRsYWNlIiwib2xpdmUiLCJvbGl2ZWRyYWIiLCJvcmFuZ2UiLCJvcmFuZ2VyZWQiLCJvcmNoaWQiLCJwYWxlZ29sZGVucm9kIiwicGFsZWdyZWVuIiwicGFsZXZpb2xldHJlZCIsInBhcGF5YXdoaXAiLCJwZWFjaHB1ZmYiLCJwZXJ1IiwicGluayIsInBsdW0iLCJwb3dkZXJibHVlIiwicHVycGxlIiwicmViZWNjYXB1cnBsZSIsInJlZCIsInJvc3licm93biIsInJveWFsYmx1ZSIsInNhZGRsZWJyb3duIiwic2FsbW9uIiwic2FuZHlicm93biIsInNlYXNoZWxsIiwic2llbm5hIiwic2xhdGVibHVlIiwic2xhdGVncmF5Iiwic2xhdGVncmV5Iiwic3ByaW5nZ3JlZW4iLCJzdGVlbGJsdWUiLCJ0YW4iLCJ0ZWFsIiwidGhpc3RsZSIsInRvbWF0byIsInR1cnF1b2lzZSIsInZpb2xldCIsIndoZWF0Iiwid2hpdGUiLCJ3aGl0ZXNtb2tlIiwieWVsbG93IiwieWVsbG93Z3JlZW4iLCJmbG9vciIsImVhc2VPdXRCb3VuY2VQZXJjZW50IiwiZWFzZUluQm91bmNlUGVyY2VudCIsInBvdyIsImFtcGxpdHVkZSIsInBlcmlvZCIsIlBJMiIsImdldERpbWVuc2lvbiIsInNpbiIsImFzaW4iLCJzIiwiaW5saW5lUngiLCJ0YWJsZVJvd1J4IiwidGFibGVSeCIsInRhYmxlUm93R3JvdXBSeCIsInNjcm9sbCIsImRpcmVjdGlvbiIsImNsaWVudCIsInNjcm9sbFZhbHVlIiwibm9kZU5hbWUiLCJsaXN0SXRlbVJ4Iiwic2Nyb2xsV2lkdGgiLCJjbGllbnRXaWR0aCIsInNjcm9sbEhlaWdodCIsInJ4QWRkUHgiLCJ1bnByZWZpeGVkIiwicnhWZW5kb3JzIiwiZ2V0U2V0UHJlZml4ZWQiLCJnZXRTZXRTdHlsZSIsImJhc2UiLCJyeFN1YnR5cGUiLCJyeEVsZW1lbnQiLCJnZXRCQm94Iiwic2V0QXR0cmlidXRlIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImZvckVhY2giLCJzdWJ0eXBlIiwiZXhlYyIsImF0dHJpYnV0ZSIsImNyZWF0ZUVsZW1lbnROUyIsInRvVXBwZXJDYXNlIiwiZ2V0QXR0cmlidXRlIiwiZ2V0RGltZW5zaW9uJDEiLCJnaG9zdHdoaXRlIiwiVmVsb2NpdHkkMSIsIlZlbG9jaXR5U3RhdGljIiwiU2VxdWVuY2VzIiwibGlnaHRncmF5IiwiZGVmYXVsdHMiLCJwYXRjaCIsInZlcnNpb24iLCJkb2N1bWVudE1vZGUiLCJkaXYiLCJpbm5lckhUTUwiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNlYWdyZWVuIiwialF1ZXJ5IiwiWmVwdG8iLCJOb2RlTGlzdCIsIkhUTUxDb2xsZWN0aW9uIiwicmVnaXN0ZXJCYWNrSW4iLCJfbG9vcCIsInJ4UGVyY2VudHMiLCJyZWdpc3RlckJhY2tJbk91dCIsInJlZ2lzdGVyU2VxdWVuY2UiLCJfbmFtZSIsInBlcmNlbnRzIiwiZWFzZUluQm91bmNlIiwic2VxdWVuY2VMaXN0Iiwia2V5cyIsImVhc2VJbk91dEJvdW5jZSIsImExIiwiYjEiLCJyZWdpc3RlckVsYXN0aWNJbk91dCIsIm9yZGVyZWRQZXJjZW50cyIsInN0ZXBQcm9wZXJ0aWVzIiwicmVhbFNlcXVlbmNlIiwiX2tleTIiLCJvcmlnaW5hbFByb3BlcnR5IiwiZ2xvYmFsUHJvbWlzZSIsIl9hIiwibm9Qcm9taXNlT3B0aW9uIiwicHJvbWlzZU9iamVjdCIsImJpbmQiLCJhcmdzMCIsInN5bnRhY3RpY1N1Z2FyIiwicCIsIm5hbWVzIiwiYXJndW1lbnRJbmRleCIsInByb3BlcnRpZXNNYXAiLCJvcHRpb25zTWFwIiwicmVqZWN0ZXIiLCJfcmVmIiwiaXNBY3Rpb24iLCJvcHRzIiwibyIsInJlc29sdmUiLCJyZWplY3QiLCJwYXRjaFByb21pc2UiLCJvcHRpb25Qcm9taXNlUmVqZWN0RW1wdHkiLCJfcmVmMiIsImFjdGlvbkFyZ3MiLCJnZXRTZXRUd2VlbiIsInZhbGlkRHVyYXRpb24iLCJkcmFnIiwic3RhZ2dlciIsImRpc3BsYXkiLCJ2aXNpYmlsaXR5Iiwib3B0aW9uc0JlZ2luIiwib3B0aW9uc0NvbXBsZXRlIiwib3B0aW9uc1Byb2dyZXNzIiwib3B0aW9uc1N5bmMiLCJvZmZzZXQiLCJoYXNWYWxpZER1cmF0aW9uIiwiVkVSU0lPTiIsInJvb3RBbmltYXRpb24iLCJsYXN0QW5pbWF0aW9uIiwiYXNzaWduIiwib3B0aW9uIiwib3B0aW9uQ2FsbGJhY2siLCJxdWV1ZSQxIiwiZ2xvYmFsIiwiVmVsb2NpdHlTdGF0aWMkMSIsImpRdWVyeSQxIiwiWmVwdG8kMSIsIlZlbG9jaXR5JDIiLCJwcm9wZXJ0eSQxIl0sIm1hcHBpbmdzIjoiaVFBRUEsU0FBQUEsR0FDQSxZQUFBLG9CQUFBQyxRQUFBLFlBQUFDLFNBQUFELFdBQUEsb0JBQUFFLE9BQUFBLE9BQUFGLFFBQUFELElBQ0EsbUJBQUFJLFFBQUFBLE9BQUFDLElBQUFELE9BQUFKLFNBRkEsR0FJQ00sU0FBa0JOLElBSm5CLENBS0UsV0FHcUIsSUFBQU8sRUFBQSxtQkFBQUMsUUFBQSxXQUFBTixTQUFBTSxPQUFBQyxVQUFBLFNBQUFDLEdBR25CLE9BQUFSLFNBQWNRLElBRFpILFNBQVVHLEdBQ1osT0FBQUEsR0FBQSxtQkFBQUYsUUFBQUUsRUFBQUMsY0FBQUgsUUFBQUUsSUFBQUYsT0FBQUksVUFBQSxTQUFBVixTQUFBUSxJQURGRyxFQUFBLFNBQUFDLEVBQUFDLEdBT0UsS0FBTUQsYUFBb0JDLEdBRHhCRixNQUFBQSxJQUFBQSxVQUFpQixzQ0FBckJHLEVBZUcsU0FBQUQsRUFBQUUsRUFBQUMsR0FHQyxPQUFJRCxHQUFZRSxFQUFpQkosRUFBWUgsVUFBV0ssR0FEMURDLEdBQWlCSCxFQUFhRSxFQUFZQyxHQUNwQ0QsR0FYTixTQUFTRSxFQUFpQkMsRUFBUUMsR0FEaENMLElBQUFBLElBQUFBLEVBQVcsRUFBR00sRUFBQUQsRUFBWUUsT0FBQUQsSUFBQSxDQUM1QixJQUFBRSxFQUFTTCxFQUFpQkMsR0FDeEJJLEVBQWFDLFdBQWFGLEVBQTFCRSxhQUF1QyxFQUNyQ0QsRUFBSUEsY0FBSixFQUNBQSxVQUFXQyxJQUFhRCxFQUFXQyxVQUFjLEdBQ2pERCxPQUFBQSxlQUFXRSxFQUFY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SStDLEdBQWlCanhCLGVBQWUyQyxHQWhwQkosWUFBa0IsSUFBZHVyQixFQUFKLFlBQWtDandCLEVBQUEwRSxJQUM5QmlULElBQUFBLFNBQ0gsSUFBQSxVQUNKblYsRUFBQTJ3QixHQUFBenVCLEVBQUEsQ0FDSHdKLElBQU9ySyxXQUNMK2QsT0FBQUEsR0FBQWxkLElBVkp5SixJQVlVLFNBQUF6TCxHQUNGc3dCLEdBQUF0dUIsR0FBQWhDLEtBRUlvZixHQUNILE1BQ0osUUFDR3RmLEVBQUlvZixHQUFvQmxkLEVBQUFzdUIsR0FBQXR1QixJQUFBLElBT3BDK2IsQ0FBQUEsSUFJSSxPQUZQamYsT0FBQW1OLE9BbENEd2tCLElBb0NRQSIsImZpbGUiOiJWZWxvY2l0eS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogdmVsb2NpdHktYW5pbWF0ZSAoQykgMjAxNC0yMDE3IEp1bGlhbiBTaGFwaXJvLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgZGV0YWlscy5cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xyXG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcclxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxyXG4gIChnbG9iYWwuVmVsb2NpdHkgPSBmYWN0b3J5KCkpO1xyXG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgdmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcclxuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xyXG4gIH0gOiBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcclxuICB9O1xyXG5cclxuICB2YXIgY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XHJcbiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHZhciBjcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcclxuICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XHJcbiAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xyXG4gICAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcclxuICAgICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcclxuICAgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XHJcbiAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcclxuICAgIH07XHJcbiAgfSgpO1xyXG5cclxuICB2YXIgZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiAob2JqLCBrZXksIHZhbHVlKSB7XHJcbiAgICBpZiAoa2V5IGluIG9iaikge1xyXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcclxuICAgICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgd3JpdGFibGU6IHRydWVcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvYmpba2V5XSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBvYmo7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgYSB2YXJpYWJsZSBpcyBhIGJvb2xlYW4uXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gaXNCb29sZWFuKHZhcmlhYmxlKSB7XHJcbiAgICAgIHJldHVybiB2YXJpYWJsZSA9PT0gdHJ1ZSB8fCB2YXJpYWJsZSA9PT0gZmFsc2U7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGEgdmFyaWFibGUgaXMgYSBmdW5jdGlvbi5cclxuICAgKi9cclxuICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhcmlhYmxlKSB7XHJcbiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFyaWFibGUpID09PSBcIltvYmplY3QgRnVuY3Rpb25dXCI7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGEgdmFyaWFibGUgaXMgYW4gSFRNTEVsZW1lbnQgb3IgU1ZHRWxlbWVudC5cclxuICAgKi9cclxuICBmdW5jdGlvbiBpc05vZGUodmFyaWFibGUpIHtcclxuICAgICAgcmV0dXJuICEhKHZhcmlhYmxlICYmIHZhcmlhYmxlLm5vZGVUeXBlKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgYSB2YXJpYWJsZSBpcyBhIG51bWJlci5cclxuICAgKi9cclxuICBmdW5jdGlvbiBpc051bWJlcih2YXJpYWJsZSkge1xyXG4gICAgICByZXR1cm4gdHlwZW9mIHZhcmlhYmxlID09PSBcIm51bWJlclwiO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBDaGVjayBpZiBhIHZhcmlhYmxlIGlzIGEgcGxhaW4gb2JqZWN0IChhbmQgbm90IGFuIGluc3RhbmNlKS5cclxuICAgKi9cclxuICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhcmlhYmxlKSB7XHJcbiAgICAgIGlmICghdmFyaWFibGUgfHwgKHR5cGVvZiB2YXJpYWJsZSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHZhcmlhYmxlKSkgIT09IFwib2JqZWN0XCIgfHwgdmFyaWFibGUubm9kZVR5cGUgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhcmlhYmxlKSAhPT0gXCJbb2JqZWN0IE9iamVjdF1cIikge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YXJpYWJsZSk7XHJcbiAgICAgIHJldHVybiAhcHJvdG8gfHwgcHJvdG8uaGFzT3duUHJvcGVydHkoXCJjb25zdHJ1Y3RvclwiKSAmJiBwcm90by5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xyXG4gIH1cclxuICAvKipcclxuICAgKiBDaGVjayBpZiBhIHZhcmlhYmxlIGlzIGEgc3RyaW5nLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGlzU3RyaW5nKHZhcmlhYmxlKSB7XHJcbiAgICAgIHJldHVybiB0eXBlb2YgdmFyaWFibGUgPT09IFwic3RyaW5nXCI7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGEgdmFyaWFibGUgaXMgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIFZlbG9jaXR5LlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGlzVmVsb2NpdHlSZXN1bHQodmFyaWFibGUpIHtcclxuICAgICAgcmV0dXJuIHZhcmlhYmxlICYmIGlzTnVtYmVyKHZhcmlhYmxlLmxlbmd0aCkgJiYgaXNGdW5jdGlvbih2YXJpYWJsZS52ZWxvY2l0eSk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGEgdmFyaWFibGUgaXMgYW4gYXJyYXktbGlrZSB3cmFwcGVkIGpRdWVyeSwgWmVwdG8gb3Igc2ltaWxhciwgd2hlcmVcclxuICAgKiBlYWNoIGluZGV4ZWQgdmFsdWUgaXMgYSBOb2RlLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGlzV3JhcHBlZCh2YXJpYWJsZSkge1xyXG4gICAgICByZXR1cm4gdmFyaWFibGUgJiYgdmFyaWFibGUgIT09IHdpbmRvdyAmJiBpc051bWJlcih2YXJpYWJsZS5sZW5ndGgpICYmICFpc1N0cmluZyh2YXJpYWJsZSkgJiYgIWlzRnVuY3Rpb24odmFyaWFibGUpICYmICFpc05vZGUodmFyaWFibGUpICYmICh2YXJpYWJsZS5sZW5ndGggPT09IDAgfHwgaXNOb2RlKHZhcmlhYmxlWzBdKSk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlzIGEgcHJvcGVydHkgaXMgYW4gZW51bWVyYWJsZSBtZW1iZXIgb2YgYW4gb2JqZWN0LlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKG9iaiwgcHJvcGVydHkpIHtcclxuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmosIHByb3BlcnR5KTtcclxuICB9XHJcblxyXG4gIC8vIFByb2plY3RcclxuICAvKipcclxuICAgKiBBZGQgYSBzaW5nbGUgY2xhc3NOYW1lIHRvIGFuIEVsZW1lbnQuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudCkge1xyXG4gICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XHJcbiAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gKGVsZW1lbnQuY2xhc3NOYW1lLmxlbmd0aCA/IFwiIFwiIDogXCJcIikgKyBjbGFzc05hbWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogQ2xvbmUgYW4gYXJyYXksIHdvcmtzIGZvciBhcnJheS1saWtlIHRvby5cclxuICAgKi9cclxuICBmdW5jdGlvbiBjbG9uZUFycmF5KGFycmF5TGlrZSkge1xyXG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyYXlMaWtlLCAwKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogVGhlIDxzdHJvbmc+PGNvZGU+ZGVmaW5lUHJvcGVydHkoKTwvY29kZT48L3N0cm9uZz4gZnVuY3Rpb24gcHJvdmlkZXMgYVxyXG4gICAqIHNob3J0Y3V0IHRvIGRlZmluaW5nIGEgcHJvcGVydHkgdGhhdCBjYW5ub3QgYmUgYWNjaWRlbnRhbGx5IGl0ZXJhdGVkIGFjcm9zcy5cclxuICAgKi9cclxuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eSQxKHByb3RvLCBuYW1lLCB2YWx1ZSwgcmVhZG9ubHkpIHtcclxuICAgICAgaWYgKHByb3RvKSB7XHJcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sIG5hbWUsIHtcclxuICAgICAgICAgICAgICBjb25maWd1cmFibGU6ICFyZWFkb25seSxcclxuICAgICAgICAgICAgICB3cml0YWJsZTogIXJlYWRvbmx5LFxyXG4gICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogV2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgbG9jYXRpb25zIGZvciBhIHZhbHVlIHBhc3MgdGhlbSBhbGwgaW4sIHRoZW4gZ2V0IHRoZVxyXG4gICAqIGZpcnN0IHZhbHVlIHRoYXQgaXMgdmFsaWQuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XHJcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XHJcbiAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XHJcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xyXG4gICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gYXJnc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcclxuICAgICAgICAgICAgICB2YXIgYXJnID0gX3N0ZXAudmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgIGlmIChhcmcgIT09IHVuZGVmaW5lZCAmJiBhcmcgPT09IGFyZykge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gYXJnO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcclxuICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcclxuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBTaGltIHRvIGdldCB0aGUgY3VycmVudCBtaWxsaXNlY29uZHMgLSBvbiBhbnl0aGluZyBleGNlcHQgb2xkIElFIGl0J2xsIHVzZVxyXG4gICAqIERhdGUubm93KCkgYW5kIHNhdmUgY3JlYXRpbmcgYW4gb2JqZWN0LiBJZiB0aGF0IGRvZXNuJ3QgZXhpc3QgdGhlbiBpdCdsbFxyXG4gICAqIGNyZWF0ZSBvbmUgdGhhdCBnZXRzIEdDLlxyXG4gICAqL1xyXG4gIHZhciBub3cgPSBEYXRlLm5vdyA/IERhdGUubm93IDogZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgfTtcclxuICAvKipcclxuICAgKiBSZW1vdmUgYSBzaW5nbGUgY2xhc3NOYW1lIGZyb20gYW4gRWxlbWVudC5cclxuICAgKi9cclxuICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcclxuICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50KSB7XHJcbiAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcclxuICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgLy8gVE9ETzogTmVlZCBzb21lIGpzcGVyZiB0ZXN0cyBvbiBwZXJmb3JtYW5jZSAtIGNhbiB3ZSBnZXQgcmlkIG9mIHRoZSByZWdleCBhbmQgbWF5YmUgdXNlIHNwbGl0IC8gYXJyYXkgbWFuaXB1bGF0aW9uP1xyXG4gICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIgKyBjbGFzc05hbWUgKyBcIihcXFxcc3wkKVwiLCBcImdpXCIpLCBcIiBcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFByb2plY3RcclxuICAvLyBDb25zdGFudHNcclxuICB2YXIgQWN0aW9ucyA9IHt9O1xyXG4gIC8qKlxyXG4gICAqIFVzZWQgdG8gcmVnaXN0ZXIgYW4gYWN0aW9uLiBUaGlzIHNob3VsZCBuZXZlciBiZSBjYWxsZWQgYnkgdXNlcnNcclxuICAgKiBkaXJlY3RseSwgaW5zdGVhZCBpdCBzaG91bGQgYmUgY2FsbGVkIHZpYSAgYW4gYWN0aW9uOjxici8+XHJcbiAgICogPGNvZGU+VmVsb2NpdHkoXCJyZWdpc3RlckFjdGlvblwiLCBcIm5hbWVcIiwgVmVsb2NpdHlBY3Rpb25Gbik7PC9jb2RlPlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyQWN0aW9uKGFyZ3MsIGludGVybmFsKSB7XHJcbiAgICAgIHZhciBuYW1lID0gYXJnc1swXSxcclxuICAgICAgICAgIGNhbGxiYWNrID0gYXJnc1sxXTtcclxuICAgICAgaWYgKCFpc1N0cmluZyhuYW1lKSkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncmVnaXN0ZXJBY3Rpb24nIG5hbWUgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgbmFtZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoIWlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdyZWdpc3RlckFjdGlvbicgY2FsbGJhY2sgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgbmFtZSwgY2FsbGJhY2spO1xyXG4gICAgICB9IGVsc2UgaWYgKEFjdGlvbnNbbmFtZV0gJiYgIXByb3BlcnR5SXNFbnVtZXJhYmxlKEFjdGlvbnMsIG5hbWUpKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gb3ZlcnJpZGUgaW50ZXJuYWwgJ3JlZ2lzdGVyQWN0aW9uJyBjYWxsYmFja1wiLCBuYW1lKTtcclxuICAgICAgfSBlbHNlIGlmIChpbnRlcm5hbCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShBY3Rpb25zLCBuYW1lLCBjYWxsYmFjayk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBBY3Rpb25zW25hbWVdID0gY2FsbGJhY2s7XHJcbiAgICAgIH1cclxuICB9XHJcbiAgcmVnaXN0ZXJBY3Rpb24oW1wicmVnaXN0ZXJBY3Rpb25cIiwgcmVnaXN0ZXJBY3Rpb25dLCB0cnVlKTtcclxuXHJcbiAgLyoqXHJcbiAgICogV2l0aG91dCB0aGlzIGl0IHdpbGwgb25seSB1bi1wcmVmaXggcHJvcGVydGllcyB0aGF0IGhhdmUgYSB2YWxpZCBcIm5vcm1hbFwiXHJcbiAgICogdmVyc2lvbi5cclxuICAgKi9cclxuICB2YXIgRFVSQVRJT05fRkFTVCA9IDIwMDtcclxuICB2YXIgRFVSQVRJT05fTk9STUFMID0gNDAwO1xyXG4gIHZhciBEVVJBVElPTl9TTE9XID0gNjAwO1xyXG4gIHZhciBGVVpaWV9NU19QRVJfU0VDT05EID0gOTgwO1xyXG4gIHZhciBERUZBVUxUX0NBQ0hFID0gdHJ1ZTtcclxuICB2YXIgREVGQVVMVF9ERUxBWSA9IDA7XHJcbiAgdmFyIERFRkFVTFRfRFVSQVRJT04gPSBEVVJBVElPTl9OT1JNQUw7XHJcbiAgdmFyIERFRkFVTFRfRUFTSU5HID0gXCJzd2luZ1wiO1xyXG4gIHZhciBERUZBVUxUX0ZQU0xJTUlUID0gNjA7XHJcbiAgdmFyIERFRkFVTFRfTE9PUCA9IDA7XHJcbiAgdmFyIERFRkFVTFRfUFJPTUlTRSA9IHRydWU7XHJcbiAgdmFyIERFRkFVTFRfUFJPTUlTRV9SRUpFQ1RfRU1QVFkgPSB0cnVlO1xyXG4gIHZhciBERUZBVUxUX1FVRVVFID0gXCJcIjtcclxuICB2YXIgREVGQVVMVF9SRVBFQVQgPSAwO1xyXG4gIHZhciBERUZBVUxUX1NQRUVEID0gMTtcclxuICB2YXIgREVGQVVMVF9TWU5DID0gdHJ1ZTtcclxuICB2YXIgQ0xBU1NOQU1FID0gXCJ2ZWxvY2l0eS1hbmltYXRpbmdcIjtcclxuICB2YXIgRHVyYXRpb24gPSB7XHJcbiAgICBmYXN0OiBEVVJBVElPTl9GQVNULFxyXG4gICAgbm9ybWFsOiBEVVJBVElPTl9OT1JNQUwsXHJcbiAgICBzbG93OiBEVVJBVElPTl9TTE9XXHJcbiAgfTtcclxuXHJcbiAgLy8gUHJvamVjdFxyXG4gIC8vIENvbnN0YW50c1xyXG4gIHZhciBFYXNpbmdzID0ge307XHJcbiAgLyoqXHJcbiAgICogVXNlZCB0byByZWdpc3RlciBhIGVhc2luZy4gVGhpcyBzaG91bGQgbmV2ZXIgYmUgY2FsbGVkIGJ5IHVzZXJzXHJcbiAgICogZGlyZWN0bHksIGluc3RlYWQgaXQgc2hvdWxkIGJlIGNhbGxlZCB2aWEgYW4gYWN0aW9uOjxici8+XHJcbiAgICogPGNvZGU+VmVsb2NpdHkoXCJyZWdpc3RlckVhc2luZ1wiLCBcIm5hbWVcIiwgVmVsb2NpdHlFYXNpbmdGbik7PC9jb2RlPlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyRWFzaW5nKGFyZ3MpIHtcclxuICAgICAgdmFyIG5hbWUgPSBhcmdzWzBdLFxyXG4gICAgICAgICAgY2FsbGJhY2sgPSBhcmdzWzFdO1xyXG4gICAgICBpZiAoIWlzU3RyaW5nKG5hbWUpKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdyZWdpc3RlckVhc2luZycgbmFtZSB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCBuYW1lKTtcclxuICAgICAgfSBlbHNlIGlmICghaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3JlZ2lzdGVyRWFzaW5nJyBjYWxsYmFjayB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCBuYW1lLCBjYWxsYmFjayk7XHJcbiAgICAgIH0gZWxzZSBpZiAoRWFzaW5nc1tuYW1lXSkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIG92ZXJyaWRlICdyZWdpc3RlckVhc2luZycgY2FsbGJhY2tcIiwgbmFtZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBFYXNpbmdzW25hbWVdID0gY2FsbGJhY2s7XHJcbiAgICAgIH1cclxuICB9XHJcbiAgcmVnaXN0ZXJBY3Rpb24oW1wicmVnaXN0ZXJFYXNpbmdcIiwgcmVnaXN0ZXJFYXNpbmddLCB0cnVlKTtcclxuICAvKipcclxuICAgKiBMaW5lYXIgZWFzaW5nLCB1c2VkIGZvciBzZXF1ZW5jZSBwYXJ0cyB0aGF0IGRvbid0IGhhdmUgYW4gYWN0dWFsIGVhc2luZ1xyXG4gICAqIGZ1bmN0aW9uLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGxpbmVhckVhc2luZyhwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBwcm9wZXJ0eSkge1xyXG4gICAgICByZXR1cm4gc3RhcnRWYWx1ZSArIHBlcmNlbnRDb21wbGV0ZSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBTd2luZyBpcyB0aGUgZGVmYXVsdCBmb3IgalF1ZXJ5IGFuZCBWZWxvY2l0eS5cclxuICAgKi9cclxuICBmdW5jdGlvbiBzd2luZ0Vhc2luZyhwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XHJcbiAgICAgIHJldHVybiBzdGFydFZhbHVlICsgKDAuNSAtIE1hdGguY29zKHBlcmNlbnRDb21wbGV0ZSAqIE1hdGguUEkpIC8gMikgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogQSBsZXNzIGV4YWdnZXJhdGVkIHZlcnNpb24gb2YgZWFzZUluT3V0RWxhc3RpYy5cclxuICAgKi9cclxuICBmdW5jdGlvbiBzcHJpbmdFYXNpbmcocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xyXG4gICAgICByZXR1cm4gc3RhcnRWYWx1ZSArICgxIC0gTWF0aC5jb3MocGVyY2VudENvbXBsZXRlICogNC41ICogTWF0aC5QSSkgKiBNYXRoLmV4cCgtcGVyY2VudENvbXBsZXRlICogNikpICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XHJcbiAgfVxyXG4gIHJlZ2lzdGVyRWFzaW5nKFtcImxpbmVhclwiLCBsaW5lYXJFYXNpbmddKTtcclxuICByZWdpc3RlckVhc2luZyhbXCJzd2luZ1wiLCBzd2luZ0Vhc2luZ10pO1xyXG4gIHJlZ2lzdGVyRWFzaW5nKFtcInNwcmluZ1wiLCBzcHJpbmdFYXNpbmddKTtcclxuXHJcbiAgLy8gUHJvamVjdFxyXG4gIC8qKlxyXG4gICAqIEZpeCB0byBhIHJhbmdlIG9mIDxjb2RlPjAgPD0gbnVtIDw9IDE8L2NvZGU+LlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGZpeFJhbmdlKG51bSkge1xyXG4gICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobnVtLCAwKSwgMSk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIEEoYUExLCBhQTIpIHtcclxuICAgICAgcmV0dXJuIDEgLSAzICogYUEyICsgMyAqIGFBMTtcclxuICB9XHJcbiAgZnVuY3Rpb24gQihhQTEsIGFBMikge1xyXG4gICAgICByZXR1cm4gMyAqIGFBMiAtIDYgKiBhQTE7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIEMoYUExKSB7XHJcbiAgICAgIHJldHVybiAzICogYUExO1xyXG4gIH1cclxuICBmdW5jdGlvbiBjYWxjQmV6aWVyKGFULCBhQTEsIGFBMikge1xyXG4gICAgICByZXR1cm4gKChBKGFBMSwgYUEyKSAqIGFUICsgQihhQTEsIGFBMikpICogYVQgKyBDKGFBMSkpICogYVQ7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGdldFNsb3BlKGFULCBhQTEsIGFBMikge1xyXG4gICAgICByZXR1cm4gMyAqIEEoYUExLCBhQTIpICogYVQgKiBhVCArIDIgKiBCKGFBMSwgYUEyKSAqIGFUICsgQyhhQTEpO1xyXG4gIH1cclxuICBmdW5jdGlvbiBnZW5lcmF0ZUJlemllcigpIHtcclxuICAgICAgdmFyIE5FV1RPTl9JVEVSQVRJT05TID0gNCxcclxuICAgICAgICAgIE5FV1RPTl9NSU5fU0xPUEUgPSAwLjAwMSxcclxuICAgICAgICAgIFNVQkRJVklTSU9OX1BSRUNJU0lPTiA9IDAuMDAwMDAwMSxcclxuICAgICAgICAgIFNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TID0gMTAsXHJcbiAgICAgICAgICBrU3BsaW5lVGFibGVTaXplID0gMTEsXHJcbiAgICAgICAgICBrU2FtcGxlU3RlcFNpemUgPSAxIC8gKGtTcGxpbmVUYWJsZVNpemUgLSAxKSxcclxuICAgICAgICAgIGZsb2F0MzJBcnJheVN1cHBvcnRlZCA9IFwiRmxvYXQzMkFycmF5XCIgaW4gd2luZG93O1xyXG4gICAgICAvKiBNdXN0IGNvbnRhaW4gZm91ciBhcmdzLiAqL1xyXG5cclxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcclxuICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChhcmdzLmxlbmd0aCAhPT0gNCkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIC8qIEFyZ3MgbXVzdCBiZSBudW1iZXJzLiAqL1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7ICsraSkge1xyXG4gICAgICAgICAgaWYgKHR5cGVvZiBhcmdzW2ldICE9PSBcIm51bWJlclwiIHx8IGlzTmFOKGFyZ3NbaV0pIHx8ICFpc0Zpbml0ZShhcmdzW2ldKSkge1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAvKiBYIHZhbHVlcyBtdXN0IGJlIGluIHRoZSBbMCwgMV0gcmFuZ2UuICovXHJcbiAgICAgIHZhciBtWDEgPSBmaXhSYW5nZShhcmdzWzBdKTtcclxuICAgICAgdmFyIG1ZMSA9IGFyZ3NbMV07XHJcbiAgICAgIHZhciBtWDIgPSBmaXhSYW5nZShhcmdzWzJdKTtcclxuICAgICAgdmFyIG1ZMiA9IGFyZ3NbM107XHJcbiAgICAgIHZhciBtU2FtcGxlVmFsdWVzID0gZmxvYXQzMkFycmF5U3VwcG9ydGVkID8gbmV3IEZsb2F0MzJBcnJheShrU3BsaW5lVGFibGVTaXplKSA6IG5ldyBBcnJheShrU3BsaW5lVGFibGVTaXplKTtcclxuICAgICAgZnVuY3Rpb24gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGFHdWVzc1QpIHtcclxuICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBORVdUT05fSVRFUkFUSU9OUzsgKytfaSkge1xyXG4gICAgICAgICAgICAgIHZhciBjdXJyZW50U2xvcGUgPSBnZXRTbG9wZShhR3Vlc3NULCBtWDEsIG1YMik7XHJcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTbG9wZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gYUd1ZXNzVDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgdmFyIGN1cnJlbnRYID0gY2FsY0JlemllcihhR3Vlc3NULCBtWDEsIG1YMikgLSBhWDtcclxuICAgICAgICAgICAgICBhR3Vlc3NUIC09IGN1cnJlbnRYIC8gY3VycmVudFNsb3BlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIGFHdWVzc1Q7XHJcbiAgICAgIH1cclxuICAgICAgZnVuY3Rpb24gY2FsY1NhbXBsZVZhbHVlcygpIHtcclxuICAgICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGtTcGxpbmVUYWJsZVNpemU7ICsrX2kyKSB7XHJcbiAgICAgICAgICAgICAgbVNhbXBsZVZhbHVlc1tfaTJdID0gY2FsY0JlemllcihfaTIgKiBrU2FtcGxlU3RlcFNpemUsIG1YMSwgbVgyKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBmdW5jdGlvbiBiaW5hcnlTdWJkaXZpZGUoYVgsIGFBLCBhQikge1xyXG4gICAgICAgICAgdmFyIGN1cnJlbnRYID0gdm9pZCAwLFxyXG4gICAgICAgICAgICAgIGN1cnJlbnRUID0gdm9pZCAwLFxyXG4gICAgICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgIGN1cnJlbnRUID0gYUEgKyAoYUIgLSBhQSkgLyAyO1xyXG4gICAgICAgICAgICAgIGN1cnJlbnRYID0gY2FsY0JlemllcihjdXJyZW50VCwgbVgxLCBtWDIpIC0gYVg7XHJcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRYID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICBhQiA9IGN1cnJlbnRUO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIGFBID0gY3VycmVudFQ7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSB3aGlsZSAoTWF0aC5hYnMoY3VycmVudFgpID4gU1VCRElWSVNJT05fUFJFQ0lTSU9OICYmICsraSA8IFNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TKTtcclxuICAgICAgICAgIHJldHVybiBjdXJyZW50VDtcclxuICAgICAgfVxyXG4gICAgICBmdW5jdGlvbiBnZXRURm9yWChhWCkge1xyXG4gICAgICAgICAgdmFyIGxhc3RTYW1wbGUgPSBrU3BsaW5lVGFibGVTaXplIC0gMTtcclxuICAgICAgICAgIHZhciBpbnRlcnZhbFN0YXJ0ID0gMCxcclxuICAgICAgICAgICAgICBjdXJyZW50U2FtcGxlID0gMTtcclxuICAgICAgICAgIGZvciAoOyBjdXJyZW50U2FtcGxlICE9PSBsYXN0U2FtcGxlICYmIG1TYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0gPD0gYVg7ICsrY3VycmVudFNhbXBsZSkge1xyXG4gICAgICAgICAgICAgIGludGVydmFsU3RhcnQgKz0ga1NhbXBsZVN0ZXBTaXplO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLS1jdXJyZW50U2FtcGxlO1xyXG4gICAgICAgICAgdmFyIGRpc3QgPSAoYVggLSBtU2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKSAvIChtU2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGUgKyAxXSAtIG1TYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pLFxyXG4gICAgICAgICAgICAgIGd1ZXNzRm9yVCA9IGludGVydmFsU3RhcnQgKyBkaXN0ICoga1NhbXBsZVN0ZXBTaXplLFxyXG4gICAgICAgICAgICAgIGluaXRpYWxTbG9wZSA9IGdldFNsb3BlKGd1ZXNzRm9yVCwgbVgxLCBtWDIpO1xyXG4gICAgICAgICAgaWYgKGluaXRpYWxTbG9wZSA+PSBORVdUT05fTUlOX1NMT1BFKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBndWVzc0ZvclQpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChpbml0aWFsU2xvcGUgPT09IDApIHtcclxuICAgICAgICAgICAgICByZXR1cm4gZ3Vlc3NGb3JUO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICByZXR1cm4gYmluYXJ5U3ViZGl2aWRlKGFYLCBpbnRlcnZhbFN0YXJ0LCBpbnRlcnZhbFN0YXJ0ICsga1NhbXBsZVN0ZXBTaXplKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB2YXIgcHJlY29tcHV0ZWQgPSBmYWxzZTtcclxuICAgICAgZnVuY3Rpb24gcHJlY29tcHV0ZSgpIHtcclxuICAgICAgICAgIHByZWNvbXB1dGVkID0gdHJ1ZTtcclxuICAgICAgICAgIGlmIChtWDEgIT09IG1ZMSB8fCBtWDIgIT09IG1ZMikge1xyXG4gICAgICAgICAgICAgIGNhbGNTYW1wbGVWYWx1ZXMoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB2YXIgc3RyID0gXCJnZW5lcmF0ZUJlemllcihcIiArIFttWDEsIG1ZMSwgbVgyLCBtWTJdICsgXCIpXCIsXHJcbiAgICAgICAgICBmID0gZnVuY3Rpb24gZihwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgaWYgKCFwcmVjb21wdXRlZCkge1xyXG4gICAgICAgICAgICAgIHByZWNvbXB1dGUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDApIHtcclxuICAgICAgICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDEpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gZW5kVmFsdWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZSArIHBlcmNlbnRDb21wbGV0ZSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWUgKyBjYWxjQmV6aWVyKGdldFRGb3JYKHBlcmNlbnRDb21wbGV0ZSksIG1ZMSwgbVkyKSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xyXG4gICAgICB9O1xyXG4gICAgICBmLmdldENvbnRyb2xQb2ludHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gW3sgeDogbVgxLCB5OiBtWTEgfSwgeyB4OiBtWDIsIHk6IG1ZMiB9XTtcclxuICAgICAgfTtcclxuICAgICAgZi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHJldHVybiBzdHI7XHJcbiAgICAgIH07XHJcbiAgICAgIHJldHVybiBmO1xyXG4gIH1cclxuICAvKiBDb21tb24gZWFzaW5ncyAqL1xyXG4gIHZhciBlYXNlSW4gPSBnZW5lcmF0ZUJlemllcigwLjQyLCAwLCAxLCAxKSxcclxuICAgICAgZWFzZU91dCA9IGdlbmVyYXRlQmV6aWVyKDAsIDAsIDAuNTgsIDEpLFxyXG4gICAgICBlYXNlSW5PdXQgPSBnZW5lcmF0ZUJlemllcigwLjQyLCAwLCAwLjU4LCAxKTtcclxuICByZWdpc3RlckVhc2luZyhbXCJlYXNlXCIsIGdlbmVyYXRlQmV6aWVyKDAuMjUsIDAuMSwgMC4yNSwgMSldKTtcclxuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5cIiwgZWFzZUluXSk7XHJcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZS1pblwiLCBlYXNlSW5dKTtcclxuICByZWdpc3RlckVhc2luZyhbXCJlYXNlT3V0XCIsIGVhc2VPdXRdKTtcclxuICByZWdpc3RlckVhc2luZyhbXCJlYXNlLW91dFwiLCBlYXNlT3V0XSk7XHJcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluT3V0XCIsIGVhc2VJbk91dF0pO1xyXG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2UtaW4tb3V0XCIsIGVhc2VJbk91dF0pO1xyXG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJblNpbmVcIiwgZ2VuZXJhdGVCZXppZXIoMC40NywgMCwgMC43NDUsIDAuNzE1KV0pO1xyXG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VPdXRTaW5lXCIsIGdlbmVyYXRlQmV6aWVyKDAuMzksIDAuNTc1LCAwLjU2NSwgMSldKTtcclxuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5PdXRTaW5lXCIsIGdlbmVyYXRlQmV6aWVyKDAuNDQ1LCAwLjA1LCAwLjU1LCAwLjk1KV0pO1xyXG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJblF1YWRcIiwgZ2VuZXJhdGVCZXppZXIoMC41NSwgMC4wODUsIDAuNjgsIDAuNTMpXSk7XHJcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZU91dFF1YWRcIiwgZ2VuZXJhdGVCZXppZXIoMC4yNSwgMC40NiwgMC40NSwgMC45NCldKTtcclxuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5PdXRRdWFkXCIsIGdlbmVyYXRlQmV6aWVyKDAuNDU1LCAwLjAzLCAwLjUxNSwgMC45NTUpXSk7XHJcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluQ3ViaWNcIiwgZ2VuZXJhdGVCZXppZXIoMC41NSwgMC4wNTUsIDAuNjc1LCAwLjE5KV0pO1xyXG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VPdXRDdWJpY1wiLCBnZW5lcmF0ZUJlemllcigwLjIxNSwgMC42MSwgMC4zNTUsIDEpXSk7XHJcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluT3V0Q3ViaWNcIiwgZ2VuZXJhdGVCZXppZXIoMC42NDUsIDAuMDQ1LCAwLjM1NSwgMSldKTtcclxuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5RdWFydFwiLCBnZW5lcmF0ZUJlemllcigwLjg5NSwgMC4wMywgMC42ODUsIDAuMjIpXSk7XHJcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZU91dFF1YXJ0XCIsIGdlbmVyYXRlQmV6aWVyKDAuMTY1LCAwLjg0LCAwLjQ0LCAxKV0pO1xyXG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJbk91dFF1YXJ0XCIsIGdlbmVyYXRlQmV6aWVyKDAuNzcsIDAsIDAuMTc1LCAxKV0pO1xyXG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJblF1aW50XCIsIGdlbmVyYXRlQmV6aWVyKDAuNzU1LCAwLjA1LCAwLjg1NSwgMC4wNildKTtcclxuICByZWdpc3RlckVhc2luZyhbXCJlYXNlT3V0UXVpbnRcIiwgZ2VuZXJhdGVCZXppZXIoMC4yMywgMSwgMC4zMiwgMSldKTtcclxuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5PdXRRdWludFwiLCBnZW5lcmF0ZUJlemllcigwLjg2LCAwLCAwLjA3LCAxKV0pO1xyXG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJbkV4cG9cIiwgZ2VuZXJhdGVCZXppZXIoMC45NSwgMC4wNSwgMC43OTUsIDAuMDM1KV0pO1xyXG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VPdXRFeHBvXCIsIGdlbmVyYXRlQmV6aWVyKDAuMTksIDEsIDAuMjIsIDEpXSk7XHJcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluT3V0RXhwb1wiLCBnZW5lcmF0ZUJlemllcigxLCAwLCAwLCAxKV0pO1xyXG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJbkNpcmNcIiwgZ2VuZXJhdGVCZXppZXIoMC42LCAwLjA0LCAwLjk4LCAwLjMzNSldKTtcclxuICByZWdpc3RlckVhc2luZyhbXCJlYXNlT3V0Q2lyY1wiLCBnZW5lcmF0ZUJlemllcigwLjA3NSwgMC44MiwgMC4xNjUsIDEpXSk7XHJcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluT3V0Q2lyY1wiLCBnZW5lcmF0ZUJlemllcigwLjc4NSwgMC4xMzUsIDAuMTUsIDAuODYpXSk7XHJcblxyXG4gIC8qIFJ1bmdlLUt1dHRhIHNwcmluZyBwaHlzaWNzIGZ1bmN0aW9uIGdlbmVyYXRvci4gQWRhcHRlZCBmcm9tIEZyYW1lci5qcywgY29weXJpZ2h0IEtvZW4gQm9rLiBNSVQgTGljZW5zZTogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9NSVRfTGljZW5zZSAqL1xyXG4gIC8qIEdpdmVuIGEgdGVuc2lvbiwgZnJpY3Rpb24sIGFuZCBkdXJhdGlvbiwgYSBzaW11bGF0aW9uIGF0IDYwRlBTIHdpbGwgZmlyc3QgcnVuIHdpdGhvdXQgYSBkZWZpbmVkIGR1cmF0aW9uIGluIG9yZGVyIHRvIGNhbGN1bGF0ZSB0aGUgZnVsbCBwYXRoLiBBIHNlY29uZCBwYXNzXHJcbiAgIHRoZW4gYWRqdXN0cyB0aGUgdGltZSBkZWx0YSAtLSB1c2luZyB0aGUgcmVsYXRpb24gYmV0d2VlbiBhY3R1YWwgdGltZSBhbmQgZHVyYXRpb24gLS0gdG8gY2FsY3VsYXRlIHRoZSBwYXRoIGZvciB0aGUgZHVyYXRpb24tY29uc3RyYWluZWQgYW5pbWF0aW9uLiAqL1xyXG4gIGZ1bmN0aW9uIHNwcmluZ0FjY2VsZXJhdGlvbkZvclN0YXRlKHN0YXRlKSB7XHJcbiAgICAgIHJldHVybiAtc3RhdGUudGVuc2lvbiAqIHN0YXRlLnggLSBzdGF0ZS5mcmljdGlvbiAqIHN0YXRlLnY7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIHNwcmluZ0V2YWx1YXRlU3RhdGVXaXRoRGVyaXZhdGl2ZShpbml0aWFsU3RhdGUsIGR0LCBkZXJpdmF0aXZlKSB7XHJcbiAgICAgIHZhciBzdGF0ZSA9IHtcclxuICAgICAgICAgIHg6IGluaXRpYWxTdGF0ZS54ICsgZGVyaXZhdGl2ZS5keCAqIGR0LFxyXG4gICAgICAgICAgdjogaW5pdGlhbFN0YXRlLnYgKyBkZXJpdmF0aXZlLmR2ICogZHQsXHJcbiAgICAgICAgICB0ZW5zaW9uOiBpbml0aWFsU3RhdGUudGVuc2lvbixcclxuICAgICAgICAgIGZyaWN0aW9uOiBpbml0aWFsU3RhdGUuZnJpY3Rpb25cclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGR4OiBzdGF0ZS52LFxyXG4gICAgICAgICAgZHY6IHNwcmluZ0FjY2VsZXJhdGlvbkZvclN0YXRlKHN0YXRlKVxyXG4gICAgICB9O1xyXG4gIH1cclxuICBmdW5jdGlvbiBzcHJpbmdJbnRlZ3JhdGVTdGF0ZShzdGF0ZSwgZHQpIHtcclxuICAgICAgdmFyIGEgPSB7XHJcbiAgICAgICAgICBkeDogc3RhdGUudixcclxuICAgICAgICAgIGR2OiBzcHJpbmdBY2NlbGVyYXRpb25Gb3JTdGF0ZShzdGF0ZSlcclxuICAgICAgfSxcclxuICAgICAgICAgIGIgPSBzcHJpbmdFdmFsdWF0ZVN0YXRlV2l0aERlcml2YXRpdmUoc3RhdGUsIGR0ICogMC41LCBhKSxcclxuICAgICAgICAgIGMgPSBzcHJpbmdFdmFsdWF0ZVN0YXRlV2l0aERlcml2YXRpdmUoc3RhdGUsIGR0ICogMC41LCBiKSxcclxuICAgICAgICAgIGQgPSBzcHJpbmdFdmFsdWF0ZVN0YXRlV2l0aERlcml2YXRpdmUoc3RhdGUsIGR0LCBjKSxcclxuICAgICAgICAgIGR4ZHQgPSAxIC8gNiAqIChhLmR4ICsgMiAqIChiLmR4ICsgYy5keCkgKyBkLmR4KSxcclxuICAgICAgICAgIGR2ZHQgPSAxIC8gNiAqIChhLmR2ICsgMiAqIChiLmR2ICsgYy5kdikgKyBkLmR2KTtcclxuICAgICAgc3RhdGUueCA9IHN0YXRlLnggKyBkeGR0ICogZHQ7XHJcbiAgICAgIHN0YXRlLnYgPSBzdGF0ZS52ICsgZHZkdCAqIGR0O1xyXG4gICAgICByZXR1cm4gc3RhdGU7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGdlbmVyYXRlU3ByaW5nUks0KHRlbnNpb24sIGZyaWN0aW9uLCBkdXJhdGlvbikge1xyXG4gICAgICB2YXIgaW5pdFN0YXRlID0ge1xyXG4gICAgICAgICAgeDogLTEsXHJcbiAgICAgICAgICB2OiAwLFxyXG4gICAgICAgICAgdGVuc2lvbjogcGFyc2VGbG9hdCh0ZW5zaW9uKSB8fCA1MDAsXHJcbiAgICAgICAgICBmcmljdGlvbjogcGFyc2VGbG9hdChmcmljdGlvbikgfHwgMjBcclxuICAgICAgfSxcclxuICAgICAgICAgIHBhdGggPSBbMF0sXHJcbiAgICAgICAgICB0b2xlcmFuY2UgPSAxIC8gMTAwMDAsXHJcbiAgICAgICAgICBEVCA9IDE2IC8gMTAwMCxcclxuICAgICAgICAgIGhhdmVEdXJhdGlvbiA9IGR1cmF0aW9uICE9IG51bGw7IC8vIGRlbGliZXJhdGUgXCI9PVwiLCBhcyB1bmRlZmluZWQgPT0gbnVsbCAhPSAwXHJcbiAgICAgIHZhciB0aW1lTGFwc2VkID0gMCxcclxuICAgICAgICAgIGR0ID0gdm9pZCAwLFxyXG4gICAgICAgICAgbGFzdFN0YXRlID0gdm9pZCAwO1xyXG4gICAgICAvKiBDYWxjdWxhdGUgdGhlIGFjdHVhbCB0aW1lIGl0IHRha2VzIGZvciB0aGlzIGFuaW1hdGlvbiB0byBjb21wbGV0ZSB3aXRoIHRoZSBwcm92aWRlZCBjb25kaXRpb25zLiAqL1xyXG4gICAgICBpZiAoaGF2ZUR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAvKiBSdW4gdGhlIHNpbXVsYXRpb24gd2l0aG91dCBhIGR1cmF0aW9uLiAqL1xyXG4gICAgICAgICAgdGltZUxhcHNlZCA9IGdlbmVyYXRlU3ByaW5nUks0KGluaXRTdGF0ZS50ZW5zaW9uLCBpbml0U3RhdGUuZnJpY3Rpb24pO1xyXG4gICAgICAgICAgLyogQ29tcHV0ZSB0aGUgYWRqdXN0ZWQgdGltZSBkZWx0YS4gKi9cclxuICAgICAgICAgIGR0ID0gdGltZUxhcHNlZCAvIGR1cmF0aW9uICogRFQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBkdCA9IERUO1xyXG4gICAgICB9XHJcbiAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAvKiBOZXh0L3N0ZXAgZnVuY3Rpb24gLiovXHJcbiAgICAgICAgICBsYXN0U3RhdGUgPSBzcHJpbmdJbnRlZ3JhdGVTdGF0ZShsYXN0U3RhdGUgfHwgaW5pdFN0YXRlLCBkdCk7XHJcbiAgICAgICAgICAvKiBTdG9yZSB0aGUgcG9zaXRpb24uICovXHJcbiAgICAgICAgICBwYXRoLnB1c2goMSArIGxhc3RTdGF0ZS54KTtcclxuICAgICAgICAgIHRpbWVMYXBzZWQgKz0gMTY7XHJcbiAgICAgICAgICAvKiBJZiB0aGUgY2hhbmdlIHRocmVzaG9sZCBpcyByZWFjaGVkLCBicmVhay4gKi9cclxuICAgICAgICAgIGlmICghKE1hdGguYWJzKGxhc3RTdGF0ZS54KSA+IHRvbGVyYW5jZSAmJiBNYXRoLmFicyhsYXN0U3RhdGUudikgPiB0b2xlcmFuY2UpKSB7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLyogSWYgZHVyYXRpb24gaXMgbm90IGRlZmluZWQsIHJldHVybiB0aGUgYWN0dWFsIHRpbWUgcmVxdWlyZWQgZm9yIGNvbXBsZXRpbmcgdGhpcyBhbmltYXRpb24uIE90aGVyd2lzZSwgcmV0dXJuIGEgY2xvc3VyZSB0aGF0IGhvbGRzIHRoZVxyXG4gICAgICAgY29tcHV0ZWQgcGF0aCBhbmQgcmV0dXJucyBhIHNuYXBzaG90IG9mIHRoZSBwb3NpdGlvbiBhY2NvcmRpbmcgdG8gYSBnaXZlbiBwZXJjZW50Q29tcGxldGUuICovXHJcbiAgICAgIHJldHVybiAhaGF2ZUR1cmF0aW9uID8gdGltZUxhcHNlZCA6IGZ1bmN0aW9uIChwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XHJcbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWUgKyBwYXRoW01hdGguZmxvb3IocGVyY2VudENvbXBsZXRlICogKHBhdGgubGVuZ3RoIC0gMSkpXSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xyXG4gICAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gQ29uc3RhbnRzXHJcbiAgdmFyIGNhY2hlID0ge307XHJcbiAgZnVuY3Rpb24gZ2VuZXJhdGVTdGVwKHN0ZXBzKSB7XHJcbiAgICAgIHZhciBmbiA9IGNhY2hlW3N0ZXBzXTtcclxuICAgICAgaWYgKGZuKSB7XHJcbiAgICAgICAgICByZXR1cm4gZm47XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGNhY2hlW3N0ZXBzXSA9IGZ1bmN0aW9uIChwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XHJcbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWUgKyBNYXRoLnJvdW5kKHBlcmNlbnRDb21wbGV0ZSAqIHN0ZXBzKSAqICgxIC8gc3RlcHMpICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XHJcbiAgICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBQcm9qZWN0XHJcbiAgLyoqXHJcbiAgICogUGFyc2UgYSBkdXJhdGlvbiB2YWx1ZSBhbmQgcmV0dXJuIGFuIG1zIG51bWJlci4gT3B0aW9uYWxseSByZXR1cm4gYVxyXG4gICAqIGRlZmF1bHQgdmFsdWUgaWYgdGhlIG51bWJlciBpcyBub3QgdmFsaWQuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcGFyc2VEdXJhdGlvbihkdXJhdGlvbiwgZGVmKSB7XHJcbiAgICAgIGlmIChpc051bWJlcihkdXJhdGlvbikpIHtcclxuICAgICAgICAgIHJldHVybiBkdXJhdGlvbjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoaXNTdHJpbmcoZHVyYXRpb24pKSB7XHJcbiAgICAgICAgICByZXR1cm4gRHVyYXRpb25bZHVyYXRpb24udG9Mb3dlckNhc2UoKV0gfHwgcGFyc2VGbG9hdChkdXJhdGlvbi5yZXBsYWNlKFwibXNcIiwgXCJcIikucmVwbGFjZShcInNcIiwgXCIwMDBcIikpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBkZWYgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHBhcnNlRHVyYXRpb24oZGVmKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogVmFsaWRhdGUgYSA8Y29kZT5jYWNoZTwvY29kZT4gb3B0aW9uLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHZhbGlkYXRlQ2FjaGUodmFsdWUpIHtcclxuICAgICAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpIHtcclxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAnY2FjaGUnIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcclxuICAgICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPmJlZ2luPC9jb2RlPiBvcHRpb24uXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdmFsaWRhdGVCZWdpbih2YWx1ZSkge1xyXG4gICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAnYmVnaW4nIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcclxuICAgICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPmNvbXBsZXRlPC9jb2RlPiBvcHRpb24uXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdmFsaWRhdGVDb21wbGV0ZSh2YWx1ZSwgbm9FcnJvcikge1xyXG4gICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiAhbm9FcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAnY29tcGxldGUnIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcclxuICAgICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPmRlbGF5PC9jb2RlPiBvcHRpb24uXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdmFsaWRhdGVEZWxheSh2YWx1ZSkge1xyXG4gICAgICB2YXIgcGFyc2VkID0gcGFyc2VEdXJhdGlvbih2YWx1ZSk7XHJcbiAgICAgIGlmICghaXNOYU4ocGFyc2VkKSkge1xyXG4gICAgICAgICAgcmV0dXJuIHBhcnNlZDtcclxuICAgICAgfVxyXG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ2RlbGF5JyB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCB2YWx1ZSk7XHJcbiAgICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogVmFsaWRhdGUgYSA8Y29kZT5kdXJhdGlvbjwvY29kZT4gb3B0aW9uLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHZhbGlkYXRlRHVyYXRpb24odmFsdWUsIG5vRXJyb3IpIHtcclxuICAgICAgdmFyIHBhcnNlZCA9IHBhcnNlRHVyYXRpb24odmFsdWUpO1xyXG4gICAgICBpZiAoIWlzTmFOKHBhcnNlZCkgJiYgcGFyc2VkID49IDApIHtcclxuICAgICAgICAgIHJldHVybiBwYXJzZWQ7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgIW5vRXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdkdXJhdGlvbicgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xyXG4gICAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFZhbGlkYXRlIGEgPGNvZGU+ZWFzaW5nPC9jb2RlPiBvcHRpb24uXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdmFsaWRhdGVFYXNpbmcodmFsdWUsIGR1cmF0aW9uLCBub0Vycm9yKSB7XHJcbiAgICAgIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcclxuICAgICAgICAgIC8vIE5hbWVkIGVhc2luZ1xyXG4gICAgICAgICAgcmV0dXJuIEVhc2luZ3NbdmFsdWVdO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIFRPRE86IFdlIHNob3VsZCBvbmx5IGRvIHRoZXNlIGlmIHRoZSBjb3JyZWN0IGZ1bmN0aW9uIGV4aXN0cyAtIGRvbid0IGZvcmNlIGxvYWRpbmcuXHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgIC8vIFN0ZXBzXHJcbiAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlU3RlcCh2YWx1ZVswXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgLy8gc3ByaW5nUks0IG11c3QgYmUgcGFzc2VkIHRoZSBhbmltYXRpb24ncyBkdXJhdGlvbi5cclxuICAgICAgICAgICAgICAvLyBOb3RlOiBJZiB0aGUgc3ByaW5nUks0IGFycmF5IGNvbnRhaW5zIG5vbi1udW1iZXJzLFxyXG4gICAgICAgICAgICAgIC8vIGdlbmVyYXRlU3ByaW5nUks0KCkgcmV0dXJucyBhbiBlYXNpbmcgZnVuY3Rpb24gZ2VuZXJhdGVkIHdpdGhcclxuICAgICAgICAgICAgICAvLyBkZWZhdWx0IHRlbnNpb24gYW5kIGZyaWN0aW9uIHZhbHVlcy5cclxuICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVTcHJpbmdSSzQodmFsdWVbMF0sIHZhbHVlWzFdLCBkdXJhdGlvbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSA0KSB7XHJcbiAgICAgICAgICAgICAgLy8gTm90ZTogSWYgdGhlIGJlemllciBhcnJheSBjb250YWlucyBub24tbnVtYmVycywgZ2VuZXJhdGVCZXppZXIoKVxyXG4gICAgICAgICAgICAgIC8vIHJldHVybnMgdW5kZWZpbmVkLlxyXG4gICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZUJlemllci5hcHBseShudWxsLCB2YWx1ZSkgfHwgZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgIW5vRXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdlYXNpbmcnIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcclxuICAgICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPmZwc0xpbWl0PC9jb2RlPiBvcHRpb24uXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdmFsaWRhdGVGcHNMaW1pdCh2YWx1ZSkge1xyXG4gICAgICBpZiAodmFsdWUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhciBwYXJzZWQgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xyXG4gICAgICAgICAgaWYgKCFpc05hTihwYXJzZWQpICYmIHBhcnNlZCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKHBhcnNlZCwgNjApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdmcHNMaW1pdCcgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xyXG4gICAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFZhbGlkYXRlIGEgPGNvZGU+bG9vcDwvY29kZT4gb3B0aW9uLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHZhbGlkYXRlTG9vcCh2YWx1ZSkge1xyXG4gICAgICBzd2l0Y2ggKHZhbHVlKSB7XHJcbiAgICAgICAgICBjYXNlIGZhbHNlOlxyXG4gICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgY2FzZSB0cnVlOlxyXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcclxuICAgICAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZCkgJiYgcGFyc2VkID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ2xvb3AnIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcclxuICAgICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPnByb2dyZXNzPC9jb2RlPiBvcHRpb24uXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdmFsaWRhdGVQcm9ncmVzcyh2YWx1ZSkge1xyXG4gICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncHJvZ3Jlc3MnIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcclxuICAgICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPnByb21pc2U8L2NvZGU+IG9wdGlvbi5cclxuICAgKi9cclxuICBmdW5jdGlvbiB2YWxpZGF0ZVByb21pc2UodmFsdWUpIHtcclxuICAgICAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpIHtcclxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncHJvbWlzZScgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xyXG4gICAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFZhbGlkYXRlIGEgPGNvZGU+cHJvbWlzZVJlamVjdEVtcHR5PC9jb2RlPiBvcHRpb24uXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdmFsaWRhdGVQcm9taXNlUmVqZWN0RW1wdHkodmFsdWUpIHtcclxuICAgICAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpIHtcclxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncHJvbWlzZVJlamVjdEVtcHR5JyB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCB2YWx1ZSk7XHJcbiAgICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogVmFsaWRhdGUgYSA8Y29kZT5xdWV1ZTwvY29kZT4gb3B0aW9uLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHZhbGlkYXRlUXVldWUodmFsdWUsIG5vRXJyb3IpIHtcclxuICAgICAgaWYgKHZhbHVlID09PSBmYWxzZSB8fCBpc1N0cmluZyh2YWx1ZSkpIHtcclxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiAhbm9FcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncXVldWUnIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcclxuICAgICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPnJlcGVhdDwvY29kZT4gb3B0aW9uLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHZhbGlkYXRlUmVwZWF0KHZhbHVlKSB7XHJcbiAgICAgIHN3aXRjaCAodmFsdWUpIHtcclxuICAgICAgICAgIGNhc2UgZmFsc2U6XHJcbiAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICBjYXNlIHRydWU6XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgIHZhciBwYXJzZWQgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xyXG4gICAgICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VkKSAmJiBwYXJzZWQgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncmVwZWF0JyB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCB2YWx1ZSk7XHJcbiAgICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogVmFsaWRhdGUgYSA8Y29kZT5zcGVlZDwvY29kZT4gb3B0aW9uLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHZhbGlkYXRlU3BlZWQodmFsdWUpIHtcclxuICAgICAgaWYgKGlzTnVtYmVyKHZhbHVlKSkge1xyXG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAnc3BlZWQnIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcclxuICAgICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPnN5bmM8L2NvZGU+IG9wdGlvbi5cclxuICAgKi9cclxuICBmdW5jdGlvbiB2YWxpZGF0ZVN5bmModmFsdWUpIHtcclxuICAgICAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpIHtcclxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3N5bmMnIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcclxuICAgICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUHJvamVjdFxyXG4gIC8vIE5PVEU6IEFkZCB0aGUgdmFyaWFibGUgaGVyZSwgdGhlbiBhZGQgdGhlIGRlZmF1bHQgc3RhdGUgaW4gXCJyZXNldFwiIGJlbG93LlxyXG4gIHZhciBjYWNoZSQxID0gdm9pZCAwLFxyXG4gICAgICBiZWdpbiA9IHZvaWQgMCxcclxuICAgICAgY29tcGxldGUgPSB2b2lkIDAsXHJcbiAgICAgIGRlbGF5ID0gdm9pZCAwLFxyXG4gICAgICBkdXJhdGlvbiA9IHZvaWQgMCxcclxuICAgICAgZWFzaW5nID0gdm9pZCAwLFxyXG4gICAgICBmcHNMaW1pdCA9IHZvaWQgMCxcclxuICAgICAgbG9vcCA9IHZvaWQgMCxcclxuICAgICAgbW9iaWxlSEEgPSB2b2lkIDAsXHJcbiAgICAgIG1pbkZyYW1lVGltZSA9IHZvaWQgMCxcclxuICAgICAgcHJvbWlzZSA9IHZvaWQgMCxcclxuICAgICAgcHJvbWlzZVJlamVjdEVtcHR5ID0gdm9pZCAwLFxyXG4gICAgICBxdWV1ZSA9IHZvaWQgMCxcclxuICAgICAgcmVwZWF0ID0gdm9pZCAwLFxyXG4gICAgICBzcGVlZCA9IHZvaWQgMCxcclxuICAgICAgc3luYyA9IHZvaWQgMDtcclxuICB2YXIgZGVmYXVsdHMkMSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgZnVuY3Rpb24gZGVmYXVsdHMkJDEoKSB7XHJcbiAgICAgICAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBkZWZhdWx0cyQkMSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNyZWF0ZUNsYXNzKGRlZmF1bHRzJCQxLCBudWxsLCBbe1xyXG4gICAgICAgICAga2V5OiBcInJlc2V0XCIsXHJcbiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7XHJcbiAgICAgICAgICAgICAgY2FjaGUkMSA9IERFRkFVTFRfQ0FDSEU7XHJcbiAgICAgICAgICAgICAgYmVnaW4gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgY29tcGxldGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgZGVsYXkgPSBERUZBVUxUX0RFTEFZO1xyXG4gICAgICAgICAgICAgIGR1cmF0aW9uID0gREVGQVVMVF9EVVJBVElPTjtcclxuICAgICAgICAgICAgICBlYXNpbmcgPSB2YWxpZGF0ZUVhc2luZyhERUZBVUxUX0VBU0lORywgREVGQVVMVF9EVVJBVElPTik7XHJcbiAgICAgICAgICAgICAgZnBzTGltaXQgPSBERUZBVUxUX0ZQU0xJTUlUO1xyXG4gICAgICAgICAgICAgIGxvb3AgPSBERUZBVUxUX0xPT1A7XHJcbiAgICAgICAgICAgICAgbWluRnJhbWVUaW1lID0gRlVaWllfTVNfUEVSX1NFQ09ORCAvIERFRkFVTFRfRlBTTElNSVQ7XHJcbiAgICAgICAgICAgICAgcHJvbWlzZSA9IERFRkFVTFRfUFJPTUlTRTtcclxuICAgICAgICAgICAgICBwcm9taXNlUmVqZWN0RW1wdHkgPSBERUZBVUxUX1BST01JU0VfUkVKRUNUX0VNUFRZO1xyXG4gICAgICAgICAgICAgIHF1ZXVlID0gREVGQVVMVF9RVUVVRTtcclxuICAgICAgICAgICAgICByZXBlYXQgPSBERUZBVUxUX1JFUEVBVDtcclxuICAgICAgICAgICAgICBzcGVlZCA9IERFRkFVTFRfU1BFRUQ7XHJcbiAgICAgICAgICAgICAgc3luYyA9IERFRkFVTFRfU1lOQztcclxuICAgICAgICAgIH1cclxuICAgICAgfSwge1xyXG4gICAgICAgICAga2V5OiBcImNhY2hlXCIsXHJcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gY2FjaGUkMTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVDYWNoZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgY2FjaGUkMSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgfSwge1xyXG4gICAgICAgICAga2V5OiBcImJlZ2luXCIsXHJcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gYmVnaW47XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcclxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlQmVnaW4odmFsdWUpO1xyXG4gICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgIGJlZ2luID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgICBrZXk6IFwiY29tcGxldGVcIixcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVDb21wbGV0ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgY29tcGxldGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0sIHtcclxuICAgICAgICAgIGtleTogXCJkZWxheVwiLFxyXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGRlbGF5O1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZURlbGF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICBkZWxheSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgfSwge1xyXG4gICAgICAgICAga2V5OiBcImR1cmF0aW9uXCIsXHJcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gZHVyYXRpb247XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcclxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlRHVyYXRpb24odmFsdWUpO1xyXG4gICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgICBrZXk6IFwiZWFzaW5nXCIsXHJcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gZWFzaW5nO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZUVhc2luZyh2YWx1ZSwgZHVyYXRpb24pO1xyXG4gICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgIGVhc2luZyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgfSwge1xyXG4gICAgICAgICAga2V5OiBcImZwc0xpbWl0XCIsXHJcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gZnBzTGltaXQ7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcclxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlRnBzTGltaXQodmFsdWUpO1xyXG4gICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgIGZwc0xpbWl0ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgIG1pbkZyYW1lVGltZSA9IEZVWlpZX01TX1BFUl9TRUNPTkQgLyB2YWx1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0sIHtcclxuICAgICAgICAgIGtleTogXCJsb29wXCIsXHJcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gbG9vcDtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVMb29wKHZhbHVlKTtcclxuICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICBsb29wID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgICBrZXk6IFwibW9iaWxlSEFcIixcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBtb2JpbGVIQTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgIGlmIChpc0Jvb2xlYW4odmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgIG1vYmlsZUhBID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgICBrZXk6IFwibWluRnJhbWVUaW1lXCIsXHJcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gbWluRnJhbWVUaW1lO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgICBrZXk6IFwicHJvbWlzZVwiLFxyXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcclxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlUHJvbWlzZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgcHJvbWlzZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgfSwge1xyXG4gICAgICAgICAga2V5OiBcInByb21pc2VSZWplY3RFbXB0eVwiLFxyXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RFbXB0eTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVQcm9taXNlUmVqZWN0RW1wdHkodmFsdWUpO1xyXG4gICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgIHByb21pc2VSZWplY3RFbXB0eSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgfSwge1xyXG4gICAgICAgICAga2V5OiBcInF1ZXVlXCIsXHJcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gcXVldWU7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcclxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlUXVldWUodmFsdWUpO1xyXG4gICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgIHF1ZXVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgICBrZXk6IFwicmVwZWF0XCIsXHJcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gcmVwZWF0O1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZVJlcGVhdCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgcmVwZWF0ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgICBrZXk6IFwicmVwZWF0QWdhaW5cIixcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiByZXBlYXQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0sIHtcclxuICAgICAgICAgIGtleTogXCJzcGVlZFwiLFxyXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHNwZWVkO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZVNwZWVkKHZhbHVlKTtcclxuICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICBzcGVlZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgfSwge1xyXG4gICAgICAgICAga2V5OiBcInN5bmNcIixcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBzeW5jO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZVN5bmModmFsdWUpO1xyXG4gICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgIHN5bmMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1dKTtcclxuICAgICAgcmV0dXJuIGRlZmF1bHRzJCQxO1xyXG4gIH0oKTtcclxuICBPYmplY3QuZnJlZXplKGRlZmF1bHRzJDEpO1xyXG4gIC8vIFJlc2V0IHRvIG91ciBkZWZhdWx0IHZhbHVlcywgY3VycmVudGx5IGV2ZXJ5dGhpbmcgaXMgdW5kZWZpbmVkLlxyXG4gIGRlZmF1bHRzJDEucmVzZXQoKTtcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIGhpZ2hlc3QgdHlwZSBpbmRleCBmb3IgZmluZGluZyB0aGUgYmVzdCBub3JtYWxpemF0aW9uIGZvciBhIHByb3BlcnR5LlxyXG4gICAqL1xyXG4gIC8qKlxyXG4gICAqIFVubGlrZSBcImFjdGlvbnNcIiwgbm9ybWFsaXphdGlvbnMgY2FuIGFsd2F5cyBiZSByZXBsYWNlZCBieSB1c2Vycy5cclxuICAgKi9cclxuICB2YXIgTm9ybWFsaXphdGlvbnMgPSBbXTtcclxuICAvKipcclxuICAgKiBTdG9yZSBhIGNyb3NzLXJlZmVyZW5jZSB0byB1bml0cyB0byBiZSBhZGRlZCB0byBzcGVjaWZpYyBub3JtYWxpemF0aW9uXHJcbiAgICogZnVuY3Rpb25zIGlmIHRoZSB1c2VyIHN1cHBsaWVzIGEgdW5pdC1sZXNzIG51bWJlci5cclxuICAgKlxyXG4gICAqIFRoaXMgaXMgcHJldHR5IG11Y2ggY29uZmluZWQgdG8gYWRkaW5nIFwicHhcIiB0byBzZXZlcmFsIGNzcyBwcm9wZXJ0aWVzLlxyXG4gICAqL1xyXG4gIHZhciBOb3JtYWxpemF0aW9uVW5pdHMgPSB7fTtcclxuICAvKipcclxuICAgKiBBbnkgbm9ybWFsaXNhdGlvbnMgdGhhdCBzaG91bGQgbmV2ZXIgYmUgY2FjaGVkIGFyZSBsaXN0ZWQgaGVyZS5cclxuICAgKiBGYXN0ZXIgdGhhbiBhbiBhcnJheSAtIGh0dHBzOi8vanNwZXJmLmNvbS9hcnJheS1pbmNsdWRlcy1hbmQtZmluZC1tZXRob2RzLXZzLXNldC1oYXNcclxuICAgKi9cclxuICB2YXIgTm9DYWNoZU5vcm1hbGl6YXRpb25zID0gbmV3IFNldCgpO1xyXG4gIC8qKlxyXG4gICAqIEFuIGFycmF5IG9mIGNsYXNzZXMgdXNlZCBmb3IgdGhlIHBlci1jbGFzcyBub3JtYWxpemF0aW9ucy4gVGhpc1xyXG4gICAqIHRyYW5zbGF0ZXMgaW50byBhIGJpdHdpc2UgZW51bSBmb3IgcXVpY2sgY3Jvc3MtcmVmZXJlbmNlLCBhbmQgc28gdGhhdFxyXG4gICAqIHRoZSBlbGVtZW50IGRvZXNuJ3QgbmVlZCBtdWx0aXBsZSA8Y29kZT5pbnN0YW5jZW9mPC9jb2RlPiBjYWxscyBldmVyeVxyXG4gICAqIGZyYW1lLlxyXG4gICAqL1xyXG4gIHZhciBjb25zdHJ1Y3RvcnMgPSBbXTtcclxuICAvKipcclxuICAgKiBBIGNhY2hlIG9mIHRoZSB2YXJpb3VzIGNvbnN0cnVjdG9ycyB3ZSd2ZSBmb3VuZCBhbmQgbWFwcGluZyB0byB0aGVpciByZWFsXHJcbiAgICogbmFtZSAtIHNhdmVzIGV4cGVuc2l2ZSBsb29rdXBzLlxyXG4gICAqL1xyXG4gIHZhciBjb25zdHJ1Y3RvckNhY2hlID0gbmV3IE1hcCgpO1xyXG5cclxuICAvLyBQcm9qZWN0XHJcbiAgLy8gQ29uc3RhbnRzXHJcbiAgdmFyIGRhdGFOYW1lID0gXCJ2ZWxvY2l0eURhdGFcIjtcclxuICAvKipcclxuICAgKiBHZXQgKGFuZCBjcmVhdGUpIHRoZSBpbnRlcm5hbCBkYXRhIHN0b3JlIGZvciBhbiBlbGVtZW50LlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIERhdGEoZWxlbWVudCkge1xyXG4gICAgICAvLyBVc2UgYSBzdHJpbmcgbWVtYmVyIHNvIFVnbGlmeSBkb2Vzbid0IG1hbmdsZSBpdC5cclxuICAgICAgdmFyIGRhdGEgPSBlbGVtZW50W2RhdGFOYW1lXTtcclxuICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciB3aW5kb3cgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XHJcbiAgICAgIHZhciB0eXBlcyA9IDA7XHJcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBjb25zdHJ1Y3RvcnMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICB2YXIgX2NvbnN0cnVjdG9yID0gY29uc3RydWN0b3JzW2luZGV4XTtcclxuICAgICAgICAgIGlmIChpc1N0cmluZyhfY29uc3RydWN0b3IpKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiB3aW5kb3dbX2NvbnN0cnVjdG9yXSkge1xyXG4gICAgICAgICAgICAgICAgICB0eXBlcyB8PSAxIDw8IGluZGV4OyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBfY29uc3RydWN0b3IpIHtcclxuICAgICAgICAgICAgICB0eXBlcyB8PSAxIDw8IGluZGV4OyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAvLyBVc2UgYW4gaW50ZXJtZWRpYXRlIG9iamVjdCBzbyBpdCBlcnJvcnMgb24gaW5jb3JyZWN0IGRhdGEuXHJcbiAgICAgIHZhciBuZXdEYXRhID0ge1xyXG4gICAgICAgICAgdHlwZXM6IHR5cGVzLFxyXG4gICAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgICBjb21wdXRlZFN0eWxlOiBudWxsLFxyXG4gICAgICAgICAgY2FjaGU6IHt9LFxyXG4gICAgICAgICAgcXVldWVMaXN0OiB7fSxcclxuICAgICAgICAgIGxhc3RBbmltYXRpb25MaXN0OiB7fSxcclxuICAgICAgICAgIGxhc3RGaW5pc2hMaXN0OiB7fSxcclxuICAgICAgICAgIHdpbmRvdzogd2luZG93XHJcbiAgICAgIH07XHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCBkYXRhTmFtZSwge1xyXG4gICAgICAgICAgdmFsdWU6IG5ld0RhdGFcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBuZXdEYXRhO1xyXG4gIH1cclxuXHJcbiAgLy8gQ29uc3RhbnRzXHJcbiAgdmFyIGlzQ2xpZW50ID0gd2luZG93ICYmIHdpbmRvdyA9PT0gd2luZG93LndpbmRvdyxcclxuICAgICAgd2luZG93U2Nyb2xsQW5jaG9yID0gaXNDbGllbnQgJiYgd2luZG93LnBhZ2VZT2Zmc2V0ICE9PSB1bmRlZmluZWQ7XHJcbiAgdmFyIFN0YXRlID0ge1xyXG4gICAgICBpc0NsaWVudDogaXNDbGllbnQsXHJcbiAgICAgIGlzTW9iaWxlOiBpc0NsaWVudCAmJiAvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksXHJcbiAgICAgIGlzR2luZ2VyYnJlYWQ6IGlzQ2xpZW50ICYmIC9BbmRyb2lkIDJcXC4zXFwuWzMtN10vaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFxyXG4gICAgICBwcmVmaXhFbGVtZW50OiBpc0NsaWVudCAmJiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxyXG4gICAgICB3aW5kb3dTY3JvbGxBbmNob3I6IHdpbmRvd1Njcm9sbEFuY2hvcixcclxuICAgICAgc2Nyb2xsQW5jaG9yOiB3aW5kb3dTY3JvbGxBbmNob3IgPyB3aW5kb3cgOiAhaXNDbGllbnQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZSB8fCBkb2N1bWVudC5ib2R5LFxyXG4gICAgICBzY3JvbGxQcm9wZXJ0eUxlZnQ6IHdpbmRvd1Njcm9sbEFuY2hvciA/IFwicGFnZVhPZmZzZXRcIiA6IFwic2Nyb2xsTGVmdFwiLFxyXG4gICAgICBzY3JvbGxQcm9wZXJ0eVRvcDogd2luZG93U2Nyb2xsQW5jaG9yID8gXCJwYWdlWU9mZnNldFwiIDogXCJzY3JvbGxUb3BcIixcclxuICAgICAgY2xhc3NOYW1lOiBDTEFTU05BTUUsXHJcbiAgICAgIGlzVGlja2luZzogZmFsc2UsXHJcbiAgICAgIGZpcnN0OiB1bmRlZmluZWQsXHJcbiAgICAgIGxhc3Q6IHVuZGVmaW5lZCxcclxuICAgICAgZmlyc3ROZXc6IHVuZGVmaW5lZFxyXG4gIH07XHJcblxyXG4gIC8vIFByb2plY3RcclxuICAvKipcclxuICAgKiBTaW1wbGUgcXVldWUgbWFuYWdlbWVudC4gVW4tbmFtZWQgcXVldWUgaXMgZGlyZWN0bHkgd2l0aGluIHRoZSBlbGVtZW50IGRhdGEsXHJcbiAgICogbmFtZWQgcXVldWUgaXMgd2l0aGluIGFuIG9iamVjdCB3aXRoaW4gaXQuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gYW5pbWF0ZShhbmltYXRpb24pIHtcclxuICAgICAgdmFyIHByZXYgPSBTdGF0ZS5sYXN0O1xyXG4gICAgICBhbmltYXRpb24uX3ByZXYgPSBwcmV2O1xyXG4gICAgICBhbmltYXRpb24uX25leHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgIGlmIChwcmV2KSB7XHJcbiAgICAgICAgICBwcmV2Ll9uZXh0ID0gYW5pbWF0aW9uO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgU3RhdGUuZmlyc3QgPSBhbmltYXRpb247XHJcbiAgICAgIH1cclxuICAgICAgU3RhdGUubGFzdCA9IGFuaW1hdGlvbjtcclxuICAgICAgaWYgKCFTdGF0ZS5maXJzdE5ldykge1xyXG4gICAgICAgICAgU3RhdGUuZmlyc3ROZXcgPSBhbmltYXRpb247XHJcbiAgICAgIH1cclxuICAgICAgdmFyIGVsZW1lbnQgPSBhbmltYXRpb24uZWxlbWVudCxcclxuICAgICAgICAgIGRhdGEgPSBEYXRhKGVsZW1lbnQpO1xyXG4gICAgICBpZiAoIWRhdGEuY291bnQrKykge1xyXG4gICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAvLyBGZWF0dXJlOiBDbGFzc25hbWUgLy9cclxuICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgU3RhdGUuY2xhc3NOYW1lKTtcclxuICAgICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBBZGQgYW4gaXRlbSB0byBhbiBhbmltYXRpb24gcXVldWUuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcXVldWUkMShlbGVtZW50LCBhbmltYXRpb24sIHF1ZXVlTmFtZSkge1xyXG4gICAgICB2YXIgZGF0YSA9IERhdGEoZWxlbWVudCk7XHJcbiAgICAgIGlmIChxdWV1ZU5hbWUgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAvLyBTdG9yZSB0aGUgbGFzdCBhbmltYXRpb24gYWRkZWQgc28gd2UgY2FuIHVzZSBpdCBmb3IgdGhlXHJcbiAgICAgICAgICAvLyBiZWdpbm5pbmcgb2YgdGhlIG5leHQgb25lLlxyXG4gICAgICAgICAgZGF0YS5sYXN0QW5pbWF0aW9uTGlzdFtxdWV1ZU5hbWVdID0gYW5pbWF0aW9uO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChxdWV1ZU5hbWUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICBhbmltYXRlKGFuaW1hdGlvbik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAoIWlzU3RyaW5nKHF1ZXVlTmFtZSkpIHtcclxuICAgICAgICAgICAgICBxdWV1ZU5hbWUgPSBcIlwiO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdmFyIGxhc3QgPSBkYXRhLnF1ZXVlTGlzdFtxdWV1ZU5hbWVdO1xyXG4gICAgICAgICAgaWYgKCFsYXN0KSB7XHJcbiAgICAgICAgICAgICAgaWYgKGxhc3QgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgZGF0YS5xdWV1ZUxpc3RbcXVldWVOYW1lXSA9IGFuaW1hdGlvbjtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBkYXRhLnF1ZXVlTGlzdFtxdWV1ZU5hbWVdID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgYW5pbWF0ZShhbmltYXRpb24pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgd2hpbGUgKGxhc3QuX25leHQpIHtcclxuICAgICAgICAgICAgICAgICAgbGFzdCA9IGxhc3QuX25leHQ7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGxhc3QuX25leHQgPSBhbmltYXRpb247XHJcbiAgICAgICAgICAgICAgYW5pbWF0aW9uLl9wcmV2ID0gbGFzdDtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBTdGFydCB0aGUgbmV4dCBhbmltYXRpb24gb24gdGhpcyBlbGVtZW50J3MgcXVldWUgKG5hbWVkIG9yIGRlZmF1bHQpLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMgdGhlIG5leHQgYW5pbWF0aW9uIHRoYXQgaXMgc3RhcnRpbmcuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZGVxdWV1ZShlbGVtZW50LCBxdWV1ZU5hbWUsIHNraXApIHtcclxuICAgICAgaWYgKHF1ZXVlTmFtZSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgIGlmICghaXNTdHJpbmcocXVldWVOYW1lKSkge1xyXG4gICAgICAgICAgICAgIHF1ZXVlTmFtZSA9IFwiXCI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB2YXIgZGF0YSA9IERhdGEoZWxlbWVudCksXHJcbiAgICAgICAgICAgICAgYW5pbWF0aW9uID0gZGF0YS5xdWV1ZUxpc3RbcXVldWVOYW1lXTtcclxuICAgICAgICAgIGlmIChhbmltYXRpb24pIHtcclxuICAgICAgICAgICAgICBkYXRhLnF1ZXVlTGlzdFtxdWV1ZU5hbWVdID0gYW5pbWF0aW9uLl9uZXh0IHx8IG51bGw7XHJcbiAgICAgICAgICAgICAgaWYgKCFza2lwKSB7XHJcbiAgICAgICAgICAgICAgICAgIGFuaW1hdGUoYW5pbWF0aW9uKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGFuaW1hdGlvbiA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgIGRlbGV0ZSBkYXRhLnF1ZXVlTGlzdFtxdWV1ZU5hbWVdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIGFuaW1hdGlvbjtcclxuICAgICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBSZW1vdmUgYW4gYW5pbWF0aW9uIGZyb20gdGhlIGFjdGl2ZSBhbmltYXRpb24gbGlzdC4gSWYgaXQgaGFzIGEgcXVldWUgc2V0XHJcbiAgICogdGhlbiByZW1lbWJlciBpdCBhcyB0aGUgbGFzdCBhbmltYXRpb24gZm9yIHRoYXQgcXVldWUsIGFuZCBmcmVlIHRoZSBvbmVcclxuICAgKiB0aGF0IHdhcyBwcmV2aW91c2x5IHRoZXJlLiBJZiB0aGUgYW5pbWF0aW9uIGxpc3QgaXMgY29tcGxldGVseSBlbXB0eSB0aGVuXHJcbiAgICogbWFyayB1cyBhcyBmaW5pc2hlZC5cclxuICAgKi9cclxuICBmdW5jdGlvbiBmcmVlQW5pbWF0aW9uQ2FsbChhbmltYXRpb24pIHtcclxuICAgICAgdmFyIG5leHQgPSBhbmltYXRpb24uX25leHQsXHJcbiAgICAgICAgICBwcmV2ID0gYW5pbWF0aW9uLl9wcmV2LFxyXG4gICAgICAgICAgcXVldWVOYW1lID0gYW5pbWF0aW9uLnF1ZXVlID09IG51bGwgPyBhbmltYXRpb24ub3B0aW9ucy5xdWV1ZSA6IGFuaW1hdGlvbi5xdWV1ZTtcclxuICAgICAgaWYgKFN0YXRlLmZpcnN0TmV3ID09PSBhbmltYXRpb24pIHtcclxuICAgICAgICAgIFN0YXRlLmZpcnN0TmV3ID0gbmV4dDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoU3RhdGUuZmlyc3QgPT09IGFuaW1hdGlvbikge1xyXG4gICAgICAgICAgU3RhdGUuZmlyc3QgPSBuZXh0O1xyXG4gICAgICB9IGVsc2UgaWYgKHByZXYpIHtcclxuICAgICAgICAgIHByZXYuX25leHQgPSBuZXh0O1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChTdGF0ZS5sYXN0ID09PSBhbmltYXRpb24pIHtcclxuICAgICAgICAgIFN0YXRlLmxhc3QgPSBwcmV2O1xyXG4gICAgICB9IGVsc2UgaWYgKG5leHQpIHtcclxuICAgICAgICAgIG5leHQuX3ByZXYgPSBwcmV2O1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChxdWV1ZU5hbWUpIHtcclxuICAgICAgICAgIHZhciBkYXRhID0gRGF0YShhbmltYXRpb24uZWxlbWVudCk7XHJcbiAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgIGFuaW1hdGlvbi5fbmV4dCA9IGFuaW1hdGlvbi5fcHJldiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gIH1cclxuXHJcbiAgdmFyIFNlcXVlbmNlc09iamVjdCA9IHt9O1xyXG5cclxuICAvLyBQcm9qZWN0XHJcbiAgLyoqXHJcbiAgICogQ2FsbCB0aGUgY29tcGxldGUgbWV0aG9kIG9mIGFuIGFuaW1hdGlvbiBpbiBhIHNlcGFyYXRlIGZ1bmN0aW9uIHNvIGl0IGNhblxyXG4gICAqIGJlbmVmaXQgZnJvbSBKSVQgY29tcGlsaW5nIHdoaWxlIHN0aWxsIGhhdmluZyBhIHRyeS9jYXRjaCBibG9jay5cclxuICAgKi9cclxuICBmdW5jdGlvbiBjYWxsQ29tcGxldGUoYWN0aXZlQ2FsbCkge1xyXG4gICAgICB2YXIgY2FsbGJhY2sgPSBhY3RpdmVDYWxsLmNvbXBsZXRlIHx8IGFjdGl2ZUNhbGwub3B0aW9ucy5jb21wbGV0ZTtcclxuICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IGFjdGl2ZUNhbGwuZWxlbWVudHM7XHJcbiAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChlbGVtZW50cywgZWxlbWVudHMsIGFjdGl2ZUNhbGwpO1xyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgICAgICAgfSwgMSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogQ29tcGxldGUgYW4gYW5pbWF0aW9uLiBUaGlzIG1pZ2h0IGludm9sdmUgcmVzdGFydGluZyAoZm9yIGxvb3Agb3IgcmVwZWF0XHJcbiAgICogb3B0aW9ucykuIE9uY2UgaXQgaXMgZmluaXNoZWQgd2UgYWxzbyBjaGVjayBmb3IgYW55IGNhbGxiYWNrcyBvciBQcm9taXNlc1xyXG4gICAqIHRoYXQgbmVlZCB1cGRhdGluZy5cclxuICAgKi9cclxuICBmdW5jdGlvbiBjb21wbGV0ZUNhbGwoYWN0aXZlQ2FsbCkge1xyXG4gICAgICAvLyBUT0RPOiBDaGVjayBpZiBpdCdzIG5vdCBiZWVuIGNvbXBsZXRlZCBhbHJlYWR5XHJcbiAgICAgIHZhciBvcHRpb25zID0gYWN0aXZlQ2FsbC5vcHRpb25zLFxyXG4gICAgICAgICAgcXVldWUgPSBnZXRWYWx1ZShhY3RpdmVDYWxsLnF1ZXVlLCBvcHRpb25zLnF1ZXVlKSxcclxuICAgICAgICAgIGlzTG9vcCA9IGdldFZhbHVlKGFjdGl2ZUNhbGwubG9vcCwgb3B0aW9ucy5sb29wLCBkZWZhdWx0cyQxLmxvb3ApLFxyXG4gICAgICAgICAgaXNSZXBlYXQgPSBnZXRWYWx1ZShhY3RpdmVDYWxsLnJlcGVhdCwgb3B0aW9ucy5yZXBlYXQsIGRlZmF1bHRzJDEucmVwZWF0KSxcclxuICAgICAgICAgIGlzU3RvcHBlZCA9IGFjdGl2ZUNhbGwuX2ZsYWdzICYgOCAvKiBTVE9QUEVEICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcclxuICAgICAgaWYgKCFpc1N0b3BwZWQgJiYgKGlzTG9vcCB8fCBpc1JlcGVhdCkpIHtcclxuICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAvLyBPcHRpb246IExvb3AgICAvL1xyXG4gICAgICAgICAgLy8gT3B0aW9uOiBSZXBlYXQgLy9cclxuICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICBpZiAoaXNSZXBlYXQgJiYgaXNSZXBlYXQgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgICBhY3RpdmVDYWxsLnJlcGVhdCA9IGlzUmVwZWF0IC0gMTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNMb29wICYmIGlzTG9vcCAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgIGFjdGl2ZUNhbGwubG9vcCA9IGlzTG9vcCAtIDE7XHJcbiAgICAgICAgICAgICAgYWN0aXZlQ2FsbC5yZXBlYXQgPSBnZXRWYWx1ZShhY3RpdmVDYWxsLnJlcGVhdEFnYWluLCBvcHRpb25zLnJlcGVhdEFnYWluLCBkZWZhdWx0cyQxLnJlcGVhdEFnYWluKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChpc0xvb3ApIHtcclxuICAgICAgICAgICAgICBhY3RpdmVDYWxsLl9mbGFncyBePSA2NCAvKiBSRVZFUlNFICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChxdWV1ZSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAvLyBDYW4ndCBiZSBjYWxsZWQgd2hlbiBzdG9wcGVkIHNvIG5vIG5lZWQgZm9yIGFuIGV4dHJhIGNoZWNrLlxyXG4gICAgICAgICAgICAgIERhdGEoYWN0aXZlQ2FsbC5lbGVtZW50KS5sYXN0RmluaXNoTGlzdFtxdWV1ZV0gPSBhY3RpdmVDYWxsLnRpbWVTdGFydCArIGdldFZhbHVlKGFjdGl2ZUNhbGwuZHVyYXRpb24sIG9wdGlvbnMuZHVyYXRpb24sIGRlZmF1bHRzJDEuZHVyYXRpb24pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYWN0aXZlQ2FsbC50aW1lU3RhcnQgPSBhY3RpdmVDYWxsLmVsbGFwc2VkVGltZSA9IGFjdGl2ZUNhbGwucGVyY2VudENvbXBsZXRlID0gMDtcclxuICAgICAgICAgIGFjdGl2ZUNhbGwuX2ZsYWdzICY9IH40IC8qIFNUQVJURUQgKi87IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFyIGVsZW1lbnQgPSBhY3RpdmVDYWxsLmVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgZGF0YSA9IERhdGEoZWxlbWVudCk7XHJcbiAgICAgICAgICBpZiAoISAtLWRhdGEuY291bnQgJiYgIWlzU3RvcHBlZCkge1xyXG4gICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgICAgICAgIC8vIEZlYXR1cmU6IENsYXNzbmFtZSAvL1xyXG4gICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIFN0YXRlLmNsYXNzTmFtZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAvLyBPcHRpb246IENvbXBsZXRlIC8vXHJcbiAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAvLyBJZiB0aGlzIGlzIHRoZSBsYXN0IGFuaW1hdGlvbiBpbiB0aGlzIGxpc3QgdGhlbiB3ZSBjYW4gY2hlY2sgZm9yXHJcbiAgICAgICAgICAvLyBhbmQgY29tcGxldGUgY2FsbHMgb3IgUHJvbWlzZXMuXHJcbiAgICAgICAgICAvLyBUT0RPOiBXaGVuIGRlbGV0aW5nIGFuIGVsZW1lbnQgd2UgbmVlZCB0byBhZGp1c3QgdGhlc2UgdmFsdWVzLlxyXG4gICAgICAgICAgaWYgKG9wdGlvbnMgJiYgKytvcHRpb25zLl9jb21wbGV0ZWQgPT09IG9wdGlvbnMuX3RvdGFsKSB7XHJcbiAgICAgICAgICAgICAgaWYgKCFpc1N0b3BwZWQgJiYgb3B0aW9ucy5jb21wbGV0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCBjYWxsIHRoZSBjb21wbGV0ZSBpZiB0aGUgYW5pbWF0aW9uIGlzIHN0b3BwZWQsXHJcbiAgICAgICAgICAgICAgICAgIC8vIGFuZCB3ZSBjbGVhciB0aGUga2V5IHRvIHByZXZlbnQgaXQgYmVpbmcgY2FsbGVkIGFnYWluLlxyXG4gICAgICAgICAgICAgICAgICBjYWxsQ29tcGxldGUoYWN0aXZlQ2FsbCk7XHJcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY29tcGxldGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB2YXIgcmVzb2x2ZXIgPSBvcHRpb25zLl9yZXNvbHZlcjtcclxuICAgICAgICAgICAgICBpZiAocmVzb2x2ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgLy8gRnVsZmlsIHRoZSBQcm9taXNlXHJcbiAgICAgICAgICAgICAgICAgIHJlc29sdmVyKGFjdGl2ZUNhbGwuZWxlbWVudHMpO1xyXG4gICAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5fcmVzb2x2ZXI7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgICAgLy8gT3B0aW9uOiBRdWV1ZSAvL1xyXG4gICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgICAgaWYgKHF1ZXVlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgIC8vIFdlIG9ubHkgZG8gY2xldmVyIHRoaW5ncyB3aXRoIHF1ZXVlcy4uLlxyXG4gICAgICAgICAgICAgIGlmICghaXNTdG9wcGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIElmIHdlJ3JlIG5vdCBzdG9wcGluZyBhbiBhbmltYXRpb24sIHdlIG5lZWQgdG8gcmVtZW1iZXJcclxuICAgICAgICAgICAgICAgICAgLy8gd2hhdCB0aW1lIGl0IGZpbmlzaGVkIHNvIHRoYXQgdGhlIG5leHQgYW5pbWF0aW9uIGluXHJcbiAgICAgICAgICAgICAgICAgIC8vIHNlcXVlbmNlIGdldHMgdGhlIGNvcnJlY3Qgc3RhcnQgdGltZS5cclxuICAgICAgICAgICAgICAgICAgZGF0YS5sYXN0RmluaXNoTGlzdFtxdWV1ZV0gPSBhY3RpdmVDYWxsLnRpbWVTdGFydCArIGdldFZhbHVlKGFjdGl2ZUNhbGwuZHVyYXRpb24sIG9wdGlvbnMuZHVyYXRpb24sIGRlZmF1bHRzJDEuZHVyYXRpb24pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAvLyBTdGFydCB0aGUgbmV4dCBhbmltYXRpb24gaW4gc2VxdWVuY2UsIG9yIGRlbGV0ZSB0aGUgcXVldWUgaWZcclxuICAgICAgICAgICAgICAvLyB0aGlzIHdhcyB0aGUgbGFzdCBvbmUuXHJcbiAgICAgICAgICAgICAgZGVxdWV1ZShlbGVtZW50LCBxdWV1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyBDbGVhbnVwIGFueSBwb2ludGVycywgYW5kIHJlbWVtYmVyIHRoZSBsYXN0IGFuaW1hdGlvbiBldGMuXHJcbiAgICAgICAgICBmcmVlQW5pbWF0aW9uQ2FsbChhY3RpdmVDYWxsKTtcclxuICAgICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUHJvamVjdFxyXG4gIC8qKlxyXG4gICAqIFVzZWQgdG8gcmVnaXN0ZXIgYSBub3JtYWxpemF0aW9uLiBUaGlzIHNob3VsZCBuZXZlciBiZSBjYWxsZWQgYnkgdXNlcnNcclxuICAgKiBkaXJlY3RseSwgaW5zdGVhZCBpdCBzaG91bGQgYmUgY2FsbGVkIHZpYSBhbiBhY3Rpb246PGJyLz5cclxuICAgKiA8Y29kZT5WZWxvY2l0eShcInJlZ2lzdGVyTm9ybWFsaXphdGlvblwiLCBcIkVsZW1lbnRcIiwgXCJuYW1lXCIsIFZlbG9jaXR5Tm9ybWFsaXphdGlvbnNGblssIGZhbHNlXSk7PC9jb2RlPlxyXG4gICAqXHJcbiAgICogVGhlIHNlY29uZCBhcmd1bWVudCBpcyB0aGUgY2xhc3Mgb2YgdGhlIGFuaW1hdGFibGUgb2JqZWN0LiBJZiB0aGlzIGlzIHBhc3NlZFxyXG4gICAqIGFzIGEgY2xhc3MgbmFtZSAoaWUsIGBcIkVsZW1lbnRcImAgLT4gYHdpbmRvd1tcIkVsZW1lbnRcIl1gKSB0aGVuIHRoaXMgd2lsbCB3b3JrXHJcbiAgICogY3Jvc3MtaWZyYW1lLiBJZiBwYXNzZWQgYXMgYW4gYWN0dWFsIGNsYXNzIChpZSBgRWxlbWVudGApIHRoZW4gaXQgd2lsbFxyXG4gICAqIGF0dGVtcHQgdG8gZmluZCB0aGUgY2xhc3Mgb24gdGhlIHdpbmRvdyBhbmQgdXNlIHRoYXQgbmFtZSBpbnN0ZWFkLiBJZiBpdFxyXG4gICAqIGNhbid0IGZpbmQgaXQgdGhlbiBpdCB3aWxsIHVzZSB0aGUgY2xhc3MgcGFzc2VkLCB3aGljaCBhbGxvd3MgZm9yIGN1c3RvbVxyXG4gICAqIGFuaW1hdGlvbiB0YXJnZXRzLCBidXQgd2lsbCBub3Qgd29yayBjcm9zcy1pZnJhbWUgYm91bmRhcnkuXHJcbiAgICpcclxuICAgKiBUaGUgZm91cnRoIGFyZ3VtZW50IGNhbiBiZSBhbiBleHBsaWNpdCA8Y29kZT5mYWxzZTwvY29kZT4sIHdoaWNoIHByZXZlbnRzXHJcbiAgICogdGhlIHByb3BlcnR5IGZyb20gYmVpbmcgY2FjaGVkLiBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgY2FuIGJlIGRhbmdlcm91c1xyXG4gICAqIGZvciBwZXJmb3JtYW5jZSFcclxuICAgKi9cclxuICBmdW5jdGlvbiByZWdpc3Rlck5vcm1hbGl6YXRpb24oYXJncykge1xyXG4gICAgICB2YXIgY29uc3RydWN0b3IgPSBhcmdzWzBdLFxyXG4gICAgICAgICAgbmFtZSA9IGFyZ3NbMV0sXHJcbiAgICAgICAgICBjYWxsYmFjayA9IGFyZ3NbMl07XHJcbiAgICAgIGlmIChpc1N0cmluZyhjb25zdHJ1Y3RvcikgJiYgISh3aW5kb3dbY29uc3RydWN0b3JdIGluc3RhbmNlb2YgT2JqZWN0KSB8fCAhaXNTdHJpbmcoY29uc3RydWN0b3IpICYmICEoY29uc3RydWN0b3IgaW5zdGFuY2VvZiBPYmplY3QpKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdyZWdpc3Rlck5vcm1hbGl6YXRpb24nIGNvbnN0cnVjdG9yIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIGNvbnN0cnVjdG9yKTtcclxuICAgICAgfSBlbHNlIGlmICghaXNTdHJpbmcobmFtZSkpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3JlZ2lzdGVyTm9ybWFsaXphdGlvbicgbmFtZSB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCBuYW1lKTtcclxuICAgICAgfSBlbHNlIGlmICghaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3JlZ2lzdGVyTm9ybWFsaXphdGlvbicgY2FsbGJhY2sgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgbmFtZSwgY2FsbGJhY2spO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFyIGluZGV4ID0gY29uc3RydWN0b3JzLmluZGV4T2YoY29uc3RydWN0b3IpLFxyXG4gICAgICAgICAgICAgIG5leHRBcmcgPSAzO1xyXG4gICAgICAgICAgaWYgKGluZGV4IDwgMCAmJiAhaXNTdHJpbmcoY29uc3RydWN0b3IpKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGNvbnN0cnVjdG9yQ2FjaGUuaGFzKGNvbnN0cnVjdG9yKSkge1xyXG4gICAgICAgICAgICAgICAgICBpbmRleCA9IGNvbnN0cnVjdG9ycy5pbmRleE9mKGNvbnN0cnVjdG9yQ2FjaGUuZ2V0KGNvbnN0cnVjdG9yKSk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gd2luZG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93W3Byb3BlcnR5XSA9PT0gY29uc3RydWN0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGNvbnN0cnVjdG9ycy5pbmRleE9mKHByb3BlcnR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gY29uc3RydWN0b3JzLnB1c2gocHJvcGVydHkpIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTm9ybWFsaXphdGlvbnNbaW5kZXhdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yQ2FjaGUuc2V0KGNvbnN0cnVjdG9yLCBwcm9wZXJ0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGluZGV4IDwgMCkge1xyXG4gICAgICAgICAgICAgIGluZGV4ID0gY29uc3RydWN0b3JzLnB1c2goY29uc3RydWN0b3IpIC0gMTtcclxuICAgICAgICAgICAgICBOb3JtYWxpemF0aW9uc1tpbmRleF0gPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIE5vcm1hbGl6YXRpb25zW2luZGV4XVtuYW1lXSA9IGNhbGxiYWNrO1xyXG4gICAgICAgICAgaWYgKGlzU3RyaW5nKGFyZ3NbbmV4dEFyZ10pKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHVuaXQgPSBhcmdzW25leHRBcmcrK107XHJcbiAgICAgICAgICAgICAgdmFyIHVuaXRzID0gTm9ybWFsaXphdGlvblVuaXRzW3VuaXRdO1xyXG4gICAgICAgICAgICAgIGlmICghdW5pdHMpIHtcclxuICAgICAgICAgICAgICAgICAgdW5pdHMgPSBOb3JtYWxpemF0aW9uVW5pdHNbdW5pdF0gPSBbXTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgdW5pdHMucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoYXJnc1tuZXh0QXJnXSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICBOb0NhY2hlTm9ybWFsaXphdGlvbnMuYWRkKG5hbWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFVzZWQgdG8gY2hlY2sgaWYgYSBub3JtYWxpc2F0aW9uIGV4aXN0cyBvbiBhIHNwZWNpZmljIGNsYXNzLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGhhc05vcm1hbGl6YXRpb24oYXJncykge1xyXG4gICAgICB2YXIgY29uc3RydWN0b3IgPSBhcmdzWzBdLFxyXG4gICAgICAgICAgbmFtZSA9IGFyZ3NbMV07XHJcbiAgICAgIHZhciBpbmRleCA9IGNvbnN0cnVjdG9ycy5pbmRleE9mKGNvbnN0cnVjdG9yKTtcclxuICAgICAgaWYgKGluZGV4IDwgMCAmJiAhaXNTdHJpbmcoY29uc3RydWN0b3IpKSB7XHJcbiAgICAgICAgICBpZiAoY29uc3RydWN0b3JDYWNoZS5oYXMoY29uc3RydWN0b3IpKSB7XHJcbiAgICAgICAgICAgICAgaW5kZXggPSBjb25zdHJ1Y3RvcnMuaW5kZXhPZihjb25zdHJ1Y3RvckNhY2hlLmdldChjb25zdHJ1Y3RvcikpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiB3aW5kb3cpIHtcclxuICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvd1twcm9wZXJ0eV0gPT09IGNvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGNvbnN0cnVjdG9ycy5pbmRleE9mKHByb3BlcnR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBpbmRleCA+PSAwICYmIE5vcm1hbGl6YXRpb25zW2luZGV4XS5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSB1bml0IHRvIGFkZCB0byBhIHVuaXRsZXNzIG51bWJlciBiYXNlZCBvbiB0aGUgbm9ybWFsaXphdGlvbiB1c2VkLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGdldE5vcm1hbGl6YXRpb25Vbml0KGZuKSB7XHJcbiAgICAgIGZvciAodmFyIHVuaXQgaW4gTm9ybWFsaXphdGlvblVuaXRzKSB7XHJcbiAgICAgICAgICBpZiAoTm9ybWFsaXphdGlvblVuaXRzW3VuaXRdLmluY2x1ZGVzKGZuKSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiB1bml0O1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBcIlwiO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBHZXQgdGhlIG5vcm1hbGl6YXRpb24gZm9yIGFuIGVsZW1lbnQgYW5kIHByb3BlcnR5TmFtZSBjb21iaW5hdGlvbi4gVGhpc1xyXG4gICAqIHZhbHVlIHNob3VsZCBiZSBjYWNoZWQgYXQgYXNraW5nIHRpbWUsIGFzIGl0IG1heSBjaGFuZ2UgaWYgdGhlIHVzZXIgYWRkc1xyXG4gICAqIG1vcmUgbm9ybWFsaXphdGlvbnMuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZ2V0Tm9ybWFsaXphdGlvbihlbGVtZW50LCBwcm9wZXJ0eU5hbWUpIHtcclxuICAgICAgdmFyIGRhdGEgPSBEYXRhKGVsZW1lbnQpO1xyXG4gICAgICB2YXIgZm4gPSB2b2lkIDA7XHJcbiAgICAgIGZvciAodmFyIGluZGV4ID0gY29uc3RydWN0b3JzLmxlbmd0aCAtIDEsIHR5cGVzID0gZGF0YS50eXBlczsgIWZuICYmIGluZGV4ID49IDA7IGluZGV4LS0pIHtcclxuICAgICAgICAgIGlmICh0eXBlcyAmIDEgPDwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcclxuICAgICAgICAgICAgICBmbiA9IE5vcm1hbGl6YXRpb25zW2luZGV4XVtwcm9wZXJ0eU5hbWVdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmbjtcclxuICB9XHJcbiAgcmVnaXN0ZXJBY3Rpb24oW1wicmVnaXN0ZXJOb3JtYWxpemF0aW9uXCIsIHJlZ2lzdGVyTm9ybWFsaXphdGlvbl0pO1xyXG4gIHJlZ2lzdGVyQWN0aW9uKFtcImhhc05vcm1hbGl6YXRpb25cIiwgaGFzTm9ybWFsaXphdGlvbl0pO1xyXG5cclxuICAvLyBQcm9qZWN0XHJcbiAgLyoqXHJcbiAgICogVGhlIHNpbmd1bGFyIHNldFByb3BlcnR5VmFsdWUsIHdoaWNoIHJvdXRlcyB0aGUgbG9naWMgZm9yIGFsbFxyXG4gICAqIG5vcm1hbGl6YXRpb25zLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHNldFByb3BlcnR5VmFsdWUoZWxlbWVudCwgcHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlLCBmbikge1xyXG4gICAgICB2YXIgbm9DYWNoZSA9IE5vQ2FjaGVOb3JtYWxpemF0aW9ucy5oYXMocHJvcGVydHlOYW1lKSxcclxuICAgICAgICAgIGRhdGEgPSAhbm9DYWNoZSAmJiBEYXRhKGVsZW1lbnQpO1xyXG4gICAgICBpZiAobm9DYWNoZSB8fCBkYXRhICYmIGRhdGEuY2FjaGVbcHJvcGVydHlOYW1lXSAhPT0gcHJvcGVydHlWYWx1ZSkge1xyXG4gICAgICAgICAgLy8gQnkgc2V0dGluZyBpdCB0byB1bmRlZmluZWQgd2UgZm9yY2UgYSB0cnVlIFwiZ2V0XCIgbGF0ZXJcclxuICAgICAgICAgIGlmICghbm9DYWNoZSkge1xyXG4gICAgICAgICAgICAgIGRhdGEuY2FjaGVbcHJvcGVydHlOYW1lXSA9IHByb3BlcnR5VmFsdWUgfHwgdW5kZWZpbmVkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZm4gPSBmbiB8fCBnZXROb3JtYWxpemF0aW9uKGVsZW1lbnQsIHByb3BlcnR5TmFtZSk7XHJcbiAgICAgICAgICBpZiAoZm4pIHtcclxuICAgICAgICAgICAgICBmbihlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChWZWxvY2l0eSQkMS5kZWJ1ZyA+PSAyKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5pbmZvKFwiU2V0IFxcXCJcIiArIHByb3BlcnR5TmFtZSArIFwiXFxcIjogXFxcIlwiICsgcHJvcGVydHlWYWx1ZSArIFwiXFxcIlwiLCBlbGVtZW50KTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVtb3ZlIG5lc3RlZCBgY2FsYygwcHggKyAqKWAgb3IgYGNhbGMoKiArICgwcHggKyAqKSlgIGNvcnJlY3RseS5cclxuICAgKi9cclxuICBmdW5jdGlvbiByZW1vdmVOZXN0ZWRDYWxjKHZhbHVlKSB7XHJcbiAgICAgIGlmICh2YWx1ZS5pbmRleE9mKFwiY2FsYyhcIikgPj0gMCkge1xyXG4gICAgICAgICAgdmFyIHRva2VucyA9IHZhbHVlLnNwbGl0KC8oW1xcKFxcKV0pLyk7XHJcbiAgICAgICAgICB2YXIgZGVwdGggPSAwO1xyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV07XHJcbiAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiKFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgZGVwdGgrKztcclxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiKVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgZGVwdGgtLTtcclxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcHRoICYmIHRva2VuWzBdID09PSBcIjBcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vuc1tpXSA9IHRva2VuLnJlcGxhY2UoL14wW2EteiVdKyBcXCsgLywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gdG9rZW5zLmpvaW4oXCJcIikucmVwbGFjZSgvKD86Y2FsYyk/XFwoKFswLTlcXC5dK1thLXolXSspXFwpL2csIFwiJDFcIik7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FjaGUgZXZlcnkgY2FtZWxDYXNlIG1hdGNoIHRvIGF2b2lkIHJlcGVhdGluZyBsb29rdXBzLlxyXG4gICAqL1xyXG4gIHZhciBjYWNoZSQyID0ge307XHJcbiAgLyoqXHJcbiAgICogQ2FtZWxjYXNlIGEgcHJvcGVydHkgbmFtZSBpbnRvIGl0cyBKYXZhU2NyaXB0IG5vdGF0aW9uIChlLmcuXHJcbiAgICogXCJiYWNrZ3JvdW5kLWNvbG9yXCIgPT0+IFwiYmFja2dyb3VuZENvbG9yXCIpLiBDYW1lbGNhc2luZyBpcyB1c2VkIHRvXHJcbiAgICogbm9ybWFsaXplIHByb3BlcnR5IG5hbWVzIGJldHdlZW4gYW5kIGFjcm9zcyBjYWxscy5cclxuICAgKi9cclxuICBmdW5jdGlvbiBjYW1lbENhc2UocHJvcGVydHkpIHtcclxuICAgIHZhciBmaXhlZCA9IGNhY2hlJDJbcHJvcGVydHldO1xyXG4gICAgaWYgKGZpeGVkKSB7XHJcbiAgICAgIHJldHVybiBmaXhlZDtcclxuICAgIH1cclxuICAgIHJldHVybiBjYWNoZSQyW3Byb3BlcnR5XSA9IHByb3BlcnR5LnJlcGxhY2UoLy0oW2Etel0pL2csIGZ1bmN0aW9uICgkLCBsZXR0ZXIpIHtcclxuICAgICAgcmV0dXJuIGxldHRlci50b1VwcGVyQ2FzZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBDb25zdGFudHNcclxuICB2YXIgcnhDb2xvcjYgPSAvIyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KS9naSxcclxuICAgICAgcnhDb2xvcjMgPSAvIyhbYS1mXFxkXSkoW2EtZlxcZF0pKFthLWZcXGRdKS9naSxcclxuICAgICAgcnhDb2xvck5hbWUgPSAvKHJnYmE/XFwoXFxzKik/KFxcYlthLXpdK1xcYikvZyxcclxuICAgICAgcnhSR0IgPSAvcmdiKGE/KVxcKChbXlxcKV0rKVxcKS9naSxcclxuICAgICAgcnhTcGFjZXMgPSAvXFxzKy9nO1xyXG4gIC8qKlxyXG4gICAqIFRoaXMgaXMgdGhlIGxpc3Qgb2YgY29sb3IgbmFtZXMgLT4gcmdiIHZhbHVlcy4gVGhlIG9iamVjdCBpcyBpbiBoZXJlIHNvXHJcbiAgICogdGhhdCB0aGUgYWN0dWFsIG5hbWUgY29udmVyc2lvbiBjYW4gYmUgaW4gYSBzZXBhcmF0ZSBmaWxlIGFuZCBub3RcclxuICAgKiBpbmNsdWRlZCBmb3IgY3VzdG9tIGJ1aWxkcy5cclxuICAgKi9cclxuICB2YXIgQ29sb3JOYW1lcyA9IHt9O1xyXG4gIC8qKlxyXG4gICAqIENvbnZlcnQgYSBoZXggbGlzdCB0byBhbiByZ2JhIHZhbHVlLiBEZXNpZ25lZCB0byBiZSB1c2VkIGluIHJlcGxhY2UuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gbWFrZVJHQkEoaWdub3JlLCByLCBnLCBiKSB7XHJcbiAgICAgIHJldHVybiBcInJnYmEoXCIgKyBwYXJzZUludChyLCAxNikgKyBcIixcIiArIHBhcnNlSW50KGcsIDE2KSArIFwiLFwiICsgcGFyc2VJbnQoYiwgMTYpICsgXCIsMSlcIjtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogUmVwbGFjZSBhbnkgY3NzIGNvbG91ciBuYW1lIHdpdGggaXRzIHJnYmEoKSB2YWx1ZS4gSXQgaXMgcG9zc2libGUgdG8gdXNlXHJcbiAgICogdGhlIG5hbWUgd2l0aGluIGFuIFwicmdiYShibHVlLCAwLjQpXCIgc3RyaW5nIHRoaXMgd2F5LlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGZpeENvbG9ycyhzdHIpIHtcclxuICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKHJ4Q29sb3I2LCBtYWtlUkdCQSkucmVwbGFjZShyeENvbG9yMywgZnVuY3Rpb24gKCQwLCByLCBnLCBiKSB7XHJcbiAgICAgICAgICByZXR1cm4gbWFrZVJHQkEoJDAsIHIgKyByLCBnICsgZywgYiArIGIpO1xyXG4gICAgICB9KS5yZXBsYWNlKHJ4Q29sb3JOYW1lLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xyXG4gICAgICAgICAgaWYgKENvbG9yTmFtZXNbJDJdKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuICgkMSA/ICQxIDogXCJyZ2JhKFwiKSArIENvbG9yTmFtZXNbJDJdICsgKCQxID8gXCJcIiA6IFwiLDEpXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuICQwO1xyXG4gICAgICB9KS5yZXBsYWNlKHJ4UkdCLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xyXG4gICAgICAgICAgcmV0dXJuIFwicmdiYShcIiArICgkMi5yZXBsYWNlKHJ4U3BhY2VzLCBcIlwiKSArICgkMSA/IFwiXCIgOiBcIiwxXCIpKSArIFwiKVwiO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIFByb2plY3RcclxuICAvKipcclxuICAgKiBGaWd1cmUgb3V0IHRoZSBkaW1lbnNpb25zIGZvciB0aGlzIHdpZHRoIC8gaGVpZ2h0IGJhc2VkIG9uIHRoZVxyXG4gICAqIHBvdGVudGlhbCBib3JkZXJzIGFuZCB3aGV0aGVyIHdlIGNhcmUgYWJvdXQgdGhlbS5cclxuICAgKi9cclxuICBmdW5jdGlvbiBhdWdtZW50RGltZW5zaW9uKGVsZW1lbnQsIG5hbWUsIHdhbnRJbm5lcikge1xyXG4gICAgICB2YXIgaXNCb3JkZXJCb3ggPSBnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIFwiYm94U2l6aW5nXCIpLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gXCJib3JkZXItYm94XCI7XHJcbiAgICAgIGlmIChpc0JvcmRlckJveCA9PT0gd2FudElubmVyKSB7XHJcbiAgICAgICAgICAvLyBpbiBib3gtc2l6aW5nIG1vZGUsIHRoZSBDU1Mgd2lkdGggLyBoZWlnaHQgYWNjZXNzb3JzIGFscmVhZHlcclxuICAgICAgICAgIC8vIGdpdmUgdGhlIG91dGVyV2lkdGggLyBvdXRlckhlaWdodC5cclxuICAgICAgICAgIHZhciBzaWRlcyA9IG5hbWUgPT09IFwid2lkdGhcIiA/IFtcIkxlZnRcIiwgXCJSaWdodFwiXSA6IFtcIlRvcFwiLCBcIkJvdHRvbVwiXSxcclxuICAgICAgICAgICAgICBmaWVsZHMgPSBbXCJwYWRkaW5nXCIgKyBzaWRlc1swXSwgXCJwYWRkaW5nXCIgKyBzaWRlc1sxXSwgXCJib3JkZXJcIiArIHNpZGVzWzBdICsgXCJXaWR0aFwiLCBcImJvcmRlclwiICsgc2lkZXNbMV0gKyBcIldpZHRoXCJdO1xyXG4gICAgICAgICAgdmFyIGF1Z21lbnQgPSAwO1xyXG4gICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xyXG4gICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XHJcbiAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBmaWVsZHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBmaWVsZCA9IF9zdGVwLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFyc2VGbG9hdChnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIGZpZWxkKSk7XHJcbiAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4odmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhdWdtZW50ICs9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xyXG4gICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gd2FudElubmVyID8gLWF1Z21lbnQgOiBhdWdtZW50O1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgLy8gUHJvamVjdFxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgd2lkdGggb3IgaGVpZ2h0IG9mIGFuIGVsZW1lbnQsIHB1bGxlZCBvdXQgYXMgaXQgY2FuIGJlIHVzZWQgd2hlbiB0aGVcclxuICAgKiBpbiB0d28gbG9jYXRpb25zIHNvIGRvbid0IHdhbnQgdG8gcmVwZWF0IGl0LlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGdldFdpZHRoSGVpZ2h0KGVsZW1lbnQsIHByb3BlcnR5KSB7XHJcbiAgICAgIHJldHVybiBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3Byb3BlcnR5XSArIGF1Z21lbnREaW1lbnNpb24oZWxlbWVudCwgcHJvcGVydHksIHRydWUpICsgXCJweFwiO1xyXG4gIH1cclxuICAvLyBUT0RPOiBUaGlzIGlzIHN0aWxsIGEgY29tcGxldGUgbWVzc1xyXG4gIGZ1bmN0aW9uIGNvbXB1dGVQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5KSB7XHJcbiAgICAgIHZhciBkYXRhID0gRGF0YShlbGVtZW50KSxcclxuXHJcbiAgICAgIC8vIElmIGNvbXB1dGVkU3R5bGUgaXMgY2FjaGVkLCB1c2UgaXQuIElmIG5vdCB0aGVuIGdldCB0aGUgY29ycmVjdCBvbmVcclxuICAgICAgLy8gZm9yIHRoZSBlbGVtZW50IHRvIHN1cHBvcnQgY3Jvc3MtaWZyYW1lIGJvdW5kYXJpZXMuXHJcbiAgICAgIGNvbXB1dGVkU3R5bGUgPSBkYXRhLmNvbXB1dGVkU3R5bGUgPyBkYXRhLmNvbXB1dGVkU3R5bGUgOiBkYXRhLndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIG51bGwpO1xyXG4gICAgICB2YXIgY29tcHV0ZWRWYWx1ZSA9IDA7XHJcbiAgICAgIGlmICghZGF0YS5jb21wdXRlZFN0eWxlKSB7XHJcbiAgICAgICAgICBkYXRhLmNvbXB1dGVkU3R5bGUgPSBjb21wdXRlZFN0eWxlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9PT0gXCJub25lXCIpIHtcclxuICAgICAgICAgIHN3aXRjaCAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICBjYXNlIFwid2lkdGhcIjpcclxuICAgICAgICAgICAgICBjYXNlIFwiaGVpZ2h0XCI6XHJcbiAgICAgICAgICAgICAgICAgIC8vIEJyb3dzZXJzIGRvIG5vdCByZXR1cm4gaGVpZ2h0IGFuZCB3aWR0aCB2YWx1ZXMgZm9yIGVsZW1lbnRzXHJcbiAgICAgICAgICAgICAgICAgIC8vIHRoYXQgYXJlIHNldCB0byBkaXNwbGF5Olwibm9uZVwiLiBUaHVzLCB3ZSB0ZW1wb3JhcmlseSB0b2dnbGVcclxuICAgICAgICAgICAgICAgICAgLy8gZGlzcGxheSB0byB0aGUgZWxlbWVudCB0eXBlJ3MgZGVmYXVsdCB2YWx1ZS5cclxuICAgICAgICAgICAgICAgICAgc2V0UHJvcGVydHlWYWx1ZShlbGVtZW50LCBcImRpc3BsYXlcIiwgXCJhdXRvXCIpO1xyXG4gICAgICAgICAgICAgICAgICBjb21wdXRlZFZhbHVlID0gZ2V0V2lkdGhIZWlnaHQoZWxlbWVudCwgcHJvcGVydHkpO1xyXG4gICAgICAgICAgICAgICAgICBzZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcoY29tcHV0ZWRWYWx1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLyogSUUgYW5kIEZpcmVmb3ggZG8gbm90IHJldHVybiBhIHZhbHVlIGZvciB0aGUgZ2VuZXJpYyBib3JkZXJDb2xvciAtLSB0aGV5IG9ubHkgcmV0dXJuIGluZGl2aWR1YWwgdmFsdWVzIGZvciBlYWNoIGJvcmRlciBzaWRlJ3MgY29sb3IuXHJcbiAgICAgICBBbHNvLCBpbiBhbGwgYnJvd3NlcnMsIHdoZW4gYm9yZGVyIGNvbG9ycyBhcmVuJ3QgYWxsIHRoZSBzYW1lLCBhIGNvbXBvdW5kIHZhbHVlIGlzIHJldHVybmVkIHRoYXQgVmVsb2NpdHkgaXNuJ3Qgc2V0dXAgdG8gcGFyc2UuXHJcbiAgICAgICBTbywgYXMgYSBwb2x5ZmlsbCBmb3IgcXVlcnlpbmcgaW5kaXZpZHVhbCBib3JkZXIgc2lkZSBjb2xvcnMsIHdlIGp1c3QgcmV0dXJuIHRoZSB0b3AgYm9yZGVyJ3MgY29sb3IgYW5kIGFuaW1hdGUgYWxsIGJvcmRlcnMgZnJvbSB0aGF0IHZhbHVlLiAqL1xyXG4gICAgICAvKiBUT0RPOiBUaGVyZSBpcyBhIGJvcmRlckNvbG9yIG5vcm1hbGlzYXRpb24gaW4gbGVnYWN5LyAtIGZpZ3VyZSBvdXQgd2hlcmUgdGhpcyBpcyBuZWVkZWQuLi4gKi9cclxuICAgICAgY29tcHV0ZWRWYWx1ZSA9IGNvbXB1dGVkU3R5bGVbcHJvcGVydHldO1xyXG4gICAgICAvKiBGYWxsIGJhY2sgdG8gdGhlIHByb3BlcnR5J3Mgc3R5bGUgdmFsdWUgKGlmIGRlZmluZWQpIHdoZW4gY29tcHV0ZWRWYWx1ZSByZXR1cm5zIG5vdGhpbmcsXHJcbiAgICAgICB3aGljaCBjYW4gaGFwcGVuIHdoZW4gdGhlIGVsZW1lbnQgaGFzbid0IGJlZW4gcGFpbnRlZC4gKi9cclxuICAgICAgaWYgKCFjb21wdXRlZFZhbHVlKSB7XHJcbiAgICAgICAgICBjb21wdXRlZFZhbHVlID0gZWxlbWVudC5zdHlsZVtwcm9wZXJ0eV07XHJcbiAgICAgIH1cclxuICAgICAgLyogRm9yIHRvcCwgcmlnaHQsIGJvdHRvbSwgYW5kIGxlZnQgKFRSQkwpIHZhbHVlcyB0aGF0IGFyZSBzZXQgdG8gXCJhdXRvXCIgb24gZWxlbWVudHMgb2YgXCJmaXhlZFwiIG9yIFwiYWJzb2x1dGVcIiBwb3NpdGlvbixcclxuICAgICAgIGRlZmVyIHRvIGpRdWVyeSBmb3IgY29udmVydGluZyBcImF1dG9cIiB0byBhIG51bWVyaWMgdmFsdWUuIChGb3IgZWxlbWVudHMgd2l0aCBhIFwic3RhdGljXCIgb3IgXCJyZWxhdGl2ZVwiIHBvc2l0aW9uLCBcImF1dG9cIiBoYXMgdGhlIHNhbWVcclxuICAgICAgIGVmZmVjdCBhcyBiZWluZyBzZXQgdG8gMCwgc28gbm8gY29udmVyc2lvbiBpcyBuZWNlc3NhcnkuKSAqL1xyXG4gICAgICAvKiBBbiBleGFtcGxlIG9mIHdoeSBudW1lcmljIGNvbnZlcnNpb24gaXMgbmVjZXNzYXJ5OiBXaGVuIGFuIGVsZW1lbnQgd2l0aCBcInBvc2l0aW9uOmFic29sdXRlXCIgaGFzIGFuIHVudG91Y2hlZCBcImxlZnRcIlxyXG4gICAgICAgcHJvcGVydHksIHdoaWNoIHJldmVydHMgdG8gXCJhdXRvXCIsIGxlZnQncyB2YWx1ZSBpcyAwIHJlbGF0aXZlIHRvIGl0cyBwYXJlbnQgZWxlbWVudCwgYnV0IGlzIG9mdGVuIG5vbi16ZXJvIHJlbGF0aXZlXHJcbiAgICAgICB0byBpdHMgKmNvbnRhaW5pbmcqIChub3QgcGFyZW50KSBlbGVtZW50LCB3aGljaCBpcyB0aGUgbmVhcmVzdCBcInBvc2l0aW9uOnJlbGF0aXZlXCIgYW5jZXN0b3Igb3IgdGhlIHZpZXdwb3J0IChhbmQgYWx3YXlzIHRoZSB2aWV3cG9ydCBpbiB0aGUgY2FzZSBvZiBcInBvc2l0aW9uOmZpeGVkXCIpLiAqL1xyXG4gICAgICBpZiAoY29tcHV0ZWRWYWx1ZSA9PT0gXCJhdXRvXCIpIHtcclxuICAgICAgICAgIHN3aXRjaCAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICBjYXNlIFwid2lkdGhcIjpcclxuICAgICAgICAgICAgICBjYXNlIFwiaGVpZ2h0XCI6XHJcbiAgICAgICAgICAgICAgICAgIGNvbXB1dGVkVmFsdWUgPSBnZXRXaWR0aEhlaWdodChlbGVtZW50LCBwcm9wZXJ0eSk7XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIGNhc2UgXCJ0b3BcIjpcclxuICAgICAgICAgICAgICBjYXNlIFwibGVmdFwiOlxyXG5cclxuICAgICAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcclxuICAgICAgICAgICAgICBjYXNlIFwiYm90dG9tXCI6XHJcbiAgICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IGdldFByb3BlcnR5VmFsdWUoZWxlbWVudCwgXCJwb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBcImZpeGVkXCIgfHwgcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogdGhpcyBoYXMgbm8gcGl4ZWwgdW5pdCBvbiBpdHMgcmV0dXJuZWQgdmFsdWVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gd2UgcmUtYWRkIGl0IGhlcmUgdG8gY29uZm9ybSB3aXRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBjb21wdXRlUHJvcGVydHlWYWx1ZSdzIGJlaGF2aW9yLlxyXG4gICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRWYWx1ZSA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0W3Byb3BlcnR5XSArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgLy8gRGVsaWJlcmF0ZSBmYWxsdGhyb3VnaCFcclxuICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICBjb21wdXRlZFZhbHVlID0gXCIwcHhcIjtcclxuICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGNvbXB1dGVkVmFsdWUgPyBTdHJpbmcoY29tcHV0ZWRWYWx1ZSkgOiBcIlwiO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBHZXQgYSBwcm9wZXJ0eSB2YWx1ZS4gVGhpcyB3aWxsIGdyYWIgdmlhIHRoZSBjYWNoZSBpZiBpdCBleGlzdHMsIHRoZW5cclxuICAgKiB2aWEgYW55IG5vcm1hbGlzYXRpb25zLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGdldFByb3BlcnR5VmFsdWUoZWxlbWVudCwgcHJvcGVydHlOYW1lLCBmbiwgc2tpcENhY2hlKSB7XHJcbiAgICAgIHZhciBkYXRhID0gRGF0YShlbGVtZW50KTtcclxuICAgICAgdmFyIHByb3BlcnR5VmFsdWUgPSB2b2lkIDA7XHJcbiAgICAgIGlmIChOb0NhY2hlTm9ybWFsaXphdGlvbnMuaGFzKHByb3BlcnR5TmFtZSkpIHtcclxuICAgICAgICAgIHNraXBDYWNoZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFza2lwQ2FjaGUgJiYgZGF0YSAmJiBkYXRhLmNhY2hlW3Byb3BlcnR5TmFtZV0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IGRhdGEuY2FjaGVbcHJvcGVydHlOYW1lXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGZuID0gZm4gfHwgZ2V0Tm9ybWFsaXphdGlvbihlbGVtZW50LCBwcm9wZXJ0eU5hbWUpO1xyXG4gICAgICAgICAgaWYgKGZuKSB7XHJcbiAgICAgICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IGZuKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgIGRhdGEuY2FjaGVbcHJvcGVydHlOYW1lXSA9IHByb3BlcnR5VmFsdWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChWZWxvY2l0eSQkMS5kZWJ1ZyA+PSAyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmluZm8oXCJHZXQgXFxcIlwiICsgcHJvcGVydHlOYW1lICsgXCJcXFwiOiBcXFwiXCIgKyBwcm9wZXJ0eVZhbHVlICsgXCJcXFwiXCIsIGVsZW1lbnQpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBwcm9wZXJ0eVZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLy8gUHJvamVjdFxyXG4gIC8vIENvbnN0YW50c1xyXG4gIHZhciByeEhleCA9IC9eIyhbQS1mXFxkXXszfSl7MSwyfSQvaSxcclxuICAgICAgY29tbWFuZHMgPSB7XHJcbiAgICAgIGZ1bmN0aW9uOiBmdW5jdGlvbiBfZnVuY3Rpb24odmFsdWUsIGVsZW1lbnQsIGVsZW1lbnRzLCBlbGVtZW50QXJyYXlJbmRleCwgcHJvcGVydHlOYW1lLCB0d2Vlbikge1xyXG4gICAgICAgICAgcmV0dXJuIHZhbHVlLmNhbGwoZWxlbWVudCwgZWxlbWVudEFycmF5SW5kZXgsIGVsZW1lbnRzLmxlbmd0aCwgcHJvcGVydHlOYW1lKTtcclxuICAgICAgfSxcclxuICAgICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIodmFsdWUsIGVsZW1lbnQsIGVsZW1lbnRzLCBlbGVtZW50QXJyYXlJbmRleCwgcHJvcGVydHlOYW1lLCB0d2Vlbikge1xyXG4gICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSkgKyBnZXROb3JtYWxpemF0aW9uVW5pdCh0d2Vlbi5mbik7XHJcbiAgICAgIH0sXHJcbiAgICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKHZhbHVlLCBlbGVtZW50LCBlbGVtZW50cywgZWxlbWVudEFycmF5SW5kZXgsIHByb3BlcnR5TmFtZSwgdHdlZW4pIHtcclxuICAgICAgICAgIHJldHVybiBmaXhDb2xvcnModmFsdWUpO1xyXG4gICAgICB9LFxyXG4gICAgICB1bmRlZmluZWQ6IGZ1bmN0aW9uIHVuZGVmaW5lZCh2YWx1ZSwgZWxlbWVudCwgZWxlbWVudHMsIGVsZW1lbnRBcnJheUluZGV4LCBwcm9wZXJ0eU5hbWUsIHR3ZWVuKSB7XHJcbiAgICAgICAgICByZXR1cm4gZml4Q29sb3JzKGdldFByb3BlcnR5VmFsdWUoZWxlbWVudCwgcHJvcGVydHlOYW1lLCB0d2Vlbi5mbikgfHwgXCJcIik7XHJcbiAgICAgIH1cclxuICB9O1xyXG4gIC8qKlxyXG4gICAqIEV4cGFuZCBhIFZlbG9jaXR5UHJvcGVydHkgYXJndW1lbnQgaW50byBhIHZhbGlkIHNwYXJzZSBUd2VlbiBhcnJheS4gVGhpc1xyXG4gICAqIHByZS1hbGxvY2F0ZXMgdGhlIGFycmF5IGFzIGl0IGlzIHRoZW4gdGhlIGNvcnJlY3Qgc2l6ZSBhbmQgc2xpZ2h0bHlcclxuICAgKiBmYXN0ZXIgdG8gYWNjZXNzLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGV4cGFuZFByb3BlcnRpZXMoYW5pbWF0aW9uLCBwcm9wZXJ0aWVzKSB7XHJcbiAgICAgIHZhciB0d2VlbnMgPSBhbmltYXRpb24udHdlZW5zID0gT2JqZWN0LmNyZWF0ZShudWxsKSxcclxuICAgICAgICAgIGVsZW1lbnRzID0gYW5pbWF0aW9uLmVsZW1lbnRzLFxyXG4gICAgICAgICAgZWxlbWVudCA9IGFuaW1hdGlvbi5lbGVtZW50LFxyXG4gICAgICAgICAgZWxlbWVudEFycmF5SW5kZXggPSBlbGVtZW50cy5pbmRleE9mKGVsZW1lbnQpLFxyXG4gICAgICAgICAgZGF0YSA9IERhdGEoZWxlbWVudCksXHJcbiAgICAgICAgICBxdWV1ZSA9IGdldFZhbHVlKGFuaW1hdGlvbi5xdWV1ZSwgYW5pbWF0aW9uLm9wdGlvbnMucXVldWUpLFxyXG4gICAgICAgICAgZHVyYXRpb24gPSBnZXRWYWx1ZShhbmltYXRpb24ub3B0aW9ucy5kdXJhdGlvbiwgZGVmYXVsdHMkMS5kdXJhdGlvbik7XHJcbiAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHtcclxuICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBjYW1lbENhc2UocHJvcGVydHkpLFxyXG4gICAgICAgICAgICAgICAgICBmbiA9IGdldE5vcm1hbGl6YXRpb24oZWxlbWVudCwgcHJvcGVydHlOYW1lKTtcclxuICAgICAgICAgICAgICB2YXIgdmFsdWVEYXRhID0gcHJvcGVydGllc1twcm9wZXJ0eV07XHJcbiAgICAgICAgICAgICAgaWYgKCFmbiAmJiBwcm9wZXJ0eU5hbWUgIT09IFwidHdlZW5cIikge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoVmVsb2NpdHkkJDEuZGVidWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2tpcHBpbmcgXFxcIlwiICsgcHJvcGVydHkgKyBcIlxcXCIgZHVlIHRvIGEgbGFjayBvZiBicm93c2VyIHN1cHBvcnQuXCIpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAodmFsdWVEYXRhID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgaWYgKFZlbG9jaXR5JCQxLmRlYnVnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNraXBwaW5nIFxcXCJcIiArIHByb3BlcnR5ICsgXCJcXFwiIGR1ZSB0byBubyB2YWx1ZSBzdXBwbGllZC5cIik7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHZhciB0d2VlbiA9IHR3ZWVuc1twcm9wZXJ0eU5hbWVdID0ge307XHJcbiAgICAgICAgICAgICAgdmFyIGVuZFZhbHVlID0gdm9pZCAwLFxyXG4gICAgICAgICAgICAgICAgICBzdGFydFZhbHVlID0gdm9pZCAwO1xyXG4gICAgICAgICAgICAgIHR3ZWVuLmZuID0gZm47XHJcbiAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWVEYXRhKSkge1xyXG4gICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgZnVuY3Rpb24gYXMgdGhlIG1haW4gYXJndW1lbnQgdGhlbiByZXNvbHZlXHJcbiAgICAgICAgICAgICAgICAgIC8vIGl0IGZpcnN0LCBpbiBjYXNlIGl0IHJldHVybnMgYW4gYXJyYXkgdGhhdCBuZWVkcyB0byBiZVxyXG4gICAgICAgICAgICAgICAgICAvLyBzcGxpdC5cclxuICAgICAgICAgICAgICAgICAgdmFsdWVEYXRhID0gdmFsdWVEYXRhLmNhbGwoZWxlbWVudCwgZWxlbWVudEFycmF5SW5kZXgsIGVsZW1lbnRzLmxlbmd0aCwgZWxlbWVudHMpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZURhdGEpKSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIHZhbHVlRGF0YSBpcyBhbiBhcnJheSBpbiB0aGUgZm9ybSBvZlxyXG4gICAgICAgICAgICAgICAgICAvLyBbIGVuZFZhbHVlLCBbLCBlYXNpbmddIFssIHN0YXJ0VmFsdWVdIF1cclxuICAgICAgICAgICAgICAgICAgdmFyIGFycjEgPSB2YWx1ZURhdGFbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICBhcnIyID0gdmFsdWVEYXRhWzJdO1xyXG4gICAgICAgICAgICAgICAgICBlbmRWYWx1ZSA9IHZhbHVlRGF0YVswXTtcclxuICAgICAgICAgICAgICAgICAgaWYgKGlzU3RyaW5nKGFycjEpICYmICgvXltcXGQtXS8udGVzdChhcnIxKSB8fCByeEhleC50ZXN0KGFycjEpKSB8fCBpc0Z1bmN0aW9uKGFycjEpIHx8IGlzTnVtYmVyKGFycjEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzdGFydFZhbHVlID0gYXJyMTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyhhcnIxKSAmJiBFYXNpbmdzW2FycjFdIHx8IEFycmF5LmlzQXJyYXkoYXJyMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHR3ZWVuLmVhc2luZyA9IHZhbGlkYXRlRWFzaW5nKGFycjEsIGR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VmFsdWUgPSBhcnIyO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgc3RhcnRWYWx1ZSA9IGFycjEgfHwgYXJyMjtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIGVuZFZhbHVlID0gdmFsdWVEYXRhO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB0d2Vlbi5lbmQgPSBjb21tYW5kc1t0eXBlb2YgZW5kVmFsdWUgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihlbmRWYWx1ZSldKGVuZFZhbHVlLCBlbGVtZW50LCBlbGVtZW50cywgZWxlbWVudEFycmF5SW5kZXgsIHByb3BlcnR5TmFtZSwgdHdlZW4pO1xyXG4gICAgICAgICAgICAgIGlmIChzdGFydFZhbHVlICE9IG51bGwgfHwgcXVldWUgPT09IGZhbHNlIHx8IGRhdGEucXVldWVMaXN0W3F1ZXVlXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgIHR3ZWVuLnN0YXJ0ID0gY29tbWFuZHNbdHlwZW9mIHN0YXJ0VmFsdWUgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihzdGFydFZhbHVlKV0oc3RhcnRWYWx1ZSwgZWxlbWVudCwgZWxlbWVudHMsIGVsZW1lbnRBcnJheUluZGV4LCBwcm9wZXJ0eU5hbWUsIHR3ZWVuKTtcclxuICAgICAgICAgICAgICAgICAgZXhwbG9kZVR3ZWVuKHByb3BlcnR5TmFtZSwgdHdlZW4sIGR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICB9XHJcbiAgLy8gVE9ETzogTmVlZHMgYSBiZXR0ZXIgbWF0Y2ggZm9yIFwidHJhbnNsYXRlM2RcIiBldGMgLSBhIG51bWJlciBtdXN0IGJlIHByZWNlZGVkIGJ5IHNvbWUgZm9ybSBvZiBicmVhay4uLlxyXG4gIHZhciByeFRva2VuID0gLygoPzpbK1xcLSovXT0pPyg/OlsrLV0/XFxkKlxcLlxcZCt8WystXT9cXGQrKVthLXolXSp8KD86Lig/ISR8WystXT9cXGR8WytcXC0qL109WystXT9cXGQpKSsufC4pL2csXHJcbiAgICAgIHJ4TnVtYmVyID0gL14oWytcXC0qL109KT8oWystXT9cXGQqXFwuXFxkK3xbKy1dP1xcZCspKC4qKSQvO1xyXG4gIC8qKlxyXG4gICAqIEZpbmQgYSBwYXR0ZXJuIGJldHdlZW4gbXVsdGlwbGUgc3RyaW5ncywgcmV0dXJuIGEgVmVsb2NpdHlTZXF1ZW5jZSB3aXRoXHJcbiAgICogdGhlIHBhdHRlcm4gYW5kIHRoZSB0b2tlbmlzZWQgdmFsdWVzLlxyXG4gICAqXHJcbiAgICogSWYgbnVtYmVyIHRoZW4gYW5pbWF0ZS5cclxuICAgKiBJZiBhIHN0cmluZyB0aGVuIG11c3QgbWF0Y2guXHJcbiAgICogSWYgdW5pdHMgdGhlbiBjb252ZXJ0IGJldHdlZW4gdGhlbSBieSB3cmFwcGluZyBpbiBhIGNhbGMoKS5cclxuICAgKiAtIElmIGFscmVhZHkgaW4gYSBjYWxjIHRoZW4gbmVzdCBhbm90aGVyIGxheWVyLlxyXG4gICAqIElmIGluIGFuIHJnYmEoKSB0aGVuIHRoZSBmaXJzdCB0aHJlZSBudW1iZXJzIGFyZSByb3VuZGVkLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGZpbmRQYXR0ZXJuKHBhcnRzLCBwcm9wZXJ0eU5hbWUpIHtcclxuICAgICAgdmFyIHBhcnRzTGVuZ3RoID0gcGFydHMubGVuZ3RoLFxyXG4gICAgICAgICAgdG9rZW5zID0gW10sXHJcbiAgICAgICAgICBpbmRleGVzID0gW107XHJcbiAgICAgIHZhciBudW1iZXJzID0gdm9pZCAwO1xyXG4gICAgICAvLyBGaXJzdCB0b2tlbmlzZSB0aGUgc3RyaW5ncyAtIHRoZXNlIGhhdmUgYWxsIHZhbHVlcywgd2Ugd2lsbCBwdWxsXHJcbiAgICAgIC8vIG51bWJlcnMgbGF0ZXIuXHJcbiAgICAgIGZvciAodmFyIHBhcnQgPSAwOyBwYXJ0IDwgcGFydHNMZW5ndGg7IHBhcnQrKykge1xyXG4gICAgICAgICAgaWYgKGlzU3RyaW5nKHBhcnRzW3BhcnRdKSkge1xyXG4gICAgICAgICAgICAgIGlmIChwYXJ0c1twYXJ0XSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICB0b2tlbnNbcGFydF0gPSBbXCJcIl07XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgdG9rZW5zW3BhcnRdID0gY2xvbmVBcnJheShwYXJ0c1twYXJ0XS5tYXRjaChyeFRva2VuKSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGluZGV4ZXNbcGFydF0gPSAwO1xyXG4gICAgICAgICAgICAgIC8vIElmIGl0IG1hdGNoZXMgbW9yZSB0aGFuIG9uZSB0aGluZyB0aGVuIHdlJ3ZlIGdvdCBhIG51bWJlci5cclxuICAgICAgICAgICAgICBudW1iZXJzID0gbnVtYmVycyB8fCB0b2tlbnNbcGFydF0ubGVuZ3RoID4gMTtcclxuICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGB0b2tlbnM6YCwgcGFydHNbcGFydF0sIHRva2Vuc1twYXJ0XSlcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBhbiBpbmNvbXBsZXRlIGxpbmV1cCwgaXQgd2lsbCBnZXQgdHJpZWQgYWdhaW4gbGF0ZXIuLi5cclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHNlcXVlbmNlID0gW10sXHJcbiAgICAgICAgICBwYXR0ZXJuID0gc2VxdWVuY2UucGF0dGVybiA9IFtdLFxyXG4gICAgICAgICAgYWRkU3RyaW5nID0gZnVuY3Rpb24gYWRkU3RyaW5nKHRleHQpIHtcclxuICAgICAgICAgIGlmIChpc1N0cmluZyhwYXR0ZXJuW3BhdHRlcm4ubGVuZ3RoIC0gMV0pKSB7XHJcbiAgICAgICAgICAgICAgcGF0dGVybltwYXR0ZXJuLmxlbmd0aCAtIDFdICs9IHRleHQ7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHRleHQpIHtcclxuICAgICAgICAgICAgICBwYXR0ZXJuLnB1c2godGV4dCk7XHJcbiAgICAgICAgICAgICAgZm9yICh2YXIgX3BhcnQgPSAwOyBfcGFydCA8IHBhcnRzTGVuZ3RoOyBfcGFydCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgIHNlcXVlbmNlW19wYXJ0XS5wdXNoKG51bGwpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgICAgIHJldHVyblN0cmluZ1R5cGUgPSBmdW5jdGlvbiByZXR1cm5TdHJpbmdUeXBlKCkge1xyXG4gICAgICAgICAgaWYgKG51bWJlcnMgfHwgcGF0dGVybi5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgLy9jb25zb2xlLmVycm9yKGBWZWxvY2l0eTogVHJ5aW5nIHRvIHBhdHRlcm4gbWF0Y2ggbWlzLW1hdGNoZWQgc3RyaW5ncyBcIiR7cHJvcGVydHlOYW1lfVwiOmAsIHBhcnRzKTtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB2YXIgaXNEaXNwbGF5ID0gcHJvcGVydHlOYW1lID09PSBcImRpc3BsYXlcIixcclxuICAgICAgICAgICAgICBpc1Zpc2liaWxpdHkgPSBwcm9wZXJ0eU5hbWUgPT09IFwidmlzaWJpbGl0eVwiO1xyXG4gICAgICAgICAgZm9yICh2YXIgX3BhcnQyID0gMDsgX3BhcnQyIDwgcGFydHNMZW5ndGg7IF9wYXJ0MisrKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFydHNbX3BhcnQyXTtcclxuICAgICAgICAgICAgICBzZXF1ZW5jZVtfcGFydDJdWzBdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgLy8gRG9uJ3QgY2FyZSBhYm91dCBkdXJhdGlvbi4uLlxyXG4gICAgICAgICAgICAgIHNlcXVlbmNlW19wYXJ0Ml0uZWFzaW5nID0gdmFsaWRhdGVFYXNpbmcoaXNEaXNwbGF5ICYmIHZhbHVlID09PSBcIm5vbmVcIiB8fCBpc1Zpc2liaWxpdHkgJiYgdmFsdWUgPT09IFwiaGlkZGVuXCIgfHwgIWlzRGlzcGxheSAmJiAhaXNWaXNpYmlsaXR5ID8gXCJhdC1lbmRcIiA6IFwiYXQtc3RhcnRcIiwgNDAwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHBhdHRlcm5bMF0gPSBmYWxzZTtcclxuICAgICAgICAgIHJldHVybiBzZXF1ZW5jZTtcclxuICAgICAgfTtcclxuICAgICAgdmFyIG1vcmUgPSB0cnVlO1xyXG4gICAgICBmb3IgKHZhciBfcGFydDMgPSAwOyBfcGFydDMgPCBwYXJ0c0xlbmd0aDsgX3BhcnQzKyspIHtcclxuICAgICAgICAgIHNlcXVlbmNlW19wYXJ0M10gPSBbXTtcclxuICAgICAgfVxyXG4gICAgICB3aGlsZSAobW9yZSkge1xyXG4gICAgICAgICAgdmFyIGJpdHMgPSBbXSxcclxuICAgICAgICAgICAgICB1bml0cyA9IFtdO1xyXG4gICAgICAgICAgdmFyIHRleHQgPSB2b2lkIDAsXHJcbiAgICAgICAgICAgICAgaXNVbml0bGVzcyA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgIGhhc051bWJlcnMgPSBmYWxzZTtcclxuICAgICAgICAgIGZvciAodmFyIF9wYXJ0NCA9IDA7IF9wYXJ0NCA8IHBhcnRzTGVuZ3RoOyBfcGFydDQrKykge1xyXG4gICAgICAgICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbX3BhcnQ0XSsrLFxyXG4gICAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2Vuc1tfcGFydDRdW2luZGV4XTtcclxuICAgICAgICAgICAgICBpZiAodG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgdmFyIG51bSA9IHRva2VuLm1hdGNoKHJ4TnVtYmVyKTsgLy8gW2lnbm9yZSwgY2hhbmdlLCBudW1iZXIsIHVuaXRdXHJcbiAgICAgICAgICAgICAgICAgIGlmIChudW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgIC8vIEl0J3MgYSBudW1iZXIsIHBvc3NpYmx5IHdpdGggYSArPSBjaGFuZ2UgYW5kIHVuaXQuXHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5TdHJpbmdUeXBlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlnaXRzID0gcGFyc2VGbG9hdChudW1bMl0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXQgPSBudW1bM10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlID0gbnVtWzFdID8gbnVtWzFdWzBdICsgdW5pdCA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VPclVuaXQgPSBjaGFuZ2UgfHwgdW5pdDtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWdpdHMgJiYgIXVuaXRzLmluY2x1ZGVzKGNoYW5nZU9yVW5pdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaWxsIGJlIGFuIGVtcHR5IHN0cmluZyBhdCB0aGUgbGVhc3QuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdHMucHVzaChjaGFuZ2VPclVuaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCF1bml0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpZ2l0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNOdW1iZXJzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1VuaXRsZXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICBiaXRzW19wYXJ0NF0gPSBjaGFuZ2UgPyBbZGlnaXRzLCBjaGFuZ2VPclVuaXQsIHRydWVdIDogW2RpZ2l0cywgY2hhbmdlT3JVbml0XTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiaXRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblN0cmluZ1R5cGUoKTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgIC8vIEl0J3MgYSBzdHJpbmcuXHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRleHQgIT09IHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblN0cmluZ1R5cGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoIV9wYXJ0NCkge1xyXG4gICAgICAgICAgICAgICAgICBmb3IgKDsgX3BhcnQ0IDwgcGFydHNMZW5ndGg7IF9wYXJ0NCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXgyID0gaW5kZXhlc1tfcGFydDRdKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5zW19wYXJ0NF1baW5kZXgyXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5TdHJpbmdUeXBlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgLy8gSU1QT1JUQU5UOiBUaGlzIGlzIHRoZSBleGl0IHBvaW50LlxyXG4gICAgICAgICAgICAgICAgICBtb3JlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIERpZmZlcmVudFxyXG4gICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHRleHQpIHtcclxuICAgICAgICAgICAgICBhZGRTdHJpbmcodGV4dCk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHVuaXRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgIGlmICh1bml0cy5sZW5ndGggPT09IDIgJiYgaXNVbml0bGVzcyAmJiAhaGFzTnVtYmVycykge1xyXG4gICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBvbmx5IGhhdmUgdHdvIHVuaXRzLCBhbmQgb25lIGlzIGVtcHR5LCBhbmQgaXQncyBvbmx5IGVtcHR5IG9uIFwiMFwiLCB0aGVuIHRyZWF0IHVzIGFzIGhhdmluZyBvbmUgdW5pdFxyXG4gICAgICAgICAgICAgICAgICB1bml0cy5zcGxpY2UodW5pdHNbMF0gPyAxIDogMCwgMSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmICh1bml0cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgLy8gQWxsIHRoZSBzYW1lIHVuaXRzLCBzbyBhcHBlbmQgbnVtYmVyIHRoZW4gdW5pdC5cclxuICAgICAgICAgICAgICAgICAgdmFyIF91bml0ID0gdW5pdHNbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICBmaXJzdExldHRlciA9IF91bml0WzBdO1xyXG4gICAgICAgICAgICAgICAgICBzd2l0Y2ggKGZpcnN0TGV0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiK1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIi1cIjpcclxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIqXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiL1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eU5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlZlbG9jaXR5OiBUaGUgZmlyc3QgcHJvcGVydHkgbXVzdCBub3QgY29udGFpbiBhIHJlbGF0aXZlIGZ1bmN0aW9uIFxcXCJcIiArIHByb3BlcnR5TmFtZSArIFwiXFxcIjpcIiwgcGFydHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgcGF0dGVybi5wdXNoKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX3BhcnQ1ID0gMDsgX3BhcnQ1IDwgcGFydHNMZW5ndGg7IF9wYXJ0NSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZVtfcGFydDVdLnB1c2goYml0c1tfcGFydDVdWzBdKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBhZGRTdHJpbmcoX3VuaXQpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIE11bHRpcGxlIHVuaXRzLCBzbyBtdXN0IGJlIGluc2lkZSBhIGNhbGMuXHJcbiAgICAgICAgICAgICAgICAgIGFkZFN0cmluZyhcImNhbGMoXCIpO1xyXG4gICAgICAgICAgICAgICAgICB2YXIgcGF0dGVybkNhbGMgPSBwYXR0ZXJuLmxlbmd0aCAtIDE7IC8vIFN0b3JlIHRoZSBiZWdpbm5pbmcgb2Ygb3VyIGNhbGMuXHJcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdW5pdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciBfdW5pdDIgPSB1bml0c1tpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBfZmlyc3RMZXR0ZXIgPSBfdW5pdDJbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21wbGV4ID0gX2ZpcnN0TGV0dGVyID09PSBcIipcIiB8fCBfZmlyc3RMZXR0ZXIgPT09IFwiL1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzTWF0aHMgPSBpc0NvbXBsZXggfHwgX2ZpcnN0TGV0dGVyID09PSBcIitcIiB8fCBfZmlyc3RMZXR0ZXIgPT09IFwiLVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29tcGxleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IE5vdCBzdXJlIHRoaXMgc2hvdWxkIGJlIGRvbmUgYXV0b21hdGljYWxseSFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuW3BhdHRlcm5DYWxjXSArPSBcIihcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRTdHJpbmcoXCIpXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRTdHJpbmcoXCIgXCIgKyAoaXNNYXRocyA/IF9maXJzdExldHRlciA6IFwiK1wiKSArIFwiIFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4ucHVzaChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfcGFydDYgPSAwOyBfcGFydDYgPCBwYXJ0c0xlbmd0aDsgX3BhcnQ2KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYml0ID0gYml0c1tfcGFydDZdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGJpdFsxXSA9PT0gX3VuaXQyID8gYml0WzBdIDogYml0Lmxlbmd0aCA9PT0gMyA/IHNlcXVlbmNlW19wYXJ0NiAtIDFdW3NlcXVlbmNlW19wYXJ0NiAtIDFdLmxlbmd0aCAtIDFdIDogaXNDb21wbGV4ID8gMSA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VbX3BhcnQ2XS5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIGFkZFN0cmluZyhpc01hdGhzID8gX3VuaXQyLnN1YnN0cmluZygxKSA6IF91bml0Mik7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgYWRkU3RyaW5nKFwiKVwiKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLy8gV2UndmUgZ290IGhlcmUsIHNvIGEgdmFsaWQgc2VxdWVuY2UgLSBub3cgY2hlY2sgYW5kIGZpeCBSR0Igcm91bmRpbmdcclxuICAgICAgLy8gYW5kIGNhbGMoKSBuZXN0aW5nLi4uXHJcbiAgICAgIC8vIFRPRE86IE5lc3RlZCBjYWxjKGEgKyBjYWxjKGIgKyBjKSkgLT4gY2FsYyhhICsgKGIgKyBjKSlcclxuICAgICAgZm9yICh2YXIgX2kgPSAwLCBpblJHQiA9IDA7IF9pIDwgcGF0dGVybi5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgIHZhciBfdGV4dCA9IHBhdHRlcm5bX2ldO1xyXG4gICAgICAgICAgaWYgKGlzU3RyaW5nKF90ZXh0KSkge1xyXG4gICAgICAgICAgICAgIGlmIChpblJHQiAmJiBfdGV4dC5pbmRleE9mKFwiLFwiKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgIGluUkdCKys7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGV4dC5pbmRleE9mKFwicmdiXCIpID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgaW5SR0IgPSAxO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSBpZiAoaW5SR0IpIHtcclxuICAgICAgICAgICAgICBpZiAoaW5SR0IgPCA0KSB7XHJcbiAgICAgICAgICAgICAgICAgIHBhdHRlcm5bX2ldID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBpblJHQiA9IDA7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBzZXF1ZW5jZTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogQ29udmVydCBhIHN0cmluZy1iYXNlZCB0d2VlbiB3aXRoIHN0YXJ0IGFuZCBlbmQgc3RyaW5ncywgaW50byBhIHBhdHRlcm5cclxuICAgKiBiYXNlZCB0d2VlbiB3aXRoIGFycmF5cy5cclxuICAgKi9cclxuICBmdW5jdGlvbiBleHBsb2RlVHdlZW4ocHJvcGVydHlOYW1lLCB0d2VlbiwgZHVyYXRpb24sIHN0YXJ0aW5nKSB7XHJcbiAgICAgIHZhciBzdGFydFZhbHVlID0gdHdlZW4uc3RhcnQsXHJcbiAgICAgICAgICBlbmRWYWx1ZSA9IHR3ZWVuLmVuZDtcclxuICAgICAgaWYgKCFpc1N0cmluZyhlbmRWYWx1ZSkgfHwgIWlzU3RyaW5nKHN0YXJ0VmFsdWUpKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHNlcXVlbmNlID0gZmluZFBhdHRlcm4oW3N0YXJ0VmFsdWUsIGVuZFZhbHVlXSwgcHJvcGVydHlOYW1lKTtcclxuICAgICAgaWYgKCFzZXF1ZW5jZSAmJiBzdGFydGluZykge1xyXG4gICAgICAgICAgLy8gVGhpcyBsaXR0bGUgcGllY2Ugd2lsbCB0YWtlIGEgc3RhcnRWYWx1ZSwgc3BsaXQgb3V0IHRoZVxyXG4gICAgICAgICAgLy8gdmFyaW91cyBudW1iZXJzIGluIGl0LCB0aGVuIGNvcHkgdGhlIGVuZFZhbHVlIGludG8gdGhlXHJcbiAgICAgICAgICAvLyBzdGFydFZhbHVlIHdoaWxlIHJlcGxhY2luZyB0aGUgbnVtYmVycyBpbiBpdCB0byBtYXRjaCB0aGVcclxuICAgICAgICAgIC8vIG9yaWdpbmFsIHN0YXJ0IG51bWJlcnMgYXMgYSByZXBlYXRpbmcgc2VxdWVuY2UuXHJcbiAgICAgICAgICAvLyBGaW5hbGx5IHRoaXMgZnVuY3Rpb24gd2lsbCBydW4gYWdhaW4gd2l0aCB0aGUgbmV3XHJcbiAgICAgICAgICAvLyBzdGFydFZhbHVlIGFuZCBhIG5vdyBtYXRjaGluZyBwYXR0ZXJuLlxyXG4gICAgICAgICAgdmFyIHN0YXJ0TnVtYmVycyA9IHN0YXJ0VmFsdWUubWF0Y2goL1xcZFxcLj9cXGQqL2cpIHx8IFtcIjBcIl0sXHJcbiAgICAgICAgICAgICAgY291bnQgPSBzdGFydE51bWJlcnMubGVuZ3RoO1xyXG4gICAgICAgICAgdmFyIGluZGV4ID0gMDtcclxuICAgICAgICAgIHNlcXVlbmNlID0gZmluZFBhdHRlcm4oW2VuZFZhbHVlLnJlcGxhY2UoL1xcZCtcXC4/XFxkKi9nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0TnVtYmVyc1tpbmRleCsrICUgY291bnRdO1xyXG4gICAgICAgICAgfSksIGVuZFZhbHVlXSwgcHJvcGVydHlOYW1lKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoc2VxdWVuY2UpIHtcclxuICAgICAgICAgIGlmIChWZWxvY2l0eSQkMS5kZWJ1Zykge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVmVsb2NpdHk6IFNlcXVlbmNlIGZvdW5kOlwiLCBzZXF1ZW5jZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzZXF1ZW5jZVswXS5wZXJjZW50ID0gMDtcclxuICAgICAgICAgIHNlcXVlbmNlWzFdLnBlcmNlbnQgPSAxO1xyXG4gICAgICAgICAgdHdlZW4uc2VxdWVuY2UgPSBzZXF1ZW5jZTtcclxuICAgICAgICAgIHN3aXRjaCAodHdlZW4uZWFzaW5nKSB7XHJcbiAgICAgICAgICAgICAgY2FzZSBFYXNpbmdzW1wiYXQtc3RhcnRcIl06XHJcbiAgICAgICAgICAgICAgY2FzZSBFYXNpbmdzW1wiZHVyaW5nXCJdOlxyXG4gICAgICAgICAgICAgIGNhc2UgRWFzaW5nc1tcImF0LWVuZFwiXTpcclxuICAgICAgICAgICAgICAgICAgc2VxdWVuY2VbMF0uZWFzaW5nID0gc2VxdWVuY2VbMV0uZWFzaW5nID0gdHdlZW4uZWFzaW5nO1xyXG4gICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBFeHBhbmQgYWxsIHF1ZXVlZCBhbmltYXRpb25zIHRoYXQgaGF2ZW4ndCBnb25lIHlldFxyXG4gICAqXHJcbiAgICogVGhpcyB3aWxsIGF1dG9tYXRpY2FsbHkgZXhwYW5kIHRoZSBwcm9wZXJ0aWVzIG1hcCBmb3IgYW55IHJlY2VudGx5IGFkZGVkXHJcbiAgICogYW5pbWF0aW9ucyBzbyB0aGF0IHRoZSBzdGFydCBhbmQgZW5kIHZhbHVlcyBhcmUgY29ycmVjdC5cclxuICAgKi9cclxuICBmdW5jdGlvbiB2YWxpZGF0ZVR3ZWVucyhhY3RpdmVDYWxsKSB7XHJcbiAgICAgIC8vIFRoaXMgbWlnaHQgYmUgY2FsbGVkIG9uIGFuIGFscmVhZHktcmVhZHkgYW5pbWF0aW9uXHJcbiAgICAgIGlmIChTdGF0ZS5maXJzdE5ldyA9PT0gYWN0aXZlQ2FsbCkge1xyXG4gICAgICAgICAgU3RhdGUuZmlyc3ROZXcgPSBhY3RpdmVDYWxsLl9uZXh0O1xyXG4gICAgICB9XHJcbiAgICAgIC8vIENoZWNrIGlmIHdlJ3JlIGFjdHVhbGx5IGFscmVhZHkgcmVhZHlcclxuICAgICAgaWYgKGFjdGl2ZUNhbGwuX2ZsYWdzICYgMSAvKiBFWFBBTkRFRCAqLykge1xyXG4gICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgdmFyIGVsZW1lbnQgPSBhY3RpdmVDYWxsLmVsZW1lbnQsXHJcbiAgICAgICAgICB0d2VlbnMgPSBhY3RpdmVDYWxsLnR3ZWVucyxcclxuICAgICAgICAgIGR1cmF0aW9uID0gZ2V0VmFsdWUoYWN0aXZlQ2FsbC5vcHRpb25zLmR1cmF0aW9uLCBkZWZhdWx0cyQxLmR1cmF0aW9uKTtcclxuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmZvcmluXHJcbiAgICAgIGZvciAodmFyIHByb3BlcnR5TmFtZSBpbiB0d2VlbnMpIHtcclxuICAgICAgICAgIHZhciB0d2VlbiA9IHR3ZWVuc1twcm9wZXJ0eU5hbWVdO1xyXG4gICAgICAgICAgaWYgKHR3ZWVuLnN0YXJ0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAvLyBHZXQgdGhlIHN0YXJ0IHZhbHVlIGFzIGl0J3Mgbm90IGJlZW4gcGFzc2VkIGluXHJcbiAgICAgICAgICAgICAgdmFyIHN0YXJ0VmFsdWUgPSBnZXRQcm9wZXJ0eVZhbHVlKGFjdGl2ZUNhbGwuZWxlbWVudCwgcHJvcGVydHlOYW1lKTtcclxuICAgICAgICAgICAgICBpZiAoaXNTdHJpbmcoc3RhcnRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgdHdlZW4uc3RhcnQgPSBmaXhDb2xvcnMoc3RhcnRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgIGV4cGxvZGVUd2Vlbihwcm9wZXJ0eU5hbWUsIHR3ZWVuLCBkdXJhdGlvbiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShzdGFydFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJiYWQgdHlwZVwiLCB0d2VlbiwgcHJvcGVydHlOYW1lLCBzdGFydFZhbHVlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoVmVsb2NpdHkkJDEuZGVidWcpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInR3ZWVuc0NvbnRhaW5lciBcXFwiXCIgKyBwcm9wZXJ0eU5hbWUgKyBcIlxcXCI6IFwiICsgSlNPTi5zdHJpbmdpZnkodHdlZW4pLCBlbGVtZW50KTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBhY3RpdmVDYWxsLl9mbGFncyB8PSAxIC8qIEVYUEFOREVEICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcclxuICB9XHJcblxyXG4gIC8vIFByb2plY3RcclxuICAvKipcclxuICAgKiBDYWxsIHRoZSBiZWdpbiBtZXRob2Qgb2YgYW4gYW5pbWF0aW9uIGluIGEgc2VwYXJhdGUgZnVuY3Rpb24gc28gaXQgY2FuXHJcbiAgICogYmVuZWZpdCBmcm9tIEpJVCBjb21waWxpbmcgd2hpbGUgc3RpbGwgaGF2aW5nIGEgdHJ5L2NhdGNoIGJsb2NrLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGJlZ2luQ2FsbChhY3RpdmVDYWxsKSB7XHJcbiAgICAgIHZhciBjYWxsYmFjayA9IGFjdGl2ZUNhbGwuYmVnaW4gfHwgYWN0aXZlQ2FsbC5vcHRpb25zLmJlZ2luO1xyXG4gICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gYWN0aXZlQ2FsbC5lbGVtZW50cztcclxuICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKGVsZW1lbnRzLCBlbGVtZW50cywgYWN0aXZlQ2FsbCk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICAgICAgICB9LCAxKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBDYWxsIHRoZSBwcm9ncmVzcyBtZXRob2Qgb2YgYW4gYW5pbWF0aW9uIGluIGEgc2VwYXJhdGUgZnVuY3Rpb24gc28gaXQgY2FuXHJcbiAgICogYmVuZWZpdCBmcm9tIEpJVCBjb21waWxpbmcgd2hpbGUgc3RpbGwgaGF2aW5nIGEgdHJ5L2NhdGNoIGJsb2NrLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHByb2dyZXNzQ2FsbChhY3RpdmVDYWxsKSB7XHJcbiAgICAgIHZhciBjYWxsYmFjayA9IGFjdGl2ZUNhbGwucHJvZ3Jlc3MgfHwgYWN0aXZlQ2FsbC5vcHRpb25zLnByb2dyZXNzO1xyXG4gICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gYWN0aXZlQ2FsbC5lbGVtZW50cyxcclxuICAgICAgICAgICAgICAgICAgcGVyY2VudENvbXBsZXRlID0gYWN0aXZlQ2FsbC5wZXJjZW50Q29tcGxldGUsXHJcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBhY3RpdmVDYWxsLm9wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICAgIHR3ZWVuVmFsdWUgPSBhY3RpdmVDYWxsLnR3ZWVuO1xyXG4gICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoZWxlbWVudHMsIGVsZW1lbnRzLCBwZXJjZW50Q29tcGxldGUsIE1hdGgubWF4KDAsIGFjdGl2ZUNhbGwudGltZVN0YXJ0ICsgKGFjdGl2ZUNhbGwuZHVyYXRpb24gIT0gbnVsbCA/IGFjdGl2ZUNhbGwuZHVyYXRpb24gOiBvcHRpb25zLmR1cmF0aW9uICE9IG51bGwgPyBvcHRpb25zLmR1cmF0aW9uIDogZGVmYXVsdHMkMS5kdXJhdGlvbikgLSBsYXN0VGljayksIHR3ZWVuVmFsdWUgIT09IHVuZGVmaW5lZCA/IHR3ZWVuVmFsdWUgOiBTdHJpbmcocGVyY2VudENvbXBsZXRlICogMTAwKSwgYWN0aXZlQ2FsbCk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICAgICAgICB9LCAxKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBDYWxsIGNhbGxiYWNrcywgcG90ZW50aWFsbHkgcnVuIGFzeW5jIHdpdGggdGhlIG1haW4gYW5pbWF0aW9uIHRocmVhZC5cclxuICAgKi9cclxuICBmdW5jdGlvbiBhc3luY0NhbGxiYWNrcygpIHtcclxuICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xyXG4gICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcclxuICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHByb2dyZXNzZWRbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGFjdGl2ZUNhbGwgPSBfc3RlcC52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgcHJvZ3Jlc3NDYWxsKGFjdGl2ZUNhbGwpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcclxuICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xyXG4gICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBwcm9ncmVzc2VkLmNsZWFyKCk7XHJcbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XHJcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcclxuICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gY29tcGxldGVkW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgdmFyIF9hY3RpdmVDYWxsID0gX3N0ZXAyLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICBjb21wbGV0ZUNhbGwoX2FjdGl2ZUNhbGwpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XHJcbiAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XHJcbiAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcclxuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcclxuICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY29tcGxldGVkLmNsZWFyKCk7XHJcbiAgfVxyXG4gIC8qKioqKioqKioqKioqKlxyXG4gICBUaW1pbmdcclxuICAgKioqKioqKioqKioqKiovXHJcbiAgdmFyIEZSQU1FX1RJTUUgPSAxMDAwIC8gNjAsXHJcblxyXG4gIC8qKlxyXG4gICAqIEFuaW1hdGlvbnMgd2l0aCBhIENvbXBsZXRlIGNhbGxiYWNrLlxyXG4gICAqL1xyXG4gIGNvbXBsZXRlZCA9IG5ldyBTZXQoKSxcclxuXHJcbiAgLyoqXHJcbiAgICogQW5pbWF0aW9ucyB3aXRoIGEgUHJvZ3Jlc3MgY2FsbGJhY2suXHJcbiAgICovXHJcbiAgcHJvZ3Jlc3NlZCA9IG5ldyBTZXQoKSxcclxuXHJcbiAgLyoqXHJcbiAgICogU2hpbSBmb3Igd2luZG93LnBlcmZvcm1hbmNlIGluIGNhc2UgaXQgZG9lc24ndCBleGlzdFxyXG4gICAqL1xyXG4gIHBlcmZvcm1hbmNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgcGVyZiA9IHdpbmRvdy5wZXJmb3JtYW5jZSB8fCB7fTtcclxuICAgICAgaWYgKHR5cGVvZiBwZXJmLm5vdyAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICB2YXIgbm93T2Zmc2V0ID0gcGVyZi50aW1pbmcgJiYgcGVyZi50aW1pbmcubmF2aWdhdGlvblN0YXJ0ID8gcGVyZi50aW1pbmcubmF2aWdhdGlvblN0YXJ0IDogbm93KCk7XHJcbiAgICAgICAgICBwZXJmLm5vdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gbm93KCkgLSBub3dPZmZzZXQ7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBwZXJmO1xyXG4gIH0oKSxcclxuXHJcbiAgLyoqXHJcbiAgICogUHJveHkgZnVuY3Rpb24gZm9yIHdoZW4gckFGIGlzIG5vdCBhdmFpbGFibGUuXHJcbiAgICpcclxuICAgKiBUaGlzIHNob3VsZCBob3BlZnVsbHkgbmV2ZXIgYmUgdXNlZCBhcyB0aGUgYnJvd3NlcnMgb2Z0ZW4gdGhyb3R0bGVcclxuICAgKiB0aGlzIHRvIGxlc3MgdGhhbiBvbmUgZnJhbWUgcGVyIHNlY29uZCBpbiB0aGUgYmFja2dyb3VuZCwgbWFraW5nIGl0XHJcbiAgICogY29tcGxldGVseSB1bnVzYWJsZS5cclxuICAgKi9cclxuICByQUZQcm94eSA9IGZ1bmN0aW9uIHJBRlByb3h5KGNhbGxiYWNrKSB7XHJcbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLCBNYXRoLm1heCgwLCBGUkFNRV9USU1FIC0gKHBlcmZvcm1hbmNlLm5vdygpIC0gbGFzdFRpY2spKSk7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogRWl0aGVyIHJlcXVlc3RBbmltYXRpb25GcmFtZSwgb3IgYSBzaGltIGZvciBpdC5cclxuICAgKi9cclxuICByQUZTaGltID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCByQUZQcm94eTtcclxuICAvKipcclxuICAgKiBTZXQgaWYgd2UgYXJlIGN1cnJlbnRseSBpbnNpZGUgYSB0aWNrKCkgdG8gcHJldmVudCBkb3VibGUtY2FsbGluZy5cclxuICAgKi9cclxuICB2YXIgdGlja2luZyA9IHZvaWQgMCxcclxuXHJcbiAgLyoqXHJcbiAgICogQSBiYWNrZ3JvdW5kIFdlYldvcmtlciB0aGF0IHNlbmRzIHVzIGZyYW1lcmF0ZSBtZXNzYWdlcyB3aGVuIHdlJ3JlIGluXHJcbiAgICogdGhlIGJhY2tncm91bmQuIFdpdGhvdXQgdGhpcyB3ZSBjYW5ub3QgbWFpbnRhaW4gZnJhbWUgYWNjdXJhY3kuXHJcbiAgICovXHJcbiAgd29ya2VyID0gdm9pZCAwO1xyXG4gIC8qKlxyXG4gICAqIFRoZSB0aW1lIHRoYXQgdGhlIGxhc3QgYW5pbWF0aW9uIGZyYW1lIHJhbiBhdC4gU2V0IGZyb20gdGljaygpLCBhbmQgdXNlZFxyXG4gICAqIGZvciBtaXNzaW5nIHJBRiAoaWUsIHdoZW4gbm90IGluIGZvY3VzIGV0YykuXHJcbiAgICovXHJcbiAgdmFyIGxhc3RUaWNrID0gMDtcclxuICAvKipcclxuICAgKiBXZWJXb3JrZXIgYmFja2dyb3VuZCBmdW5jdGlvbi5cclxuICAgKlxyXG4gICAqIFdoZW4gd2UncmUgaW4gdGhlIGJhY2tncm91bmQgdGhpcyB3aWxsIHNlbmQgdXMgYSBtc2cgZXZlcnkgdGljaywgd2hlbiBpblxyXG4gICAqIHRoZSBmb3JlZ3JvdW5kIGl0IHdvbid0LlxyXG4gICAqXHJcbiAgICogV2hlbiBydW5uaW5nIGluIHRoZSBiYWNrZ3JvdW5kIHRoZSBicm93c2VyIHJlZHVjZXMgYWxsb3dlZCBDUFUgZXRjLCBzb1xyXG4gICAqIHdlIHJhdW4gYXQgMzBmcHMgaW5zdGVhZCBvZiA2MGZwcy5cclxuICAgKi9cclxuICBmdW5jdGlvbiB3b3JrZXJGbigpIHtcclxuICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICAgIHZhciBpbnRlcnZhbCA9IHZvaWQgMDtcclxuICAgICAgdGhpcy5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgc3dpdGNoIChlLmRhdGEpIHtcclxuICAgICAgICAgICAgICBjYXNlIHRydWU6XHJcbiAgICAgICAgICAgICAgICAgIGlmICghaW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc3RNZXNzYWdlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCAvIDMwKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICBjYXNlIGZhbHNlOlxyXG4gICAgICAgICAgICAgICAgICBpZiAoaW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgIF90aGlzLnBvc3RNZXNzYWdlKGUuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gIH1cclxuICB0cnkge1xyXG4gICAgICAvLyBDcmVhdGUgdGhlIHdvcmtlciAtIHRoaXMgbWlnaHQgbm90IGJlIHN1cHBvcnRlZCwgaGVuY2UgdGhlIHRyeS9jYXRjaC5cclxuICAgICAgd29ya2VyID0gbmV3IFdvcmtlcihVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtcIihcIiArIHdvcmtlckZuICsgXCIpKClcIl0pKSk7XHJcbiAgICAgIC8vIFdoZW5ldmVyIHRoZSB3b3JrZXIgc2VuZHMgYSBtZXNzYWdlIHdlIHRpY2soKVxyXG4gICAgICB3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgIGlmIChlLmRhdGEgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICB0aWNrKCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGFzeW5jQ2FsbGJhY2tzKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIC8vIEFuZCB3YXRjaCBmb3IgZ29pbmcgdG8gdGhlIGJhY2tncm91bmQgdG8gc3RhcnQgdGhlIFdlYldvcmtlciBydW5uaW5nLlxyXG4gICAgICBpZiAoIVN0YXRlLmlzTW9iaWxlICYmIGRvY3VtZW50LmhpZGRlbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKFN0YXRlLmlzVGlja2luZyAmJiBkb2N1bWVudC5oaWRkZW4pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICB9IGNhdGNoIChlKSB7fVxyXG4gIC8qXHJcbiAgICogV2ViV29ya2VycyBhcmUgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGZvcm1hdC4gVGhpcyBjYW4gaGFwcGVuIGluIElFMTBcclxuICAgKiB3aGVyZSBpdCBjYW4ndCBjcmVhdGUgb25lIGZyb20gYSBibG9iIHRoaXMgd2F5LiBXZSBmYWxsYmFjaywgYnV0IG1ha2VcclxuICAgKiBubyBndWFyYW50ZWVzIHRvd2FyZHMgYWNjdXJhY3kgaW4gdGhpcyBjYXNlLlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBDYWxsZWQgb24gZXZlcnkgdGljaywgcHJlZmVyYWJseSB0aHJvdWdoIHJBRi4gVGhpcyBpcyByZXBvbnNpYmxlIGZvclxyXG4gICAqIGluaXRpYWxpc2luZyBhbnkgbmV3IGFuaW1hdGlvbnMsIHRoZW4gc3RhcnRpbmcgYW55IHRoYXQgbmVlZCBzdGFydGluZy5cclxuICAgKiBGaW5hbGx5IGl0IHdpbGwgZXhwYW5kIGFueSB0d2VlbnMgYW5kIHNldCB0aGUgcHJvcGVydGllcyByZWxhdGluZyB0b1xyXG4gICAqIHRoZW0uIElmIHRoZXJlIGFyZSBhbnkgY2FsbGJhY2tzIHJlbGF0aW5nIHRvIHRoZSBhbmltYXRpb25zIHRoZW4gdGhleVxyXG4gICAqIHdpbGwgYXR0ZW1wdCB0byBjYWxsIGF0IHRoZSBlbmQgKHdpdGggdGhlIGV4Y2VwdGlvbiBvZiBcImJlZ2luXCIpLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHRpY2sodGltZXN0YW1wKSB7XHJcbiAgICAgIGlmICh0aWNraW5nKSB7XHJcbiAgICAgICAgICAvLyBTaG91bGQgbmV2ZXIgaGFwcGVuIC0gYnV0IGlmIHdlJ3ZlIHN3YXBwZWQgYmFjayBmcm9tIGhpZGRlbiB0b1xyXG4gICAgICAgICAgLy8gdmlzaWJpbGUgdGhlbiB3ZSB3YW50IHRvIG1ha2Ugc3VyZVxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHRpY2tpbmcgPSB0cnVlO1xyXG4gICAgICAvKiBBbiBlbXB0eSB0aW1lc3RhbXAgYXJndW1lbnQgaW5kaWNhdGVzIHRoYXQgdGhpcyBpcyB0aGUgZmlyc3QgdGljayBvY2N1cmVuY2Ugc2luY2UgdGlja2luZyB3YXMgdHVybmVkIG9uLlxyXG4gICAgICAgV2UgbGV2ZXJhZ2UgdGhpcyBtZXRhZGF0YSB0byBmdWxseSBpZ25vcmUgdGhlIGZpcnN0IHRpY2sgcGFzcyBzaW5jZSBSQUYncyBpbml0aWFsIHBhc3MgaXMgZmlyZWQgd2hlbmV2ZXJcclxuICAgICAgIHRoZSBicm93c2VyJ3MgbmV4dCB0aWNrIHN5bmMgdGltZSBvY2N1cnMsIHdoaWNoIHJlc3VsdHMgaW4gdGhlIGZpcnN0IGVsZW1lbnRzIHN1YmplY3RlZCB0byBWZWxvY2l0eVxyXG4gICAgICAgY2FsbHMgYmVpbmcgYW5pbWF0ZWQgb3V0IG9mIHN5bmMgd2l0aCBhbnkgZWxlbWVudHMgYW5pbWF0ZWQgaW1tZWRpYXRlbHkgdGhlcmVhZnRlci4gSW4gc2hvcnQsIHdlIGlnbm9yZVxyXG4gICAgICAgdGhlIGZpcnN0IFJBRiB0aWNrIHBhc3Mgc28gdGhhdCBlbGVtZW50cyBiZWluZyBpbW1lZGlhdGVseSBjb25zZWN1dGl2ZWx5IGFuaW1hdGVkIC0tIGluc3RlYWQgb2Ygc2ltdWx0YW5lb3VzbHkgYW5pbWF0ZWRcclxuICAgICAgIGJ5IHRoZSBzYW1lIFZlbG9jaXR5IGNhbGwgLS0gYXJlIHByb3Blcmx5IGJhdGNoZWQgaW50byB0aGUgc2FtZSBpbml0aWFsIFJBRiB0aWNrIGFuZCBjb25zZXF1ZW50bHkgcmVtYWluIGluIHN5bmMgdGhlcmVhZnRlci4gKi9cclxuICAgICAgaWYgKHRpbWVzdGFtcCAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgIHZhciB0aW1lQ3VycmVudCA9IHBlcmZvcm1hbmNlLm5vdygpLFxyXG4gICAgICAgICAgICAgIGRlbHRhVGltZSA9IGxhc3RUaWNrID8gdGltZUN1cnJlbnQgLSBsYXN0VGljayA6IEZSQU1FX1RJTUUsXHJcbiAgICAgICAgICAgICAgZGVmYXVsdFNwZWVkID0gZGVmYXVsdHMkMS5zcGVlZCxcclxuICAgICAgICAgICAgICBkZWZhdWx0RWFzaW5nID0gZGVmYXVsdHMkMS5lYXNpbmcsXHJcbiAgICAgICAgICAgICAgZGVmYXVsdER1cmF0aW9uID0gZGVmYXVsdHMkMS5kdXJhdGlvbjtcclxuICAgICAgICAgIHZhciBhY3RpdmVDYWxsID0gdm9pZCAwLFxyXG4gICAgICAgICAgICAgIG5leHRDYWxsID0gdm9pZCAwO1xyXG4gICAgICAgICAgaWYgKGRlbHRhVGltZSA+PSBkZWZhdWx0cyQxLm1pbkZyYW1lVGltZSB8fCAhbGFzdFRpY2spIHtcclxuICAgICAgICAgICAgICBsYXN0VGljayA9IHRpbWVDdXJyZW50O1xyXG4gICAgICAgICAgICAgIC8qKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICAgICAgICAgICBDYWxsIEl0ZXJhdGlvblxyXG4gICAgICAgICAgICAgICAqKioqKioqKioqKioqKioqKioqKi9cclxuICAgICAgICAgICAgICAvLyBFeHBhbmQgYW55IHR3ZWVucyB0aGF0IG1pZ2h0IG5lZWQgaXQuXHJcbiAgICAgICAgICAgICAgd2hpbGUgKFN0YXRlLmZpcnN0TmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlVHdlZW5zKFN0YXRlLmZpcnN0TmV3KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGVhY2ggYWN0aXZlIGNhbGwuXHJcbiAgICAgICAgICAgICAgZm9yIChhY3RpdmVDYWxsID0gU3RhdGUuZmlyc3Q7IGFjdGl2ZUNhbGwgJiYgYWN0aXZlQ2FsbCAhPT0gU3RhdGUuZmlyc3ROZXc7IGFjdGl2ZUNhbGwgPSBhY3RpdmVDYWxsLl9uZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gYWN0aXZlQ2FsbC5lbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IERhdGEoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGlzIGVsZW1lbnQgaGFzIGJlZW4gZGVsZXRlZCBtaWR3YXlcclxuICAgICAgICAgICAgICAgICAgLy8gdGhyb3VnaCB0aGUgYW5pbWF0aW9uLiBJZiBpdCdzIGdvbmUgdGhlbiBlbmQgdGhpc1xyXG4gICAgICAgICAgICAgICAgICAvLyBhbmltYXRpb24uXHJcbiAgICAgICAgICAgICAgICAgIGlmICghZWxlbWVudC5wYXJlbnROb2RlIHx8ICFkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgc2FmZWx5IC0gZGVjcmVhc2UgY291bnQsIGRlbGV0ZSBkYXRhLCByZW1vdmUgZnJvbSBhcnJheXNcclxuICAgICAgICAgICAgICAgICAgICAgIGZyZWVBbmltYXRpb25DYWxsKGFjdGl2ZUNhbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgYm90aGVyIGdldHRpbmcgdW50aWwgd2UgY2FuIHVzZSB0aGVzZS5cclxuICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBhY3RpdmVDYWxsLm9wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICBmbGFncyA9IGFjdGl2ZUNhbGwuX2ZsYWdzO1xyXG4gICAgICAgICAgICAgICAgICB2YXIgdGltZVN0YXJ0ID0gYWN0aXZlQ2FsbC50aW1lU3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGZpcnN0IHRpbWUgdGhhdCB0aGlzIGNhbGwgaGFzIGJlZW5cclxuICAgICAgICAgICAgICAgICAgLy8gcHJvY2Vzc2VkIGJ5IHRpY2soKSB0aGVuIHdlIGFzc2lnbiB0aW1lU3RhcnQgbm93IHNvIHRoYXRcclxuICAgICAgICAgICAgICAgICAgLy8gaXQncyB2YWx1ZSBpcyBhcyBjbG9zZSB0byB0aGUgcmVhbCBhbmltYXRpb24gc3RhcnQgdGltZVxyXG4gICAgICAgICAgICAgICAgICAvLyBhcyBwb3NzaWJsZS5cclxuICAgICAgICAgICAgICAgICAgaWYgKCF0aW1lU3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciBxdWV1ZSA9IGFjdGl2ZUNhbGwucXVldWUgIT0gbnVsbCA/IGFjdGl2ZUNhbGwucXVldWUgOiBvcHRpb25zLnF1ZXVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGltZVN0YXJ0ID0gdGltZUN1cnJlbnQgLSBkZWx0YVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocXVldWUgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZVN0YXJ0ID0gTWF0aC5tYXgodGltZVN0YXJ0LCBkYXRhLmxhc3RGaW5pc2hMaXN0W3F1ZXVlXSB8fCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNhbGwudGltZVN0YXJ0ID0gdGltZVN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgYW5pbWF0aW9uIGlzIHBhdXNlZCB0aGVuIHNraXAgcHJvY2Vzc2luZyB1bmxlc3NcclxuICAgICAgICAgICAgICAgICAgLy8gaXQgaGFzIGJlZW4gc2V0IHRvIHJlc3VtZS5cclxuICAgICAgICAgICAgICAgICAgaWYgKGZsYWdzICYgMTYgLyogUEFVU0VEICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSB0aW1lIHN0YXJ0IHRvIGFjY29tb2RhdGUgdGhlIHBhdXNlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbXBsZXRpb24gYW1vdW50LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNhbGwudGltZVN0YXJ0ICs9IGRlbHRhVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBhbmltYXRpb24gaXMgcmVhZHkgLSBpZiBpdCdzIHN5bmNlZCB0aGVuIGl0XHJcbiAgICAgICAgICAgICAgICAgIC8vIG5lZWRzIHRvIHdhaXQgZm9yIGFsbCBvdGhlciBhbmltYXRpb25zIGluIHRoZSBzeW5jXHJcbiAgICAgICAgICAgICAgICAgIGlmICghKGZsYWdzICYgMiAvKiBSRUFEWSAqLykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2FsbC5fZmxhZ3MgfD0gMiAvKiBSRUFEWSAqLzsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXHJcbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLl9yZWFkeSsrO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIC8vIE5lZWQgdG8gc3BsaXQgdGhlIGxvb3AsIGFzIHJlYWR5IHN5bmMgYW5pbWF0aW9ucyBtdXN0IGFsbCBnZXRcclxuICAgICAgICAgICAgICAvLyB0aGUgc2FtZSBzdGFydCB0aW1lLlxyXG4gICAgICAgICAgICAgIGZvciAoYWN0aXZlQ2FsbCA9IFN0YXRlLmZpcnN0OyBhY3RpdmVDYWxsICYmIGFjdGl2ZUNhbGwgIT09IFN0YXRlLmZpcnN0TmV3OyBhY3RpdmVDYWxsID0gbmV4dENhbGwpIHtcclxuICAgICAgICAgICAgICAgICAgdmFyIF9mbGFncyA9IGFjdGl2ZUNhbGwuX2ZsYWdzO1xyXG4gICAgICAgICAgICAgICAgICBuZXh0Q2FsbCA9IGFjdGl2ZUNhbGwuX25leHQ7XHJcbiAgICAgICAgICAgICAgICAgIGlmICghKF9mbGFncyAmIDIgLyogUkVBRFkgKi8pIHx8IF9mbGFncyAmIDE2IC8qIFBBVVNFRCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXHJcbiAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB2YXIgX29wdGlvbnMgPSBhY3RpdmVDYWxsLm9wdGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChfZmxhZ3MgJiAzMiAvKiBTWU5DICovICYmIF9vcHRpb25zLl9yZWFkeSA8IF9vcHRpb25zLl90b3RhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXHJcbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVDYWxsLnRpbWVTdGFydCArPSBkZWx0YVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB2YXIgc3BlZWQgPSBhY3RpdmVDYWxsLnNwZWVkICE9IG51bGwgPyBhY3RpdmVDYWxsLnNwZWVkIDogX29wdGlvbnMuc3BlZWQgIT0gbnVsbCA/IF9vcHRpb25zLnNwZWVkIDogZGVmYXVsdFNwZWVkO1xyXG4gICAgICAgICAgICAgICAgICB2YXIgX3RpbWVTdGFydCA9IGFjdGl2ZUNhbGwudGltZVN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAvLyBEb24ndCBib3RoZXIgZ2V0dGluZyB1bnRpbCB3ZSBjYW4gdXNlIHRoZXNlLlxyXG4gICAgICAgICAgICAgICAgICBpZiAoIShfZmxhZ3MgJiA0IC8qIFNUQVJURUQgKi8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWxheSA9IGFjdGl2ZUNhbGwuZGVsYXkgIT0gbnVsbCA/IGFjdGl2ZUNhbGwuZGVsYXkgOiBfb3B0aW9ucy5kZWxheTtcclxuICAgICAgICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBhbnl0aGluZyB3ZSd2ZSBkZWxheWVkIGRvZXNuJ3Qgc3RhcnRcclxuICAgICAgICAgICAgICAgICAgICAgIC8vIGFuaW1hdGluZyB5ZXQsIHRoZXJlIG1pZ2h0IHN0aWxsIGJlIGFuIGFjdGl2ZSBkZWxheVxyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gYWZ0ZXIgc29tZXRoaW5nIGhhcyBiZWVuIHVuLXBhdXNlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aW1lU3RhcnQgKyBkZWxheSAvIHNwZWVkID4gdGltZUN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNhbGwudGltZVN0YXJ0ID0gX3RpbWVTdGFydCArPSBkZWxheSAvIChkZWxheSA+IDAgPyBzcGVlZCA6IDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2FsbC5fZmxhZ3MgfD0gNCAvKiBTVEFSVEVEICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcclxuICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBiZWdpbiBjYWxsYmFjayBpcyBmaXJlZCBvbmNlIHBlciBjYWxsLCBub3Qgb25jZVxyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gcGVyIGVsZW1lbnQsIGFuZCBpcyBwYXNzZWQgdGhlIGZ1bGwgcmF3IERPTSBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgYXMgYm90aCBpdHMgY29udGV4dCBhbmQgaXRzIGZpcnN0IGFyZ3VtZW50LlxyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKF9vcHRpb25zLl9zdGFydGVkKysgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBfb3B0aW9ucy5fZmlyc3QgPSBhY3RpdmVDYWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfb3B0aW9ucy5iZWdpbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXNzIHRvIGFuIGV4dGVybmFsIGZuIHdpdGggYSB0cnkvY2F0Y2ggYmxvY2sgZm9yIG9wdGltaXNhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWdpbkNhbGwoYWN0aXZlQ2FsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgY2FsbGVkIG9uY2UsIGV2ZW4gaWYgcmV2ZXJzZWQgb3IgcmVwZWF0ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29wdGlvbnMuYmVnaW4gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIGlmIChzcGVlZCAhPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gT24gdGhlIGZpcnN0IGZyYW1lIHdlIG1heSBoYXZlIGEgc2hvcnRlciBkZWx0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgZGVsdGEgPSBNYXRoLm1pbihkZWx0YVRpbWUsIHRpbWVDdXJyZW50IC0gdGltZVN0YXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNhbGwudGltZVN0YXJ0ID0gX3RpbWVTdGFydCArPSBNYXRoLm1pbihkZWx0YVRpbWUsIHRpbWVDdXJyZW50IC0gX3RpbWVTdGFydCkgKiAoMSAtIHNwZWVkKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlRWFzaW5nID0gYWN0aXZlQ2FsbC5lYXNpbmcgIT0gbnVsbCA/IGFjdGl2ZUNhbGwuZWFzaW5nIDogX29wdGlvbnMuZWFzaW5nICE9IG51bGwgPyBfb3B0aW9ucy5lYXNpbmcgOiBkZWZhdWx0RWFzaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgbWlsbGlzZWNvbmRzRWxsYXBzZWQgPSBhY3RpdmVDYWxsLmVsbGFwc2VkVGltZSA9IHRpbWVDdXJyZW50IC0gX3RpbWVTdGFydCxcclxuICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gYWN0aXZlQ2FsbC5kdXJhdGlvbiAhPSBudWxsID8gYWN0aXZlQ2FsbC5kdXJhdGlvbiA6IF9vcHRpb25zLmR1cmF0aW9uICE9IG51bGwgPyBfb3B0aW9ucy5kdXJhdGlvbiA6IGRlZmF1bHREdXJhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRDb21wbGV0ZSA9IGFjdGl2ZUNhbGwucGVyY2VudENvbXBsZXRlID0gVmVsb2NpdHkkJDEubW9jayA/IDEgOiBNYXRoLm1pbihtaWxsaXNlY29uZHNFbGxhcHNlZCAvIGR1cmF0aW9uLCAxKSxcclxuICAgICAgICAgICAgICAgICAgICAgIHR3ZWVucyA9IGFjdGl2ZUNhbGwudHdlZW5zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZSA9IF9mbGFncyAmIDY0IC8qIFJFVkVSU0UgKi87IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxyXG4gICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlQ2FsbC5wcm9ncmVzcyB8fCBfb3B0aW9ucy5fZmlyc3QgPT09IGFjdGl2ZUNhbGwgJiYgX29wdGlvbnMucHJvZ3Jlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzZWQuYWRkKGFjdGl2ZUNhbGwpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZC5hZGQoYWN0aXZlQ2FsbCk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmZvcmluXHJcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIHR3ZWVucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGV2ZXJ5IGVsZW1lbnQsIGl0ZXJhdGUgdGhyb3VnaCBlYWNoIHByb3BlcnR5LlxyXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIHR3ZWVuID0gdHdlZW5zW3Byb3BlcnR5XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZSA9IHR3ZWVuLnNlcXVlbmNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBzZXF1ZW5jZS5wYXR0ZXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0dGVybikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlYXNpbmdDb21wbGV0ZSA9ICh0d2Vlbi5lYXNpbmcgfHwgYWN0aXZlRWFzaW5nKShwZXJjZW50Q29tcGxldGUsIDAsIDEsIHByb3BlcnR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmVzdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzZXF1ZW5jZS5sZW5ndGggLSAxOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlW2pdLnBlcmNlbnQgPCBlYXNpbmdDb21wbGV0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVzdCA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR3ZWVuRnJvbSA9IHNlcXVlbmNlW2Jlc3RdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0d2VlblRvID0gc2VxdWVuY2VbYmVzdCArIDFdIHx8IHR3ZWVuRnJvbSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3UGVyY2VudCA9IChwZXJjZW50Q29tcGxldGUgLSB0d2VlbkZyb20ucGVyY2VudCkgLyAodHdlZW5Uby5wZXJjZW50IC0gdHdlZW5Gcm9tLnBlcmNlbnQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0d2VlblBlcmNlbnQgPSByZXZlcnNlID8gMSAtIHJhd1BlcmNlbnQgOiByYXdQZXJjZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmcgPSB0d2VlblRvLmVhc2luZyB8fCBhY3RpdmVFYXNpbmcgfHwgbGluZWFyRWFzaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgcGF0dGVybi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRWYWx1ZSA9IHR3ZWVuRnJvbVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0VmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlICs9IHBhdHRlcm5baV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kVmFsdWUgPSB0d2VlblRvW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0VmFsdWUgPT09IGVuZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlICs9IHN0YXJ0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsbCBlYXNpbmdzIG11c3QgZGVhbCB3aXRoIG51bWJlcnMgZXhjZXB0IGZvciBvdXIgaW50ZXJuYWwgb25lcy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZWFzaW5nKHR3ZWVuUGVyY2VudCwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUsIHByb3BlcnR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgKz0gcGF0dGVybltpXSAhPT0gdHJ1ZSA/IHJlc3VsdCA6IE1hdGgucm91bmQocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkgIT09IFwidHdlZW5cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgPSByZW1vdmVOZXN0ZWRDYWxjKGN1cnJlbnRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogVG8gc29sdmUgYW4gSUU8PTggcG9zaXRpb25pbmcgYnVnLCB0aGUgdW5pdCB0eXBlIG11c3QgYmUgZHJvcHBlZCB3aGVuIHNldHRpbmcgYSBwcm9wZXJ0eSB2YWx1ZSBvZiAwIC0gYWRkIG5vcm1hbGlzYXRpb25zIHRvIGxlZ2FjeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQcm9wZXJ0eVZhbHVlKGFjdGl2ZUNhbGwuZWxlbWVudCwgcHJvcGVydHksIGN1cnJlbnRWYWx1ZSwgdHdlZW4uZm4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNraXAgdGhlIGZha2UgJ3R3ZWVuJyBwcm9wZXJ0eSBhcyB0aGF0IGlzIG9ubHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGFzc2VkIGludG8gdGhlIHByb2dyZXNzIGNhbGxiYWNrLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVDYWxsLnR3ZWVuID0gY3VycmVudFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogTWlzc2luZyBwYXR0ZXJuOlwiLCBwcm9wZXJ0eSwgSlNPTi5zdHJpbmdpZnkodHdlZW5bcHJvcGVydHldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHR3ZWVuc1twcm9wZXJ0eV07XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKHByb2dyZXNzZWQuc2l6ZSB8fCBjb21wbGV0ZWQuc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXN5bmNDYWxsYmFja3MoKTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3b3JrZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZShcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoYXN5bmNDYWxsYmFja3MsIDEpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChTdGF0ZS5maXJzdCkge1xyXG4gICAgICAgICAgU3RhdGUuaXNUaWNraW5nID0gdHJ1ZTtcclxuICAgICAgICAgIGlmICghZG9jdW1lbnQuaGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgckFGU2hpbSh0aWNrKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoIXdvcmtlcikge1xyXG4gICAgICAgICAgICAgIHJBRlByb3h5KHRpY2spO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICh0aW1lc3RhbXAgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIHR1cm4gb24gdGhlIG1lc3NhZ2VzLlxyXG4gICAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh0cnVlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIFN0YXRlLmlzVGlja2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgbGFzdFRpY2sgPSAwO1xyXG4gICAgICAgICAgaWYgKGRvY3VtZW50LmhpZGRlbiAmJiB3b3JrZXIpIHtcclxuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgdHVybiBvZmYgdGhlIG1lc3NhZ2VzLlxyXG4gICAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZShmYWxzZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdGlja2luZyA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy8gUHJvamVjdFxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGFuIGFuaW1hdGlvbiBzaG91bGQgYmUgZmluaXNoZWQsIGFuZCBpZiBzbyB3ZSBzZXQgdGhlIHR3ZWVucyB0b1xyXG4gICAqIHRoZSBmaW5hbCB2YWx1ZSBmb3IgaXQsIHRoZW4gY2FsbCBjb21wbGV0ZS5cclxuICAgKi9cclxuICBmdW5jdGlvbiBjaGVja0FuaW1hdGlvblNob3VsZEJlRmluaXNoZWQoYW5pbWF0aW9uLCBxdWV1ZU5hbWUsIGRlZmF1bHRRdWV1ZSkge1xyXG4gICAgICB2YWxpZGF0ZVR3ZWVucyhhbmltYXRpb24pO1xyXG4gICAgICBpZiAocXVldWVOYW1lID09PSB1bmRlZmluZWQgfHwgcXVldWVOYW1lID09PSBnZXRWYWx1ZShhbmltYXRpb24ucXVldWUsIGFuaW1hdGlvbi5vcHRpb25zLnF1ZXVlLCBkZWZhdWx0UXVldWUpKSB7XHJcbiAgICAgICAgICBpZiAoIShhbmltYXRpb24uX2ZsYWdzICYgNCAvKiBTVEFSVEVEICovKSkge1xyXG4gICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxyXG4gICAgICAgICAgICAgIC8vIENvcGllZCBmcm9tIHRpY2sudHMgLSBlbnN1cmUgdGhhdCB0aGUgYW5pbWF0aW9uIGlzIGNvbXBsZXRlbHlcclxuICAgICAgICAgICAgICAvLyB2YWxpZCBhbmQgcnVuIGJlZ2luKCkgYmVmb3JlIGNvbXBsZXRlKCkuXHJcbiAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBhbmltYXRpb24ub3B0aW9ucztcclxuICAgICAgICAgICAgICAvLyBUaGUgYmVnaW4gY2FsbGJhY2sgaXMgZmlyZWQgb25jZSBwZXIgY2FsbCwgbm90IG9uY2UgcGVyXHJcbiAgICAgICAgICAgICAgLy8gZWxlbWVudCwgYW5kIGlzIHBhc3NlZCB0aGUgZnVsbCByYXcgRE9NIGVsZW1lbnQgc2V0IGFzIGJvdGhcclxuICAgICAgICAgICAgICAvLyBpdHMgY29udGV4dCBhbmQgaXRzIGZpcnN0IGFyZ3VtZW50LlxyXG4gICAgICAgICAgICAgIGlmIChvcHRpb25zLl9zdGFydGVkKysgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgb3B0aW9ucy5fZmlyc3QgPSBhbmltYXRpb247XHJcbiAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmJlZ2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBQYXNzIHRvIGFuIGV4dGVybmFsIGZuIHdpdGggYSB0cnkvY2F0Y2ggYmxvY2sgZm9yIG9wdGltaXNhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgYmVnaW5DYWxsKGFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGNhbGxlZCBvbmNlLCBldmVuIGlmIHJldmVyc2VkIG9yIHJlcGVhdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmJlZ2luID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGFuaW1hdGlvbi5fZmxhZ3MgfD0gNCAvKiBTVEFSVEVEICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpmb3JpblxyXG4gICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gYW5pbWF0aW9uLnR3ZWVucykge1xyXG4gICAgICAgICAgICAgIHZhciB0d2VlbiA9IGFuaW1hdGlvbi50d2VlbnNbcHJvcGVydHldLFxyXG4gICAgICAgICAgICAgICAgICBzZXF1ZW5jZSA9IHR3ZWVuLnNlcXVlbmNlLFxyXG4gICAgICAgICAgICAgICAgICBwYXR0ZXJuID0gc2VxdWVuY2UucGF0dGVybjtcclxuICAgICAgICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gXCJcIixcclxuICAgICAgICAgICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgICAgICAgaWYgKHBhdHRlcm4pIHtcclxuICAgICAgICAgICAgICAgICAgdmFyIGVuZFZhbHVlcyA9IHNlcXVlbmNlW3NlcXVlbmNlLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IHBhdHRlcm4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRWYWx1ZSA9IGVuZFZhbHVlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSArPSBlbmRWYWx1ZSA9PSBudWxsID8gcGF0dGVybltpXSA6IGVuZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHNldFByb3BlcnR5VmFsdWUoYW5pbWF0aW9uLmVsZW1lbnQsIHByb3BlcnR5LCBjdXJyZW50VmFsdWUsIHR3ZWVuLmZuKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvbXBsZXRlQ2FsbChhbmltYXRpb24pO1xyXG4gICAgICB9XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFdoZW4gdGhlIGZpbmlzaCBhY3Rpb24gaXMgdHJpZ2dlcmVkLCB0aGUgZWxlbWVudHMnIGN1cnJlbnRseSBhY3RpdmUgY2FsbCBpc1xyXG4gICAqIGltbWVkaWF0ZWx5IGZpbmlzaGVkLiBXaGVuIGFuIGVsZW1lbnQgaXMgZmluaXNoZWQsIHRoZSBuZXh0IGl0ZW0gaW4gaXRzXHJcbiAgICogYW5pbWF0aW9uIHF1ZXVlIGlzIGltbWVkaWF0ZWx5IHRyaWdnZXJlZC4gSWYgcGFzc2VkIHZpYSBhIGNoYWluZWQgY2FsbFxyXG4gICAqIHRoZW4gdGhpcyB3aWxsIG9ubHkgdGFyZ2V0IHRoZSBhbmltYXRpb25zIGluIHRoYXQgY2FsbCwgYW5kIG5vdCB0aGVcclxuICAgKiBlbGVtZW50cyBsaW5rZWQgdG8gaXQuXHJcbiAgICpcclxuICAgKiBBIHF1ZXVlIG5hbWUgbWF5IGJlIHBhc3NlZCBpbiB0byBzcGVjaWZ5IHRoYXQgb25seSBhbmltYXRpb25zIG9uIHRoZVxyXG4gICAqIG5hbWVkIHF1ZXVlIGFyZSBmaW5pc2hlZC4gVGhlIGRlZmF1bHQgcXVldWUgaXMgbmFtZWQgXCJcIi4gSW4gYWRkaXRpb24gdGhlXHJcbiAgICogdmFsdWUgb2YgYGZhbHNlYCBpcyBhbGxvd2VkIGZvciB0aGUgcXVldWUgbmFtZS5cclxuICAgKlxyXG4gICAqIEFuIGZpbmFsIGFyZ3VtZW50IG1heSBiZSBwYXNzZWQgaW4gdG8gY2xlYXIgYW4gZWxlbWVudCdzIHJlbWFpbmluZyBxdWV1ZWRcclxuICAgKiBjYWxscy4gVGhpcyBtYXkgb25seSBiZSB0aGUgdmFsdWUgYHRydWVgLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGZpbmlzaChhcmdzLCBlbGVtZW50cywgcHJvbWlzZUhhbmRsZXIpIHtcclxuICAgICAgdmFyIHF1ZXVlTmFtZSA9IHZhbGlkYXRlUXVldWUoYXJnc1swXSwgdHJ1ZSksXHJcbiAgICAgICAgICBkZWZhdWx0UXVldWUgPSBkZWZhdWx0cyQxLnF1ZXVlLFxyXG4gICAgICAgICAgZmluaXNoQWxsID0gYXJnc1txdWV1ZU5hbWUgPT09IHVuZGVmaW5lZCA/IDAgOiAxXSA9PT0gdHJ1ZTtcclxuICAgICAgaWYgKGlzVmVsb2NpdHlSZXN1bHQoZWxlbWVudHMpICYmIGVsZW1lbnRzLnZlbG9jaXR5LmFuaW1hdGlvbnMpIHtcclxuICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xyXG4gICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IF9zdGVwLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgY2hlY2tBbmltYXRpb25TaG91bGRCZUZpbmlzaGVkKGFuaW1hdGlvbiwgcXVldWVOYW1lLCBkZWZhdWx0UXVldWUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcclxuICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB3aGlsZSAoU3RhdGUuZmlyc3ROZXcpIHtcclxuICAgICAgICAgICAgICB2YWxpZGF0ZVR3ZWVucyhTdGF0ZS5maXJzdE5ldyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBmb3IgKHZhciBhY3RpdmVDYWxsID0gU3RhdGUuZmlyc3QsIG5leHRDYWxsOyBhY3RpdmVDYWxsICYmIChmaW5pc2hBbGwgfHwgYWN0aXZlQ2FsbCAhPT0gU3RhdGUuZmlyc3ROZXcpOyBhY3RpdmVDYWxsID0gbmV4dENhbGwgfHwgU3RhdGUuZmlyc3ROZXcpIHtcclxuICAgICAgICAgICAgICBuZXh0Q2FsbCA9IGFjdGl2ZUNhbGwuX25leHQ7XHJcbiAgICAgICAgICAgICAgaWYgKCFlbGVtZW50cyB8fCBlbGVtZW50cy5pbmNsdWRlcyhhY3RpdmVDYWxsLmVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNoZWNrQW5pbWF0aW9uU2hvdWxkQmVGaW5pc2hlZChhY3RpdmVDYWxsLCBxdWV1ZU5hbWUsIGRlZmF1bHRRdWV1ZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChwcm9taXNlSGFuZGxlcikge1xyXG4gICAgICAgICAgaWYgKGlzVmVsb2NpdHlSZXN1bHQoZWxlbWVudHMpICYmIGVsZW1lbnRzLnZlbG9jaXR5LmFuaW1hdGlvbnMgJiYgZWxlbWVudHMudGhlbikge1xyXG4gICAgICAgICAgICAgIGVsZW1lbnRzLnRoZW4ocHJvbWlzZUhhbmRsZXIuX3Jlc29sdmVyKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcHJvbWlzZUhhbmRsZXIuX3Jlc29sdmVyKGVsZW1lbnRzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gIH1cclxuICByZWdpc3RlckFjdGlvbihbXCJmaW5pc2hcIiwgZmluaXNoXSwgdHJ1ZSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIFVzZWQgdG8gbWFwIGdldHRlcnMgZm9yIHRoZSB2YXJpb3VzIEFuaW1hdGlvbkZsYWdzLlxyXG4gICAqL1xyXG4gIHZhciBhbmltYXRpb25GbGFncyA9IHtcclxuICAgICAgaXNFeHBhbmRlZDogMSAvKiBFWFBBTkRFRCAqL1xyXG4gICAgICAsIGlzUmVhZHk6IDIgLyogUkVBRFkgKi9cclxuICAgICAgLCBpc1N0YXJ0ZWQ6IDQgLyogU1RBUlRFRCAqL1xyXG4gICAgICAsIGlzU3RvcHBlZDogOCAvKiBTVE9QUEVEICovXHJcbiAgICAgICwgaXNQYXVzZWQ6IDE2IC8qIFBBVVNFRCAqL1xyXG4gICAgICAsIGlzU3luYzogMzIgLyogU1lOQyAqL1xyXG4gICAgICAsIGlzUmV2ZXJzZTogNjQgLyogUkVWRVJTRSAqL1xyXG4gIH07XHJcbiAgLyoqXHJcbiAgICogR2V0IG9yIHNldCBhbiBvcHRpb24gb3IgcnVubmluZyBBbmltYXRpb25DYWxsIGRhdGEgdmFsdWUuIElmIHRoZXJlIGlzIG5vXHJcbiAgICogdmFsdWUgcGFzc2VkIHRoZW4gaXQgd2lsbCBnZXQsIG90aGVyd2lzZSB3ZSB3aWxsIHNldC5cclxuICAgKlxyXG4gICAqIE5PVEU6IFdoZW4gdXNpbmcgXCJnZXRcIiB0aGlzIHdpbGwgbm90IHRvdWNoIHRoZSBQcm9taXNlIGFzIGl0IGlzIG5ldmVyXHJcbiAgICogcmV0dXJuZWQgdG8gdGhlIHVzZXIuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gb3B0aW9uKGFyZ3MsIGVsZW1lbnRzLCBwcm9taXNlSGFuZGxlciwgYWN0aW9uKSB7XHJcbiAgICAgIHZhciBrZXkgPSBhcmdzWzBdLFxyXG4gICAgICAgICAgcXVldWUgPSBhY3Rpb24uaW5kZXhPZihcIi5cIikgPj0gMCA/IGFjdGlvbi5yZXBsYWNlKC9eLipcXC4vLCBcIlwiKSA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgIHF1ZXVlTmFtZSA9IHF1ZXVlID09PSBcImZhbHNlXCIgPyBmYWxzZSA6IHZhbGlkYXRlUXVldWUocXVldWUsIHRydWUpO1xyXG4gICAgICB2YXIgYW5pbWF0aW9ucyA9IHZvaWQgMCxcclxuICAgICAgICAgIHZhbHVlID0gYXJnc1sxXTtcclxuICAgICAgaWYgKCFrZXkpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IENhbm5vdCBhY2Nlc3MgYSBub24tZXhpc3RhbnQga2V5IVwiKTtcclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIElmIHdlJ3JlIGNoYWluaW5nIHRoZSByZXR1cm4gdmFsdWUgZnJvbSBWZWxvY2l0eSB0aGVuIHdlIGFyZSBvbmx5XHJcbiAgICAgIC8vIGludGVyZXN0ZWQgaW4gdGhlIHZhbHVlcyByZWxhdGVkIHRvIHRoYXQgY2FsbFxyXG4gICAgICBpZiAoaXNWZWxvY2l0eVJlc3VsdChlbGVtZW50cykgJiYgZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9ucykge1xyXG4gICAgICAgICAgYW5pbWF0aW9ucyA9IGVsZW1lbnRzLnZlbG9jaXR5LmFuaW1hdGlvbnM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhbmltYXRpb25zID0gW107XHJcbiAgICAgICAgICBmb3IgKHZhciBhY3RpdmVDYWxsID0gU3RhdGUuZmlyc3Q7IGFjdGl2ZUNhbGw7IGFjdGl2ZUNhbGwgPSBhY3RpdmVDYWxsLl9uZXh0KSB7XHJcbiAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzLmluZGV4T2YoYWN0aXZlQ2FsbC5lbGVtZW50KSA+PSAwICYmIGdldFZhbHVlKGFjdGl2ZUNhbGwucXVldWUsIGFjdGl2ZUNhbGwub3B0aW9ucy5xdWV1ZSkgPT09IHF1ZXVlTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYWN0aXZlQ2FsbCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gSWYgd2UncmUgZGVhbGluZyB3aXRoIG11bHRpcGxlIGVsZW1lbnRzIHRoYXQgYXJlIHBvaW50aW5nIGF0IGFcclxuICAgICAgICAgIC8vIHNpbmdsZSBydW5uaW5nIGFuaW1hdGlvbiwgdGhlbiBpbnN0ZWFkIHRyZWF0IHRoZW0gYXMgYSBzaW5nbGVcclxuICAgICAgICAgIC8vIGFuaW1hdGlvbi5cclxuICAgICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPiAxICYmIGFuaW1hdGlvbnMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgIHZhciBpID0gMSxcclxuICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IGFuaW1hdGlvbnNbMF0ub3B0aW9ucztcclxuICAgICAgICAgICAgICB3aGlsZSAoaSA8IGFuaW1hdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25zW2krK10ub3B0aW9ucyAhPT0gb3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAvLyBUT0RPOiB0aGlzIG5lZWRzIHRvIGNoZWNrIHRoYXQgdGhleSdyZSBhY3R1YWxseSBhIHN5bmM6dHJ1ZSBhbmltYXRpb24gdG8gbWVyZ2UgdGhlIHJlc3VsdHMsIG90aGVyd2lzZSB0aGUgaW5kaXZpZHVhbCB2YWx1ZXMgbWF5IGJlIGRpZmZlcmVudFxyXG4gICAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMgPSBbYW5pbWF0aW9uc1swXV07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC8vIEdFVFxyXG4gICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICAgIGZsYWcgPSBhbmltYXRpb25GbGFnc1trZXldO1xyXG4gICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xyXG4gICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XHJcbiAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBhbmltYXRpb25zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gX3N0ZXAudmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICBpZiAoZmxhZyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBBIG5vcm1hbCBrZXkgdG8gZ2V0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZ2V0VmFsdWUoYW5pbWF0aW9uW2tleV0sIGFuaW1hdGlvbi5vcHRpb25zW2tleV0pKTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgIC8vIEEgZmxhZyB0aGF0IHdlJ3JlIGNoZWNraW5nIGFnYWluc3QuXHJcbiAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgoYW5pbWF0aW9uLl9mbGFncyAmIGZsYWcpID09PSAwKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XHJcbiAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDEgJiYgYW5pbWF0aW9ucy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAvLyBJZiBvbmx5IGEgc2luZ2xlIGFuaW1hdGlvbiBpcyBmb3VuZCBhbmQgd2UncmUgb25seSB0YXJnZXR0aW5nIGFcclxuICAgICAgICAgICAgICAvLyBzaW5nbGUgZWxlbWVudCwgdGhlbiByZXR1cm4gdGhlIHZhbHVlIGRpcmVjdGx5XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFswXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgIH1cclxuICAgICAgLy8gU0VUXHJcbiAgICAgIHZhciBpc1BlcmNlbnRDb21wbGV0ZSA9IHZvaWQgMDtcclxuICAgICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgICAgIGNhc2UgXCJjYWNoZVwiOlxyXG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVDYWNoZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIFwiYmVnaW5cIjpcclxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlQmVnaW4odmFsdWUpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcImNvbXBsZXRlXCI6XHJcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZUNvbXBsZXRlKHZhbHVlKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgXCJkZWxheVwiOlxyXG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVEZWxheSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIFwiZHVyYXRpb25cIjpcclxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlRHVyYXRpb24odmFsdWUpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcImZwc0xpbWl0XCI6XHJcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZUZwc0xpbWl0KHZhbHVlKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgXCJsb29wXCI6XHJcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZUxvb3AodmFsdWUpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcInBlcmNlbnRDb21wbGV0ZVwiOlxyXG4gICAgICAgICAgICAgIGlzUGVyY2VudENvbXBsZXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcInJlcGVhdFwiOlxyXG4gICAgICAgICAgY2FzZSBcInJlcGVhdEFnYWluXCI6XHJcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZVJlcGVhdCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgIGlmIChrZXlbMF0gIT09IFwiX1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBudW0gPSBwYXJzZUZsb2F0KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBTdHJpbmcobnVtKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBudW07XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gZGVsaWJlcmF0ZSBmYWxsdGhyb3VnaFxyXG4gICAgICAgICAgY2FzZSBcInF1ZXVlXCI6XHJcbiAgICAgICAgICBjYXNlIFwicHJvbWlzZVwiOlxyXG4gICAgICAgICAgY2FzZSBcInByb21pc2VSZWplY3RFbXB0eVwiOlxyXG4gICAgICAgICAgY2FzZSBcImVhc2luZ1wiOlxyXG4gICAgICAgICAgY2FzZSBcInN0YXJ0ZWRcIjpcclxuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0IGEgcmVhZC1vbmx5IGtleTpcIiwga2V5KTtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0IGFuIGludmFsaWQgdmFsdWU6XCIgKyBrZXkgKyBcIj1cIiArIHZhbHVlICsgXCIgKFwiICsgYXJnc1sxXSArIFwiKVwiKTtcclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XHJcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcclxuICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gYW5pbWF0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgIHZhciBfYW5pbWF0aW9uID0gX3N0ZXAyLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoaXNQZXJjZW50Q29tcGxldGUpIHtcclxuICAgICAgICAgICAgICAgICAgX2FuaW1hdGlvbi50aW1lU3RhcnQgPSBsYXN0VGljayAtIGdldFZhbHVlKF9hbmltYXRpb24uZHVyYXRpb24sIF9hbmltYXRpb24ub3B0aW9ucy5kdXJhdGlvbiwgZGVmYXVsdHMkMS5kdXJhdGlvbikgKiB2YWx1ZTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBfYW5pbWF0aW9uW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcclxuICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcclxuICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xyXG4gICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xyXG4gICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocHJvbWlzZUhhbmRsZXIpIHtcclxuICAgICAgICAgIGlmIChpc1ZlbG9jaXR5UmVzdWx0KGVsZW1lbnRzKSAmJiBlbGVtZW50cy52ZWxvY2l0eS5hbmltYXRpb25zICYmIGVsZW1lbnRzLnRoZW4pIHtcclxuICAgICAgICAgICAgICBlbGVtZW50cy50aGVuKHByb21pc2VIYW5kbGVyLl9yZXNvbHZlcik7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHByb21pc2VIYW5kbGVyLl9yZXNvbHZlcihlbGVtZW50cyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICB9XHJcbiAgcmVnaXN0ZXJBY3Rpb24oW1wib3B0aW9uXCIsIG9wdGlvbl0sIHRydWUpO1xyXG5cclxuICAvLyBQcm9qZWN0XHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgYW4gYW5pbWF0aW9uIHNob3VsZCBiZSBwYXVzZWQgLyByZXN1bWVkLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGNoZWNrQW5pbWF0aW9uKGFuaW1hdGlvbiwgcXVldWVOYW1lLCBkZWZhdWx0UXVldWUsIGlzUGF1c2VkKSB7XHJcbiAgICAgIGlmIChxdWV1ZU5hbWUgPT09IHVuZGVmaW5lZCB8fCBxdWV1ZU5hbWUgPT09IGdldFZhbHVlKGFuaW1hdGlvbi5xdWV1ZSwgYW5pbWF0aW9uLm9wdGlvbnMucXVldWUsIGRlZmF1bHRRdWV1ZSkpIHtcclxuICAgICAgICAgIGlmIChpc1BhdXNlZCkge1xyXG4gICAgICAgICAgICAgIGFuaW1hdGlvbi5fZmxhZ3MgfD0gMTYgLyogUEFVU0VEICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYW5pbWF0aW9uLl9mbGFncyAmPSB+MTYgLyogUEFVU0VEICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBQYXVzZSBhbmQgUmVzdW1lIGFyZSBjYWxsLXdpZGUgKG5vdCBvbiBhIHBlciBlbGVtZW50IGJhc2lzKS4gVGh1cywgY2FsbGluZyBwYXVzZSBvciByZXN1bWUgb24gYVxyXG4gICAqIHNpbmdsZSBlbGVtZW50IHdpbGwgY2F1c2UgYW55IGNhbGxzIHRoYXQgY29udGFpbiB0d2VlbnMgZm9yIHRoYXQgZWxlbWVudCB0byBiZSBwYXVzZWQvcmVzdW1lZFxyXG4gICAqIGFzIHdlbGwuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcGF1c2VSZXN1bWUoYXJncywgZWxlbWVudHMsIHByb21pc2VIYW5kbGVyLCBhY3Rpb24pIHtcclxuICAgICAgdmFyIGlzUGF1c2VkID0gYWN0aW9uLmluZGV4T2YoXCJwYXVzZVwiKSA9PT0gMCxcclxuICAgICAgICAgIHF1ZXVlID0gYWN0aW9uLmluZGV4T2YoXCIuXCIpID49IDAgPyBhY3Rpb24ucmVwbGFjZSgvXi4qXFwuLywgXCJcIikgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICBxdWV1ZU5hbWUgPSBxdWV1ZSA9PT0gXCJmYWxzZVwiID8gZmFsc2UgOiB2YWxpZGF0ZVF1ZXVlKGFyZ3NbMF0pLFxyXG4gICAgICAgICAgZGVmYXVsdFF1ZXVlID0gZGVmYXVsdHMkMS5xdWV1ZTtcclxuICAgICAgaWYgKGlzVmVsb2NpdHlSZXN1bHQoZWxlbWVudHMpICYmIGVsZW1lbnRzLnZlbG9jaXR5LmFuaW1hdGlvbnMpIHtcclxuICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xyXG4gICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IF9zdGVwLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgY2hlY2tBbmltYXRpb24oYW5pbWF0aW9uLCBxdWV1ZU5hbWUsIGRlZmF1bHRRdWV1ZSwgaXNQYXVzZWQpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcclxuICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YXIgYWN0aXZlQ2FsbCA9IFN0YXRlLmZpcnN0O1xyXG4gICAgICAgICAgd2hpbGUgKGFjdGl2ZUNhbGwpIHtcclxuICAgICAgICAgICAgICBpZiAoIWVsZW1lbnRzIHx8IGVsZW1lbnRzLmluY2x1ZGVzKGFjdGl2ZUNhbGwuZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgY2hlY2tBbmltYXRpb24oYWN0aXZlQ2FsbCwgcXVldWVOYW1lLCBkZWZhdWx0UXVldWUsIGlzUGF1c2VkKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgYWN0aXZlQ2FsbCA9IGFjdGl2ZUNhbGwuX25leHQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHByb21pc2VIYW5kbGVyKSB7XHJcbiAgICAgICAgICBpZiAoaXNWZWxvY2l0eVJlc3VsdChlbGVtZW50cykgJiYgZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9ucyAmJiBlbGVtZW50cy50aGVuKSB7XHJcbiAgICAgICAgICAgICAgZWxlbWVudHMudGhlbihwcm9taXNlSGFuZGxlci5fcmVzb2x2ZXIpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBwcm9taXNlSGFuZGxlci5fcmVzb2x2ZXIoZWxlbWVudHMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgfVxyXG4gIHJlZ2lzdGVyQWN0aW9uKFtcInBhdXNlXCIsIHBhdXNlUmVzdW1lXSwgdHJ1ZSk7XHJcbiAgcmVnaXN0ZXJBY3Rpb24oW1wicmVzdW1lXCIsIHBhdXNlUmVzdW1lXSwgdHJ1ZSk7XHJcblxyXG4gIC8vIFByb2plY3RcclxuICAvKipcclxuICAgKiBHZXQgb3Igc2V0IGEgc3R5bGUgb2YgTm9tcmFsaXNlZCBwcm9wZXJ0eSB2YWx1ZSBvbiBvbmUgb3IgbW9yZSBlbGVtZW50cy5cclxuICAgKiBJZiB0aGVyZSBpcyBubyB2YWx1ZSBwYXNzZWQgdGhlbiBpdCB3aWxsIGdldCwgb3RoZXJ3aXNlIHdlIHdpbGwgc2V0LlxyXG4gICAqXHJcbiAgICogTk9URTogV2hlbiB1c2luZyBcImdldFwiIHRoaXMgd2lsbCBub3QgdG91Y2ggdGhlIFByb21pc2UgYXMgaXQgaXMgbmV2ZXJcclxuICAgKiByZXR1cm5lZCB0byB0aGUgdXNlci5cclxuICAgKlxyXG4gICAqIFRoaXMgY2FuIGZhaWwgdG8gc2V0LCBhbmQgd2lsbCByZWplY3QgdGhlIFByb21pc2UgaWYgaXQgZG9lcyBzby5cclxuICAgKlxyXG4gICAqIFZlbG9jaXR5KGVsZW1lbnRzLCBcInN0eWxlXCIsIFwicHJvcGVydHlcIiwgXCJ2YWx1ZVwiKSA9PiBlbGVtZW50cztcclxuICAgKiBWZWxvY2l0eShlbGVtZW50cywgXCJzdHlsZVwiLCB7XCJwcm9wZXJ0eVwiOiBcInZhbHVlXCIsIC4uLn0pID0+IGVsZW1lbnRzO1xyXG4gICAqIFZlbG9jaXR5KGVsZW1lbnQsIFwic3R5bGVcIiwgXCJwcm9wZXJ0eVwiKSA9PiBcInZhbHVlXCI7XHJcbiAgICogVmVsb2NpdHkoZWxlbWVudHMsIFwic3R5bGVcIiwgXCJwcm9wZXJ0eVwiKSA9PiBbXCJ2YWx1ZVwiLCAuLi5dO1xyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHByb3BlcnR5QWN0aW9uKGFyZ3MsIGVsZW1lbnRzLCBwcm9taXNlSGFuZGxlciwgYWN0aW9uKSB7XHJcbiAgICAgIHZhciBwcm9wZXJ0eSA9IGFyZ3NbMF0sXHJcbiAgICAgICAgICB2YWx1ZSA9IGFyZ3NbMV07XHJcbiAgICAgIGlmICghcHJvcGVydHkpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IENhbm5vdCBhY2Nlc3MgYSBub24tZXhpc3RhbnQgcHJvcGVydHkhXCIpO1xyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgLy8gR0VUXHJcbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICFpc1BsYWluT2JqZWN0KHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBwcm9wZXJ0eVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IF9zdGVwLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbcHJvcF0gPSBmaXhDb2xvcnMoZ2V0UHJvcGVydHlWYWx1ZShlbGVtZW50c1swXSwgcHJvcCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xyXG4gICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBfcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gZWxlbWVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IF9zdGVwMi52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSBwcm9wZXJ0eVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9wcm9wID0gX3N0ZXAzLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc1tfcHJvcF0gPSBmaXhDb2xvcnMoZ2V0UHJvcGVydHlWYWx1ZShlbGVtZW50LCBfcHJvcCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVzdWx0LnB1c2gocmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xyXG4gICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVzdWx0O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgLy8gSWYgb25seSBhIHNpbmdsZSBhbmltYXRpb24gaXMgZm91bmQgYW5kIHdlJ3JlIG9ubHkgdGFyZ2V0dGluZyBhXHJcbiAgICAgICAgICAgICAgLy8gc2luZ2xlIGVsZW1lbnQsIHRoZW4gcmV0dXJuIHRoZSB2YWx1ZSBkaXJlY3RseVxyXG4gICAgICAgICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpeENvbG9ycyhnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnRzWzBdLCBwcm9wZXJ0eSkpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB2YXIgX3Jlc3VsdDIgPSBbXTtcclxuICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gZWxlbWVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDQ7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSAoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciBfZWxlbWVudCA9IF9zdGVwNC52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICBfcmVzdWx0Mi5wdXNoKGZpeENvbG9ycyhnZXRQcm9wZXJ0eVZhbHVlKF9lbGVtZW50LCBwcm9wZXJ0eSkpKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjQgPSBlcnI7XHJcbiAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgJiYgX2l0ZXJhdG9yNC5yZXR1cm4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LnJldHVybigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNDtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIF9yZXN1bHQyO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC8vIFNFVFxyXG4gICAgICB2YXIgZXJyb3IgPSBbXTtcclxuICAgICAgaWYgKGlzUGxhaW5PYmplY3QocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eU5hbWUgaW4gcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICBpZiAocHJvcGVydHkuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I1ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjUgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNSA9IGVsZW1lbnRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA1OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gKF9zdGVwNSA9IF9pdGVyYXRvcjUubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9lbGVtZW50MiA9IF9zdGVwNS52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5VmFsdWUgPSBwcm9wZXJ0eVtwcm9wZXJ0eU5hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1N0cmluZyhwcm9wZXJ0eVZhbHVlKSB8fCBpc051bWJlcihwcm9wZXJ0eVZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQcm9wZXJ0eVZhbHVlKF9lbGVtZW50MiwgcHJvcGVydHlOYW1lLCBwcm9wZXJ0eVtwcm9wZXJ0eU5hbWVdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvci5wdXNoKFwiQ2Fubm90IHNldCBhIHByb3BlcnR5IFxcXCJcIiArIHByb3BlcnR5TmFtZSArIFwiXFxcIiB0byBhbiB1bmtub3duIHR5cGU6IFwiICsgKHR5cGVvZiBwcm9wZXJ0eVZhbHVlID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YocHJvcGVydHlWYWx1ZSkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogQ2Fubm90IHNldCBhIHByb3BlcnR5IFxcXCJcIiArIHByb3BlcnR5TmFtZSArIFwiXFxcIiB0byBhbiB1bmtub3duIHR5cGU6XCIsIHByb3BlcnR5VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3I1ID0gZXJyO1xyXG4gICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ICYmIF9pdGVyYXRvcjUucmV0dXJuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjUucmV0dXJuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcodmFsdWUpIHx8IGlzTnVtYmVyKHZhbHVlKSkge1xyXG4gICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gdHJ1ZTtcclxuICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjYgPSBmYWxzZTtcclxuICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjYgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I2ID0gZWxlbWVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDY7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgPSAoX3N0ZXA2ID0gX2l0ZXJhdG9yNi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgdmFyIF9lbGVtZW50MyA9IF9zdGVwNi52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIHNldFByb3BlcnR5VmFsdWUoX2VsZW1lbnQzLCBwcm9wZXJ0eSwgU3RyaW5nKHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I2ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjYgPSBlcnI7XHJcbiAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgJiYgX2l0ZXJhdG9yNi5yZXR1cm4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjYucmV0dXJuKCk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjY7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBlcnJvci5wdXNoKFwiQ2Fubm90IHNldCBhIHByb3BlcnR5IFxcXCJcIiArIHByb3BlcnR5ICsgXCJcXFwiIHRvIGFuIHVua25vd24gdHlwZTogXCIgKyAodHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YodmFsdWUpKSk7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBDYW5ub3Qgc2V0IGEgcHJvcGVydHkgXFxcIlwiICsgcHJvcGVydHkgKyBcIlxcXCIgdG8gYW4gdW5rbm93biB0eXBlOlwiLCB2YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHByb21pc2VIYW5kbGVyKSB7XHJcbiAgICAgICAgICBpZiAoZXJyb3IubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgcHJvbWlzZUhhbmRsZXIuX3JlamVjdGVyKGVycm9yLmpvaW4oXCIsIFwiKSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzVmVsb2NpdHlSZXN1bHQoZWxlbWVudHMpICYmIGVsZW1lbnRzLnZlbG9jaXR5LmFuaW1hdGlvbnMgJiYgZWxlbWVudHMudGhlbikge1xyXG4gICAgICAgICAgICAgIGVsZW1lbnRzLnRoZW4ocHJvbWlzZUhhbmRsZXIuX3Jlc29sdmVyKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcHJvbWlzZUhhbmRsZXIuX3Jlc29sdmVyKGVsZW1lbnRzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gIH1cclxuICByZWdpc3RlckFjdGlvbihbXCJwcm9wZXJ0eVwiLCBwcm9wZXJ0eUFjdGlvbl0sIHRydWUpO1xyXG5cclxuICAvLyBQcm9qZWN0XHJcbiAgcmVnaXN0ZXJBY3Rpb24oW1wicmV2ZXJzZVwiLCBmdW5jdGlvbiAoYXJncywgZWxlbWVudHMsIHByb21pc2VIYW5kbGVyLCBhY3Rpb24pIHtcclxuICAgICAgICAgIC8vIE5PVEU6IENvZGUgbmVlZHMgdG8gc3BsaXQgb3V0IGJlZm9yZSBoZXJlIC0gYnV0IHRoaXMgaXMgbmVlZGVkIHRvIHByZXZlbnQgaXQgYmVpbmcgb3ZlcnJpZGRlblxyXG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiVmVsb2NpdHlKUzogVGhlICdyZXZlcnNlJyBhY3Rpb24gaXMgYnVpbHQgaW4gYW5kIHByaXZhdGUuXCIpO1xyXG4gIH1dLCB0cnVlKTtcclxuXHJcbiAgLy8gUHJvamVjdFxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGFuIGFuaW1hdGlvbiBzaG91bGQgYmUgc3RvcHBlZCwgYW5kIGlmIHNvIHRoZW4gc2V0IHRoZSBTVE9QUEVEXHJcbiAgICogZmxhZyBvbiBpdCwgdGhlbiBjYWxsIGNvbXBsZXRlLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGNoZWNrQW5pbWF0aW9uU2hvdWxkQmVTdG9wcGVkKGFuaW1hdGlvbiwgcXVldWVOYW1lLCBkZWZhdWx0UXVldWUpIHtcclxuICAgICAgdmFsaWRhdGVUd2VlbnMoYW5pbWF0aW9uKTtcclxuICAgICAgaWYgKHF1ZXVlTmFtZSA9PT0gdW5kZWZpbmVkIHx8IHF1ZXVlTmFtZSA9PT0gZ2V0VmFsdWUoYW5pbWF0aW9uLnF1ZXVlLCBhbmltYXRpb24ub3B0aW9ucy5xdWV1ZSwgZGVmYXVsdFF1ZXVlKSkge1xyXG4gICAgICAgICAgYW5pbWF0aW9uLl9mbGFncyB8PSA4IC8qIFNUT1BQRUQgKi87IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxyXG4gICAgICAgICAgY29tcGxldGVDYWxsKGFuaW1hdGlvbik7XHJcbiAgICAgIH1cclxuICB9XHJcbiAgLyoqXHJcbiAgICogV2hlbiB0aGUgc3RvcCBhY3Rpb24gaXMgdHJpZ2dlcmVkLCB0aGUgZWxlbWVudHMnIGN1cnJlbnRseSBhY3RpdmUgY2FsbCBpc1xyXG4gICAqIGltbWVkaWF0ZWx5IHN0b3BwZWQuIFdoZW4gYW4gZWxlbWVudCBpcyBzdG9wcGVkLCB0aGUgbmV4dCBpdGVtIGluIGl0c1xyXG4gICAqIGFuaW1hdGlvbiBxdWV1ZSBpcyBpbW1lZGlhdGVseSB0cmlnZ2VyZWQuIElmIHBhc3NlZCB2aWEgYSBjaGFpbmVkIGNhbGxcclxuICAgKiB0aGVuIHRoaXMgd2lsbCBvbmx5IHRhcmdldCB0aGUgYW5pbWF0aW9ucyBpbiB0aGF0IGNhbGwsIGFuZCBub3QgdGhlXHJcbiAgICogZWxlbWVudHMgbGlua2VkIHRvIGl0LlxyXG4gICAqXHJcbiAgICogQSBxdWV1ZSBuYW1lIG1heSBiZSBwYXNzZWQgaW4gdG8gc3BlY2lmeSB0aGF0IG9ubHkgYW5pbWF0aW9ucyBvbiB0aGVcclxuICAgKiBuYW1lZCBxdWV1ZSBhcmUgc3RvcHBlZC4gVGhlIGRlZmF1bHQgcXVldWUgaXMgbmFtZWQgXCJcIi4gSW4gYWRkaXRpb24gdGhlXHJcbiAgICogdmFsdWUgb2YgYGZhbHNlYCBpcyBhbGxvd2VkIGZvciB0aGUgcXVldWUgbmFtZS5cclxuICAgKlxyXG4gICAqIEFuIGZpbmFsIGFyZ3VtZW50IG1heSBiZSBwYXNzZWQgaW4gdG8gY2xlYXIgYW4gZWxlbWVudCdzIHJlbWFpbmluZyBxdWV1ZWRcclxuICAgKiBjYWxscy4gVGhpcyBtYXkgb25seSBiZSB0aGUgdmFsdWUgYHRydWVgLlxyXG4gICAqXHJcbiAgICogTm90ZTogVGhlIHN0b3AgY29tbWFuZCBydW5zIHByaW9yIHRvIFZlbG9jaXR5J3MgUXVldWVpbmcgcGhhc2Ugc2luY2UgaXRzXHJcbiAgICogYmVoYXZpb3IgaXMgaW50ZW5kZWQgdG8gdGFrZSBlZmZlY3QgKmltbWVkaWF0ZWx5KiwgcmVnYXJkbGVzcyBvZiB0aGVcclxuICAgKiBlbGVtZW50J3MgY3VycmVudCBxdWV1ZSBzdGF0ZS5cclxuICAgKi9cclxuICBmdW5jdGlvbiBzdG9wKGFyZ3MsIGVsZW1lbnRzLCBwcm9taXNlSGFuZGxlciwgYWN0aW9uKSB7XHJcbiAgICAgIHZhciBxdWV1ZU5hbWUgPSB2YWxpZGF0ZVF1ZXVlKGFyZ3NbMF0sIHRydWUpLFxyXG4gICAgICAgICAgZGVmYXVsdFF1ZXVlID0gZGVmYXVsdHMkMS5xdWV1ZSxcclxuICAgICAgICAgIGZpbmlzaEFsbCA9IGFyZ3NbcXVldWVOYW1lID09PSB1bmRlZmluZWQgPyAwIDogMV0gPT09IHRydWU7XHJcbiAgICAgIGlmIChpc1ZlbG9jaXR5UmVzdWx0KGVsZW1lbnRzKSAmJiBlbGVtZW50cy52ZWxvY2l0eS5hbmltYXRpb25zKSB7XHJcbiAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XHJcbiAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcclxuICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGVsZW1lbnRzLnZlbG9jaXR5LmFuaW1hdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBfc3RlcC52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIGNoZWNrQW5pbWF0aW9uU2hvdWxkQmVTdG9wcGVkKGFuaW1hdGlvbiwgcXVldWVOYW1lLCBkZWZhdWx0UXVldWUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcclxuICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB3aGlsZSAoU3RhdGUuZmlyc3ROZXcpIHtcclxuICAgICAgICAgICAgICB2YWxpZGF0ZVR3ZWVucyhTdGF0ZS5maXJzdE5ldyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBmb3IgKHZhciBhY3RpdmVDYWxsID0gU3RhdGUuZmlyc3QsIG5leHRDYWxsOyBhY3RpdmVDYWxsICYmIChmaW5pc2hBbGwgfHwgYWN0aXZlQ2FsbCAhPT0gU3RhdGUuZmlyc3ROZXcpOyBhY3RpdmVDYWxsID0gbmV4dENhbGwgfHwgU3RhdGUuZmlyc3ROZXcpIHtcclxuICAgICAgICAgICAgICBuZXh0Q2FsbCA9IGFjdGl2ZUNhbGwuX25leHQ7XHJcbiAgICAgICAgICAgICAgaWYgKCFlbGVtZW50cyB8fCBlbGVtZW50cy5pbmNsdWRlcyhhY3RpdmVDYWxsLmVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNoZWNrQW5pbWF0aW9uU2hvdWxkQmVTdG9wcGVkKGFjdGl2ZUNhbGwsIHF1ZXVlTmFtZSwgZGVmYXVsdFF1ZXVlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHByb21pc2VIYW5kbGVyKSB7XHJcbiAgICAgICAgICBpZiAoaXNWZWxvY2l0eVJlc3VsdChlbGVtZW50cykgJiYgZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9ucyAmJiBlbGVtZW50cy50aGVuKSB7XHJcbiAgICAgICAgICAgICAgZWxlbWVudHMudGhlbihwcm9taXNlSGFuZGxlci5fcmVzb2x2ZXIpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBwcm9taXNlSGFuZGxlci5fcmVzb2x2ZXIoZWxlbWVudHMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgfVxyXG4gIHJlZ2lzdGVyQWN0aW9uKFtcInN0b3BcIiwgc3RvcF0sIHRydWUpO1xyXG5cclxuICAvLyBQcm9qZWN0XHJcbiAgcmVnaXN0ZXJBY3Rpb24oW1wic3R5bGVcIiwgcHJvcGVydHlBY3Rpb25dLCB0cnVlKTtcclxuXHJcbiAgLy8gUHJvamVjdFxyXG4gIC8qKlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdHdlZW5BY3Rpb24oYXJncywgZWxlbWVudHMsIHByb21pc2VIYW5kbGVyLCBhY3Rpb24pIHtcclxuICAgICAgdmFyIHJlcXVpcmVGb3JjZWZlZWRpbmcgPSB2b2lkIDA7XHJcbiAgICAgIGlmICghZWxlbWVudHMpIHtcclxuICAgICAgICAgIGlmICghYXJncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmluZm8oXCJWZWxvY2l0eSg8ZWxlbWVudD4sIFxcXCJ0d2VlblxcXCIsIHBlcmNlbnRDb21wbGV0ZSwgcHJvcGVydHksIGVuZCB8IFtlbmQsIDxlYXNpbmc+LCA8c3RhcnQ+XSwgPGVhc2luZz4pID0+IHZhbHVlXFxuVmVsb2NpdHkoPGVsZW1lbnQ+LCBcXFwidHdlZW5cXFwiLCBwZXJjZW50Q29tcGxldGUsIHtwcm9wZXJ0eTogZW5kIHwgW2VuZCwgPGVhc2luZz4sIDxzdGFydD5dLCAuLi59LCA8ZWFzaW5nPikgPT4ge3Byb3BlcnR5OiB2YWx1ZSwgLi4ufVwiKTtcclxuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsZW1lbnRzID0gW2RvY3VtZW50LmJvZHldO1xyXG4gICAgICAgICAgcmVxdWlyZUZvcmNlZmVlZGluZyA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSBpZiAoZWxlbWVudHMubGVuZ3RoICE9PSAxKSB7XHJcbiAgICAgICAgICAvLyBUT0RPOiBBbGxvdyBtb3JlIHRoYW4gYSBzaW5nbGUgZWxlbWVudCB0byByZXR1cm4gYW4gYXJyYXkgb2YgcmVzdWx0c1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmVsb2NpdHlKUzogQ2Fubm90IHR3ZWVuIG1vcmUgdGhhbiBvbmUgZWxlbWVudCFcIik7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHBlcmNlbnRDb21wbGV0ZSA9IGFyZ3NbMF0sXHJcbiAgICAgICAgICBmYWtlQW5pbWF0aW9uID0ge1xyXG4gICAgICAgICAgZWxlbWVudHM6IGVsZW1lbnRzLFxyXG4gICAgICAgICAgZWxlbWVudDogZWxlbWVudHNbMF0sXHJcbiAgICAgICAgICBxdWV1ZTogZmFsc2UsXHJcbiAgICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDBcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB0d2VlbnM6IG51bGxcclxuICAgICAgfSxcclxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xyXG4gICAgICB2YXIgcHJvcGVydGllcyA9IGFyZ3NbMV0sXHJcbiAgICAgICAgICBzaW5nbGVSZXN1bHQgPSB2b2lkIDAsXHJcbiAgICAgICAgICBtYXliZVNlcXVlbmNlID0gdm9pZCAwLFxyXG4gICAgICAgICAgZWFzaW5nID0gYXJnc1syXSxcclxuICAgICAgICAgIGNvdW50ID0gMDtcclxuICAgICAgaWYgKGlzU3RyaW5nKGFyZ3NbMV0pKSB7XHJcbiAgICAgICAgICBpZiAoU2VxdWVuY2VzT2JqZWN0ICYmIFNlcXVlbmNlc09iamVjdFthcmdzWzFdXSkge1xyXG4gICAgICAgICAgICAgIG1heWJlU2VxdWVuY2UgPSBTZXF1ZW5jZXNPYmplY3RbYXJnc1sxXV07XHJcbiAgICAgICAgICAgICAgcHJvcGVydGllcyA9IHt9O1xyXG4gICAgICAgICAgICAgIGVhc2luZyA9IGFyZ3NbMl07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHNpbmdsZVJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgcHJvcGVydGllcyA9IGRlZmluZVByb3BlcnR5KHt9LCBhcmdzWzFdLCBhcmdzWzJdKTtcclxuICAgICAgICAgICAgICBlYXNpbmcgPSBhcmdzWzNdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnc1sxXSkpIHtcclxuICAgICAgICAgIHNpbmdsZVJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICBwcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgICAgICAgIHR3ZWVuOiBhcmdzWzFdXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgZWFzaW5nID0gYXJnc1syXTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIWlzTnVtYmVyKHBlcmNlbnRDb21wbGV0ZSkgfHwgcGVyY2VudENvbXBsZXRlIDwgMCB8fCBwZXJjZW50Q29tcGxldGUgPiAxKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWZWxvY2l0eUpTOiBNdXN0IHR3ZWVuIGEgcGVyY2VudGFnZSBmcm9tIDAgdG8gMSFcIik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFpc1BsYWluT2JqZWN0KHByb3BlcnRpZXMpKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWZWxvY2l0eUpTOiBDYW5ub3QgdHdlZW4gYW4gaW52YWxpZCBwcm9wZXJ0eSFcIik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHJlcXVpcmVGb3JjZWZlZWRpbmcpIHtcclxuICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkgJiYgKCFBcnJheS5pc0FycmF5KHByb3BlcnRpZXNbcHJvcGVydHldKSB8fCBwcm9wZXJ0aWVzW3Byb3BlcnR5XS5sZW5ndGggPCAyKSkge1xyXG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWZWxvY2l0eUpTOiBXaGVuIG5vdCBzdXBwbHlpbmcgYW4gZWxlbWVudCB5b3UgbXVzdCBmb3JjZS1mZWVkIHZhbHVlczogXCIgKyBwcm9wZXJ0eSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHZhciBhY3RpdmVFYXNpbmcgPSB2YWxpZGF0ZUVhc2luZyhnZXRWYWx1ZShlYXNpbmcsIGRlZmF1bHRzJDEuZWFzaW5nKSwgREVGQVVMVF9EVVJBVElPTik7XHJcbiAgICAgIGlmIChtYXliZVNlcXVlbmNlKSB7XHJcbiAgICAgICAgICBleHBhbmRTZXF1ZW5jZShmYWtlQW5pbWF0aW9uLCBtYXliZVNlcXVlbmNlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGV4cGFuZFByb3BlcnRpZXMoZmFrZUFuaW1hdGlvbiwgcHJvcGVydGllcyk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmZvcmluXHJcbiAgICAgIGZvciAodmFyIF9wcm9wZXJ0eSBpbiBmYWtlQW5pbWF0aW9uLnR3ZWVucykge1xyXG4gICAgICAgICAgLy8gRm9yIGV2ZXJ5IGVsZW1lbnQsIGl0ZXJhdGUgdGhyb3VnaCBlYWNoIHByb3BlcnR5LlxyXG4gICAgICAgICAgdmFyIHByb3BlcnR5VHdlZW4gPSBmYWtlQW5pbWF0aW9uLnR3ZWVuc1tfcHJvcGVydHldLFxyXG4gICAgICAgICAgICAgIHNlcXVlbmNlID0gcHJvcGVydHlUd2Vlbi5zZXF1ZW5jZSxcclxuICAgICAgICAgICAgICBwYXR0ZXJuID0gc2VxdWVuY2UucGF0dGVybjtcclxuICAgICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBcIlwiLFxyXG4gICAgICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgIGlmIChwYXR0ZXJuKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGVhc2luZ0NvbXBsZXRlID0gKHByb3BlcnR5VHdlZW4uZWFzaW5nIHx8IGFjdGl2ZUVhc2luZykocGVyY2VudENvbXBsZXRlLCAwLCAxLCBfcHJvcGVydHkpO1xyXG4gICAgICAgICAgICAgIHZhciBiZXN0ID0gMDtcclxuICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNlcXVlbmNlLmxlbmd0aCAtIDE7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2Vbal0ucGVyY2VudCA8IGVhc2luZ0NvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBiZXN0ID0gajtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB2YXIgdHdlZW5Gcm9tID0gc2VxdWVuY2VbYmVzdF0sXHJcbiAgICAgICAgICAgICAgICAgIHR3ZWVuVG8gPSBzZXF1ZW5jZVtiZXN0ICsgMV0gfHwgdHdlZW5Gcm9tLFxyXG4gICAgICAgICAgICAgICAgICB0d2VlblBlcmNlbnQgPSAocGVyY2VudENvbXBsZXRlIC0gdHdlZW5Gcm9tLnBlcmNlbnQpIC8gKHR3ZWVuVG8ucGVyY2VudCAtIHR3ZWVuRnJvbS5wZXJjZW50KSxcclxuICAgICAgICAgICAgICAgICAgdHdlZW5FYXNpbmcgPSB0d2VlblRvLmVhc2luZyB8fCBsaW5lYXJFYXNpbmc7XHJcbiAgICAgICAgICAgICAgZm9yICg7IGkgPCBwYXR0ZXJuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBzdGFydFZhbHVlID0gdHdlZW5Gcm9tW2ldO1xyXG4gICAgICAgICAgICAgICAgICBpZiAoc3RhcnRWYWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgKz0gcGF0dGVybltpXTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRWYWx1ZSA9IHR3ZWVuVG9baV07XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRWYWx1ZSA9PT0gZW5kVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgKz0gc3RhcnRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsIGVhc2luZ3MgbXVzdCBkZWFsIHdpdGggbnVtYmVycyBleGNlcHQgZm9yIG91ciBpbnRlcm5hbCBvbmVzLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHR3ZWVuRWFzaW5nKHR3ZWVuUGVyY2VudCwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUsIF9wcm9wZXJ0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlICs9IHBhdHRlcm5baV0gPT09IHRydWUgPyBNYXRoLnJvdW5kKHZhbHVlKSA6IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHJlc3VsdFtfcHJvcGVydHldID0gY3VycmVudFZhbHVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChzaW5nbGVSZXN1bHQgJiYgY291bnQgPT09IDEpIHtcclxuICAgICAgICAgIGZvciAodmFyIF9wcm9wZXJ0eTIgaW4gcmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5oYXNPd25Qcm9wZXJ0eShfcHJvcGVydHkyKSkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0W19wcm9wZXJ0eTJdO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuICByZWdpc3RlckFjdGlvbihbXCJ0d2VlblwiLCB0d2VlbkFjdGlvbl0sIHRydWUpO1xyXG5cclxuICAvLyBQcm9qZWN0XHJcbiAgLyoqXHJcbiAgICogQ29udmVydGluZyBmcm9tIGhleCBhcyBpdCBtYWtlcyBmb3IgYSBzbWFsbGVyIGZpbGUuXHJcbiAgICovXHJcbiAgdmFyIGNvbG9yVmFsdWVzID0ge1xyXG4gICAgICBhbGljZWJsdWU6IDB4RjBGOEZGLFxyXG4gICAgICBhbnRpcXVld2hpdGU6IDB4RkFFQkQ3LFxyXG4gICAgICBhcXVhOiAweDAwRkZGRixcclxuICAgICAgYXF1YW1hcmluZTogMHg3RkZGRDQsXHJcbiAgICAgIGF6dXJlOiAweEYwRkZGRixcclxuICAgICAgYmVpZ2U6IDB4RjVGNURDLFxyXG4gICAgICBiaXNxdWU6IDB4RkZFNEM0LFxyXG4gICAgICBibGFjazogMHgwMDAwMDAsXHJcbiAgICAgIGJsYW5jaGVkYWxtb25kOiAweEZGRUJDRCxcclxuICAgICAgYmx1ZTogMHgwMDAwRkYsXHJcbiAgICAgIGJsdWV2aW9sZXQ6IDB4OEEyQkUyLFxyXG4gICAgICBicm93bjogMHhBNTJBMkEsXHJcbiAgICAgIGJ1cmx5d29vZDogMHhERUI4ODcsXHJcbiAgICAgIGNhZGV0Ymx1ZTogMHg1RjlFQTAsXHJcbiAgICAgIGNoYXJ0cmV1c2U6IDB4N0ZGRjAwLFxyXG4gICAgICBjaG9jb2xhdGU6IDB4RDI2OTFFLFxyXG4gICAgICBjb3JhbDogMHhGRjdGNTAsXHJcbiAgICAgIGNvcm5mbG93ZXJibHVlOiAweDY0OTVFRCxcclxuICAgICAgY29ybnNpbGs6IDB4RkZGOERDLFxyXG4gICAgICBjcmltc29uOiAweERDMTQzQyxcclxuICAgICAgY3lhbjogMHgwMEZGRkYsXHJcbiAgICAgIGRhcmtibHVlOiAweDAwMDA4QixcclxuICAgICAgZGFya2N5YW46IDB4MDA4QjhCLFxyXG4gICAgICBkYXJrZ29sZGVucm9kOiAweEI4ODYwQixcclxuICAgICAgZGFya2dyYXk6IDB4QTlBOUE5LFxyXG4gICAgICBkYXJrZ3JleTogMHhBOUE5QTksXHJcbiAgICAgIGRhcmtncmVlbjogMHgwMDY0MDAsXHJcbiAgICAgIGRhcmtraGFraTogMHhCREI3NkIsXHJcbiAgICAgIGRhcmttYWdlbnRhOiAweDhCMDA4QixcclxuICAgICAgZGFya29saXZlZ3JlZW46IDB4NTU2QjJGLFxyXG4gICAgICBkYXJrb3JhbmdlOiAweEZGOEMwMCxcclxuICAgICAgZGFya29yY2hpZDogMHg5OTMyQ0MsXHJcbiAgICAgIGRhcmtyZWQ6IDB4OEIwMDAwLFxyXG4gICAgICBkYXJrc2FsbW9uOiAweEU5OTY3QSxcclxuICAgICAgZGFya3NlYWdyZWVuOiAweDhGQkM4RixcclxuICAgICAgZGFya3NsYXRlYmx1ZTogMHg0ODNEOEIsXHJcbiAgICAgIGRhcmtzbGF0ZWdyYXk6IDB4MkY0RjRGLFxyXG4gICAgICBkYXJrc2xhdGVncmV5OiAweDJGNEY0RixcclxuICAgICAgZGFya3R1cnF1b2lzZTogMHgwMENFRDEsXHJcbiAgICAgIGRhcmt2aW9sZXQ6IDB4OTQwMEQzLFxyXG4gICAgICBkZWVwcGluazogMHhGRjE0OTMsXHJcbiAgICAgIGRlZXBza3libHVlOiAweDAwQkZGRixcclxuICAgICAgZGltZ3JheTogMHg2OTY5NjksXHJcbiAgICAgIGRpbWdyZXk6IDB4Njk2OTY5LFxyXG4gICAgICBkb2RnZXJibHVlOiAweDFFOTBGRixcclxuICAgICAgZmlyZWJyaWNrOiAweEIyMjIyMixcclxuICAgICAgZmxvcmFsd2hpdGU6IDB4RkZGQUYwLFxyXG4gICAgICBmb3Jlc3RncmVlbjogMHgyMjhCMjIsXHJcbiAgICAgIGZ1Y2hzaWE6IDB4RkYwMEZGLFxyXG4gICAgICBnYWluc2Jvcm86IDB4RENEQ0RDLFxyXG4gICAgICBnaG9zdHdoaXRlOiAweEY4RjhGRixcclxuICAgICAgZ29sZDogMHhGRkQ3MDAsXHJcbiAgICAgIGdvbGRlbnJvZDogMHhEQUE1MjAsXHJcbiAgICAgIGdyYXk6IDB4ODA4MDgwLFxyXG4gICAgICBncmV5OiAweDgwODA4MCxcclxuICAgICAgZ3JlZW46IDB4MDA4MDAwLFxyXG4gICAgICBncmVlbnllbGxvdzogMHhBREZGMkYsXHJcbiAgICAgIGhvbmV5ZGV3OiAweEYwRkZGMCxcclxuICAgICAgaG90cGluazogMHhGRjY5QjQsXHJcbiAgICAgIGluZGlhbnJlZDogMHhDRDVDNUMsXHJcbiAgICAgIGluZGlnbzogMHg0QjAwODIsXHJcbiAgICAgIGl2b3J5OiAweEZGRkZGMCxcclxuICAgICAga2hha2k6IDB4RjBFNjhDLFxyXG4gICAgICBsYXZlbmRlcjogMHhFNkU2RkEsXHJcbiAgICAgIGxhdmVuZGVyYmx1c2g6IDB4RkZGMEY1LFxyXG4gICAgICBsYXduZ3JlZW46IDB4N0NGQzAwLFxyXG4gICAgICBsZW1vbmNoaWZmb246IDB4RkZGQUNELFxyXG4gICAgICBsaWdodGJsdWU6IDB4QUREOEU2LFxyXG4gICAgICBsaWdodGNvcmFsOiAweEYwODA4MCxcclxuICAgICAgbGlnaHRjeWFuOiAweEUwRkZGRixcclxuICAgICAgbGlnaHRnb2xkZW5yb2R5ZWxsb3c6IDB4RkFGQUQyLFxyXG4gICAgICBsaWdodGdyYXk6IDB4RDNEM0QzLFxyXG4gICAgICBsaWdodGdyZXk6IDB4RDNEM0QzLFxyXG4gICAgICBsaWdodGdyZWVuOiAweDkwRUU5MCxcclxuICAgICAgbGlnaHRwaW5rOiAweEZGQjZDMSxcclxuICAgICAgbGlnaHRzYWxtb246IDB4RkZBMDdBLFxyXG4gICAgICBsaWdodHNlYWdyZWVuOiAweDIwQjJBQSxcclxuICAgICAgbGlnaHRza3libHVlOiAweDg3Q0VGQSxcclxuICAgICAgbGlnaHRzbGF0ZWdyYXk6IDB4Nzc4ODk5LFxyXG4gICAgICBsaWdodHNsYXRlZ3JleTogMHg3Nzg4OTksXHJcbiAgICAgIGxpZ2h0c3RlZWxibHVlOiAweEIwQzRERSxcclxuICAgICAgbGlnaHR5ZWxsb3c6IDB4RkZGRkUwLFxyXG4gICAgICBsaW1lOiAweDAwRkYwMCxcclxuICAgICAgbGltZWdyZWVuOiAweDMyQ0QzMixcclxuICAgICAgbGluZW46IDB4RkFGMEU2LFxyXG4gICAgICBtYWdlbnRhOiAweEZGMDBGRixcclxuICAgICAgbWFyb29uOiAweDgwMDAwMCxcclxuICAgICAgbWVkaXVtYXF1YW1hcmluZTogMHg2NkNEQUEsXHJcbiAgICAgIG1lZGl1bWJsdWU6IDB4MDAwMENELFxyXG4gICAgICBtZWRpdW1vcmNoaWQ6IDB4QkE1NUQzLFxyXG4gICAgICBtZWRpdW1wdXJwbGU6IDB4OTM3MERCLFxyXG4gICAgICBtZWRpdW1zZWFncmVlbjogMHgzQ0IzNzEsXHJcbiAgICAgIG1lZGl1bXNsYXRlYmx1ZTogMHg3QjY4RUUsXHJcbiAgICAgIG1lZGl1bXNwcmluZ2dyZWVuOiAweDAwRkE5QSxcclxuICAgICAgbWVkaXVtdHVycXVvaXNlOiAweDQ4RDFDQyxcclxuICAgICAgbWVkaXVtdmlvbGV0cmVkOiAweEM3MTU4NSxcclxuICAgICAgbWlkbmlnaHRibHVlOiAweDE5MTk3MCxcclxuICAgICAgbWludGNyZWFtOiAweEY1RkZGQSxcclxuICAgICAgbWlzdHlyb3NlOiAweEZGRTRFMSxcclxuICAgICAgbW9jY2FzaW46IDB4RkZFNEI1LFxyXG4gICAgICBuYXZham93aGl0ZTogMHhGRkRFQUQsXHJcbiAgICAgIG5hdnk6IDB4MDAwMDgwLFxyXG4gICAgICBvbGRsYWNlOiAweEZERjVFNixcclxuICAgICAgb2xpdmU6IDB4ODA4MDAwLFxyXG4gICAgICBvbGl2ZWRyYWI6IDB4NkI4RTIzLFxyXG4gICAgICBvcmFuZ2U6IDB4RkZBNTAwLFxyXG4gICAgICBvcmFuZ2VyZWQ6IDB4RkY0NTAwLFxyXG4gICAgICBvcmNoaWQ6IDB4REE3MEQ2LFxyXG4gICAgICBwYWxlZ29sZGVucm9kOiAweEVFRThBQSxcclxuICAgICAgcGFsZWdyZWVuOiAweDk4RkI5OCxcclxuICAgICAgcGFsZXR1cnF1b2lzZTogMHhBRkVFRUUsXHJcbiAgICAgIHBhbGV2aW9sZXRyZWQ6IDB4REI3MDkzLFxyXG4gICAgICBwYXBheWF3aGlwOiAweEZGRUZENSxcclxuICAgICAgcGVhY2hwdWZmOiAweEZGREFCOSxcclxuICAgICAgcGVydTogMHhDRDg1M0YsXHJcbiAgICAgIHBpbms6IDB4RkZDMENCLFxyXG4gICAgICBwbHVtOiAweEREQTBERCxcclxuICAgICAgcG93ZGVyYmx1ZTogMHhCMEUwRTYsXHJcbiAgICAgIHB1cnBsZTogMHg4MDAwODAsXHJcbiAgICAgIHJlYmVjY2FwdXJwbGU6IDB4NjYzMzk5LFxyXG4gICAgICByZWQ6IDB4RkYwMDAwLFxyXG4gICAgICByb3N5YnJvd246IDB4QkM4RjhGLFxyXG4gICAgICByb3lhbGJsdWU6IDB4NDE2OUUxLFxyXG4gICAgICBzYWRkbGVicm93bjogMHg4QjQ1MTMsXHJcbiAgICAgIHNhbG1vbjogMHhGQTgwNzIsXHJcbiAgICAgIHNhbmR5YnJvd246IDB4RjRBNDYwLFxyXG4gICAgICBzZWFncmVlbjogMHgyRThCNTcsXHJcbiAgICAgIHNlYXNoZWxsOiAweEZGRjVFRSxcclxuICAgICAgc2llbm5hOiAweEEwNTIyRCxcclxuICAgICAgc2lsdmVyOiAweEMwQzBDMCxcclxuICAgICAgc2t5Ymx1ZTogMHg4N0NFRUIsXHJcbiAgICAgIHNsYXRlYmx1ZTogMHg2QTVBQ0QsXHJcbiAgICAgIHNsYXRlZ3JheTogMHg3MDgwOTAsXHJcbiAgICAgIHNsYXRlZ3JleTogMHg3MDgwOTAsXHJcbiAgICAgIHNub3c6IDB4RkZGQUZBLFxyXG4gICAgICBzcHJpbmdncmVlbjogMHgwMEZGN0YsXHJcbiAgICAgIHN0ZWVsYmx1ZTogMHg0NjgyQjQsXHJcbiAgICAgIHRhbjogMHhEMkI0OEMsXHJcbiAgICAgIHRlYWw6IDB4MDA4MDgwLFxyXG4gICAgICB0aGlzdGxlOiAweEQ4QkZEOCxcclxuICAgICAgdG9tYXRvOiAweEZGNjM0NyxcclxuICAgICAgdHVycXVvaXNlOiAweDQwRTBEMCxcclxuICAgICAgdmlvbGV0OiAweEVFODJFRSxcclxuICAgICAgd2hlYXQ6IDB4RjVERUIzLFxyXG4gICAgICB3aGl0ZTogMHhGRkZGRkYsXHJcbiAgICAgIHdoaXRlc21va2U6IDB4RjVGNUY1LFxyXG4gICAgICB5ZWxsb3c6IDB4RkZGRjAwLFxyXG4gICAgICB5ZWxsb3dncmVlbjogMHg5QUNEMzJcclxuICB9O1xyXG4gIGZvciAodmFyIG5hbWUgaW4gY29sb3JWYWx1ZXMpIHtcclxuICAgICAgaWYgKGNvbG9yVmFsdWVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcbiAgICAgICAgICB2YXIgY29sb3IgPSBjb2xvclZhbHVlc1tuYW1lXTtcclxuICAgICAgICAgIENvbG9yTmFtZXNbbmFtZV0gPSBNYXRoLmZsb29yKGNvbG9yIC8gNjU1MzYpICsgXCIsXCIgKyBNYXRoLmZsb29yKGNvbG9yIC8gMjU2ICUgMjU2KSArIFwiLFwiICsgY29sb3IgJSAyNTY7XHJcbiAgICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFByb2plY3RcclxuICBmdW5jdGlvbiByZWdpc3RlckJhY2tJbihuYW1lLCBhbW91bnQpIHtcclxuICAgICAgcmVnaXN0ZXJFYXNpbmcoW25hbWUsIGZ1bmN0aW9uIChwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XHJcbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIE1hdGgucG93KHBlcmNlbnRDb21wbGV0ZSwgMikgKiAoKGFtb3VudCArIDEpICogcGVyY2VudENvbXBsZXRlIC0gYW1vdW50KSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xyXG4gICAgICB9XSk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyQmFja091dChuYW1lLCBhbW91bnQpIHtcclxuICAgICAgcmVnaXN0ZXJFYXNpbmcoW25hbWUsIGZ1bmN0aW9uIChwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XHJcbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIChNYXRoLnBvdygtLXBlcmNlbnRDb21wbGV0ZSwgMikgKiAoKGFtb3VudCArIDEpICogcGVyY2VudENvbXBsZXRlICsgYW1vdW50KSArIDEpICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XHJcbiAgICAgIH1dKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gcmVnaXN0ZXJCYWNrSW5PdXQobmFtZSwgYW1vdW50KSB7XHJcbiAgICAgIGFtb3VudCAqPSAxLjUyNTtcclxuICAgICAgcmVnaXN0ZXJFYXNpbmcoW25hbWUsIGZ1bmN0aW9uIChwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XHJcbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcGVyY2VudENvbXBsZXRlICo9IDI7XHJcbiAgICAgICAgICByZXR1cm4gKHBlcmNlbnRDb21wbGV0ZSA8IDEgPyBNYXRoLnBvdyhwZXJjZW50Q29tcGxldGUsIDIpICogKChhbW91bnQgKyAxKSAqIHBlcmNlbnRDb21wbGV0ZSAtIGFtb3VudCkgOiBNYXRoLnBvdyhwZXJjZW50Q29tcGxldGUgLSAyLCAyKSAqICgoYW1vdW50ICsgMSkgKiAocGVyY2VudENvbXBsZXRlIC0gMikgKyBhbW91bnQpICsgMikgKiAwLjUgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcclxuICAgICAgfV0pO1xyXG4gIH1cclxuICByZWdpc3RlckJhY2tJbihcImVhc2VJbkJhY2tcIiwgMS43KTtcclxuICByZWdpc3RlckJhY2tPdXQoXCJlYXNlT3V0QmFja1wiLCAxLjcpO1xyXG4gIHJlZ2lzdGVyQmFja0luT3V0KFwiZWFzZUluT3V0QmFja1wiLCAxLjcpO1xyXG4gIC8vIFRPRE86IEV4cG9zZSB0aGVzZSBhcyBhY3Rpb25zIHRvIHJlZ2lzdGVyIGN1c3RvbSBlYXNpbmdzP1xyXG5cclxuICAvLyBQcm9qZWN0XHJcbiAgZnVuY3Rpb24gZWFzZU91dEJvdW5jZVBlcmNlbnQocGVyY2VudENvbXBsZXRlKSB7XHJcbiAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPCAxIC8gMi43NSkge1xyXG4gICAgICAgICAgcmV0dXJuIDcuNTYyNSAqIHBlcmNlbnRDb21wbGV0ZSAqIHBlcmNlbnRDb21wbGV0ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocGVyY2VudENvbXBsZXRlIDwgMiAvIDIuNzUpIHtcclxuICAgICAgICAgIHJldHVybiA3LjU2MjUgKiAocGVyY2VudENvbXBsZXRlIC09IDEuNSAvIDIuNzUpICogcGVyY2VudENvbXBsZXRlICsgMC43NTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocGVyY2VudENvbXBsZXRlIDwgMi41IC8gMi43NSkge1xyXG4gICAgICAgICAgcmV0dXJuIDcuNTYyNSAqIChwZXJjZW50Q29tcGxldGUgLT0gMi4yNSAvIDIuNzUpICogcGVyY2VudENvbXBsZXRlICsgMC45Mzc1O1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiA3LjU2MjUgKiAocGVyY2VudENvbXBsZXRlIC09IDIuNjI1IC8gMi43NSkgKiBwZXJjZW50Q29tcGxldGUgKyAwLjk4NDM3NTtcclxuICB9XHJcbiAgZnVuY3Rpb24gZWFzZUluQm91bmNlUGVyY2VudChwZXJjZW50Q29tcGxldGUpIHtcclxuICAgICAgcmV0dXJuIDEgLSBlYXNlT3V0Qm91bmNlUGVyY2VudCgxIC0gcGVyY2VudENvbXBsZXRlKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gZWFzZUluQm91bmNlKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUpIHtcclxuICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMCkge1xyXG4gICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMSkge1xyXG4gICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBlYXNlSW5Cb3VuY2VQZXJjZW50KHBlcmNlbnRDb21wbGV0ZSkgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gZWFzZU91dEJvdW5jZShwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XHJcbiAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDApIHtcclxuICAgICAgICAgIHJldHVybiBzdGFydFZhbHVlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDEpIHtcclxuICAgICAgICAgIHJldHVybiBlbmRWYWx1ZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZWFzZU91dEJvdW5jZVBlcmNlbnQocGVyY2VudENvbXBsZXRlKSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xyXG4gIH1cclxuICBmdW5jdGlvbiBlYXNlSW5PdXRCb3VuY2UocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xyXG4gICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAwKSB7XHJcbiAgICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XHJcbiAgICAgICAgICByZXR1cm4gZW5kVmFsdWU7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIChwZXJjZW50Q29tcGxldGUgPCAwLjUgPyBlYXNlSW5Cb3VuY2VQZXJjZW50KHBlcmNlbnRDb21wbGV0ZSAqIDIpICogMC41IDogZWFzZU91dEJvdW5jZVBlcmNlbnQocGVyY2VudENvbXBsZXRlICogMiAtIDEpICogMC41ICsgMC41KSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xyXG4gIH1cclxuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5Cb3VuY2VcIiwgZWFzZUluQm91bmNlXSk7XHJcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZU91dEJvdW5jZVwiLCBlYXNlT3V0Qm91bmNlXSk7XHJcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluT3V0Qm91bmNlXCIsIGVhc2VJbk91dEJvdW5jZV0pO1xyXG5cclxuICAvLyBQcm9qZWN0XHJcbiAgLy8gQ29uc3RhbnRzXHJcbiAgdmFyIFBJMiA9IE1hdGguUEkgKiAyO1xyXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyRWxhc3RpY0luKG5hbWUsIGFtcGxpdHVkZSwgcGVyaW9kKSB7XHJcbiAgICAgIHJlZ2lzdGVyRWFzaW5nKFtuYW1lLCBmdW5jdGlvbiAocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xyXG4gICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBzdGFydFZhbHVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBlbmRWYWx1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiAtKGFtcGxpdHVkZSAqIE1hdGgucG93KDIsIDEwICogKHBlcmNlbnRDb21wbGV0ZSAtPSAxKSkgKiBNYXRoLnNpbigocGVyY2VudENvbXBsZXRlIC0gcGVyaW9kIC8gUEkyICogTWF0aC5hc2luKDEgLyBhbXBsaXR1ZGUpKSAqIFBJMiAvIHBlcmlvZCkpICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XHJcbiAgICAgIH1dKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gcmVnaXN0ZXJFbGFzdGljT3V0KG5hbWUsIGFtcGxpdHVkZSwgcGVyaW9kKSB7XHJcbiAgICAgIHJlZ2lzdGVyRWFzaW5nKFtuYW1lLCBmdW5jdGlvbiAocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xyXG4gICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBzdGFydFZhbHVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBlbmRWYWx1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiAoYW1wbGl0dWRlICogTWF0aC5wb3coMiwgLTEwICogcGVyY2VudENvbXBsZXRlKSAqIE1hdGguc2luKChwZXJjZW50Q29tcGxldGUgLSBwZXJpb2QgLyBQSTIgKiBNYXRoLmFzaW4oMSAvIGFtcGxpdHVkZSkpICogUEkyIC8gcGVyaW9kKSArIDEpICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XHJcbiAgICAgIH1dKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gcmVnaXN0ZXJFbGFzdGljSW5PdXQobmFtZSwgYW1wbGl0dWRlLCBwZXJpb2QpIHtcclxuICAgICAgcmVnaXN0ZXJFYXNpbmcoW25hbWUsIGZ1bmN0aW9uIChwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XHJcbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdmFyIHMgPSBwZXJpb2QgLyBQSTIgKiBNYXRoLmFzaW4oMSAvIGFtcGxpdHVkZSk7XHJcbiAgICAgICAgICBwZXJjZW50Q29tcGxldGUgPSBwZXJjZW50Q29tcGxldGUgKiAyIC0gMTtcclxuICAgICAgICAgIHJldHVybiAocGVyY2VudENvbXBsZXRlIDwgMCA/IC0wLjUgKiAoYW1wbGl0dWRlICogTWF0aC5wb3coMiwgMTAgKiBwZXJjZW50Q29tcGxldGUpICogTWF0aC5zaW4oKHBlcmNlbnRDb21wbGV0ZSAtIHMpICogUEkyIC8gcGVyaW9kKSkgOiBhbXBsaXR1ZGUgKiBNYXRoLnBvdygyLCAtMTAgKiBwZXJjZW50Q29tcGxldGUpICogTWF0aC5zaW4oKHBlcmNlbnRDb21wbGV0ZSAtIHMpICogUEkyIC8gcGVyaW9kKSAqIDAuNSArIDEpICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XHJcbiAgICAgIH1dKTtcclxuICB9XHJcbiAgcmVnaXN0ZXJFbGFzdGljSW4oXCJlYXNlSW5FbGFzdGljXCIsIDEsIDAuMyk7XHJcbiAgcmVnaXN0ZXJFbGFzdGljT3V0KFwiZWFzZU91dEVsYXN0aWNcIiwgMSwgMC4zKTtcclxuICByZWdpc3RlckVsYXN0aWNJbk91dChcImVhc2VJbk91dEVsYXN0aWNcIiwgMSwgMC4zICogMS41KTtcclxuICAvLyBUT0RPOiBFeHBvc2UgdGhlc2UgYXMgYWN0aW9ucyB0byByZWdpc3RlciBjdXN0b20gZWFzaW5ncz9cclxuXHJcbiAgLy8gUHJvamVjdFxyXG4gIC8qKlxyXG4gICAqIEVhc2luZyBmdW5jdGlvbiB0aGF0IHNldHMgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZSBpbW1lZGlhdGVseSBhZnRlciB0aGVcclxuICAgKiBhbmltYXRpb24gc3RhcnRzLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGF0U3RhcnQocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xyXG4gICAgcmV0dXJuIHBlcmNlbnRDb21wbGV0ZSA9PT0gMCA/IHN0YXJ0VmFsdWUgOiBlbmRWYWx1ZTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRWFzaW5nIGZ1bmN0aW9uIHRoYXQgc2V0cyB0byB0aGUgc3BlY2lmaWVkIHZhbHVlIHdoaWxlIHRoZSBhbmltYXRpb24gaXNcclxuICAgKiBydW5uaW5nLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGR1cmluZyhwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XHJcbiAgICByZXR1cm4gcGVyY2VudENvbXBsZXRlID09PSAwIHx8IHBlcmNlbnRDb21wbGV0ZSA9PT0gMSA/IHN0YXJ0VmFsdWUgOiBlbmRWYWx1ZTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRWFzaW5nIGZ1bmN0aW9uIHRoYXQgc2V0cyB0byB0aGUgc3BlY2lmaWVkIHZhbHVlIHdoZW4gdGhlIGFuaW1hdGlvbiBlbmRzLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGF0RW5kKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUpIHtcclxuICAgIHJldHVybiBwZXJjZW50Q29tcGxldGUgPT09IDEgPyBlbmRWYWx1ZSA6IHN0YXJ0VmFsdWU7XHJcbiAgfVxyXG4gIHJlZ2lzdGVyRWFzaW5nKFtcImF0LXN0YXJ0XCIsIGF0U3RhcnRdKTtcclxuICByZWdpc3RlckVhc2luZyhbXCJkdXJpbmdcIiwgZHVyaW5nXSk7XHJcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiYXQtZW5kXCIsIGF0RW5kXSk7XHJcblxyXG4gIC8vIFByb2plY3RcclxuICAvKipcclxuICAgKiBHZXQvc2V0IHRoZSBpbm5lci9vdXRlciBkaW1lbnNpb24uXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZ2V0RGltZW5zaW9uKG5hbWUsIHdhbnRJbm5lcikge1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW1lbnQsIHByb3BlcnR5VmFsdWUpIHtcclxuICAgICAgICAgIGlmIChwcm9wZXJ0eVZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gYXVnbWVudERpbWVuc2lvbihlbGVtZW50LCBuYW1lLCB3YW50SW5uZXIpICsgXCJweFwiO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgc2V0UHJvcGVydHlWYWx1ZShlbGVtZW50LCBuYW1lLCBwYXJzZUZsb2F0KHByb3BlcnR5VmFsdWUpIC0gYXVnbWVudERpbWVuc2lvbihlbGVtZW50LCBuYW1lLCB3YW50SW5uZXIpICsgXCJweFwiKTtcclxuICAgICAgfTtcclxuICB9XHJcbiAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkVsZW1lbnRcIiwgXCJpbm5lcldpZHRoXCIsIGdldERpbWVuc2lvbihcIndpZHRoXCIsIHRydWUpXSk7XHJcbiAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkVsZW1lbnRcIiwgXCJpbm5lckhlaWdodFwiLCBnZXREaW1lbnNpb24oXCJoZWlnaHRcIiwgdHJ1ZSldKTtcclxuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiRWxlbWVudFwiLCBcIm91dGVyV2lkdGhcIiwgZ2V0RGltZW5zaW9uKFwid2lkdGhcIiwgZmFsc2UpXSk7XHJcbiAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkVsZW1lbnRcIiwgXCJvdXRlckhlaWdodFwiLCBnZXREaW1lbnNpb24oXCJoZWlnaHRcIiwgZmFsc2UpXSk7XHJcblxyXG4gIC8vIFByb2plY3RcclxuICAvLyBDb25zdGFudHNcclxuICB2YXIgaW5saW5lUnggPSAvXihifGJpZ3xpfHNtYWxsfHR0fGFiYnJ8YWNyb255bXxjaXRlfGNvZGV8ZGZufGVtfGtiZHxzdHJvbmd8c2FtcHxsZXR8YXxiZG98YnJ8aW1nfG1hcHxvYmplY3R8cXxzY3JpcHR8c3BhbnxzdWJ8c3VwfGJ1dHRvbnxpbnB1dHxsYWJlbHxzZWxlY3R8dGV4dGFyZWEpJC9pLFxyXG4gICAgICBsaXN0SXRlbVJ4ID0gL14obGkpJC9pLFxyXG4gICAgICB0YWJsZVJvd1J4ID0gL14odHIpJC9pLFxyXG4gICAgICB0YWJsZVJ4ID0gL14odGFibGUpJC9pLFxyXG4gICAgICB0YWJsZVJvd0dyb3VwUnggPSAvXih0Ym9keSkkL2k7XHJcbiAgZnVuY3Rpb24gZGlzcGxheShlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKSB7XHJcbiAgICAgIHZhciBzdHlsZSA9IGVsZW1lbnQuc3R5bGU7XHJcbiAgICAgIGlmIChwcm9wZXJ0eVZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIHJldHVybiBjb21wdXRlUHJvcGVydHlWYWx1ZShlbGVtZW50LCBcImRpc3BsYXlcIik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHByb3BlcnR5VmFsdWUgPT09IFwiYXV0b1wiKSB7XHJcbiAgICAgICAgICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50ICYmIGVsZW1lbnQubm9kZU5hbWUsXHJcbiAgICAgICAgICAgICAgZGF0YSA9IERhdGEoZWxlbWVudCk7XHJcbiAgICAgICAgICBpZiAoaW5saW5lUngudGVzdChub2RlTmFtZSkpIHtcclxuICAgICAgICAgICAgICBwcm9wZXJ0eVZhbHVlID0gXCJpbmxpbmVcIjtcclxuICAgICAgICAgIH0gZWxzZSBpZiAobGlzdEl0ZW1SeC50ZXN0KG5vZGVOYW1lKSkge1xyXG4gICAgICAgICAgICAgIHByb3BlcnR5VmFsdWUgPSBcImxpc3QtaXRlbVwiO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICh0YWJsZVJvd1J4LnRlc3Qobm9kZU5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IFwidGFibGUtcm93XCI7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlUngudGVzdChub2RlTmFtZSkpIHtcclxuICAgICAgICAgICAgICBwcm9wZXJ0eVZhbHVlID0gXCJ0YWJsZVwiO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICh0YWJsZVJvd0dyb3VwUngudGVzdChub2RlTmFtZSkpIHtcclxuICAgICAgICAgICAgICBwcm9wZXJ0eVZhbHVlID0gXCJ0YWJsZS1yb3ctZ3JvdXBcIjtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgLy8gRGVmYXVsdCB0byBcImJsb2NrXCIgd2hlbiBubyBtYXRjaCBpcyBmb3VuZC5cclxuICAgICAgICAgICAgICBwcm9wZXJ0eVZhbHVlID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gSU1QT1JUQU5UOiBXZSBuZWVkIHRvIGRvIHRoaXMgYXMgZ2V0UHJvcGVydHlWYWx1ZSBieXBhc3NlcyB0aGVcclxuICAgICAgICAgIC8vIE5vcm1hbGlzYXRpb24gd2hlbiBpdCBleGlzdHMgaW4gdGhlIGNhY2hlLlxyXG4gICAgICAgICAgZGF0YS5jYWNoZVtcImRpc3BsYXlcIl0gPSBwcm9wZXJ0eVZhbHVlO1xyXG4gICAgICB9XHJcbiAgICAgIHN0eWxlLmRpc3BsYXkgPSBwcm9wZXJ0eVZhbHVlO1xyXG4gIH1cclxuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiRWxlbWVudFwiLCBcImRpc3BsYXlcIiwgZGlzcGxheV0pO1xyXG5cclxuICAvLyBQcm9qZWN0XHJcbiAgZnVuY3Rpb24gY2xpZW50V2lkdGgoZWxlbWVudCwgcHJvcGVydHlWYWx1ZSkge1xyXG4gICAgICBpZiAocHJvcGVydHlWYWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICByZXR1cm4gZWxlbWVudC5jbGllbnRXaWR0aCArIFwicHhcIjtcclxuICAgICAgfVxyXG4gIH1cclxuICBmdW5jdGlvbiBzY3JvbGxXaWR0aChlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKSB7XHJcbiAgICAgIGlmIChwcm9wZXJ0eVZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgIHJldHVybiBlbGVtZW50LnNjcm9sbFdpZHRoICsgXCJweFwiO1xyXG4gICAgICB9XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGNsaWVudEhlaWdodChlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKSB7XHJcbiAgICAgIGlmIChwcm9wZXJ0eVZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgIHJldHVybiBlbGVtZW50LmNsaWVudEhlaWdodCArIFwicHhcIjtcclxuICAgICAgfVxyXG4gIH1cclxuICBmdW5jdGlvbiBzY3JvbGxIZWlnaHQoZWxlbWVudCwgcHJvcGVydHlWYWx1ZSkge1xyXG4gICAgICBpZiAocHJvcGVydHlWYWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICByZXR1cm4gZWxlbWVudC5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgIH1cclxuICB9XHJcbiAgZnVuY3Rpb24gc2Nyb2xsKGRpcmVjdGlvbiwgZW5kKSB7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCwgcHJvcGVydHlWYWx1ZSkge1xyXG4gICAgICAgICAgaWYgKHByb3BlcnR5VmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIHRoZXNlIHZhbHVlcyBjYWNoZWQuXHJcbiAgICAgICAgICAgICAgZ2V0UHJvcGVydHlWYWx1ZShlbGVtZW50LCBcImNsaWVudFwiICsgZGlyZWN0aW9uLCBudWxsLCB0cnVlKTtcclxuICAgICAgICAgICAgICBnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIFwic2Nyb2xsXCIgKyBkaXJlY3Rpb24sIG51bGwsIHRydWUpO1xyXG4gICAgICAgICAgICAgIHJldHVybiBlbGVtZW50W1wic2Nyb2xsXCIgKyBlbmRdICsgXCJweFwiO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdmFyIHZhbHVlID0gcGFyc2VGbG9hdChwcm9wZXJ0eVZhbHVlKSxcclxuICAgICAgICAgICAgICB1bml0ID0gcHJvcGVydHlWYWx1ZS5yZXBsYWNlKFN0cmluZyh2YWx1ZSksIFwiXCIpO1xyXG4gICAgICAgICAgc3dpdGNoICh1bml0KSB7XHJcbiAgICAgICAgICAgICAgY2FzZSBcIlwiOlxyXG4gICAgICAgICAgICAgIGNhc2UgXCJweFwiOlxyXG4gICAgICAgICAgICAgICAgICBlbGVtZW50W1wic2Nyb2xsXCIgKyBlbmRdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIGNhc2UgXCIlXCI6XHJcbiAgICAgICAgICAgICAgICAgIHZhciBjbGllbnQgPSBwYXJzZUZsb2F0KGdldFByb3BlcnR5VmFsdWUoZWxlbWVudCwgXCJjbGllbnRcIiArIGRpcmVjdGlvbikpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVmFsdWUgPSBwYXJzZUZsb2F0KGdldFByb3BlcnR5VmFsdWUoZWxlbWVudCwgXCJzY3JvbGxcIiArIGRpcmVjdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgICBlbGVtZW50W1wic2Nyb2xsXCIgKyBlbmRdID0gTWF0aC5tYXgoMCwgc2Nyb2xsVmFsdWUgLSBjbGllbnQpICogdmFsdWUgLyAxMDA7XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gIH1cclxuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiSFRNTEVsZW1lbnRcIiwgXCJzY3JvbGxcIiwgc2Nyb2xsKFwiSGVpZ2h0XCIsIFwiVG9wXCIpLCBmYWxzZV0pO1xyXG4gIHJlZ2lzdGVyTm9ybWFsaXphdGlvbihbXCJIVE1MRWxlbWVudFwiLCBcInNjcm9sbFRvcFwiLCBzY3JvbGwoXCJIZWlnaHRcIiwgXCJUb3BcIiksIGZhbHNlXSk7XHJcbiAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkhUTUxFbGVtZW50XCIsIFwic2Nyb2xsTGVmdFwiLCBzY3JvbGwoXCJXaWR0aFwiLCBcIkxlZnRcIiksIGZhbHNlXSk7XHJcbiAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkhUTUxFbGVtZW50XCIsIFwic2Nyb2xsV2lkdGhcIiwgc2Nyb2xsV2lkdGhdKTtcclxuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiSFRNTEVsZW1lbnRcIiwgXCJjbGllbnRXaWR0aFwiLCBjbGllbnRXaWR0aF0pO1xyXG4gIHJlZ2lzdGVyTm9ybWFsaXphdGlvbihbXCJIVE1MRWxlbWVudFwiLCBcInNjcm9sbEhlaWdodFwiLCBzY3JvbGxIZWlnaHRdKTtcclxuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiSFRNTEVsZW1lbnRcIiwgXCJjbGllbnRIZWlnaHRcIiwgY2xpZW50SGVpZ2h0XSk7XHJcblxyXG4gIC8vIFByb2plY3RcclxuICAvKipcclxuICAgKiBBbiBSZWdFeHAgcGF0dGVybiBmb3IgdGhlIGZvbGxvd2luZyBsaXN0IG9mIGNzcyB3b3JkcyB1c2luZ1xyXG4gICAqIGh0dHA6Ly9rZW1pby5jb20uYXIvdG9vbHMvbHN0LXRyaWUtcmUucGhwIHRvIGdlbmVyYXRlOlxyXG4gICAqXHJcbiAgICogYmxvY2tTaXplXHJcbiAgICogYm9yZGVyQm90dG9tTGVmdFJhZGl1c1xyXG4gICAqIGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzXHJcbiAgICogYm9yZGVyQm90dG9tV2lkdGhcclxuICAgKiBib3JkZXJJbWFnZU91dHNldFxyXG4gICAqIGJvcmRlckltYWdlV2lkdGhcclxuICAgKiBib3JkZXJMZWZ0V2lkdGhcclxuICAgKiBib3JkZXJSYWRpdXNcclxuICAgKiBib3JkZXJSaWdodFdpZHRoXHJcbiAgICogYm9yZGVyU3BhY2luZ1xyXG4gICAqIGJvcmRlclRvcExlZnRSYWRpdXNcclxuICAgKiBib3JkZXJUb3BSaWdodFJhZGl1c1xyXG4gICAqIGJvcmRlclRvcFdpZHRoXHJcbiAgICogYm9yZGVyV2lkdGhcclxuICAgKiBib3R0b21cclxuICAgKiBjb2x1bW5HYXBcclxuICAgKiBjb2x1bW5SdWxlV2lkdGhcclxuICAgKiBjb2x1bW5XaWR0aFxyXG4gICAqIGZsZXhCYXNpc1xyXG4gICAqIGZvbnRTaXplXHJcbiAgICogZ3JpZENvbHVtbkdhcFxyXG4gICAqIGdyaWRHYXBcclxuICAgKiBncmlkUm93R2FwXHJcbiAgICogaGVpZ2h0XHJcbiAgICogaW5saW5lU2l6ZVxyXG4gICAqIGxlZnRcclxuICAgKiBsZXR0ZXJTcGFjaW5nXHJcbiAgICogbWFyZ2luXHJcbiAgICogbWFyZ2luQm90dG9tXHJcbiAgICogbWFyZ2luTGVmdFxyXG4gICAqIG1hcmdpblJpZ2h0XHJcbiAgICogbWFyZ2luVG9wXHJcbiAgICogbWF4QmxvY2tTaXplXHJcbiAgICogbWF4SGVpZ2h0XHJcbiAgICogbWF4SW5saW5lU2l6ZVxyXG4gICAqIG1heFdpZHRoXHJcbiAgICogbWluQmxvY2tTaXplXHJcbiAgICogbWluSGVpZ2h0XHJcbiAgICogbWluSW5saW5lU2l6ZVxyXG4gICAqIG1pbldpZHRoXHJcbiAgICogb2JqZWN0UG9zaXRpb25cclxuICAgKiBvdXRsaW5lT2Zmc2V0XHJcbiAgICogb3V0bGluZVdpZHRoXHJcbiAgICogcGFkZGluZ1xyXG4gICAqIHBhZGRpbmdCb3R0b21cclxuICAgKiBwYWRkaW5nTGVmdFxyXG4gICAqIHBhZGRpbmdSaWdodFxyXG4gICAqIHBhZGRpbmdUb3BcclxuICAgKiBwZXJzcGVjdGl2ZVxyXG4gICAqIHJpZ2h0XHJcbiAgICogc2hhcGVNYXJnaW5cclxuICAgKiBzdHJva2VEYXNob2Zmc2V0XHJcbiAgICogc3Ryb2tlV2lkdGhcclxuICAgKiB0ZXh0SW5kZW50XHJcbiAgICogdG9wXHJcbiAgICogdHJhbnNmb3JtT3JpZ2luXHJcbiAgICogd2lkdGhcclxuICAgKiB3b3JkU3BhY2luZ1xyXG4gICAqL1xyXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcclxuICB2YXIgcnhBZGRQeCA9IC9eKGIobG9ja1NpemV8byhyZGVyKEJvdHRvbShMZWZ0UmFkaXVzfFJpZ2h0UmFkaXVzfFdpZHRoKXxJbWFnZShPdXRzZXR8V2lkdGgpfExlZnRXaWR0aHxSKGFkaXVzfGlnaHRXaWR0aCl8U3BhY2luZ3xUb3AoTGVmdFJhZGl1c3xSaWdodFJhZGl1c3xXaWR0aCl8V2lkdGgpfHR0b20pKXxjb2x1bW4oR2FwfFJ1bGVXaWR0aHxXaWR0aCl8ZihsZXhCYXNpc3xvbnRTaXplKXxncmlkKENvbHVtbkdhcHxHYXB8Um93R2FwKXxoZWlnaHR8aW5saW5lU2l6ZXxsZShmdHx0dGVyU3BhY2luZyl8bShhKHJnaW4oQm90dG9tfExlZnR8UmlnaHR8VG9wKXx4KEJsb2NrU2l6ZXxIZWlnaHR8SW5saW5lU2l6ZXxXaWR0aCkpfGluKEJsb2NrU2l6ZXxIZWlnaHR8SW5saW5lU2l6ZXxXaWR0aCkpfG8oYmplY3RQb3NpdGlvbnx1dGxpbmUoT2Zmc2V0fFdpZHRoKSl8cChhZGRpbmcoQm90dG9tfExlZnR8UmlnaHR8VG9wKXxlcnNwZWN0aXZlKXxyaWdodHxzKGhhcGVNYXJnaW58dHJva2UoRGFzaG9mZnNldHxXaWR0aCkpfHQoZXh0SW5kZW50fG9wfHJhbnNmb3JtT3JpZ2luKXx3KGlkdGh8b3JkU3BhY2luZykpJC87XHJcbiAgLyoqXHJcbiAgICogUmV0dXJuIGEgTm9ybWFsaXNhdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIHNldCAvIGdldCBhIHByZWZpeGVkIHN0eWxlXHJcbiAgICogcHJvcGVydHkuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZ2V0U2V0UHJlZml4ZWQocHJvcGVydHlOYW1lLCB1bnByZWZpeGVkKSB7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCwgcHJvcGVydHlWYWx1ZSkge1xyXG4gICAgICAgICAgaWYgKHByb3BlcnR5VmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBjb21wdXRlUHJvcGVydHlWYWx1ZShlbGVtZW50LCBwcm9wZXJ0eU5hbWUpIHx8IGNvbXB1dGVQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIHVucHJlZml4ZWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wZXJ0eU5hbWVdID0gZWxlbWVudC5zdHlsZVt1bnByZWZpeGVkXSA9IHByb3BlcnR5VmFsdWU7XHJcbiAgICAgIH07XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFJldHVybiBhIE5vcm1hbGlzYXRpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBzZXQgLyBnZXQgYSBzdHlsZSBwcm9wZXJ0eS5cclxuICAgKi9cclxuICBmdW5jdGlvbiBnZXRTZXRTdHlsZShwcm9wZXJ0eU5hbWUpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKSB7XHJcbiAgICAgICAgICBpZiAocHJvcGVydHlWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGVQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5TmFtZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BlcnR5TmFtZV0gPSBwcm9wZXJ0eVZhbHVlO1xyXG4gICAgICB9O1xyXG4gIH1cclxuICAvKipcclxuICAgKiBWZW5kb3IgcHJlZml4ZXMuIENocm9tZSAvIFNhZmFyaSwgRmlyZWZveCwgSUUgLyBFZGdlLCBPcGVyYS5cclxuICAgKi9cclxuICB2YXIgcnhWZW5kb3JzID0gL14od2Via2l0fG1venxtc3xvKVtBLVpdLyxcclxuICAgICAgcHJlZml4RWxlbWVudCA9IFN0YXRlLnByZWZpeEVsZW1lbnQ7XHJcbiAgaWYgKHByZWZpeEVsZW1lbnQpIHtcclxuICAgICAgZm9yICh2YXIgcHJvcGVydHlOYW1lIGluIHByZWZpeEVsZW1lbnQuc3R5bGUpIHtcclxuICAgICAgICAgIGlmIChyeFZlbmRvcnMudGVzdChwcm9wZXJ0eU5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHVucHJlZml4ZWQgPSBwcm9wZXJ0eU5hbWUucmVwbGFjZSgvXlthLXpdKyhbQS1aXSkvLCBmdW5jdGlvbiAoJCwgbGV0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXIudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBhZGRVbml0ID0gcnhBZGRQeC50ZXN0KHVucHJlZml4ZWQpID8gXCJweFwiIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiRWxlbWVudFwiLCB1bnByZWZpeGVkLCBnZXRTZXRQcmVmaXhlZChwcm9wZXJ0eU5hbWUsIHVucHJlZml4ZWQpLCBhZGRVbml0XSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIGlmICghaGFzTm9ybWFsaXphdGlvbihbXCJFbGVtZW50XCIsIHByb3BlcnR5TmFtZV0pKSB7XHJcbiAgICAgICAgICAgICAgdmFyIF9hZGRVbml0ID0gcnhBZGRQeC50ZXN0KHByb3BlcnR5TmFtZSkgPyBcInB4XCIgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkVsZW1lbnRcIiwgcHJvcGVydHlOYW1lLCBnZXRTZXRTdHlsZShwcm9wZXJ0eU5hbWUpLCBfYWRkVW5pdF0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBQcm9qZWN0XHJcbiAgLyoqXHJcbiAgICogR2V0L3NldCBhbiBhdHRyaWJ1dGUuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZ2V0QXR0cmlidXRlKG5hbWUpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKSB7XHJcbiAgICAgICAgICBpZiAocHJvcGVydHlWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgcHJvcGVydHlWYWx1ZSk7XHJcbiAgICAgIH07XHJcbiAgfVxyXG4gIHZhciBiYXNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcclxuICAgICAgcnhTdWJ0eXBlID0gL15TVkcoLiopRWxlbWVudCQvLFxyXG4gICAgICByeEVsZW1lbnQgPSAvRWxlbWVudCQvO1xyXG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgdmFyIHN1YnR5cGUgPSByeFN1YnR5cGUuZXhlYyhwcm9wZXJ0eSk7XHJcbiAgICAgIGlmIChzdWJ0eXBlICYmIHN1YnR5cGVbMV0gIT09IFwiU1ZHXCIpIHtcclxuICAgICAgICAgIC8vIERvbid0IGRvIFNWR1NWR0VsZW1lbnQuXHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gc3VidHlwZVsxXSA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIChzdWJ0eXBlWzFdIHx8IFwic3ZnXCIpLnRvTG93ZXJDYXNlKCkpIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN2Z1wiKTtcclxuICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6Zm9yaW5cclxuICAgICAgICAgICAgICBmb3IgKHZhciBhdHRyaWJ1dGUgaW4gZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAvLyBBbHRob3VnaCB0aGlzIGlzbid0IGEgdHdlZW4gd2l0aG91dCBwcm90b3R5cGVzLCB3ZSBkb1xyXG4gICAgICAgICAgICAgICAgICAvLyB3YW50IHRvIGdldCBob2xkIG9mIGFsbCBhdHRyaWJ1dGVzIGFuZCBub3QganVzdCBvd24gb25lcy5cclxuICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudFthdHRyaWJ1dGVdO1xyXG4gICAgICAgICAgICAgICAgICBpZiAoaXNTdHJpbmcoYXR0cmlidXRlKSAmJiAhKGF0dHJpYnV0ZVswXSA9PT0gXCJvXCIgJiYgYXR0cmlidXRlWzFdID09PSBcIm5cIikgJiYgYXR0cmlidXRlICE9PSBhdHRyaWJ1dGUudG9VcHBlckNhc2UoKSAmJiAhcnhFbGVtZW50LnRlc3QoYXR0cmlidXRlKSAmJiAhKGF0dHJpYnV0ZSBpbiBiYXNlKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFNob3VsZCB0aGlzIGFsbCBiZSBzZXQgb24gdGhlIGdlbmVyaWMgU1ZHRWxlbWVudCwgaXQgd291bGQgc2F2ZSBzcGFjZSBhbmQgdGltZSwgYnV0IG5vdCBhcyBwb3dlcmZ1bFxyXG4gICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtwcm9wZXJ0eSwgYXR0cmlidXRlLCBnZXRBdHRyaWJ1dGUoYXR0cmlidXRlKV0pO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJWZWxvY2l0eUpTOiBFcnJvciB3aGVuIHRyeWluZyB0byBpZGVudGlmeSBTVkcgYXR0cmlidXRlcyBvbiBcIiArIHByb3BlcnR5ICsgXCIuXCIsIGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vIFByb2plY3RcclxuICAvKipcclxuICAgKiBHZXQvc2V0IHRoZSB3aWR0aCBvciBoZWlnaHQuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZ2V0RGltZW5zaW9uJDEobmFtZSkge1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW1lbnQsIHByb3BlcnR5VmFsdWUpIHtcclxuICAgICAgICAgIGlmIChwcm9wZXJ0eVZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAvLyBGaXJlZm94IHRocm93cyBhbiBlcnJvciBpZiAuZ2V0QkJveCgpIGlzIGNhbGxlZCBvbiBhbiBTVkcgdGhhdCBpc24ndCBhdHRhY2hlZCB0byB0aGUgRE9NLlxyXG4gICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmdldEJCb3goKVtuYW1lXSArIFwicHhcIjtcclxuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBcIjBweFwiO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHByb3BlcnR5VmFsdWUpO1xyXG4gICAgICB9O1xyXG4gIH1cclxuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiU1ZHRWxlbWVudFwiLCBcIndpZHRoXCIsIGdldERpbWVuc2lvbiQxKFwid2lkdGhcIildKTtcclxuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiU1ZHRWxlbWVudFwiLCBcImhlaWdodFwiLCBnZXREaW1lbnNpb24kMShcImhlaWdodFwiKV0pO1xyXG5cclxuICAvLyBQcm9qZWN0XHJcbiAgLyoqXHJcbiAgICogQSBmYWtlIG5vcm1hbGl6YXRpb24gdXNlZCB0byBhbGxvdyB0aGUgXCJ0d2VlblwiIHByb3BlcnR5IGVhc3kgYWNjZXNzLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGdldFNldFR3ZWVuKGVsZW1lbnQsIHByb3BlcnR5VmFsdWUpIHtcclxuICAgICAgaWYgKHByb3BlcnR5VmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgIH1cclxuICB9XHJcbiAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkVsZW1lbnRcIiwgXCJ0d2VlblwiLCBnZXRTZXRUd2Vlbl0pO1xyXG5cclxuICAvLyBBdXRvbWF0aWNhbGx5IGdlbmVyYXRlZFxyXG4gIHZhciBWRVJTSU9OID0gXCIyLjAuNlwiO1xyXG5cclxuICAvLyBQcm9qZWN0XHJcbiAgdmFyIFZlbG9jaXR5JCQxID0gVmVsb2NpdHkkMTtcclxuICAvKipcclxuICAgKiBUaGVzZSBwYXJ0cyBvZiBWZWxvY2l0eSBhYnNvbHV0ZWx5IG11c3QgYmUgaW5jbHVkZWQsIGV2ZW4gaWYgdGhleSdyZSB1bnVzZWQhXHJcbiAgICovXHJcbiAgdmFyIFZlbG9jaXR5U3RhdGljO1xyXG4gIChmdW5jdGlvbiAoVmVsb2NpdHlTdGF0aWMpIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEFjdGlvbnMgY2Fubm90IGJlIHJlcGxhY2VkIGlmIHRoZXkgYXJlIGludGVybmFsIChoYXNPd25Qcm9wZXJ0eSBpcyBmYWxzZVxyXG4gICAgICAgKiBidXQgdGhleSBzdGlsbCBleGlzdCkuIE90aGVyd2lzZSB0aGV5IGNhbiBiZSByZXBsYWNlZCBieSB1c2Vycy5cclxuICAgICAgICpcclxuICAgICAgICogQWxsIGV4dGVybmFsIG1ldGhvZCBjYWxscyBzaG91bGQgYmUgdXNpbmcgYWN0aW9ucyByYXRoZXIgdGhhbiBzdWItY2FsbHNcclxuICAgICAgICogb2YgVmVsb2NpdHkgaXRzZWxmLlxyXG4gICAgICAgKi9cclxuICAgICAgVmVsb2NpdHlTdGF0aWMuQWN0aW9ucyA9IEFjdGlvbnM7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBPdXIga25vd24gZWFzaW5nIGZ1bmN0aW9ucy5cclxuICAgICAgICovXHJcbiAgICAgIFZlbG9jaXR5U3RhdGljLkVhc2luZ3MgPSBFYXNpbmdzO1xyXG4gICAgICAvKipcclxuICAgICAgICogVGhlIGN1cnJlbnRseSByZWdpc3RlcmVkIHNlcXVlbmNlcy5cclxuICAgICAgICovXHJcbiAgICAgIFZlbG9jaXR5U3RhdGljLlNlcXVlbmNlcyA9IFNlcXVlbmNlc09iamVjdDtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEN1cnJlbnQgaW50ZXJuYWwgc3RhdGUgb2YgVmVsb2NpdHkuXHJcbiAgICAgICAqL1xyXG4gICAgICBWZWxvY2l0eVN0YXRpYy5TdGF0ZSA9IFN0YXRlOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBWZWxvY2l0eSBvcHRpb24gZGVmYXVsdHMsIHdoaWNoIGNhbiBiZSBvdmVycmlkZW4gYnkgdGhlIHVzZXIuXHJcbiAgICAgICAqL1xyXG4gICAgICBWZWxvY2l0eVN0YXRpYy5kZWZhdWx0cyA9IGRlZmF1bHRzJDE7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBVc2VkIHRvIHBhdGNoIGFueSBvYmplY3QgdG8gYWxsb3cgVmVsb2NpdHkgY2hhaW5pbmcuIEluIG9yZGVyIHRvIGNoYWluIGFuXHJcbiAgICAgICAqIG9iamVjdCBtdXN0IGVpdGhlciBiZSB0cmVhdGFibGUgYXMgYW4gYXJyYXkgLSB3aXRoIGEgPGNvZGU+Lmxlbmd0aDwvY29kZT5cclxuICAgICAgICogcHJvcGVydHksIGFuZCBlYWNoIG1lbWJlciBhIE5vZGUsIG9yIGEgTm9kZSBkaXJlY3RseS5cclxuICAgICAgICpcclxuICAgICAgICogQnkgZGVmYXVsdCBWZWxvY2l0eSB3aWxsIHRyeSB0byBwYXRjaCA8Y29kZT53aW5kb3c8L2NvZGU+LFxyXG4gICAgICAgKiA8Y29kZT5qUXVlcnk8L2NvZGU+LCA8Y29kZT5aZXB0bzwvY29kZT4sIGFuZCBzZXZlcmFsIGNsYXNzZXMgdGhhdCByZXR1cm5cclxuICAgICAgICogTm9kZXMgb3IgbGlzdHMgb2YgTm9kZXMuXHJcbiAgICAgICAqL1xyXG4gICAgICBWZWxvY2l0eVN0YXRpYy5wYXRjaCA9IHBhdGNoO1xyXG4gICAgICAvKipcclxuICAgICAgICogU2V0IHRvIHRydWUsIDEgb3IgMiAobW9zdCB2ZXJib3NlKSB0byBvdXRwdXQgZGVidWcgaW5mbyB0byBjb25zb2xlLlxyXG4gICAgICAgKi9cclxuICAgICAgVmVsb2NpdHlTdGF0aWMuZGVidWcgPSBmYWxzZTtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEluIG1vY2sgbW9kZSwgYWxsIGFuaW1hdGlvbnMgYXJlIGZvcmNlZCB0byBjb21wbGV0ZSBpbW1lZGlhdGVseSB1cG9uIHRoZVxyXG4gICAgICAgKiBuZXh0IHJBRiB0aWNrLiBJZiB0aGVyZSBhcmUgZnVydGhlciBhbmltYXRpb25zIHF1ZXVlZCB0aGVuIHRoZXkgd2lsbCBlYWNoXHJcbiAgICAgICAqIHRha2Ugb25lIHNpbmdsZSBmcmFtZSBpbiB0dXJuLiBMb29wcyBhbmQgcmVwZWF0cyB3aWxsIGJlIGRpc2FibGVkIHdoaWxlXHJcbiAgICAgICAqIDxjb2RlPm1vY2sgPSB0cnVlPC9jb2RlPi5cclxuICAgICAgICovXHJcbiAgICAgIFZlbG9jaXR5U3RhdGljLm1vY2sgPSBmYWxzZTtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNhdmUgb3VyIHZlcnNpb24gbnVtYmVyIHNvbWV3aGVyZSB2aXNpYmxlLlxyXG4gICAgICAgKi9cclxuICAgICAgVmVsb2NpdHlTdGF0aWMudmVyc2lvbiA9IFZFUlNJT047XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBBZGRlZCBhcyBhIGZhbGxiYWNrIGZvciBcImltcG9ydCB7VmVsb2NpdHl9IGZyb20gJ3ZlbG9jaXR5LWFuaW1hdGUnO1wiLlxyXG4gICAgICAgKi9cclxuICAgICAgVmVsb2NpdHlTdGF0aWMuVmVsb2NpdHkgPSBWZWxvY2l0eSQxOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXHJcbiAgfSkoVmVsb2NpdHlTdGF0aWMgfHwgKFZlbG9jaXR5U3RhdGljID0ge30pKTtcclxuICAvKiBJRSBkZXRlY3Rpb24uIEdpc3Q6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2p1bGlhbnNoYXBpcm8vOTA5ODYwOSAqL1xyXG4gIHZhciBJRSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50TW9kZSkge1xyXG4gICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50TW9kZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSA3OyBpID4gNDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IFwiPCFcIiArIFwiLS1cIiArIFwiW2lmIElFIFwiICsgaSArIFwiXT48c3Bhbj48L3NwYW4+PCFbZW5kaWZdLS0+XCI7XHJcbiAgICAgICAgICAgICAgaWYgKGRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNwYW5cIikubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgIGRpdiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH0oKTtcclxuICAvKioqKioqKioqKioqKioqKioqXHJcbiAgIFVuc3VwcG9ydGVkXHJcbiAgICoqKioqKioqKioqKioqKioqKi9cclxuICBpZiAoSUUgPD0gOCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWZWxvY2l0eUpTIGNhbm5vdCBydW4gb24gSW50ZXJuZXQgRXhwbG9yZXIgOCBvciBlYXJsaWVyXCIpO1xyXG4gIH1cclxuICAvKioqKioqKioqKioqKioqKioqXHJcbiAgIEZyYW1ld29ya3NcclxuICAgKioqKioqKioqKioqKioqKioqL1xyXG4gIGlmICh3aW5kb3cpIHtcclxuICAgICAgLypcclxuICAgICAgICogQm90aCBqUXVlcnkgYW5kIFplcHRvIGFsbG93IHRoZWlyICQuZm4gb2JqZWN0IHRvIGJlIGV4dGVuZGVkIHRvIGFsbG93XHJcbiAgICAgICAqIHdyYXBwZWQgZWxlbWVudHMgdG8gYmUgc3ViamVjdGVkIHRvIHBsdWdpbiBjYWxscy4gSWYgZWl0aGVyIGZyYW1ld29yayBpc1xyXG4gICAgICAgKiBsb2FkZWQsIHJlZ2lzdGVyIGEgXCJ2ZWxvY2l0eVwiIGV4dGVuc2lvbiBwb2ludGluZyB0byBWZWxvY2l0eSdzIGNvcmVcclxuICAgICAgICogYW5pbWF0ZSgpIG1ldGhvZC4gVmVsb2NpdHkgYWxzbyByZWdpc3RlcnMgaXRzZWxmIG9udG8gYSBnbG9iYWwgY29udGFpbmVyXHJcbiAgICAgICAqICh3aW5kb3cualF1ZXJ5IHx8IHdpbmRvdy5aZXB0byB8fCB3aW5kb3cpIHNvIHRoYXQgY2VydGFpbiBmZWF0dXJlcyBhcmVcclxuICAgICAgICogYWNjZXNzaWJsZSBiZXlvbmQganVzdCBhIHBlci1lbGVtZW50IHNjb3BlLiBBY2NvcmRpbmdseSwgVmVsb2NpdHkgY2FuXHJcbiAgICAgICAqIGJvdGggYWN0IG9uIHdyYXBwZWQgRE9NIGVsZW1lbnRzIGFuZCBzdGFuZCBhbG9uZSBmb3IgdGFyZ2V0aW5nIHJhdyBET01cclxuICAgICAgICogZWxlbWVudHMuXHJcbiAgICAgICAqL1xyXG4gICAgICB2YXIgalF1ZXJ5ID0gd2luZG93LmpRdWVyeSxcclxuICAgICAgICAgIFplcHRvID0gd2luZG93LlplcHRvO1xyXG4gICAgICBwYXRjaCh3aW5kb3csIHRydWUpO1xyXG4gICAgICBwYXRjaChFbGVtZW50ICYmIEVsZW1lbnQucHJvdG90eXBlKTtcclxuICAgICAgcGF0Y2goTm9kZUxpc3QgJiYgTm9kZUxpc3QucHJvdG90eXBlKTtcclxuICAgICAgcGF0Y2goSFRNTENvbGxlY3Rpb24gJiYgSFRNTENvbGxlY3Rpb24ucHJvdG90eXBlKTtcclxuICAgICAgcGF0Y2goalF1ZXJ5LCB0cnVlKTtcclxuICAgICAgcGF0Y2goalF1ZXJ5ICYmIGpRdWVyeS5mbik7XHJcbiAgICAgIHBhdGNoKFplcHRvLCB0cnVlKTtcclxuICAgICAgcGF0Y2goWmVwdG8gJiYgWmVwdG8uZm4pO1xyXG4gIH1cclxuICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgdmFsdWVzIHdpdGhpbiBWZWxvY2l0eSBhcmUgcmVhZC1vbmx5IGFuZCB1cGF0Y2hhYmxlLlxyXG5cclxuICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChwcm9wZXJ0eSkge1xyXG4gICAgICBpZiAoVmVsb2NpdHlTdGF0aWMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wZXJ0eSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcclxuICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxyXG4gICAgICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSQxKFZlbG9jaXR5JCQxLCBwcm9wZXJ0eSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFZlbG9jaXR5U3RhdGljW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFZlbG9jaXR5U3RhdGljW3Byb3BlcnR5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShWZWxvY2l0eSQkMSwgcHJvcGVydHksIFZlbG9jaXR5U3RhdGljW3Byb3BlcnR5XSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgfTtcclxuXHJcbiAgZm9yICh2YXIgcHJvcGVydHkgaW4gVmVsb2NpdHlTdGF0aWMpIHtcclxuICAgICAgX2xvb3AocHJvcGVydHkpO1xyXG4gIH1cclxuICBPYmplY3QuZnJlZXplKFZlbG9jaXR5JCQxKTtcclxuXHJcbiAgLy8gUHJvamVjdFxyXG4gIHZhciByeFBlcmNlbnRzID0gLyhcXGQqXFwuXFxkK3xcXGQrXFwuP3xmcm9tfHRvKS9nO1xyXG4gIGZ1bmN0aW9uIGV4cGFuZFNlcXVlbmNlKGFuaW1hdGlvbiwgc2VxdWVuY2UpIHtcclxuICAgICAgdmFyIHR3ZWVucyA9IGFuaW1hdGlvbi50d2VlbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpLFxyXG4gICAgICAgICAgZWxlbWVudCA9IGFuaW1hdGlvbi5lbGVtZW50O1xyXG4gICAgICBmb3IgKHZhciBwcm9wZXJ0eU5hbWUgaW4gc2VxdWVuY2UudHdlZW5zKSB7XHJcbiAgICAgICAgICBpZiAoc2VxdWVuY2UudHdlZW5zLmhhc093blByb3BlcnR5KHByb3BlcnR5TmFtZSkpIHtcclxuICAgICAgICAgICAgICB2YXIgZm4gPSBnZXROb3JtYWxpemF0aW9uKGVsZW1lbnQsIHByb3BlcnR5TmFtZSk7XHJcbiAgICAgICAgICAgICAgaWYgKCFmbiAmJiBwcm9wZXJ0eU5hbWUgIT09IFwidHdlZW5cIikge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoVmVsb2NpdHkkJDEuZGVidWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2tpcHBpbmcgW1wiICsgcHJvcGVydHlOYW1lICsgXCJdIGR1ZSB0byBhIGxhY2sgb2YgYnJvd3NlciBzdXBwb3J0LlwiKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgdHdlZW5zW3Byb3BlcnR5TmFtZV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgIGZuOiBmbixcclxuICAgICAgICAgICAgICAgICAgc2VxdWVuY2U6IHNlcXVlbmNlLnR3ZWVuc1twcm9wZXJ0eU5hbWVdXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBVc2VkIHRvIHJlZ2lzdGVyIGEgc2VxdWVuY2UuIFRoaXMgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZCBieSB1c2Vyc1xyXG4gICAqIGRpcmVjdGx5LCBpbnN0ZWFkIGl0IHNob3VsZCBiZSBjYWxsZWQgdmlhIGFuIGFjdGlvbjo8YnIvPlxyXG4gICAqIDxjb2RlPlZlbG9jaXR5KFwicmVnaXN0ZXJTZXF1ZW5jZVwiLCBcIlwibmFtZVwiLCBWZWxvY2l0eVNlcXVlbmNlKTs8L2NvZGU+XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcmVnaXN0ZXJTZXF1ZW5jZShhcmdzKSB7XHJcbiAgICAgIGlmIChpc1BsYWluT2JqZWN0KGFyZ3NbMF0pKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIGFyZ3NbMF0pIHtcclxuICAgICAgICAgICAgICBpZiAoYXJnc1swXS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICByZWdpc3RlclNlcXVlbmNlKFtuYW1lLCBhcmdzWzBdW25hbWVdXSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKGFyZ3NbMF0pKSB7XHJcbiAgICAgICAgICB2YXIgX25hbWUgPSBhcmdzWzBdLFxyXG4gICAgICAgICAgICAgIHNlcXVlbmNlID0gYXJnc1sxXTtcclxuICAgICAgICAgIGlmICghaXNTdHJpbmcoX25hbWUpKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncmVnaXN0ZXJTZXF1ZW5jZScgbmFtZSB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCBfbmFtZSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKCFpc1BsYWluT2JqZWN0KHNlcXVlbmNlKSkge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3JlZ2lzdGVyU2VxdWVuY2UnIHNlcXVlbmNlIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIF9uYW1lLCBzZXF1ZW5jZSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGlmIChTZXF1ZW5jZXNPYmplY3RbX25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFJlcGxhY2luZyBuYW1lZCBzZXF1ZW5jZTpcIiwgX25hbWUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB2YXIgcGVyY2VudHMgPSB7fSxcclxuICAgICAgICAgICAgICAgICAgc3RlcHMgPSBuZXcgQXJyYXkoMTAwKSxcclxuICAgICAgICAgICAgICAgICAgcHJvcGVydGllcyA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICBzZXF1ZW5jZUxpc3QgPSBTZXF1ZW5jZXNPYmplY3RbX25hbWVdID0ge30sXHJcbiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gdmFsaWRhdGVEdXJhdGlvbihzZXF1ZW5jZS5kdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgc2VxdWVuY2VMaXN0LnR3ZWVucyA9IHt9O1xyXG4gICAgICAgICAgICAgIGlmIChpc051bWJlcihkdXJhdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgc2VxdWVuY2VMaXN0LmR1cmF0aW9uID0gZHVyYXRpb247XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGZvciAodmFyIHBhcnQgaW4gc2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlLmhhc093blByb3BlcnR5KHBhcnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IFN0cmluZyhwYXJ0KS5tYXRjaChyeFBlcmNlbnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0ga2V5c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBfc3RlcC52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGVyY2VudCA9IGtleSA9PT0gXCJmcm9tXCIgPyAwIDoga2V5ID09PSBcInRvXCIgPyAxMDAgOiBwYXJzZUZsb2F0KGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVyY2VudCA8IDAgfHwgcGVyY2VudCA+IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byB1c2UgYW4gaW52YWxpZCB2YWx1ZSBhcyBhIHBlcmNlbnRhZ2UgKDAgPD0gbiA8PSAxMDApOlwiLCBfbmFtZSwgcGVyY2VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzTmFOKHBlcmNlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHVzZSBhbiBpbnZhbGlkIG51bWJlciBhcyBhIHBlcmNlbnRhZ2U6XCIsIF9uYW1lLCBwYXJ0LCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBlcmNlbnRzW1N0cmluZyhwZXJjZW50KV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudHNbU3RyaW5nKHBlcmNlbnQpXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50c1tTdHJpbmcocGVyY2VudCldLnB1c2gocGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gc2VxdWVuY2VbcGFydF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0aWVzLmluY2x1ZGVzKHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKHByb3BlcnR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHZhciBvcmRlcmVkUGVyY2VudHMgPSBPYmplY3Qua2V5cyhwZXJjZW50cykuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgYTEgPSBwYXJzZUZsb2F0KGEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgYjEgPSBwYXJzZUZsb2F0KGIpO1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gYTEgPiBiMSA/IDEgOiBhMSA8IGIxID8gLTEgOiAwO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIG9yZGVyZWRQZXJjZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgc3RlcHMucHVzaC5hcHBseShwZXJjZW50c1trZXldKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gcHJvcGVydGllc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIF9wcm9wZXJ0eSA9IF9zdGVwMi52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWUgPSBjYW1lbENhc2UoX3Byb3BlcnR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IG9yZGVyZWRQZXJjZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2tleSA9IF9zdGVwMy52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I2ID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjYgPSBwZXJjZW50c1tfa2V5XVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IChfc3RlcDYgPSBfaXRlcmF0b3I2Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfdmFsdWUgPSBfc3RlcDYudmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGVwUHJvcGVydGllcyA9IHNlcXVlbmNlW192YWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0ZXBQcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaChpc1N0cmluZyhzdGVwUHJvcGVydGllc1twcm9wZXJ0eU5hbWVdKSA/IHN0ZXBQcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0gOiBzdGVwUHJvcGVydGllc1twcm9wZXJ0eU5hbWVdWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I2ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNiA9IGVycjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiAmJiBfaXRlcmF0b3I2LnJldHVybikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I2LnJldHVybigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWFsU2VxdWVuY2UgPSBmaW5kUGF0dGVybihwYXJ0cywgcHJvcGVydHlOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWFsU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjQgPSBvcmRlcmVkUGVyY2VudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDQ7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSAoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2tleTIgPSBfc3RlcDQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I1ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yNSA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNSA9IHBlcmNlbnRzW19rZXkyXVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNTsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IChfc3RlcDUgPSBfaXRlcmF0b3I1Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gX3N0ZXA1LnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbFByb3BlcnR5ID0gc2VxdWVuY2VbdmFsdWVdW3Byb3BlcnR5TmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxQcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9yaWdpbmFsUHJvcGVydHkpICYmIG9yaWdpbmFsUHJvcGVydHkubGVuZ3RoID4gMSAmJiAoaXNTdHJpbmcob3JpZ2luYWxQcm9wZXJ0eVsxXSkgfHwgQXJyYXkuaXNBcnJheShvcmlnaW5hbFByb3BlcnR5WzFdKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhbFNlcXVlbmNlW2luZGV4XS5lYXNpbmcgPSB2YWxpZGF0ZUVhc2luZyhvcmlnaW5hbFByb3BlcnR5WzFdLCBzZXF1ZW5jZUxpc3QuZHVyYXRpb24gfHwgREVGQVVMVF9EVVJBVElPTik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWxTZXF1ZW5jZVtpbmRleCsrXS5wZXJjZW50ID0gcGFyc2VGbG9hdChfa2V5MikgLyAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I1ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3I1ID0gZXJyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ICYmIF9pdGVyYXRvcjUucmV0dXJuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNS5yZXR1cm4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNCA9IGVycjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCAmJiBfaXRlcmF0b3I0LnJldHVybikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LnJldHVybigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZUxpc3QudHdlZW5zW3Byb3BlcnR5TmFtZV0gPSByZWFsU2VxdWVuY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcclxuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgfVxyXG4gIHJlZ2lzdGVyQWN0aW9uKFtcInJlZ2lzdGVyU2VxdWVuY2VcIiwgcmVnaXN0ZXJTZXF1ZW5jZV0sIHRydWUpO1xyXG5cclxuICAvLyBQcm9qZWN0XHJcbiAgdmFyIGdsb2JhbFByb21pc2UgPSB2b2lkIDA7XHJcbiAgdHJ5IHtcclxuICAgICAgZ2xvYmFsUHJvbWlzZSA9IFByb21pc2U7XHJcbiAgfSBjYXRjaCAoIC8qKi9fYSkgey8qKi99XHJcbiAgdmFyIG5vUHJvbWlzZU9wdGlvbiA9IFwiLCBpZiB0aGF0IGlzIGRlbGliZXJhdGUgdGhlbiBwYXNzIGBwcm9taXNlUmVqZWN0RW1wdHk6ZmFsc2VgIGFzIGFuIG9wdGlvblwiO1xyXG4gIC8qKlxyXG4gICAqIFBhdGNoIGEgVmVsb2NpdHlSZXN1bHQgd2l0aCBhIFByb21pc2UuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcGF0Y2hQcm9taXNlKHByb21pc2VPYmplY3QsIHJlc3VsdCkge1xyXG4gICAgICBkZWZpbmVQcm9wZXJ0eSQxKHJlc3VsdCwgXCJwcm9taXNlXCIsIHByb21pc2VPYmplY3QpO1xyXG4gICAgICBkZWZpbmVQcm9wZXJ0eSQxKHJlc3VsdCwgXCJ0aGVuXCIsIHByb21pc2VPYmplY3QudGhlbi5iaW5kKHByb21pc2VPYmplY3QpKTtcclxuICAgICAgZGVmaW5lUHJvcGVydHkkMShyZXN1bHQsIFwiY2F0Y2hcIiwgcHJvbWlzZU9iamVjdC5jYXRjaC5iaW5kKHByb21pc2VPYmplY3QpKTtcclxuICAgICAgaWYgKHByb21pc2VPYmplY3QuZmluYWxseSkge1xyXG4gICAgICAgICAgLy8gU2VtaS1zdGFuZGFyZFxyXG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShyZXN1bHQsIFwiZmluYWxseVwiLCBwcm9taXNlT2JqZWN0LmZpbmFsbHkuYmluZChwcm9taXNlT2JqZWN0KSk7XHJcbiAgICAgIH1cclxuICB9XHJcbiAgLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cclxuICBmdW5jdGlvbiBWZWxvY2l0eSQxKCkge1xyXG4gICAgICB2YXJcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEEgc2hvcnRjdXQgdG8gdGhlIGRlZmF1bHQgb3B0aW9ucy5cclxuICAgICAgICovXHJcbiAgICAgIGRlZmF1bHRzJCQxID0gZGVmYXVsdHMkMSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBDYWNoZSBvZiB0aGUgZmlyc3QgYXJndW1lbnQgLSB0aGlzIGlzIHVzZWQgb2Z0ZW4gZW5vdWdoIHRvIGJlIHNhdmVkLlxyXG4gICAgICAgKi9cclxuICAgICAgYXJnczAgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogVG8gYWxsb3cgZm9yIGV4cHJlc3NpdmUgQ29mZmVlU2NyaXB0IGNvZGUsIFZlbG9jaXR5IHN1cHBvcnRzIGFuXHJcbiAgICAgICAqIGFsdGVybmF0aXZlIHN5bnRheCBpbiB3aGljaCBcImVsZW1lbnRzXCIgKG9yIFwiZVwiKSwgXCJwcm9wZXJ0aWVzXCIgKG9yXHJcbiAgICAgICAqIFwicFwiKSwgYW5kIFwib3B0aW9uc1wiIChvciBcIm9cIikgb2JqZWN0cyBhcmUgZGVmaW5lZCBvbiBhIGNvbnRhaW5lclxyXG4gICAgICAgKiBvYmplY3QgdGhhdCdzIHBhc3NlZCBpbiBhcyBWZWxvY2l0eSdzIHNvbGUgYXJndW1lbnQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIE5vdGU6IFNvbWUgYnJvd3NlcnMgYXV0b21hdGljYWxseSBwb3B1bGF0ZSBhcmd1bWVudHMgd2l0aCBhXHJcbiAgICAgICAqIFwicHJvcGVydGllc1wiIG9iamVjdC4gV2UgZGV0ZWN0IGl0IGJ5IGNoZWNraW5nIGZvciBpdHMgZGVmYXVsdFxyXG4gICAgICAgKiBcIm5hbWVzXCIgcHJvcGVydHkuXHJcbiAgICAgICAqL1xyXG4gICAgICAvLyBUT0RPOiBDb25maXJtIHdoaWNoIGJyb3dzZXJzIC0gaWYgPD1JRTggdGhlIHdlIGNhbiBkcm9wIGNvbXBsZXRlbHlcclxuICAgICAgc3ludGFjdGljU3VnYXIgPSBpc1BsYWluT2JqZWN0KGFyZ3MwKSAmJiAoYXJnczAucCB8fCBpc1BsYWluT2JqZWN0KGFyZ3MwLnByb3BlcnRpZXMpICYmICFhcmdzMC5wcm9wZXJ0aWVzLm5hbWVzIHx8IGlzU3RyaW5nKGFyZ3MwLnByb3BlcnRpZXMpKTtcclxuICAgICAgdmFyXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiAgV2hlbiBWZWxvY2l0eSBpcyBjYWxsZWQgdmlhIHRoZSB1dGlsaXR5IGZ1bmN0aW9uIChWZWxvY2l0eSgpKSxcclxuICAgICAgICogZWxlbWVudHMgYXJlIGV4cGxpY2l0bHkgcGFzc2VkIGluIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXIuIFRodXMsXHJcbiAgICAgICAqIGFyZ3VtZW50IHBvc2l0aW9uaW5nIHZhcmllcy5cclxuICAgICAgICovXHJcbiAgICAgIGFyZ3VtZW50SW5kZXggPSAwLFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFRoZSBsaXN0IG9mIGVsZW1lbnRzLCBleHRlbmRlZCB3aXRoIFByb21pc2UgYW5kIFZlbG9jaXR5LlxyXG4gICAgICAgKi9cclxuICAgICAgZWxlbWVudHMgPSB2b2lkIDAsXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogVGhlIHByb3BlcnRpZXMgYmVpbmcgYW5pbWF0ZWQuIFRoaXMgY2FuIGJlIGEgc3RyaW5nLCBpbiB3aGljaCBjYXNlIGl0XHJcbiAgICAgICAqIGlzIGVpdGhlciBhIGZ1bmN0aW9uIGZvciB0aGVzZSBlbGVtZW50cywgb3IgaXQgaXMgYSBcIm5hbWVkXCIgYW5pbWF0aW9uXHJcbiAgICAgICAqIHNlcXVlbmNlIHRvIHVzZSBpbnN0ZWFkLiBOYW1lZCBzZXF1ZW5jZXMgc3RhcnQgd2l0aCBlaXRoZXIgXCJjYWxsb3V0LlwiXHJcbiAgICAgICAqIG9yIFwidHJhbnNpdGlvbi5cIi4gV2hlbiB1c2VkIGFzIGEgY2FsbG91dCB0aGUgdmFsdWVzIHdpbGwgYmUgcmVzZXRcclxuICAgICAgICogYWZ0ZXIgZmluaXNoaW5nLiBXaGVuIHVzZWQgYXMgYSB0cmFuc3RpdGlvbiB0aGVuIHRoZXJlIGlzIG5vIHNwZWNpYWxcclxuICAgICAgICogaGFuZGxpbmcgYWZ0ZXIgZmluaXNoaW5nLlxyXG4gICAgICAgKi9cclxuICAgICAgcHJvcGVydGllc01hcCA9IHZvaWQgMCxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBPcHRpb25zIHN1cHBsaWVkLCB0aGlzIHdpbGwgYmUgbWFwcGVkIGFuZCB2YWxpZGF0ZWQgaW50b1xyXG4gICAgICAgKiA8Y29kZT5vcHRpb25zPC9jb2RlPi5cclxuICAgICAgICovXHJcbiAgICAgIG9wdGlvbnNNYXAgPSB2b2lkIDAsXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogSWYgY2FsbGVkIHZpYSBhIGNoYWluIHRoZW4gdGhpcyBjb250YWlucyB0aGUgPGI+bGFzdDwvYj4gY2FsbHNcclxuICAgICAgICogYW5pbWF0aW9ucy4gSWYgdGhpcyBkb2VzIG5vdCBoYXZlIGEgdmFsdWUgdGhlbiBhbnkgYWNjZXNzIHRvIHRoZVxyXG4gICAgICAgKiBlbGVtZW50J3MgYW5pbWF0aW9ucyBuZWVkcyB0byBiZSB0byB0aGUgY3VycmVudGx5LXJ1bm5pbmcgb25lcy5cclxuICAgICAgICovXHJcbiAgICAgIGFuaW1hdGlvbnMgPSB2b2lkIDAsXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogVGhlIHByb21pc2UgdGhhdCBpcyByZXR1cm5lZC5cclxuICAgICAgICovXHJcbiAgICAgIHByb21pc2UgPSB2b2lkIDAsXHJcblxyXG4gICAgICAvLyBVc2VkIHdoZW4gdGhlIGFuaW1hdGlvbiBpcyBmaW5pc2hlZFxyXG4gICAgICByZXNvbHZlciA9IHZvaWQgMCxcclxuXHJcbiAgICAgIC8vIFVzZWQgd2hlbiB0aGVyZSB3YXMgYW4gaXNzdWUgd2l0aCBvbmUgb3IgbW9yZSBvZiB0aGUgVmVsb2NpdHkgYXJndW1lbnRzXHJcbiAgICAgIHJlamVjdGVyID0gdm9pZCAwO1xyXG4gICAgICAvL2NvbnNvbGUubG9nKGBWZWxvY2l0eWAsIGFyZ3MpXHJcbiAgICAgIC8vIEZpcnN0IGdldCB0aGUgZWxlbWVudHMsIGFuZCB0aGUgYW5pbWF0aW9ucyBjb25uZWN0ZWQgdG8gdGhlIGxhc3QgY2FsbCBpZlxyXG4gICAgICAvLyB0aGlzIGlzIGNoYWluZWQuXHJcbiAgICAgIC8vIFRPRE86IENsZWFuIHRoaXMgdXAgYSBiaXRcclxuICAgICAgLy8gVE9ETzogVGhyb3cgZXJyb3IgaWYgdGhlIGNoYWluIGlzIGNhbGxlZCB3aXRoIGVsZW1lbnRzIGFzIHRoZSBmaXJzdCBhcmd1bWVudC4gaXNWZWxvY2l0eVJlc3VsdCh0aGlzKSAmJiAoIChpc05vZGUoYXJnMCkgfHwgaXNXcmFwcGVkKGFyZzApKSAmJiBhcmcwID09IHRoaXMpXHJcbiAgICAgIGlmIChpc05vZGUodGhpcykpIHtcclxuICAgICAgICAgIC8vIFRoaXMgaXMgZnJvbSBhIGNoYWluIHN1Y2ggYXMgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJcIikudmVsb2NpdHkoLi4uKVxyXG4gICAgICAgICAgZWxlbWVudHMgPSBbdGhpc107XHJcbiAgICAgIH0gZWxzZSBpZiAoaXNXcmFwcGVkKHRoaXMpKSB7XHJcbiAgICAgICAgICAvLyBUaGlzIG1pZ2h0IGJlIGEgY2hhaW4gZnJvbSBzb21ldGhpbmcgZWxzZSwgYnV0IGlmIGNoYWluZWQgZnJvbSBhXHJcbiAgICAgICAgICAvLyBwcmV2aW91cyBWZWxvY2l0eSgpIGNhbGwgdGhlbiBncmFiIHRoZSBhbmltYXRpb25zIGl0J3MgcmVsYXRlZCB0by5cclxuICAgICAgICAgIGVsZW1lbnRzID0gY2xvbmVBcnJheSh0aGlzKTtcclxuICAgICAgICAgIGlmIChpc1ZlbG9jaXR5UmVzdWx0KHRoaXMpKSB7XHJcbiAgICAgICAgICAgICAgYW5pbWF0aW9ucyA9IHRoaXMudmVsb2NpdHkuYW5pbWF0aW9ucztcclxuICAgICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChzeW50YWN0aWNTdWdhcikge1xyXG4gICAgICAgICAgZWxlbWVudHMgPSBjbG9uZUFycmF5KGFyZ3MwLmVsZW1lbnRzIHx8IGFyZ3MwLmUpO1xyXG4gICAgICAgICAgYXJndW1lbnRJbmRleCsrO1xyXG4gICAgICB9IGVsc2UgaWYgKGlzTm9kZShhcmdzMCkpIHtcclxuICAgICAgICAgIGVsZW1lbnRzID0gY2xvbmVBcnJheShbYXJnczBdKTtcclxuICAgICAgICAgIGFyZ3VtZW50SW5kZXgrKztcclxuICAgICAgfSBlbHNlIGlmIChpc1dyYXBwZWQoYXJnczApKSB7XHJcbiAgICAgICAgICBlbGVtZW50cyA9IGNsb25lQXJyYXkoYXJnczApO1xyXG4gICAgICAgICAgYXJndW1lbnRJbmRleCsrO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIEFsbG93IGVsZW1lbnRzIHRvIGJlIGNoYWluZWQuXHJcbiAgICAgIGlmIChlbGVtZW50cykge1xyXG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShlbGVtZW50cywgXCJ2ZWxvY2l0eVwiLCBWZWxvY2l0eSQxLmJpbmQoZWxlbWVudHMpKTtcclxuICAgICAgICAgIGlmIChhbmltYXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShlbGVtZW50cy52ZWxvY2l0eSwgXCJhbmltYXRpb25zXCIsIGFuaW1hdGlvbnMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC8vIE5leHQgZ2V0IHRoZSBwcm9wZXJ0aWVzTWFwIGFuZCBvcHRpb25zLlxyXG4gICAgICBpZiAoc3ludGFjdGljU3VnYXIpIHtcclxuICAgICAgICAgIHByb3BlcnRpZXNNYXAgPSBnZXRWYWx1ZShhcmdzMC5wcm9wZXJ0aWVzLCBhcmdzMC5wKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhciBfcmVmO1xyXG5cclxuICAgICAgICAgIC8vIFRPRE86IFNob3VsZCBiZSBwb3NzaWJsZSB0byBjYWxsIFZlbG9jaXR5KFwicGF1c2VBbGxcIikgLSBjdXJyZW50bHkgbm90IHBvc3NpYmxlXHJcbiAgICAgICAgICBwcm9wZXJ0aWVzTWFwID0gKF9yZWYgPSBhcmd1bWVudEluZGV4KyssIGFyZ3VtZW50cy5sZW5ndGggPD0gX3JlZiA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1tfcmVmXSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gR2V0IGFueSBvcHRpb25zIG1hcCBwYXNzZWQgaW4gYXMgYXJndW1lbnRzIGZpcnN0LCBleHBhbmQgYW55IGRpcmVjdFxyXG4gICAgICAvLyBvcHRpb25zIGlmIHBvc3NpYmxlLlxyXG4gICAgICB2YXIgaXNSZXZlcnNlID0gcHJvcGVydGllc01hcCA9PT0gXCJyZXZlcnNlXCIsXHJcbiAgICAgICAgICBpc0FjdGlvbiA9ICFpc1JldmVyc2UgJiYgaXNTdHJpbmcocHJvcGVydGllc01hcCksXHJcbiAgICAgICAgICBtYXliZVNlcXVlbmNlID0gaXNBY3Rpb24gJiYgU2VxdWVuY2VzT2JqZWN0W3Byb3BlcnRpZXNNYXBdLFxyXG4gICAgICAgICAgb3B0cyA9IHN5bnRhY3RpY1N1Z2FyID8gZ2V0VmFsdWUoYXJnczAub3B0aW9ucywgYXJnczAubykgOiBhcmd1bWVudHMubGVuZ3RoIDw9IGFyZ3VtZW50SW5kZXggPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbYXJndW1lbnRJbmRleF07XHJcbiAgICAgIGlmIChpc1BsYWluT2JqZWN0KG9wdHMpKSB7XHJcbiAgICAgICAgICBvcHRpb25zTWFwID0gb3B0cztcclxuICAgICAgfVxyXG4gICAgICAvLyBDcmVhdGUgdGhlIHByb21pc2UgaWYgc3VwcG9ydGVkIGFuZCB3YW50ZWQuXHJcbiAgICAgIGlmIChnbG9iYWxQcm9taXNlICYmIGdldFZhbHVlKG9wdGlvbnNNYXAgJiYgb3B0aW9uc01hcC5wcm9taXNlLCBkZWZhdWx0cyQkMS5wcm9taXNlKSkge1xyXG4gICAgICAgICAgcHJvbWlzZSA9IG5ldyBnbG9iYWxQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICByZWplY3RlciA9IHJlamVjdDtcclxuICAgICAgICAgICAgICAvLyBJTVBPUlRBTlQ6XHJcbiAgICAgICAgICAgICAgLy8gSWYgYSByZXNvbHZlciB0cmllcyB0byBydW4gb24gYSBQcm9taXNlIHRoZW4gaXQgd2lsbCB3YWl0IHVudGlsXHJcbiAgICAgICAgICAgICAgLy8gdGhhdCBQcm9taXNlIHJlc29sdmVzIC0gYnV0IGluIHRoaXMgY2FzZSB3ZSdyZSBydW5uaW5nIG9uIG91ciBvd25cclxuICAgICAgICAgICAgICAvLyBQcm9taXNlLCBzbyBuZWVkIHRvIG1ha2Ugc3VyZSBpdCdzIG5vdCBzZWVuIGFzIG9uZS4gUmVtb3ZpbmdcclxuICAgICAgICAgICAgICAvLyB0aGVzZSB2YWx1ZXMgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgcmVzb2x2ZS5cclxuICAgICAgICAgICAgICAvLyBEdWUgdG8gYmVpbmcgYW4gYXN5bmMgY2FsbCwgdGhleSBzaG91bGQgYmUgYmFjayB0byBcIm5vcm1hbFwiXHJcbiAgICAgICAgICAgICAgLy8gYmVmb3JlIHRoZSA8Y29kZT4udGhlbigpPC9jb2RlPiBmdW5jdGlvbiBnZXRzIGNhbGxlZC5cclxuICAgICAgICAgICAgICByZXNvbHZlciA9IGZ1bmN0aW9uIHJlc29sdmVyKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoaXNWZWxvY2l0eVJlc3VsdChyZXN1bHQpICYmIHJlc3VsdC5wcm9taXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzdWx0LnRoZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzdWx0LmNhdGNoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlc3VsdC5maW5hbGx5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgcGF0Y2hQcm9taXNlKHJlc3VsdC5wcm9taXNlLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgaWYgKGVsZW1lbnRzKSB7XHJcbiAgICAgICAgICAgICAgcGF0Y2hQcm9taXNlKHByb21pc2UsIGVsZW1lbnRzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAocHJvbWlzZSkge1xyXG4gICAgICAgICAgdmFyIG9wdGlvblByb21pc2VSZWplY3RFbXB0eSA9IG9wdGlvbnNNYXAgJiYgb3B0aW9uc01hcC5wcm9taXNlUmVqZWN0RW1wdHksXHJcbiAgICAgICAgICAgICAgcHJvbWlzZVJlamVjdEVtcHR5ID0gZ2V0VmFsdWUob3B0aW9uUHJvbWlzZVJlamVjdEVtcHR5LCBkZWZhdWx0cyQkMS5wcm9taXNlUmVqZWN0RW1wdHkpO1xyXG4gICAgICAgICAgaWYgKCFlbGVtZW50cyAmJiAhaXNBY3Rpb24pIHtcclxuICAgICAgICAgICAgICBpZiAocHJvbWlzZVJlamVjdEVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgIHJlamVjdGVyKFwiVmVsb2NpdHk6IE5vIGVsZW1lbnRzIHN1cHBsaWVkXCIgKyAoaXNCb29sZWFuKG9wdGlvblByb21pc2VSZWplY3RFbXB0eSkgPyBcIlwiIDogbm9Qcm9taXNlT3B0aW9uKSArIFwiLiBBYm9ydGluZy5cIik7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZXIoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKCFwcm9wZXJ0aWVzTWFwKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHByb21pc2VSZWplY3RFbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgICByZWplY3RlcihcIlZlbG9jaXR5OiBObyBwcm9wZXJ0aWVzIHN1cHBsaWVkXCIgKyAoaXNCb29sZWFuKG9wdGlvblByb21pc2VSZWplY3RFbXB0eSkgPyBcIlwiIDogbm9Qcm9taXNlT3B0aW9uKSArIFwiLiBBYm9ydGluZy5cIik7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZXIoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFlbGVtZW50cyAmJiAhaXNBY3Rpb24gfHwgIXByb3BlcnRpZXNNYXApIHtcclxuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIE5PVEU6IENhbid0IHVzZSBpc0FjdGlvbiBoZXJlIGR1ZSB0byB0eXBlIGluZmVyZW5jZSAtIHRoZXJlIGFyZSBjYWxsYmFja3NcclxuICAgICAgLy8gYmV0d2VlbiBzbyB0aGUgdHlwZSBpc24ndCBjb25zaWRlcmVkIHNhZmUuXHJcbiAgICAgIGlmIChpc0FjdGlvbikge1xyXG4gICAgICAgICAgdmFyIGFjdGlvbkFyZ3MgPSBbXSxcclxuICAgICAgICAgICAgICBwcm9taXNlSGFuZGxlciA9IHByb21pc2UgJiYge1xyXG4gICAgICAgICAgICAgIF9wcm9taXNlOiBwcm9taXNlLFxyXG4gICAgICAgICAgICAgIF9yZXNvbHZlcjogcmVzb2x2ZXIsXHJcbiAgICAgICAgICAgICAgX3JlamVjdGVyOiByZWplY3RlclxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHdoaWxlIChhcmd1bWVudEluZGV4IDwgYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgIHZhciBfcmVmMjtcclxuXHJcbiAgICAgICAgICAgICAgYWN0aW9uQXJncy5wdXNoKChfcmVmMiA9IGFyZ3VtZW50SW5kZXgrKywgYXJndW1lbnRzLmxlbmd0aCA8PSBfcmVmMiA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1tfcmVmMl0pKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIFZlbG9jaXR5J3MgYmVoYXZpb3IgaXMgY2F0ZWdvcml6ZWQgaW50byBcImFjdGlvbnNcIi4gSWYgYSBzdHJpbmcgaXNcclxuICAgICAgICAgIC8vIHBhc3NlZCBpbiBpbnN0ZWFkIG9mIGEgcHJvcGVydGllc01hcCB0aGVuIHRoYXQgd2lsbCBjYWxsIGEgZnVuY3Rpb25cclxuICAgICAgICAgIC8vIHRvIGRvIHNvbWV0aGluZyBzcGVjaWFsIHRvIHRoZSBhbmltYXRpb24gbGlua2VkLlxyXG4gICAgICAgICAgLy8gVGhlcmUgaXMgb25lIHNwZWNpYWwgY2FzZSAtIFwicmV2ZXJzZVwiIC0gd2hpY2ggaXMgaGFuZGxlZCBkaWZmZXJlbnRseSxcclxuICAgICAgICAgIC8vIGJ5IGJlaW5nIHN0b3JlZCBvbiB0aGUgYW5pbWF0aW9uIGFuZCB0aGVuIGV4cGFuZGVkIHdoZW4gdGhlIGFuaW1hdGlvblxyXG4gICAgICAgICAgLy8gc3RhcnRzLlxyXG4gICAgICAgICAgdmFyIGFjdGlvbiA9IHByb3BlcnRpZXNNYXAucmVwbGFjZSgvXFwuLiokLywgXCJcIiksXHJcbiAgICAgICAgICAgICAgY2FsbGJhY2sgPSBBY3Rpb25zW2FjdGlvbl07XHJcbiAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2soYWN0aW9uQXJncywgZWxlbWVudHMsIHByb21pc2VIYW5kbGVyLCBwcm9wZXJ0aWVzTWFwKTtcclxuICAgICAgICAgICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzIHx8IHByb21pc2U7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKCFtYXliZVNlcXVlbmNlKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlZlbG9jaXR5SlM6IEZpcnN0IGFyZ3VtZW50IChcIiArIHByb3BlcnRpZXNNYXAgKyBcIikgd2FzIG5vdCBhIHByb3BlcnR5IG1hcCwgYSBrbm93biBhY3Rpb24sIG9yIGEgcmVnaXN0ZXJlZCByZWRpcmVjdC4gQWJvcnRpbmcuXCIpO1xyXG4gICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB2YXIgaGFzVmFsaWREdXJhdGlvbiA9IHZvaWQgMDtcclxuICAgICAgaWYgKGlzUGxhaW5PYmplY3QocHJvcGVydGllc01hcCkgfHwgaXNSZXZlcnNlIHx8IG1heWJlU2VxdWVuY2UpIHtcclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogVGhlIG9wdGlvbnMgZm9yIHRoaXMgc2V0IG9mIGFuaW1hdGlvbnMuXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIHZhciBvcHRpb25zID0ge307XHJcbiAgICAgICAgICB2YXIgaXNTeW5jID0gZGVmYXVsdHMkJDEuc3luYztcclxuICAgICAgICAgIC8vIFByaXZhdGUgb3B0aW9ucyBmaXJzdCAtIHNldCBhcyBub24tZW51bWVyYWJsZSwgYW5kIHN0YXJ0aW5nIHdpdGggYW5cclxuICAgICAgICAgIC8vIHVuZGVyc2NvcmUgc28gd2UgY2FuIGZpbHRlciB0aGVtIG91dC5cclxuICAgICAgICAgIGlmIChwcm9taXNlKSB7XHJcbiAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShvcHRpb25zLCBcIl9wcm9taXNlXCIsIHByb21pc2UpO1xyXG4gICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEob3B0aW9ucywgXCJfcmVqZWN0ZXJcIiwgcmVqZWN0ZXIpO1xyXG4gICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEob3B0aW9ucywgXCJfcmVzb2x2ZXJcIiwgcmVzb2x2ZXIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShvcHRpb25zLCBcIl9yZWFkeVwiLCAwKTtcclxuICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEob3B0aW9ucywgXCJfc3RhcnRlZFwiLCAwKTtcclxuICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEob3B0aW9ucywgXCJfY29tcGxldGVkXCIsIDApO1xyXG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShvcHRpb25zLCBcIl90b3RhbFwiLCAwKTtcclxuICAgICAgICAgIC8vIE5vdyBjaGVjayB0aGUgb3B0aW9uc01hcFxyXG4gICAgICAgICAgaWYgKGlzUGxhaW5PYmplY3Qob3B0aW9uc01hcCkpIHtcclxuICAgICAgICAgICAgICB2YXIgdmFsaWREdXJhdGlvbiA9IHZhbGlkYXRlRHVyYXRpb24ob3B0aW9uc01hcC5kdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgaGFzVmFsaWREdXJhdGlvbiA9IHZhbGlkRHVyYXRpb24gIT09IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gZ2V0VmFsdWUodmFsaWREdXJhdGlvbiwgZGVmYXVsdHMkJDEuZHVyYXRpb24pO1xyXG4gICAgICAgICAgICAgIG9wdGlvbnMuZGVsYXkgPSBnZXRWYWx1ZSh2YWxpZGF0ZURlbGF5KG9wdGlvbnNNYXAuZGVsYXkpLCBkZWZhdWx0cyQkMS5kZWxheSk7XHJcbiAgICAgICAgICAgICAgLy8gTmVlZCB0aGUgZXh0cmEgZmFsbGJhY2sgaGVyZSBpbiBjYXNlIGl0IHN1cHBsaWVzIGFuIGludmFsaWRcclxuICAgICAgICAgICAgICAvLyBlYXNpbmcgdGhhdCB3ZSBuZWVkIHRvIG92ZXJycmlkZSB3aXRoIHRoZSBkZWZhdWx0LlxyXG4gICAgICAgICAgICAgIG9wdGlvbnMuZWFzaW5nID0gdmFsaWRhdGVFYXNpbmcoZ2V0VmFsdWUob3B0aW9uc01hcC5lYXNpbmcsIGRlZmF1bHRzJCQxLmVhc2luZyksIG9wdGlvbnMuZHVyYXRpb24pIHx8IHZhbGlkYXRlRWFzaW5nKGRlZmF1bHRzJCQxLmVhc2luZywgb3B0aW9ucy5kdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgb3B0aW9ucy5sb29wID0gZ2V0VmFsdWUodmFsaWRhdGVMb29wKG9wdGlvbnNNYXAubG9vcCksIGRlZmF1bHRzJCQxLmxvb3ApO1xyXG4gICAgICAgICAgICAgIG9wdGlvbnMucmVwZWF0ID0gb3B0aW9ucy5yZXBlYXRBZ2FpbiA9IGdldFZhbHVlKHZhbGlkYXRlUmVwZWF0KG9wdGlvbnNNYXAucmVwZWF0KSwgZGVmYXVsdHMkJDEucmVwZWF0KTtcclxuICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcC5zcGVlZCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMuc3BlZWQgPSBnZXRWYWx1ZSh2YWxpZGF0ZVNwZWVkKG9wdGlvbnNNYXAuc3BlZWQpLCAxKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKGlzQm9vbGVhbihvcHRpb25zTWFwLnByb21pc2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMucHJvbWlzZSA9IG9wdGlvbnNNYXAucHJvbWlzZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgb3B0aW9ucy5xdWV1ZSA9IGdldFZhbHVlKHZhbGlkYXRlUXVldWUob3B0aW9uc01hcC5xdWV1ZSksIGRlZmF1bHRzJCQxLnF1ZXVlKTtcclxuICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcC5tb2JpbGVIQSAmJiAhU3RhdGUuaXNHaW5nZXJicmVhZCkge1xyXG4gICAgICAgICAgICAgICAgICAvKiBXaGVuIHNldCB0byB0cnVlLCBhbmQgaWYgdGhpcyBpcyBhIG1vYmlsZSBkZXZpY2UsIG1vYmlsZUhBIGF1dG9tYXRpY2FsbHkgZW5hYmxlcyBoYXJkd2FyZSBhY2NlbGVyYXRpb24gKHZpYSBhIG51bGwgdHJhbnNmb3JtIGhhY2spXHJcbiAgICAgICAgICAgICAgICAgICBvbiBhbmltYXRpbmcgZWxlbWVudHMuIEhBIGlzIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudCBhdCB0aGUgY29tcGxldGlvbiBvZiBpdHMgYW5pbWF0aW9uLiAqL1xyXG4gICAgICAgICAgICAgICAgICAvKiBOb3RlOiBBbmRyb2lkIEdpbmdlcmJyZWFkIGRvZXNuJ3Qgc3VwcG9ydCBIQS4gSWYgYSBudWxsIHRyYW5zZm9ybSBoYWNrIChtb2JpbGVIQSkgaXMgaW4gZmFjdCBzZXQsIGl0IHdpbGwgcHJldmVudCBvdGhlciB0cmFuZm9ybSBzdWJwcm9wZXJ0aWVzIGZyb20gdGFraW5nIGVmZmVjdC4gKi9cclxuICAgICAgICAgICAgICAgICAgLyogTm90ZTogWW91IGNhbiByZWFkIG1vcmUgYWJvdXQgdGhlIHVzZSBvZiBtb2JpbGVIQSBpbiBWZWxvY2l0eSdzIGRvY3VtZW50YXRpb246IHZlbG9jaXR5LWFuaW1hdGUvI21vYmlsZUhBLiAqL1xyXG4gICAgICAgICAgICAgICAgICBvcHRpb25zLm1vYmlsZUhBID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbnNNYXAuZHJhZyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICBvcHRpb25zLmRyYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAoaXNOdW1iZXIob3B0aW9uc01hcC5zdGFnZ2VyKSB8fCBpc0Z1bmN0aW9uKG9wdGlvbnNNYXAuc3RhZ2dlcikpIHtcclxuICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zdGFnZ2VyID0gb3B0aW9uc01hcC5zdGFnZ2VyO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAoIWlzUmV2ZXJzZSkge1xyXG4gICAgICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcFtcImRpc3BsYXlcIl0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllc01hcC5kaXNwbGF5ID0gb3B0aW9uc01hcFtcImRpc3BsYXlcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRGVwcmVjYXRlZCBcXFwib3B0aW9ucy5kaXNwbGF5XFxcIiB1c2VkLCB0aGlzIGlzIG5vdyBhIHByb3BlcnR5OlwiLCBvcHRpb25zTWFwW1wiZGlzcGxheVwiXSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNNYXBbXCJ2aXNpYmlsaXR5XCJdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXNNYXAudmlzaWJpbGl0eSA9IG9wdGlvbnNNYXBbXCJ2aXNpYmlsaXR5XCJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkRlcHJlY2F0ZWQgXFxcIm9wdGlvbnMudmlzaWJpbGl0eVxcXCIgdXNlZCwgdGhpcyBpcyBub3cgYSBwcm9wZXJ0eTpcIiwgb3B0aW9uc01hcFtcInZpc2liaWxpdHlcIl0pO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIC8vIFRPRE86IEFsbG93IGZ1bmN0aW9uYWwgb3B0aW9ucyBmb3IgZGlmZmVyZW50IG9wdGlvbnMgcGVyIGVsZW1lbnRcclxuICAgICAgICAgICAgICB2YXIgb3B0aW9uc0JlZ2luID0gdmFsaWRhdGVCZWdpbihvcHRpb25zTWFwLmJlZ2luKSxcclxuICAgICAgICAgICAgICAgICAgb3B0aW9uc0NvbXBsZXRlID0gdmFsaWRhdGVDb21wbGV0ZShvcHRpb25zTWFwLmNvbXBsZXRlKSxcclxuICAgICAgICAgICAgICAgICAgb3B0aW9uc1Byb2dyZXNzID0gdmFsaWRhdGVQcm9ncmVzcyhvcHRpb25zTWFwLnByb2dyZXNzKSxcclxuICAgICAgICAgICAgICAgICAgb3B0aW9uc1N5bmMgPSB2YWxpZGF0ZVN5bmMob3B0aW9uc01hcC5zeW5jKTtcclxuICAgICAgICAgICAgICBpZiAob3B0aW9uc0JlZ2luICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgb3B0aW9ucy5iZWdpbiA9IG9wdGlvbnNCZWdpbjtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbnNDb21wbGV0ZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY29tcGxldGUgPSBvcHRpb25zQ29tcGxldGU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmIChvcHRpb25zUHJvZ3Jlc3MgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICBvcHRpb25zLnByb2dyZXNzID0gb3B0aW9uc1Byb2dyZXNzO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAob3B0aW9uc1N5bmMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICBpc1N5bmMgPSBvcHRpb25zU3luYztcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKCFzeW50YWN0aWNTdWdhcikge1xyXG4gICAgICAgICAgICAgIC8vIEV4cGFuZCBhbnkgZGlyZWN0IG9wdGlvbnMgaWYgcG9zc2libGUuXHJcbiAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IDA7XHJcbiAgICAgICAgICAgICAgb3B0aW9ucy5kdXJhdGlvbiA9IHZhbGlkYXRlRHVyYXRpb24oYXJndW1lbnRzLmxlbmd0aCA8PSBhcmd1bWVudEluZGV4ID8gdW5kZWZpbmVkIDogYXJndW1lbnRzW2FyZ3VtZW50SW5kZXhdLCB0cnVlKTtcclxuICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kdXJhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSBkZWZhdWx0cyQkMS5kdXJhdGlvbjtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBoYXNWYWxpZER1cmF0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgb2Zmc2V0Kys7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmICghaXNGdW5jdGlvbihhcmd1bWVudHMubGVuZ3RoIDw9IGFyZ3VtZW50SW5kZXggKyBvZmZzZXQgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbYXJndW1lbnRJbmRleCArIG9mZnNldF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIERlc3BpdGUgY29taW5nIGJlZm9yZSBDb21wbGV0ZSwgd2UgY2FuJ3QgcGFzcyBhIGZuIGVhc2luZ1xyXG4gICAgICAgICAgICAgICAgICB2YXIgZWFzaW5nID0gdmFsaWRhdGVFYXNpbmcoYXJndW1lbnRzLmxlbmd0aCA8PSBhcmd1bWVudEluZGV4ICsgb2Zmc2V0ID8gdW5kZWZpbmVkIDogYXJndW1lbnRzW2FyZ3VtZW50SW5kZXggKyBvZmZzZXRdLCBnZXRWYWx1ZShvcHRpb25zICYmIHZhbGlkYXRlRHVyYXRpb24ob3B0aW9ucy5kdXJhdGlvbiksIGRlZmF1bHRzJCQxLmR1cmF0aW9uKSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChlYXNpbmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmVhc2luZyA9IGVhc2luZztcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB2YXIgY29tcGxldGUgPSB2YWxpZGF0ZUNvbXBsZXRlKGFyZ3VtZW50cy5sZW5ndGggPD0gYXJndW1lbnRJbmRleCArIG9mZnNldCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1thcmd1bWVudEluZGV4ICsgb2Zmc2V0XSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jb21wbGV0ZSA9IGNvbXBsZXRlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBvcHRpb25zLmRlbGF5ID0gZGVmYXVsdHMkJDEuZGVsYXk7XHJcbiAgICAgICAgICAgICAgb3B0aW9ucy5sb29wID0gZGVmYXVsdHMkJDEubG9vcDtcclxuICAgICAgICAgICAgICBvcHRpb25zLnJlcGVhdCA9IG9wdGlvbnMucmVwZWF0QWdhaW4gPSBkZWZhdWx0cyQkMS5yZXBlYXQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoaXNSZXZlcnNlICYmIG9wdGlvbnMucXVldWUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmVsb2NpdHlKUzogQ2Fubm90IHJldmVyc2UgYSBxdWV1ZTpmYWxzZSBhbmltYXRpb24uXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKCFoYXNWYWxpZER1cmF0aW9uICYmIG1heWJlU2VxdWVuY2UgJiYgbWF5YmVTZXF1ZW5jZS5kdXJhdGlvbikge1xyXG4gICAgICAgICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSBtYXliZVNlcXVlbmNlLmR1cmF0aW9uO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gV2hlbiBhIHNldCBvZiBlbGVtZW50cyBpcyB0YXJnZXRlZCBieSBhIFZlbG9jaXR5IGNhbGwsIHRoZSBzZXQgaXNcclxuICAgICAgICAgIC8vIGJyb2tlbiB1cCBhbmQgZWFjaCBlbGVtZW50IGhhcyB0aGUgY3VycmVudCBWZWxvY2l0eSBjYWxsIGluZGl2aWR1YWxseVxyXG4gICAgICAgICAgLy8gcXVldWVkIG9udG8gaXQuIEluIHRoaXMgd2F5LCBlYWNoIGVsZW1lbnQncyBleGlzdGluZyBxdWV1ZSBpc1xyXG4gICAgICAgICAgLy8gcmVzcGVjdGVkOyBzb21lIGVsZW1lbnRzIG1heSBhbHJlYWR5IGJlIGFuaW1hdGluZyBhbmQgYWNjb3JkaW5nbHlcclxuICAgICAgICAgIC8vIHNob3VsZCBub3QgaGF2ZSB0aGlzIGN1cnJlbnQgVmVsb2NpdHkgY2FsbCB0cmlnZ2VyZWQgaW1tZWRpYXRlbHlcclxuICAgICAgICAgIC8vIHVubGVzcyB0aGUgc3luYzp0cnVlIG9wdGlvbiBpcyB1c2VkLlxyXG4gICAgICAgICAgdmFyIHJvb3RBbmltYXRpb24gPSB7XHJcbiAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcclxuICAgICAgICAgICAgICBlbGVtZW50czogZWxlbWVudHMsXHJcbiAgICAgICAgICAgICAgX3ByZXY6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICBfbmV4dDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgIF9mbGFnczogaXNTeW5jID8gMzIgLyogU1lOQyAqLyA6IDAsXHJcbiAgICAgICAgICAgICAgcGVyY2VudENvbXBsZXRlOiAwLFxyXG4gICAgICAgICAgICAgIGVsbGFwc2VkVGltZTogMCxcclxuICAgICAgICAgICAgICB0aW1lU3RhcnQ6IDBcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBhbmltYXRpb25zID0gW107XHJcbiAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgZWxlbWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpbmRleF07XHJcbiAgICAgICAgICAgICAgdmFyIGZsYWdzID0gMDtcclxuICAgICAgICAgICAgICBpZiAoaXNOb2RlKGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFRoaXMgbmVlZHMgdG8gY2hlY2sgZm9yIHZhbGlkIGFuaW1hdGlvbiB0YXJnZXRzLCBub3QganVzdCBFbGVtZW50c1xyXG4gICAgICAgICAgICAgICAgICBpZiAoaXNSZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdEFuaW1hdGlvbiA9IERhdGEoZWxlbWVudCkubGFzdEFuaW1hdGlvbkxpc3Rbb3B0aW9ucy5xdWV1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzTWFwID0gbGFzdEFuaW1hdGlvbiAmJiBsYXN0QW5pbWF0aW9uLnR3ZWVucztcclxuICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJvcGVydGllc01hcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJWZWxvY2l0eUpTOiBBdHRlbXB0aW5nIHRvIHJldmVyc2UgYW4gYW5pbWF0aW9uIG9uIGFuIGVsZW1lbnQgd2l0aCBubyBwcmV2aW91cyBhbmltYXRpb246XCIsIGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgZmxhZ3MgfD0gNjQgLyogUkVWRVJTRSAqLyAmIH4obGFzdEFuaW1hdGlvbi5fZmxhZ3MgJiA2NCAvKiBSRVZFUlNFICovKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IE9iamVjdC5hc3NpZ24oe30sIHJvb3RBbmltYXRpb24sIHsgZWxlbWVudDogZWxlbWVudCwgX2ZsYWdzOiByb290QW5pbWF0aW9uLl9mbGFncyB8IGZsYWdzIH0pO1xyXG4gICAgICAgICAgICAgICAgICBvcHRpb25zLl90b3RhbCsrO1xyXG4gICAgICAgICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbWF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RhZ2dlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5zdGFnZ2VyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW0gPSBvcHRpb25DYWxsYmFjayhvcHRpb25zLnN0YWdnZXIsIGVsZW1lbnQsIGluZGV4LCBlbGVtZW50cy5sZW5ndGgsIGVsZW1lbnRzLCBcInN0YWdnZXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVtYmVyKG51bSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLmRlbGF5ID0gb3B0aW9ucy5kZWxheSArIG51bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5kZWxheSA9IG9wdGlvbnMuZGVsYXkgKyBvcHRpb25zLnN0YWdnZXIgKiBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kcmFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uZHVyYXRpb24gPSBvcHRpb25zLmR1cmF0aW9uIC0gb3B0aW9ucy5kdXJhdGlvbiAqIE1hdGgubWF4KDEgLSAoaW5kZXggKyAxKSAvIGVsZW1lbnRzLmxlbmd0aCwgMC43NSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgaWYgKG1heWJlU2VxdWVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGV4cGFuZFNlcXVlbmNlKGFuaW1hdGlvbiwgbWF5YmVTZXF1ZW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNSZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBJbiB0aGlzIGNhc2Ugd2UncmUgdXNpbmcgdGhlIHByZXZpb3VzIGFuaW1hdGlvbiwgc29cclxuICAgICAgICAgICAgICAgICAgICAgIC8vIGl0IHdpbGwgYmUgZXhwYW5kZWQgY29ycmVjdGx5IHdoZW4gdGhhdCBvbmUgcnVucy5cclxuICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi50d2VlbnMgPSBwcm9wZXJ0aWVzTWFwO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLnR3ZWVucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBleHBhbmRQcm9wZXJ0aWVzKGFuaW1hdGlvbiwgcHJvcGVydGllc01hcCk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgcXVldWUkMShlbGVtZW50LCBhbmltYXRpb24sIG9wdGlvbnMucXVldWUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChTdGF0ZS5pc1RpY2tpbmcgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhlIGFuaW1hdGlvbiB0aWNrIGlzbid0IHJ1bm5pbmcsIHN0YXJ0IGl0LiAoVmVsb2NpdHkgc2h1dHMgaXRcclxuICAgICAgICAgICAgICAvLyBvZmYgd2hlbiB0aGVyZSBhcmUgbm8gYWN0aXZlIGNhbGxzIHRvIHByb2Nlc3MuKVxyXG4gICAgICAgICAgICAgIHRpY2soZmFsc2UpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGFuaW1hdGlvbnMpIHtcclxuICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSQxKGVsZW1lbnRzLnZlbG9jaXR5LCBcImFuaW1hdGlvbnNcIiwgYW5pbWF0aW9ucyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLyoqKioqKioqKioqKioqKlxyXG4gICAgICAgQ2hhaW5pbmdcclxuICAgICAgICoqKioqKioqKioqKioqKi9cclxuICAgICAgLyogUmV0dXJuIHRoZSBlbGVtZW50cyBiYWNrIHRvIHRoZSBjYWxsIGNoYWluLCB3aXRoIHdyYXBwZWQgZWxlbWVudHMgdGFraW5nIHByZWNlZGVuY2UgaW4gY2FzZSBWZWxvY2l0eSB3YXMgY2FsbGVkIHZpYSB0aGUgJC5mbi4gZXh0ZW5zaW9uLiAqL1xyXG4gICAgICByZXR1cm4gZWxlbWVudHMgfHwgcHJvbWlzZTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogQ2FsbCBhbiBvcHRpb24gY2FsbGJhY2sgaW4gYSB0cnkvY2F0Y2ggYmxvY2sgYW5kIHJlcG9ydCBhbiBlcnJvciBpZiBuZWVkZWQuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gb3B0aW9uQ2FsbGJhY2soZm4sIGVsZW1lbnQsIGluZGV4LCBsZW5ndGgsIGVsZW1lbnRzLCBvcHRpb24pIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAgIHJldHVybiBmbi5jYWxsKGVsZW1lbnQsIGluZGV4LCBsZW5ndGgsIGVsZW1lbnRzLCBvcHRpb24pO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVmVsb2NpdHlKUzogRXhjZXB0aW9uIHdoZW4gY2FsbGluZyAnXCIgKyBvcHRpb24gKyBcIicgY2FsbGJhY2s6XCIsIGUpO1xyXG4gICAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBQcm9qZWN0XHJcbiAgLyoqXHJcbiAgICogVXNlZCB0byBwYXRjaCBhbnkgb2JqZWN0IHRvIGFsbG93IFZlbG9jaXR5IGNoYWluaW5nLiBJbiBvcmRlciB0byBjaGFpbiBhblxyXG4gICAqIG9iamVjdCBtdXN0IGVpdGhlciBiZSB0cmVhdGFibGUgYXMgYW4gYXJyYXkgLSB3aXRoIGEgPGNvZGU+Lmxlbmd0aDwvY29kZT5cclxuICAgKiBwcm9wZXJ0eSwgYW5kIGVhY2ggbWVtYmVyIGEgTm9kZSwgb3IgYSBOb2RlIGRpcmVjdGx5LlxyXG4gICAqXHJcbiAgICogQnkgZGVmYXVsdCBWZWxvY2l0eSB3aWxsIHRyeSB0byBwYXRjaCA8Y29kZT53aW5kb3c8L2NvZGU+LFxyXG4gICAqIDxjb2RlPmpRdWVyeTwvY29kZT4sIDxjb2RlPlplcHRvPC9jb2RlPiwgYW5kIHNldmVyYWwgY2xhc3NlcyB0aGF0IHJldHVyblxyXG4gICAqIE5vZGVzIG9yIGxpc3RzIG9mIE5vZGVzLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHBhdGNoKHByb3RvLCBnbG9iYWwpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEocHJvdG8sIChnbG9iYWwgPyBcIlZcIiA6IFwidlwiKSArIFwiZWxvY2l0eVwiLCBWZWxvY2l0eSQxKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogRXJyb3Igd2hlbiB0cnlpbmcgdG8gYWRkIHByb3RvdHlwZS5cIiwgZSk7XHJcbiAgICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFByb2plY3RcclxuICB2YXIgVmVsb2NpdHkkMiA9IFZlbG9jaXR5JDE7XHJcbiAgLyoqXHJcbiAgICogVGhlc2UgcGFydHMgb2YgVmVsb2NpdHkgYWJzb2x1dGVseSBtdXN0IGJlIGluY2x1ZGVkLCBldmVuIGlmIHRoZXkncmUgdW51c2VkIVxyXG4gICAqL1xyXG4gIHZhciBWZWxvY2l0eVN0YXRpYyQxO1xyXG4gIChmdW5jdGlvbiAoVmVsb2NpdHlTdGF0aWMpIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEFjdGlvbnMgY2Fubm90IGJlIHJlcGxhY2VkIGlmIHRoZXkgYXJlIGludGVybmFsIChoYXNPd25Qcm9wZXJ0eSBpcyBmYWxzZVxyXG4gICAgICAgKiBidXQgdGhleSBzdGlsbCBleGlzdCkuIE90aGVyd2lzZSB0aGV5IGNhbiBiZSByZXBsYWNlZCBieSB1c2Vycy5cclxuICAgICAgICpcclxuICAgICAgICogQWxsIGV4dGVybmFsIG1ldGhvZCBjYWxscyBzaG91bGQgYmUgdXNpbmcgYWN0aW9ucyByYXRoZXIgdGhhbiBzdWItY2FsbHNcclxuICAgICAgICogb2YgVmVsb2NpdHkgaXRzZWxmLlxyXG4gICAgICAgKi9cclxuICAgICAgVmVsb2NpdHlTdGF0aWMuQWN0aW9ucyA9IEFjdGlvbnM7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBPdXIga25vd24gZWFzaW5nIGZ1bmN0aW9ucy5cclxuICAgICAgICovXHJcbiAgICAgIFZlbG9jaXR5U3RhdGljLkVhc2luZ3MgPSBFYXNpbmdzO1xyXG4gICAgICAvKipcclxuICAgICAgICogVGhlIGN1cnJlbnRseSByZWdpc3RlcmVkIHNlcXVlbmNlcy5cclxuICAgICAgICovXHJcbiAgICAgIFZlbG9jaXR5U3RhdGljLlNlcXVlbmNlcyA9IFNlcXVlbmNlc09iamVjdDtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEN1cnJlbnQgaW50ZXJuYWwgc3RhdGUgb2YgVmVsb2NpdHkuXHJcbiAgICAgICAqL1xyXG4gICAgICBWZWxvY2l0eVN0YXRpYy5TdGF0ZSA9IFN0YXRlOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBWZWxvY2l0eSBvcHRpb24gZGVmYXVsdHMsIHdoaWNoIGNhbiBiZSBvdmVycmlkZW4gYnkgdGhlIHVzZXIuXHJcbiAgICAgICAqL1xyXG4gICAgICBWZWxvY2l0eVN0YXRpYy5kZWZhdWx0cyA9IGRlZmF1bHRzJDE7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBVc2VkIHRvIHBhdGNoIGFueSBvYmplY3QgdG8gYWxsb3cgVmVsb2NpdHkgY2hhaW5pbmcuIEluIG9yZGVyIHRvIGNoYWluIGFuXHJcbiAgICAgICAqIG9iamVjdCBtdXN0IGVpdGhlciBiZSB0cmVhdGFibGUgYXMgYW4gYXJyYXkgLSB3aXRoIGEgPGNvZGU+Lmxlbmd0aDwvY29kZT5cclxuICAgICAgICogcHJvcGVydHksIGFuZCBlYWNoIG1lbWJlciBhIE5vZGUsIG9yIGEgTm9kZSBkaXJlY3RseS5cclxuICAgICAgICpcclxuICAgICAgICogQnkgZGVmYXVsdCBWZWxvY2l0eSB3aWxsIHRyeSB0byBwYXRjaCA8Y29kZT53aW5kb3c8L2NvZGU+LFxyXG4gICAgICAgKiA8Y29kZT5qUXVlcnk8L2NvZGU+LCA8Y29kZT5aZXB0bzwvY29kZT4sIGFuZCBzZXZlcmFsIGNsYXNzZXMgdGhhdCByZXR1cm5cclxuICAgICAgICogTm9kZXMgb3IgbGlzdHMgb2YgTm9kZXMuXHJcbiAgICAgICAqL1xyXG4gICAgICBWZWxvY2l0eVN0YXRpYy5wYXRjaCA9IHBhdGNoO1xyXG4gICAgICAvKipcclxuICAgICAgICogU2V0IHRvIHRydWUsIDEgb3IgMiAobW9zdCB2ZXJib3NlKSB0byBvdXRwdXQgZGVidWcgaW5mbyB0byBjb25zb2xlLlxyXG4gICAgICAgKi9cclxuICAgICAgVmVsb2NpdHlTdGF0aWMuZGVidWcgPSBmYWxzZTtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEluIG1vY2sgbW9kZSwgYWxsIGFuaW1hdGlvbnMgYXJlIGZvcmNlZCB0byBjb21wbGV0ZSBpbW1lZGlhdGVseSB1cG9uIHRoZVxyXG4gICAgICAgKiBuZXh0IHJBRiB0aWNrLiBJZiB0aGVyZSBhcmUgZnVydGhlciBhbmltYXRpb25zIHF1ZXVlZCB0aGVuIHRoZXkgd2lsbCBlYWNoXHJcbiAgICAgICAqIHRha2Ugb25lIHNpbmdsZSBmcmFtZSBpbiB0dXJuLiBMb29wcyBhbmQgcmVwZWF0cyB3aWxsIGJlIGRpc2FibGVkIHdoaWxlXHJcbiAgICAgICAqIDxjb2RlPm1vY2sgPSB0cnVlPC9jb2RlPi5cclxuICAgICAgICovXHJcbiAgICAgIFZlbG9jaXR5U3RhdGljLm1vY2sgPSBmYWxzZTtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNhdmUgb3VyIHZlcnNpb24gbnVtYmVyIHNvbWV3aGVyZSB2aXNpYmxlLlxyXG4gICAgICAgKi9cclxuICAgICAgVmVsb2NpdHlTdGF0aWMudmVyc2lvbiA9IFZFUlNJT047XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBBZGRlZCBhcyBhIGZhbGxiYWNrIGZvciBcImltcG9ydCB7VmVsb2NpdHl9IGZyb20gJ3ZlbG9jaXR5LWFuaW1hdGUnO1wiLlxyXG4gICAgICAgKi9cclxuICAgICAgVmVsb2NpdHlTdGF0aWMuVmVsb2NpdHkgPSBWZWxvY2l0eSQxOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXHJcbiAgfSkoVmVsb2NpdHlTdGF0aWMkMSB8fCAoVmVsb2NpdHlTdGF0aWMkMSA9IHt9KSk7XHJcbiAgLyogSUUgZGV0ZWN0aW9uLiBHaXN0OiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9qdWxpYW5zaGFwaXJvLzkwOTg2MDkgKi9cclxuICB2YXIgSUUkMSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50TW9kZSkge1xyXG4gICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50TW9kZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSA3OyBpID4gNDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IFwiPCFcIiArIFwiLS1cIiArIFwiW2lmIElFIFwiICsgaSArIFwiXT48c3Bhbj48L3NwYW4+PCFbZW5kaWZdLS0+XCI7XHJcbiAgICAgICAgICAgICAgaWYgKGRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNwYW5cIikubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgIGRpdiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH0oKTtcclxuICAvKioqKioqKioqKioqKioqKioqXHJcbiAgIFVuc3VwcG9ydGVkXHJcbiAgICoqKioqKioqKioqKioqKioqKi9cclxuICBpZiAoSUUkMSA8PSA4KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlZlbG9jaXR5SlMgY2Fubm90IHJ1biBvbiBJbnRlcm5ldCBFeHBsb3JlciA4IG9yIGVhcmxpZXJcIik7XHJcbiAgfVxyXG4gIC8qKioqKioqKioqKioqKioqKipcclxuICAgRnJhbWV3b3Jrc1xyXG4gICAqKioqKioqKioqKioqKioqKiovXHJcbiAgaWYgKHdpbmRvdykge1xyXG4gICAgICAvKlxyXG4gICAgICAgKiBCb3RoIGpRdWVyeSBhbmQgWmVwdG8gYWxsb3cgdGhlaXIgJC5mbiBvYmplY3QgdG8gYmUgZXh0ZW5kZWQgdG8gYWxsb3dcclxuICAgICAgICogd3JhcHBlZCBlbGVtZW50cyB0byBiZSBzdWJqZWN0ZWQgdG8gcGx1Z2luIGNhbGxzLiBJZiBlaXRoZXIgZnJhbWV3b3JrIGlzXHJcbiAgICAgICAqIGxvYWRlZCwgcmVnaXN0ZXIgYSBcInZlbG9jaXR5XCIgZXh0ZW5zaW9uIHBvaW50aW5nIHRvIFZlbG9jaXR5J3MgY29yZVxyXG4gICAgICAgKiBhbmltYXRlKCkgbWV0aG9kLiBWZWxvY2l0eSBhbHNvIHJlZ2lzdGVycyBpdHNlbGYgb250byBhIGdsb2JhbCBjb250YWluZXJcclxuICAgICAgICogKHdpbmRvdy5qUXVlcnkgfHwgd2luZG93LlplcHRvIHx8IHdpbmRvdykgc28gdGhhdCBjZXJ0YWluIGZlYXR1cmVzIGFyZVxyXG4gICAgICAgKiBhY2Nlc3NpYmxlIGJleW9uZCBqdXN0IGEgcGVyLWVsZW1lbnQgc2NvcGUuIEFjY29yZGluZ2x5LCBWZWxvY2l0eSBjYW5cclxuICAgICAgICogYm90aCBhY3Qgb24gd3JhcHBlZCBET00gZWxlbWVudHMgYW5kIHN0YW5kIGFsb25lIGZvciB0YXJnZXRpbmcgcmF3IERPTVxyXG4gICAgICAgKiBlbGVtZW50cy5cclxuICAgICAgICovXHJcbiAgICAgIHZhciBqUXVlcnkkMSA9IHdpbmRvdy5qUXVlcnksXHJcbiAgICAgICAgICBaZXB0byQxID0gd2luZG93LlplcHRvO1xyXG4gICAgICBwYXRjaCh3aW5kb3csIHRydWUpO1xyXG4gICAgICBwYXRjaChFbGVtZW50ICYmIEVsZW1lbnQucHJvdG90eXBlKTtcclxuICAgICAgcGF0Y2goTm9kZUxpc3QgJiYgTm9kZUxpc3QucHJvdG90eXBlKTtcclxuICAgICAgcGF0Y2goSFRNTENvbGxlY3Rpb24gJiYgSFRNTENvbGxlY3Rpb24ucHJvdG90eXBlKTtcclxuICAgICAgcGF0Y2goalF1ZXJ5JDEsIHRydWUpO1xyXG4gICAgICBwYXRjaChqUXVlcnkkMSAmJiBqUXVlcnkkMS5mbik7XHJcbiAgICAgIHBhdGNoKFplcHRvJDEsIHRydWUpO1xyXG4gICAgICBwYXRjaChaZXB0byQxICYmIFplcHRvJDEuZm4pO1xyXG4gIH1cclxuICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgdmFsdWVzIHdpdGhpbiBWZWxvY2l0eSBhcmUgcmVhZC1vbmx5IGFuZCB1cGF0Y2hhYmxlLlxyXG5cclxuICB2YXIgX2xvb3AkMSA9IGZ1bmN0aW9uIF9sb29wKHByb3BlcnR5KSB7XHJcbiAgICAgIGlmIChWZWxvY2l0eVN0YXRpYyQxLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgc3dpdGNoICh0eXBlb2YgcHJvcGVydHkgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XHJcbiAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcclxuICAgICAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShWZWxvY2l0eSQyLCBwcm9wZXJ0eSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFZlbG9jaXR5U3RhdGljJDFbcHJvcGVydHldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgVmVsb2NpdHlTdGF0aWMkMVtwcm9wZXJ0eV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEoVmVsb2NpdHkkMiwgcHJvcGVydHksIFZlbG9jaXR5U3RhdGljJDFbcHJvcGVydHldLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICB9O1xyXG5cclxuICBmb3IgKHZhciBwcm9wZXJ0eSQxIGluIFZlbG9jaXR5U3RhdGljJDEpIHtcclxuICAgICAgX2xvb3AkMShwcm9wZXJ0eSQxKTtcclxuICB9XHJcbiAgT2JqZWN0LmZyZWV6ZShWZWxvY2l0eSQyKTtcclxuXHJcbiAgcmV0dXJuIFZlbG9jaXR5JDI7XHJcblxyXG59KSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZWxvY2l0eS5qcy5tYXBcclxuIl19
