"use strict";function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(void 0).Velocity=e()}(function(){var W="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e){return!0===e||!1===e}function V(e){return"[object Function]"===Object.prototype.toString.call(e)}function q(e){return!(!e||!e.nodeType)}function Y(e){return"number"==typeof e}function X(e){if(!e||"object"!==(void 0===e?"undefined":W(e))||e.nodeType||"[object Object]"!==Object.prototype.toString.call(e))return!1;e=Object.getPrototypeOf(e);return!e||e.hasOwnProperty("constructor")&&e.constructor===Object}function K(e){return"string"==typeof e}function $(e){return e&&Y(e.length)&&V(e.velocity)}function N(e){return e&&e!==window&&Y(e.length)&&!K(e)&&!V(e)&&!q(e)&&(0===e.length||q(e[0]))}function P(e){return Array.prototype.slice.call(e,0)}function A(e,t,n,r){e&&Object.defineProperty(e,t,{configurable:!r,writable:!r,value:n})}function L(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){var l=l.value;if(void 0!==l&&l==l)return l}}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}}var n=Date.now||function(){return(new Date).getTime()};function u(e,t){e instanceof Element&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(\\s|$)","gi")," "))}var J={};function i(e,t){var n,r=e[0],i=e[1];K(r)?V(i)?J[r]&&(n=J,e=r,!Object.prototype.propertyIsEnumerable.call(n,e))?console.warn("VelocityJS: Trying to override internal 'registerAction' callback",r):!0===t?A(J,r,i):J[r]=i:console.warn("VelocityJS: Trying to set 'registerAction' callback to an invalid value:",r,i):console.warn("VelocityJS: Trying to set 'registerAction' name to an invalid value:",r)}i(["registerAction",i],!0);var ee=400,o={fast:200,normal:400,slow:600},h={};function a(e){var t=e[0],e=e[1];K(t)?V(e)?h[t]?console.warn("VelocityJS: Trying to override 'registerEasing' callback",t):h[t]=e:console.warn("VelocityJS: Trying to set 'registerEasing' callback to an invalid value:",t,e):console.warn("VelocityJS: Trying to set 'registerEasing' name to an invalid value:",t)}function z(e,t,n,r){return t+e*(n-t)}function w(e){return Math.min(Math.max(e,0),1)}function l(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function b(e,t,n){return((l(t,n)*e+s(t,n))*e+3*t)*e}function S(e,t,n){return 3*l(t,n)*e*e+2*s(t,n)*e+3*t}function c(){for(var a=4,l=1e-7,s=10,u=11,c=1/(u-1),e=("Float32Array"in window),t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(4===n.length){for(var i=0;i<4;++i)if("number"!=typeof n[i]||isNaN(n[i])||!isFinite(n[i]))return;var f=w(n[0]),o=n[1],d=w(n[2]),v=n[3],p=new(e?Float32Array:Array)(u),y=!1,g="generateBezier("+[f,o,d,v]+")",e=function(e,t,n,r){return y||m(),0===e?t:1===e?n:f===o&&d===v?t+e*(n-t):t+b(h(e),o,v)*(n-t)};return e.getControlPoints=function(){return[{x:f,y:o},{x:d,y:v}]},e.toString=function(){return g},e}function h(e){for(var t=u-1,n=0,r=1;r!==t&&p[r]<=e;++r)n+=c;var i=n+(e-p[--r])/(p[r+1]-p[r])*c,o=S(i,f,d);return.001<=o?function(e,t){for(var n=0;n<a;++n){var r=S(t,f,d);if(0===r)return t;t-=(b(t,f,d)-e)/r}return t}(e,i):0===o?i:function(e,t,n){for(var r,i=void 0,o=0;0<(r=b(i=t+(n-t)/2,f,d)-e)?n=i:t=i,Math.abs(r)>l&&++o<s;);return i}(e,n,n+c)}function m(){y=!0,f===o&&d===v||function(){for(var e=0;e<u;++e)p[e]=b(e*c,f,d)}()}}i(["registerEasing",a],!0),a(["linear",z]),a(["swing",function(e,t,n){return t+(.5-Math.cos(e*Math.PI)/2)*(n-t)}]),a(["spring",function(e,t,n){return t+(1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e))*(n-t)}]);var f=c(.42,0,1,1),d=c(0,0,.58,1),v=c(.42,0,.58,1);function y(e){return-e.tension*e.x-e.friction*e.v}function g(e,t,n){e={x:e.x+n.dx*t,v:e.v+n.dv*t,tension:e.tension,friction:e.friction};return{dx:e.v,dv:y(e)}}function m(e,t,n){for(var r,i,o,a,l,s,u,c={x:-1,v:0,tension:parseFloat(e)||500,friction:parseFloat(t)||20},f=[0],t=null!=n,d=0,v=void 0,p=void 0,v=t?(d=m(c.tension,c.friction))/n*.016:.016;i=v,s=u=s=l=a=o=void 0,o={dx:(r=p||c).v,dv:y(r)},a=g(r,.5*i,o),l=g(r,.5*i,a),s=g(r,i,l),u=1/6*(o.dx+2*(a.dx+l.dx)+s.dx),s=1/6*(o.dv+2*(a.dv+l.dv)+s.dv),r.x=r.x+u*i,r.v=r.v+s*i,p=r,f.push(1+p.x),d+=16,1e-4<Math.abs(p.x)&&1e-4<Math.abs(p.v););return t?function(e,t,n){return 0===e?t:1===e?n:t+f[Math.floor(e*(f.length-1))]*(n-t)}:d}a(["ease",c(.25,.1,.25,1)]),a(["easeIn",f]),a(["ease-in",f]),a(["easeOut",d]),a(["ease-out",d]),a(["easeInOut",v]),a(["ease-in-out",v]),a(["easeInSine",c(.47,0,.745,.715)]),a(["easeOutSine",c(.39,.575,.565,1)]),a(["easeInOutSine",c(.445,.05,.55,.95)]),a(["easeInQuad",c(.55,.085,.68,.53)]),a(["easeOutQuad",c(.25,.46,.45,.94)]),a(["easeInOutQuad",c(.455,.03,.515,.955)]),a(["easeInCubic",c(.55,.055,.675,.19)]),a(["easeOutCubic",c(.215,.61,.355,1)]),a(["easeInOutCubic",c(.645,.045,.355,1)]),a(["easeInQuart",c(.895,.03,.685,.22)]),a(["easeOutQuart",c(.165,.84,.44,1)]),a(["easeInOutQuart",c(.77,0,.175,1)]),a(["easeInQuint",c(.755,.05,.855,.06)]),a(["easeOutQuint",c(.23,1,.32,1)]),a(["easeInOutQuint",c(.86,0,.07,1)]),a(["easeInExpo",c(.95,.05,.795,.035)]),a(["easeOutExpo",c(.19,1,.22,1)]),a(["easeInOutExpo",c(1,0,0,1)]),a(["easeInCirc",c(.6,.04,.98,.335)]),a(["easeOutCirc",c(.075,.82,.165,1)]),a(["easeInOutCirc",c(.785,.135,.15,.86)]);var p={};function x(e,t){return Y(e)?e:K(e)?o[e.toLowerCase()]||parseFloat(e.replace("ms","").replace("s","000")):null==t?void 0:x(t)}function O(e){if(M(e))return e;null!=e&&console.warn("VelocityJS: Trying to set 'cache' to an invalid value:",e)}function I(e){if(V(e))return e;null!=e&&console.warn("VelocityJS: Trying to set 'begin' to an invalid value:",e)}function j(e,t){if(V(e))return e;null==e||t||console.warn("VelocityJS: Trying to set 'complete' to an invalid value:",e)}function C(e){var t=x(e);if(!isNaN(t))return t;null!=e&&console.error("VelocityJS: Trying to set 'delay' to an invalid value:",e)}function te(e,t){var n=x(e);if(!isNaN(n)&&0<=n)return n;null==e||t||console.error("VelocityJS: Trying to set 'duration' to an invalid value:",e)}function ne(e,t,n){if(K(e))return h[e];if(V(e))return e;if(Array.isArray(e)){if(1===e.length)return r=e[0],p[r]||(p[r]=function(e,t,n){return 0===e?t:1===e?n:t+Math.round(e*r)*(1/r)*(n-t)});if(2===e.length)return m(e[0],e[1],t);if(4===e.length)return c.apply(null,e)||!1}var r;null==e||n||console.error("VelocityJS: Trying to set 'easing' to an invalid value:",e)}function E(e){if(!1===e)return 0;var t=parseInt(e,10);if(!isNaN(t)&&0<=t)return Math.min(t,60);null!=e&&console.warn("VelocityJS: Trying to set 'fpsLimit' to an invalid value:",e)}function F(e){switch(e){case!1:return 0;case!0:return!0;default:var t=parseInt(e,10);if(!isNaN(t)&&0<=t)return t}null!=e&&console.warn("VelocityJS: Trying to set 'loop' to an invalid value:",e)}function H(e,t){if(!1===e||K(e))return e;null==e||t||console.warn("VelocityJS: Trying to set 'queue' to an invalid value:",e)}function R(e){switch(e){case!1:return 0;case!0:return!0;default:var t=parseInt(e,10);if(!isNaN(t)&&0<=t)return t}null!=e&&console.warn("VelocityJS: Trying to set 'repeat' to an invalid value:",e)}function B(e){if(Y(e))return e;null!=e&&console.error("VelocityJS: Trying to set 'speed' to an invalid value:",e)}function G(e){if(M(e))return e;null!=e&&console.error("VelocityJS: Trying to set 'sync' to an invalid value:",e)}var k=void 0,_=void 0,T=void 0,Q=void 0,D=void 0,U=void 0,Z=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,le=void 0,se=void 0,ue=void 0,ce=void 0,fe=void 0,de=(t(ve,null,[{key:"reset",value:function(){k=!0,T=_=void 0,Q=0,U=ne("swing",D=ee),oe=980/(Z=60),le=ae=!(re=0),se="",ce=1,fe=!(ue=0)}},{key:"cache",get:function(){return k},set:function(e){void 0!==(e=O(e))&&(k=e)}},{key:"begin",get:function(){return _},set:function(e){void 0!==(e=I(e))&&(_=e)}},{key:"complete",get:function(){return T},set:function(e){void 0!==(e=j(e))&&(T=e)}},{key:"delay",get:function(){return Q},set:function(e){void 0!==(e=C(e))&&(Q=e)}},{key:"duration",get:function(){return D},set:function(e){void 0!==(e=te(e))&&(D=e)}},{key:"easing",get:function(){return U},set:function(e){void 0!==(e=ne(e,D))&&(U=e)}},{key:"fpsLimit",get:function(){return Z},set:function(e){void 0!==(e=E(e))&&(oe=980/(Z=e))}},{key:"loop",get:function(){return re},set:function(e){void 0!==(e=F(e))&&(re=e)}},{key:"mobileHA",get:function(){return ie},set:function(e){M(e)&&(ie=e)}},{key:"minFrameTime",get:function(){return oe}},{key:"promise",get:function(){return ae},set:function(e){void 0!==(e=function(e){if(M(e))return e;null!=e&&console.warn("VelocityJS: Trying to set 'promise' to an invalid value:",e)}(e))&&(ae=e)}},{key:"promiseRejectEmpty",get:function(){return le},set:function(e){void 0!==(e=function(e){if(M(e))return e;null!=e&&console.warn("VelocityJS: Trying to set 'promiseRejectEmpty' to an invalid value:",e)}(e))&&(le=e)}},{key:"queue",get:function(){return se},set:function(e){void 0!==(e=H(e))&&(se=e)}},{key:"repeat",get:function(){return ue},set:function(e){void 0!==(e=R(e))&&(ue=e)}},{key:"repeatAgain",get:function(){return ue}},{key:"speed",get:function(){return ce},set:function(e){void 0!==(e=B(e))&&(ce=e)}},{key:"sync",get:function(){return fe},set:function(e){void 0!==(e=G(e))&&(fe=e)}}]),ve);function ve(){e(this,ve)}Object.freeze(de),de.reset();var pe=[],ye={},ge=new Set,he=[],me=new Map,we="velocityData";function be(e){var t=e[we];if(t)return t;for(var n=e.ownerDocument.defaultView,r=0,i=0;i<he.length;i++){var o=he[i];K(o)?e instanceof n[o]&&(r|=1<<i):e instanceof o&&(r|=1<<i)}t={types:r,count:0,computedStyle:null,cache:{},queueList:{},lastAnimationList:{},lastFinishList:{},window:n};return Object.defineProperty(e,we,{value:t}),t}var v=window&&window===window.window,t=v&&void 0!==window.pageYOffset,Se={isClient:v,isMobile:v&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isGingerbread:v&&/Android 2\.3\.[3-7]/i.test(navigator.userAgent),prefixElement:v&&document.createElement("div"),windowScrollAnchor:t,scrollAnchor:t?window:!v||document.documentElement||document.body.parentNode||document.body,scrollPropertyLeft:t?"pageXOffset":"scrollLeft",scrollPropertyTop:t?"pageYOffset":"scrollTop",className:"velocity-animating",isTicking:!1,first:void 0,last:void 0,firstNew:void 0};function xe(e){var t=Se.last;e._prev=t,e._next=void 0,t?t._next=e:Se.first=e,Se.last=e,Se.firstNew||(Se.firstNew=e);t=e.element;be(t).count++||(e=t,t=Se.className,e instanceof Element&&(e.classList?e.classList.add(t):(u(e,t),e.className+=(e.className.length?" ":"")+t)))}function ke(e){var t=e._next,n=e._prev,r=(null==e.queue?e.options:e).queue;Se.firstNew===e&&(Se.firstNew=t),Se.first===e?Se.first=t:n&&(n._next=t),Se.last===e?Se.last=n:t&&(t._prev=n),r&&be(e.element)&&(e._next=e._prev=void 0)}var _e={};function Oe(e){var t,n,r,i=e.options,o=L(e.queue,i.queue),a=L(e.loop,i.loop,de.loop),l=L(e.repeat,i.repeat,de.repeat),s=8&e._flags;s||!a&&!l?(--(n=be(t=e.element)).count||s||u(t,Se.className),i&&++i._completed===i._total&&(!s&&i.complete&&(function(e){var t=e.complete||e.options.complete;if(t)try{var n=e.elements;t.call(n,n,e)}catch(e){setTimeout(function(){throw e},1)}}(e),i.complete=null),(r=i._resolver)&&(r(e.elements),delete i._resolver)),!1!==o&&(s||(n.lastFinishList[o]=e.timeStart+L(e.duration,i.duration,de.duration)),function(e,t,n){if(!1!==t){K(t)||(t="");var r=be(e),e=r.queueList[t];e?(r.queueList[t]=e._next||null,n||xe(e)):null===e&&delete r.queueList[t]}}(t,o)),ke(e)):(l&&!0!==l?e.repeat=l-1:a&&!0!==a&&(e.loop=a-1,e.repeat=L(e.repeatAgain,i.repeatAgain,de.repeatAgain)),a&&(e._flags^=64),!1!==o&&(be(e.element).lastFinishList[o]=e.timeStart+L(e.duration,i.duration,de.duration)),e.timeStart=e.ellapsedTime=e.percentComplete=0,e._flags&=-5)}function Ee(e){var t=e[0],n=e[1],r=e[2];if((!K(t)||window[t]instanceof Object)&&(K(t)||t instanceof Object))if(K(n))if(V(r)){var i,o=he.indexOf(t),a=3;if(o<0&&!K(t))if(me.has(t))o=he.indexOf(me.get(t));else for(var l in window)if(window[l]===t){(o=he.indexOf(l))<0&&(o=he.push(l)-1,pe[o]={},me.set(t,l));break}o<0&&(o=he.push(t)-1,pe[o]={}),pe[o][n]=r,K(e[a])&&(i=e[a++],(ye[i]||(ye[i]=[])).push(r)),!1===e[a]&&ge.add(n)}else console.warn("VelocityJS: Trying to set 'registerNormalization' callback to an invalid value:",n,r);else console.warn("VelocityJS: Trying to set 'registerNormalization' name to an invalid value:",n);else console.warn("VelocityJS: Trying to set 'registerNormalization' constructor to an invalid value:",t)}function Te(e){var t=e[0],e=e[1],n=he.indexOf(t);if(n<0&&!K(t))if(me.has(t))n=he.indexOf(me.get(t));else for(var r in window)if(window[r]===t){n=he.indexOf(r);break}return 0<=n&&pe[n].hasOwnProperty(e)}function Me(e,t){for(var e=be(e),n=void 0,r=he.length-1,i=e.types;!n&&0<=r;r--)i&1<<r&&(n=pe[r][t]);return n}function Ve(e,t,n,r){var i=ge.has(t),o=!i&&be(e);(i||o&&o.cache[t]!==n)&&(i||(o.cache[t]=n||void 0),(r=r||Me(e,t))&&r(e,n),2<=Dt.debug&&console.info('Set "'+t+'": "'+n+'"',e))}i(["registerNormalization",Ee]),i(["hasNormalization",Te]);var qe={};function Ne(e){var t=qe[e];return t||(qe[e]=e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}))}var Ae=/#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})/gi,Le=/#([a-f\d])([a-f\d])([a-f\d])/gi,Je=/(rgba?\(\s*)?(\b[a-z]+\b)/g,Ie=/rgb(a?)\(([^\)]+)\)/gi,je=/\s+/g,Ce={};function Pe(e,t,n,r){return"rgba("+parseInt(t,16)+","+parseInt(n,16)+","+parseInt(r,16)+",1)"}function ze(e){return e.replace(Ae,Pe).replace(Le,function(e,t,n,r){return Pe(0,t+t,n+n,r+r)}).replace(Je,function(e,t,n){return Ce[n]?(t||"rgba(")+Ce[n]+(t?"":",1)"):e}).replace(Ie,function(e,t,n){return"rgba("+n.replace(je,"")+(t?"":",1")+")"})}function Fe(e,t,n){if("border-box"===Be(e,"boxSizing").toString().toLowerCase()!==n)return 0;var t="width"===t?["Left","Right"]:["Top","Bottom"],r=["padding"+t[0],"padding"+t[1],"border"+t[0]+"Width","border"+t[1]+"Width"],i=0,o=!0,a=!1,l=void 0;try{for(var s=r[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var u=u.value,u=parseFloat(Be(e,u));isNaN(u)||(i+=u)}}catch(e){a=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(a)throw l}}return n?-i:i}function He(e,t){return e.getBoundingClientRect()[t]+Fe(e,t,!0)+"px"}function Re(e,t){var n=be(e),r=n.computedStyle||n.window.getComputedStyle(e,null),i=0;if(n.computedStyle||(n.computedStyle=r),"none"===r.display)switch(t){case"width":case"height":return Ve(e,"display","auto"),i=He(e,t),Ve(e,"display","none"),String(i)}if("auto"===(i=(i=r[t])||e.style[t]))switch(t){case"width":case"height":i=He(e,t);break;case"top":case"left":case"right":case"bottom":var o=Be(e,"position");if("fixed"===o||"absolute"===o){i=e.getBoundingClientRect[t]+"px";break}default:i="0px"}return i?String(i):""}function Be(e,t,n,r){var i=be(e),o=void 0;return ge.has(t)&&(r=!0),!r&&i&&null!=i.cache[t]?o=i.cache[t]:(n=n||Me(e,t))&&(o=n(e),i&&(i.cache[t]=o)),2<=Dt.debug&&console.info('Get "'+t+'": "'+o+'"',e),o}var We=/^#([A-f\d]{3}){1,2}$/i,$e={function:function(e,t,n,r,i,o){return e.call(t,r,n.length,i)},number:function(e,t,n,r,i,o){return String(e)+function(e){for(var t in ye)if(ye[t].includes(e))return t;return""}(o.fn)},string:ze,undefined:function(e,t,n,r,i,o){return ze(Be(t,i,o.fn)||"")}};function Ge(e,t){var n,r,i,o,a,l,s,u,c=e.tweens=Object.create(null),f=e.elements,d=e.element,v=f.indexOf(d),p=be(d),y=L(e.queue,e.options.queue),g=L(e.options.duration,de.duration);for(n in t)t.hasOwnProperty(n)&&(l=Me(d,r=Ne(n)),i=t[n],l||"tween"===r?null!=i?(u=s=void 0,(o=c[r]={}).fn=l,V(i)&&(i=i.call(d,v,f.length,f)),Array.isArray(i)?(a=i[1],l=i[2],s=i[0],u=K(a)&&(/^[\d-]/.test(a)||We.test(a))||V(a)||Y(a)?a:K(a)&&h[a]||Array.isArray(a)?(o.easing=ne(a,g),l):a||l):s=i,o.end=$e[void 0===s?"undefined":W(s)](s,d,f,v,r,o),null==u&&!1!==y&&void 0!==p.queueList[y]||(o.start=$e[void 0===u?"undefined":W(u)](u,d,f,v,r,o),Ze(r,o))):Dt.debug&&console.log('Skipping "'+n+'" due to no value supplied.'):Dt.debug&&console.log('Skipping "'+n+'" due to a lack of browser support.'))}var Qe=/((?:[+\-*/]=)?(?:[+-]?\d*\.\d+|[+-]?\d+)[a-z%]*|(?:.(?!$|[+-]?\d|[+\-*/]=[+-]?\d))+.|.)/g,De=/^([+\-*/]=)?([+-]?\d*\.\d+|[+-]?\d+)(.*)$/;function Ue(i,o){for(var a=i.length,e=[],t=[],l=void 0,n=0;n<a;n++){if(!K(i[n]))return;""===i[n]?e[n]=[""]:e[n]=P(i[n].match(Qe)),t[n]=0,l=l||1<e[n].length}for(var s=[],u=s.pattern=[],r=function(e){if(K(u[u.length-1]))u[u.length-1]+=e;else if(e){u.push(e);for(var t=0;t<a;t++)s[t].push(null)}},c=function(){if(!(l||1<u.length)){for(var e="display"===o,t="visibility"===o,n=0;n<a;n++){var r=i[n];s[n][0]=r,s[n].easing=ne(e&&"none"===r||t&&"hidden"===r||!e&&!t?"at-end":"at-start",400)}return u[0]=!1,s}},f=!0,d=0;d<a;d++)s[d]=[];for(;f;){for(var v=[],p=[],y=void 0,g=!1,h=!1,m=0;m<a;m++){var w=t[m]++,b=e[m][w];if(!b){if(m)return;for(;m<a;m++){var S=t[m]++;if(e[m][S])return c()}f=!1;break}var x=b.match(De);if(x){if(y)return c();var k=parseFloat(x[2]),_=x[3],w=x[1]?x[1][0]+_:void 0,x=w||_;k&&!p.includes(x)&&p.push(x),_||(k?h=!0:g=!0),v[m]=w?[k,x,!0]:[k,x]}else{if(v.length)return c();if(y){if(y!==b)return c()}else y=b}}if(y)r(y);else if(p.length)if(2===p.length&&g&&!h&&p.splice(p[0]?1:0,1),1===p.length){var O=p[0];switch(O[0]){case"+":case"-":case"*":case"/":return void(o&&console.error('Velocity: The first property must not contain a relative function "'+o+'":',i))}u.push(!1);for(var E=0;E<a;E++)s[E].push(v[E][0]);r(O)}else{r("calc(");for(var T=u.length-1,M=0;M<p.length;M++){var V=p[M],q=V[0],N="*"===q||"/"===q,A=N||"+"===q||"-"===q;N&&(u[T]+="(",r(")")),M&&r(" "+(A?q:"+")+" "),u.push(!1);for(var L=0;L<a;L++){var J=v[L],J=J[1]===V?J[0]:3===J.length?s[L-1][s[L-1].length-1]:N?1:0;s[L].push(J)}r(A?V.substring(1):V)}r(")")}}for(var I=0,j=0;I<u.length;I++){var C=u[I];K(C)?j&&0<=C.indexOf(",")?j++:0<=C.indexOf("rgb")&&(j=1):j&&(j<4?u[I]=!0:j=0)}return s}function Ze(e,t,n,r){var i=t.start,o=t.end;if(K(o)&&K(i)){var a,l,s,u=Ue([i,o],e);if(!u&&r&&(a=i.match(/\d\.?\d*/g)||["0"],l=a.length,s=0,u=Ue([o.replace(/\d+\.?\d*/g,function(){return a[s++%l]}),o],e)),u)switch(Dt.debug&&console.log("Velocity: Sequence found:",u),u[0].percent=0,u[1].percent=1,t.sequence=u,t.easing){case h["at-start"]:case h.during:case h["at-end"]:u[0].easing=u[1].easing=t.easing}}}function Ye(e){if(Se.firstNew===e&&(Se.firstNew=e._next),!(1&e._flags)){var t,n=e.element,r=e.tweens;L(e.options.duration,de.duration);for(t in r){var i,o=r[t];null==o.start&&(K(i=Be(e.element,t))?(o.start=ze(i),Ze(t,o,0,!0)):Array.isArray(i)||console.warn("bad type",o,t,i)),Dt.debug&&console.log('tweensContainer "'+t+'": '+JSON.stringify(o),n)}e._flags|=1}}function Xe(e){var t=e.begin||e.options.begin;if(t)try{var n=e.elements;t.call(n,n,e)}catch(e){setTimeout(function(){throw e},1)}}function Ke(){var e=!0,t=!1,n=void 0;try{for(var r,i=rt[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)!function(e){var t=e.progress||e.options.progress;if(t)try{var n=e.elements,r=e.percentComplete,i=e.options,o=e.tween;t.call(n,n,r,Math.max(0,e.timeStart+(null!=e.duration?e:null!=i.duration?i:de).duration-ut),void 0!==o?o:String(100*r),e)}catch(e){setTimeout(function(){throw e},1)}}(r.value)}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}rt.clear();var o=!0,a=!1,l=void 0;try{for(var s,u=nt[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)Oe(s.value)}catch(e){a=!0,l=e}finally{try{!o&&u.return&&u.return()}finally{if(a)throw l}}nt.clear()}var et,tt=1e3/60,nt=new Set,rt=new Set,it=("function"!=typeof(t=window.performance||{}).now&&(et=t.timing&&t.timing.navigationStart?t.timing.navigationStart:n(),t.now=function(){return n()-et}),t),ot=function(e){return setTimeout(e,Math.max(0,tt-(it.now()-ut)))},at=window.requestAnimationFrame||ot,lt=void 0,st=void 0,ut=0;try{(st=new Worker(URL.createObjectURL(new Blob(["("+function(){var t=this,n=void 0;this.onmessage=function(e){switch(e.data){case!0:n=n||setInterval(function(){t.postMessage(!0)},1e3/30);break;case!1:n&&(clearInterval(n),n=0);break;default:t.postMessage(e.data)}}}+")()"])))).onmessage=function(e){(!0===e.data?ct:Ke)()},Se.isMobile||void 0===document.hidden||document.addEventListener("visibilitychange",function(){st.postMessage(Se.isTicking&&document.hidden)})}catch(e){}function ct(e){if(!lt){if(!(lt=!0)!==e){var t=it.now(),n=ut?t-ut:tt,r=de.speed,i=de.easing,o=de.duration,a=void 0,l=void 0;if(n>=de.minFrameTime||!ut){for(ut=t;Se.firstNew;)Ye(Se.firstNew);for(a=Se.first;a&&a!==Se.firstNew;a=a._next){var s,u,c,f=a.element,d=be(f);f.parentNode&&d?(s=a.options,u=a._flags,(c=a.timeStart)||(c=t-n,!1!==(f=(null!=a.queue?a:s).queue)&&(c=Math.max(c,d.lastFinishList[f]||0)),a.timeStart=c),16&u?a.timeStart+=n:2&u||(a._flags|=2,s._ready++)):ke(a)}for(a=Se.first;a&&a!==Se.firstNew;a=l){var v=a._flags,l=a._next;if(2&v&&!(16&v)){var p=a.options;if(32&v&&p._ready<p._total)a.timeStart+=n;else{var y=null!=a.speed?a.speed:null!=p.speed?p.speed:r,g=a.timeStart;if(!(4&v)){var h=(null!=a.delay?a:p).delay;if(h){if(t<g+h/y)continue;a.timeStart=g+=h/(0<h?y:1)}a._flags|=4,0==p._started++&&(p._first=a,p.begin&&(Xe(a),p.begin=void 0))}1!==y&&(a.timeStart=g+=Math.min(n,t-g)*(1-y));var m,w=null!=a.easing?a.easing:null!=p.easing?p.easing:i,y=a.ellapsedTime=t-g,g=null!=a.duration?a.duration:null!=p.duration?p.duration:o,b=a.percentComplete=Dt.mock?1:Math.min(y/g,1),S=a.tweens,x=64&v;for(m in(a.progress||p._first===a&&p.progress)&&rt.add(a),1===b&&nt.add(a),S){var k=S[m],_=k.sequence,O=_.pattern,E="",T=0;if(O){for(var M=(k.easing||w)(b,0,1,m),V=0,q=0;q<_.length-1;q++)_[q].percent<M&&(V=q);for(var N=_[V],A=_[V+1]||N,L=(b-N.percent)/(A.percent-N.percent),J=x?1-L:L,I=A.easing||w||z;T<O.length;T++){var j,C=N[T];null==C?E+=O[T]:C===(j=A[T])?E+=C:(j=I(J,C,j,m),E+=!0!==O[T]?j:Math.round(j))}"tween"!==m?(1===b&&(E=function(e){if(0<=e.indexOf("calc(")){for(var t=e.split(/([\(\)])/),n=0,r=0;r<t.length;r++){var i=t[r];switch(i){case"(":n++;break;case")":n--;break;default:n&&"0"===i[0]&&(t[r]=i.replace(/^0[a-z%]+ \+ /,""))}}return t.join("").replace(/(?:calc)?\(([0-9\.]+[a-z%]+)\)/g,"$1")}return e}(E)),Ve(a.element,m,E,k.fn)):a.tween=E}else console.warn("VelocityJS: Missing pattern:",m,JSON.stringify(k[m])),delete S[m]}}}}(rt.size||nt.size)&&(document.hidden?st?st.postMessage(""):setTimeout(Ke,1):Ke())}}Se.first?(Se.isTicking=!0,document.hidden?st?!1===e&&st.postMessage(!0):ot(ct):at(ct)):(Se.isTicking=!1,ut=0,document.hidden&&st&&st.postMessage(!1)),lt=!1}}function ft(e,t,n){if(Ye(e),void 0===t||t===L(e.queue,e.options.queue,n)){for(var r in 4&e._flags||(0==(n=e.options)._started++&&(n._first=e,n.begin&&(Xe(e),n.begin=void 0)),e._flags|=4),e.tweens){var i=e.tweens[r],o=i.sequence,a=o.pattern,l="",s=0;if(a)for(var u=o[o.length-1];s<a.length;s++){var c=u[s];l+=null==c?a[s]:c}Ve(e.element,r,l,i.fn)}Oe(e)}}i(["finish",function(e,t,n){var r=H(e[0],!0),i=de.queue,o=!0===e[void 0===r?0:1];if($(t)&&t.velocity.animations){var a=!0,l=!1,s=void 0;try{for(var u,c=t.velocity.animations[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)ft(u.value,r,i)}catch(e){l=!0,s=e}finally{try{!a&&c.return&&c.return()}finally{if(l)throw s}}}else{for(;Se.firstNew;)Ye(Se.firstNew);for(var f,d=Se.first;d&&(o||d!==Se.firstNew);d=f||Se.firstNew)f=d._next,t&&!t.includes(d.element)||ft(d,r,i)}n&&($(t)&&t.velocity.animations&&t.then?t.then(n._resolver):n._resolver(t))}],!0);var dt={isExpanded:1,isReady:2,isStarted:4,isStopped:8,isPaused:16,isSync:32,isReverse:64};function vt(e,t,n,r){void 0!==t&&t!==L(e.queue,e.options.queue,n)||(r?e._flags|=16:e._flags&=-17)}function pt(e,t,n,r){var i=0===r.indexOf("pause"),o="false"!==(0<=r.indexOf(".")?r.replace(/^.*\./,""):void 0)&&H(e[0]),a=de.queue;if($(t)&&t.velocity.animations){var l=!0,s=!1,u=void 0;try{for(var c,f=t.velocity.animations[Symbol.iterator]();!(l=(c=f.next()).done);l=!0)vt(c.value,o,a,i)}catch(e){s=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(s)throw u}}}else for(var d=Se.first;d;)t&&!t.includes(d.element)||vt(d,o,a,i),d=d._next;n&&($(t)&&t.velocity.animations&&t.then?t.then(n._resolver):n._resolver(t))}function yt(e,t,n,r){var i=e[0],o=e[1];if(!i)return console.warn("VelocityJS: Cannot access a non-existant property!"),null;if(void 0===o&&!X(i)){if(Array.isArray(i)){if(1===t.length){var a={},l=!0,s=!1,u=void 0;try{for(var c=i[Symbol.iterator]();!(l=(f=c.next()).done);l=!0){var f=f.value;a[f]=ze(Be(t[0],f))}}catch(e){s=!0,u=e}finally{try{!l&&c.return&&c.return()}finally{if(s)throw u}}return a}var d=[],v=!0,p=!1,y=void 0;try{for(var g,h=t[Symbol.iterator]();!(v=(g=h.next()).done);v=!0){var m=g.value,w={},b=!0,S=!1,x=void 0;try{for(var k=i[Symbol.iterator]();!(b=(_=k.next()).done);b=!0){var _=_.value;w[_]=ze(Be(m,_))}}catch(e){S=!0,x=e}finally{try{!b&&k.return&&k.return()}finally{if(S)throw x}}d.push(w)}}catch(e){p=!0,y=e}finally{try{!v&&h.return&&h.return()}finally{if(p)throw y}}return d}if(1===t.length)return ze(Be(t[0],i));var O=[],E=!0,T=!1,M=void 0;try{for(var V=t[Symbol.iterator]();!(E=(q=V.next()).done);E=!0){var q=q.value;O.push(ze(Be(q,i)))}}catch(e){T=!0,M=e}finally{try{!E&&V.return&&V.return()}finally{if(T)throw M}}return O}var N=[];if(X(i)){for(var A in i)if(i.hasOwnProperty(A)){var L=!0,J=!1,I=void 0;try{for(var j=t[Symbol.iterator]();!(L=(P=j.next()).done);L=!0){var C=P.value,P=i[A];K(P)||Y(P)?Ve(C,A,i[A]):(N.push('Cannot set a property "'+A+'" to an unknown type: '+(void 0===P?"undefined":W(P))),console.warn('VelocityJS: Cannot set a property "'+A+'" to an unknown type:',P))}}catch(e){J=!0,I=e}finally{try{!L&&j.return&&j.return()}finally{if(J)throw I}}}}else if(K(o)||Y(o)){var z=!0,F=!1,H=void 0;try{for(var R,B=t[Symbol.iterator]();!(z=(R=B.next()).done);z=!0)Ve(R.value,i,String(o))}catch(e){F=!0,H=e}finally{try{!z&&B.return&&B.return()}finally{if(F)throw H}}}else N.push('Cannot set a property "'+i+'" to an unknown type: '+(void 0===o?"undefined":W(o))),console.warn('VelocityJS: Cannot set a property "'+i+'" to an unknown type:',o);n&&(N.length?n._rejecter(N.join(", ")):$(t)&&t.velocity.animations&&t.then?t.then(n._resolver):n._resolver(t))}function gt(e,t,n){Ye(e),void 0!==t&&t!==L(e.queue,e.options.queue,n)||(e._flags|=8,Oe(e))}i(["option",function(e,t,n,r){var i=e[0],o="false"!==(r=0<=r.indexOf(".")?r.replace(/^.*\./,""):void 0)&&H(r,!0),a=void 0,l=e[1];if(!i)return console.warn("VelocityJS: Cannot access a non-existant key!"),null;if($(t)&&t.velocity.animations)a=t.velocity.animations;else{a=[];for(var s=Se.first;s;s=s._next)0<=t.indexOf(s.element)&&L(s.queue,s.options.queue)===o&&a.push(s);if(1<t.length&&1<a.length){for(var u=1,c=a[0].options;u<a.length;)if(a[u++].options!==c){c=null;break}c&&(a=[a[0]])}}if(void 0===l){var f=[],d=dt[i],v=!0,p=!1,y=void 0;try{for(var g=a[Symbol.iterator]();!(v=(h=g.next()).done);v=!0){var h=h.value;void 0===d?f.push(L(h[i],h.options[i])):f.push(0==(h._flags&d))}}catch(e){p=!0,y=e}finally{try{!v&&g.return&&g.return()}finally{if(p)throw y}}return 1===t.length&&1===a.length?f[0]:f}var m=void 0;switch(i){case"cache":l=O(l);break;case"begin":l=I(l);break;case"complete":l=j(l);break;case"delay":l=C(l);break;case"duration":l=te(l);break;case"fpsLimit":l=E(l);break;case"loop":l=F(l);break;case"percentComplete":m=!0,l=parseFloat(l);break;case"repeat":case"repeatAgain":l=R(l);break;default:if("_"!==i[0]){var w=parseFloat(l);l===String(w)&&(l=w);break}case"queue":case"promise":case"promiseRejectEmpty":case"easing":case"started":return void console.warn("VelocityJS: Trying to set a read-only key:",i)}if(void 0===l||l!=l)return console.warn("VelocityJS: Trying to set an invalid value:"+i+"="+l+" ("+e[1]+")"),null;var b=!0,S=!1,x=void 0;try{for(var k=a[Symbol.iterator]();!(b=(_=k.next()).done);b=!0){var _=_.value;m?_.timeStart=ut-L(_.duration,_.options.duration,de.duration)*l:_[i]=l}}catch(e){S=!0,x=e}finally{try{!b&&k.return&&k.return()}finally{if(S)throw x}}n&&($(t)&&t.velocity.animations&&t.then?t.then(n._resolver):n._resolver(t))}],!0),i(["pause",pt],!0),i(["resume",pt],!0),i(["property",yt],!0),i(["reverse",function(e,t,n,r){throw new SyntaxError("VelocityJS: The 'reverse' action is built in and private.")}],!0),i(["stop",function(e,t,n,r){var i=H(e[0],!0),o=de.queue,a=!0===e[void 0===i?0:1];if($(t)&&t.velocity.animations){var l=!0,s=!1,u=void 0;try{for(var c,f=t.velocity.animations[Symbol.iterator]();!(l=(c=f.next()).done);l=!0)gt(c.value,i,o)}catch(e){s=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(s)throw u}}}else{for(;Se.firstNew;)Ye(Se.firstNew);for(var d,v=Se.first;v&&(a||v!==Se.firstNew);v=d||Se.firstNew)d=v._next,t&&!t.includes(v.element)||gt(v,i,o)}n&&($(t)&&t.velocity.animations&&t.then?t.then(n._resolver):n._resolver(t))}],!0),i(["style",yt],!0),i(["tween",function(e,t,n,r){var i=void 0;if(t){if(1!==t.length)throw new Error("VelocityJS: Cannot tween more than one element!")}else{if(!e.length)return console.info('Velocity(<element>, "tween", percentComplete, property, end | [end, <easing>, <start>], <easing>) => value\nVelocity(<element>, "tween", percentComplete, {property: end | [end, <easing>, <start>], ...}, <easing>) => {property: value, ...}'),null;t=[document.body],i=!0}var o,a,l=e[0],s={elements:t,element:t[0],queue:!1,options:{duration:1e3},tweens:null},u={},c=e[1],f=void 0,d=void 0,v=e[2],p=0;if(K(e[1])?v=_e&&_e[e[1]]?(d=_e[e[1]],c={},e[2]):(f=!0,o={},a=e[1],t=e[2],a in o?Object.defineProperty(o,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[a]=t,c=o,e[3]):Array.isArray(e[1])&&(f=!0,c={tween:e[1]},v=e[2]),!Y(l)||l<0||1<l)throw new Error("VelocityJS: Must tween a percentage from 0 to 1!");if(!X(c))throw new Error("VelocityJS: Cannot tween an invalid property!");if(i)for(var y in c)if(c.hasOwnProperty(y)&&(!Array.isArray(c[y])||c[y].length<2))throw new Error("VelocityJS: When not supplying an element you must force-feed values: "+y);var g,h=ne(L(v,de.easing),ee);for(g in d?Yt(s,d):Ge(s,c),s.tweens){var m=s.tweens[g],w=m.sequence,b=w.pattern,S="",x=0;if(p++,b){for(var k=(m.easing||h)(l,0,1,g),_=0,O=0;O<w.length-1;O++)w[O].percent<k&&(_=O);for(var E=w[_],T=w[_+1]||E,M=(l-E.percent)/(T.percent-E.percent),V=T.easing||z;x<b.length;x++){var q,N=E[x];null==N?S+=b[x]:N===(q=T[x])?S+=N:(q=V(M,N,q,g),S+=!0===b[x]?Math.round(q):q)}u[g]=S}}if(f&&1===p)for(var A in u)if(u.hasOwnProperty(A))return u[A];return u}],!0);var ht,mt,wt,bt,St,xt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};for(ht in xt)xt.hasOwnProperty(ht)&&(mt=xt[ht],Ce[ht]=Math.floor(mt/65536)+","+Math.floor(mt/256%256)+","+mt%256);function kt(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function _t(e){return 1-kt(1-e)}wt=1.7,a(["easeInBack",function(e,t,n){return 0===e?t:1===e?n:Math.pow(e,2)*((wt+1)*e-wt)*(n-t)}]),bt=1.7,a(["easeOutBack",function(e,t,n){return 0===e?t:1===e?n:(Math.pow(--e,2)*((bt+1)*e+bt)+1)*(n-t)}]),St=1.7,St*=1.525,a(["easeInOutBack",function(e,t,n){return 0===e?t:1===e?n:.5*((e*=2)<1?Math.pow(e,2)*((St+1)*e-St):Math.pow(e-2,2)*((St+1)*(e-2)+St)+2)*(n-t)}]),a(["easeInBounce",function(e,t,n){return 0===e?t:1===e?n:_t(e)*(n-t)}]),a(["easeOutBounce",function(e,t,n){return 0===e?t:1===e?n:kt(e)*(n-t)}]),a(["easeInOutBounce",function(e,t,n){return 0===e?t:1===e?n:(e<.5?.5*_t(2*e):.5*kt(2*e-1)+.5)*(n-t)}]);var Ot,Et,Tt,Mt,Vt,qt,Nt=2*Math.PI;function At(n,r){return function(e,t){if(void 0===t)return Fe(e,n,r)+"px";Ve(e,n,parseFloat(t)-Fe(e,n,r)+"px")}}Ot=1,Et=.3,a(["easeInElastic",function(e,t,n){return 0===e?t:1===e?n:-(Ot*Math.pow(2,10*--e)*Math.sin((e-Et/Nt*Math.asin(1/Ot))*Nt/Et))*(n-t)}]),Tt=1,Mt=.3,a(["easeOutElastic",function(e,t,n){return 0===e?t:1===e?n:(Tt*Math.pow(2,-10*e)*Math.sin((e-Mt/Nt*Math.asin(1/Tt))*Nt/Mt)+1)*(n-t)}]),Vt=1,qt=.3*1.5,a(["easeInOutElastic",function(e,t,n){if(0===e)return t;if(1===e)return n;var r=qt/Nt*Math.asin(1/Vt);return((e=2*e-1)<0?Vt*Math.pow(2,10*e)*Math.sin((e-r)*Nt/qt)*-.5:Vt*Math.pow(2,-10*e)*Math.sin((e-r)*Nt/qt)*.5+1)*(n-t)}]),a(["at-start",function(e,t,n){return 0===e?t:n}]),a(["during",function(e,t,n){return 0===e||1===e?t:n}]),a(["at-end",function(e,t,n){return 1===e?n:t}]),Ee(["Element","innerWidth",At("width",!0)]),Ee(["Element","innerHeight",At("height",!0)]),Ee(["Element","outerWidth",At("width",!1)]),Ee(["Element","outerHeight",At("height",!1)]);var Lt=/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|let|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i,Jt=/^(li)$/i,It=/^(tr)$/i,jt=/^(table)$/i,Ct=/^(tbody)$/i;function Pt(o,a){return function(e,t){if(null==t)return Be(e,"client"+o,null,!0),Be(e,"scroll"+o,null,!0),e["scroll"+a]+"px";var n=parseFloat(t);switch(t.replace(String(n),"")){case"":case"px":e["scroll"+a]=n;break;case"%":var r=parseFloat(Be(e,"client"+o)),i=parseFloat(Be(e,"scroll"+o));e["scroll"+a]=Math.max(0,i-r)*n/100}}}Ee(["Element","display",function(e,t){var n,r=e.style;if(void 0===t)return Re(e,"display");"auto"===t&&(n=e&&e.nodeName,e=be(e),t=Lt.test(n)?"inline":Jt.test(n)?"list-item":It.test(n)?"table-row":jt.test(n)?"table":Ct.test(n)?"table-row-group":"block",e.cache.display=t),r.display=t}]),Ee(["HTMLElement","scroll",Pt("Height","Top"),!1]),Ee(["HTMLElement","scrollTop",Pt("Height","Top"),!1]),Ee(["HTMLElement","scrollLeft",Pt("Width","Left"),!1]),Ee(["HTMLElement","scrollWidth",function(e,t){if(null==t)return e.scrollWidth+"px"}]),Ee(["HTMLElement","clientWidth",function(e,t){if(null==t)return e.clientWidth+"px"}]),Ee(["HTMLElement","scrollHeight",function(e,t){if(null==t)return e.scrollHeight+"px"}]),Ee(["HTMLElement","clientHeight",function(e,t){if(null==t)return e.clientHeight+"px"}]);var zt=/^(b(lockSize|o(rder(Bottom(LeftRadius|RightRadius|Width)|Image(Outset|Width)|LeftWidth|R(adius|ightWidth)|Spacing|Top(LeftRadius|RightRadius|Width)|Width)|ttom))|column(Gap|RuleWidth|Width)|f(lexBasis|ontSize)|grid(ColumnGap|Gap|RowGap)|height|inlineSize|le(ft|tterSpacing)|m(a(rgin(Bottom|Left|Right|Top)|x(BlockSize|Height|InlineSize|Width))|in(BlockSize|Height|InlineSize|Width))|o(bjectPosition|utline(Offset|Width))|p(adding(Bottom|Left|Right|Top)|erspective)|right|s(hapeMargin|troke(Dashoffset|Width))|t(extIndent|op|ransformOrigin)|w(idth|ordSpacing))$/;var Ft,Ht=/^(webkit|moz|ms|o)[A-Z]/,t=Se.prefixElement;if(t)for(var Rt in t.style)Ht.test(Rt)?Ee(["Element",Ft=Rt.replace(/^[a-z]+([A-Z])/,function(e,t){return t.toLowerCase()}),function(n,r){return function(e,t){if(void 0===t)return Re(e,n)||Re(e,r);e.style[n]=e.style[r]=t}}(Rt,Ft),zt.test(Ft)?"px":void 0]):Te(["Element",Rt])||Ee(["Element",Rt,function(n){return function(e,t){if(void 0===t)return Re(e,n);e.style[n]=t}}(Rt),zt.test(Rt)?"px":void 0]);var Bt=document.createElement("div"),Wt=/^SVG(.*)Element$/,$t=/Element$/;function Gt(n){return function(e,t){if(void 0===t)try{return e.getBBox()[n]+"px"}catch(e){return"0px"}e.setAttribute(n,t)}}Object.getOwnPropertyNames(window).forEach(function(t){var e=Wt.exec(t);if(e&&"SVG"!==e[1])try{var n,r=e[1]?document.createElementNS("http://www.w3.org/2000/svg",(e[1]||"svg").toLowerCase()):document.createElement("svg");for(n in r){var i=r[n];!K(n)||"o"===n[0]&&"n"===n[1]||n===n.toUpperCase()||$t.test(n)||n in Bt||V(i)||Ee([t,n,function(n){return function(e,t){if(void 0===t)return e.getAttribute(n);e.setAttribute(n,t)}}(n)])}}catch(e){console.error("VelocityJS: Error when trying to identify SVG attributes on "+t+".",e)}}),Ee(["SVGElement","width",Gt("width")]),Ee(["SVGElement","height",Gt("height")]),Ee(["Element","tween",function(e,t){if(void 0===t)return""}]);var Qt,Dt=tn;if((t=Qt=Qt||{}).Actions=J,t.Easings=h,t.Sequences=_e,t.State=Se,t.defaults=de,t.patch=nn,t.debug=!1,t.mock=!1,t.version="2.0.6",t.Velocity=tn,function(){if(document.documentMode)return document.documentMode;for(var e=7;4<e;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}}()<=8)throw new Error("VelocityJS cannot run on Internet Explorer 8 or earlier");window&&(an=window.jQuery,on=window.Zepto,nn(window,!0),nn(Element&&Element.prototype),nn(NodeList&&NodeList.prototype),nn(HTMLCollection&&HTMLCollection.prototype),nn(an,!0),nn(an&&an.fn),nn(on,!0),nn(on&&on.fn));for(var Ut in Qt)!function(t){if(Qt.hasOwnProperty(t))switch(void 0===t?"undefined":W(t)){case"number":case"boolean":A(Dt,t,{get:function(){return Qt[t]},set:function(e){Qt[t]=e}},!0);break;default:A(Dt,t,Qt[t],!0)}}(Ut);Object.freeze(Dt);var Zt=/(\d*\.\d+|\d+\.?|from|to)/g;function Yt(e,t){var n,r,i=e.tweens=Object.create(null),o=e.element;for(n in t.tweens)t.tweens.hasOwnProperty(n)&&((r=Me(o,n))||"tween"===n?i[n]={fn:r,sequence:t.tweens[n]}:Dt.debug&&console.log("Skipping ["+n+"] due to a lack of browser support."))}i(["registerSequence",function e(t){if(X(t[0]))for(var n in t[0])t[0].hasOwnProperty(n)&&e([n,t[0][n]]);else if(K(t[0])){var r=t[0],i=t[1];if(K(r))if(X(i)){_e[r]&&console.warn("VelocityJS: Replacing named sequence:",r);var o,a={},l=new Array(100),s=[],u=_e[r]={},c=te(i.duration);for(o in u.tweens={},Y(c)&&(u.duration=c),i)if(i.hasOwnProperty(o)){var f=String(o).match(Zt);if(f){var d=!0,v=!1,p=void 0;try{for(var y=f[Symbol.iterator]();!(d=(h=y.next()).done);d=!0){var g=h.value,h="from"===g?0:"to"===g?100:parseFloat(g);if(h<0||100<h)console.warn("VelocityJS: Trying to use an invalid value as a percentage (0 <= n <= 100):",r,h);else if(isNaN(h))console.warn("VelocityJS: Trying to use an invalid number as a percentage:",r,o,g);else for(var m in a[String(h)]||(a[String(h)]=[]),a[String(h)].push(o),i[o])s.includes(m)||s.push(m)}}catch(e){v=!0,p=e}finally{try{!d&&y.return&&y.return()}finally{if(v)throw p}}}}var w=Object.keys(a).sort(function(e,t){return e=parseFloat(e),(t=parseFloat(t))<e?1:e<t?-1:0});w.forEach(function(e){l.push.apply(a[e])});var b=!0,S=!1,x=void 0;try{for(var k=s[Symbol.iterator]();!(b=(_=k.next()).done);b=!0){var _=_.value,O=[],E=Ne(_),T=!0,M=!1,V=void 0;try{for(var q,N=w[Symbol.iterator]();!(T=(q=N.next()).done);T=!0){var A=q.value,L=!0,J=!1,I=void 0;try{for(var j=a[A][Symbol.iterator]();!(L=(C=j.next()).done);L=!0){var C=i[C.value];C[E]&&O.push(K(C[E])?C[E]:C[E][0])}}catch(e){J=!0,I=e}finally{try{!L&&j.return&&j.return()}finally{if(J)throw I}}}}catch(e){M=!0,V=e}finally{try{!T&&N.return&&N.return()}finally{if(M)throw V}}if(O.length){var P=Ue(O,E),z=0;if(P){var F=!0,H=!1,R=void 0;try{for(var B,W=w[Symbol.iterator]();!(F=(B=W.next()).done);F=!0){var $=B.value,G=!0,Q=!1,D=void 0;try{for(var U=a[$][Symbol.iterator]();!(G=(Z=U.next()).done);G=!0){var Z=i[Z.value][E];Z&&(Array.isArray(Z)&&1<Z.length&&(K(Z[1])||Array.isArray(Z[1]))&&(P[z].easing=ne(Z[1],u.duration||ee)),P[z++].percent=parseFloat($)/100)}}catch(e){Q=!0,D=e}finally{try{!G&&U.return&&U.return()}finally{if(Q)throw D}}}}catch(e){H=!0,R=e}finally{try{!F&&W.return&&W.return()}finally{if(H)throw R}}u.tweens[E]=P}}}}catch(e){S=!0,x=e}finally{try{!b&&k.return&&k.return()}finally{if(S)throw x}}}else console.warn("VelocityJS: Trying to set 'registerSequence' sequence to an invalid value:",r,i);else console.warn("VelocityJS: Trying to set 'registerSequence' name to an invalid value:",r)}}],!0);var Xt=void 0;try{Xt=Promise}catch(e){}var Kt=", if that is deliberate then pass `promiseRejectEmpty:false` as an option";function en(e,t){A(t,"promise",e),A(t,"then",e.then.bind(e)),A(t,"catch",e.catch.bind(e)),e.finally&&A(t,"finally",e.finally.bind(e))}function tn(){var e=de,t=arguments.length<=0?void 0:arguments[0],n=X(t)&&(t.p||X(t.properties)&&!t.properties.names||K(t.properties)),r=0,i=void 0,o=void 0,a=void 0,l=void 0,s=void 0,u=void 0,c=void 0;q(this)?i=[this]:N(this)?(i=P(this),$(this)&&(l=this.velocity.animations)):n?(i=P(t.elements||t.e),r++):q(t)?(i=P([t]),r++):N(t)&&(i=P(t),r++),i&&(A(i,"velocity",tn.bind(i)),l&&A(i.velocity,"animations",l));var f="reverse"===(o=n?L(t.properties,t.p):(p=r++,arguments.length<=p?void 0:arguments[p])),d=!f&&K(o),v=d&&_e[o],p=n?L(t.options,t.o):arguments.length<=r?void 0:arguments[r];if(X(p)&&(a=p),Xt&&L(a&&a.promise,e.promise)&&(s=new Xt(function(t,e){c=e,u=function(e){$(e)&&e.promise?(delete e.then,delete e.catch,delete e.finally,t(e),en(e.promise,e)):t(e)}}),i&&en(s,i)),s&&(p=L(t=a&&a.promiseRejectEmpty,e.promiseRejectEmpty),i||d?o||(p?c("Velocity: No properties supplied"+(M(t)?"":Kt)+". Aborting."):u()):p?c("Velocity: No elements supplied"+(M(t)?"":Kt)+". Aborting."):u()),!i&&!d||!o)return s;if(d){for(var y,g=[],h=s&&{_promise:s,_resolver:u,_rejecter:c};r<arguments.length;)g.push((y=r++,arguments.length<=y?void 0:arguments[y]));var m=o.replace(/\..*$/,""),w=J[m];if(w){var b=w(g,i,h,o);return void 0!==b?b:i||s}if(!v)return void console.error("VelocityJS: First argument ("+o+") was not a property map, a known action, or a registered redirect. Aborting.")}d=void 0;if(X(o)||f||v){var S,x={},m=e.sync;if(s&&(A(x,"_promise",s),A(x,"_rejecter",c),A(x,"_resolver",u)),A(x,"_ready",0),A(x,"_started",0),A(x,"_completed",0),A(x,"_total",0),X(a)?(d=void 0!==(S=te(a.duration)),x.duration=L(S,e.duration),x.delay=L(C(a.delay),e.delay),x.easing=ne(L(a.easing,e.easing),x.duration)||ne(e.easing,x.duration),x.loop=L(F(a.loop),e.loop),x.repeat=x.repeatAgain=L(R(a.repeat),e.repeat),null!=a.speed&&(x.speed=L(B(a.speed),1)),M(a.promise)&&(x.promise=a.promise),x.queue=L(H(a.queue),e.queue),a.mobileHA&&!Se.isGingerbread&&(x.mobileHA=!0),!0===a.drag&&(x.drag=!0),(Y(a.stagger)||V(a.stagger))&&(x.stagger=a.stagger),f||(null!=a.display&&(o.display=a.display,console.error('Deprecated "options.display" used, this is now a property:',a.display)),null!=a.visibility&&(o.visibility=a.visibility,console.error('Deprecated "options.visibility" used, this is now a property:',a.visibility))),w=I(a.begin),h=j(a.complete),b=function(e){if(V(e))return e;null!=e&&console.warn("VelocityJS: Trying to set 'progress' to an invalid value:",e)}(a.progress),S=G(a.sync),null!=w&&(x.begin=w),null!=h&&(x.complete=h),null!=b&&(x.progress=b),null!=S&&(m=S)):n||(S=0,x.duration=te(arguments.length<=r?void 0:arguments[r],!0),void 0===x.duration?x.duration=e.duration:(d=!0,S++),V(arguments.length<=r+S?void 0:arguments[r+S])||void 0!==(n=ne(arguments.length<=r+S?void 0:arguments[r+S],L(x&&te(x.duration),e.duration),!0))&&(S++,x.easing=n),void 0!==(S=j(arguments.length<=r+S?void 0:arguments[r+S],!0))&&(x.complete=S),x.delay=e.delay,x.loop=e.loop,x.repeat=x.repeatAgain=e.repeat),f&&!1===x.queue)throw new Error("VelocityJS: Cannot reverse a queue:false animation.");!d&&v&&v.duration&&(x.duration=v.duration);for(var k={options:x,elements:i,_prev:void 0,_next:void 0,_flags:m?32:0,percentComplete:0,ellapsedTime:0,timeStart:0},l=[],_=0;_<i.length;_++){var O=i[_],E=0;if(q(O)){if(f){var T=be(O).lastAnimationList[x.queue];if(!(o=T&&T.tweens)){console.error("VelocityJS: Attempting to reverse an animation on an element with no previous animation:",O);continue}E|=64&~(64&T._flags)}T=Object.assign({},k,{element:O,_flags:k._flags|E});x._total++,l.push(T),x.stagger&&(V(x.stagger)?Y(E=function(e,t,n,r,i,o){try{return e.call(t,n,r,i,o)}catch(e){console.error("VelocityJS: Exception when calling '"+o+"' callback:",e)}}(x.stagger,O,_,i.length,i,"stagger"))&&(T.delay=x.delay+E):T.delay=x.delay+x.stagger*_),x.drag&&(T.duration=x.duration-x.duration*Math.max(1-(_+1)/i.length,.75)),v?Yt(T,v):f?T.tweens=o:(T.tweens=Object.create(null),Ge(T,o)),function(e,t,n){if(e=be(e),!1!==n&&(e.lastAnimationList[n]=t),!1===n)xe(t);else{K(n)||(n="");var r=e.queueList[n];if(r){for(;r._next;)r=r._next;(r._next=t)._prev=r}else null===r?e.queueList[n]=t:(e.queueList[n]=null,xe(t))}}(O,T,x.queue)}}!1===Se.isTicking&&ct(!1),l&&A(i.velocity,"animations",l)}return i||s}function nn(e,t){try{A(e,(t?"V":"v")+"elocity",tn)}catch(e){console.warn("VelocityJS: Error when trying to add prototype.",e)}}var rn,on,an,ln=tn;if((an=rn=rn||{}).Actions=J,an.Easings=h,an.Sequences=_e,an.State=Se,an.defaults=de,an.patch=nn,an.debug=!1,an.mock=!1,an.version="2.0.6",an.Velocity=tn,function(){if(document.documentMode)return document.documentMode;for(var e=7;4<e;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}}()<=8)throw new Error("VelocityJS cannot run on Internet Explorer 8 or earlier");window&&(on=window.jQuery,an=window.Zepto,nn(window,!0),nn(Element&&Element.prototype),nn(NodeList&&NodeList.prototype),nn(HTMLCollection&&HTMLCollection.prototype),nn(on,!0),nn(on&&on.fn),nn(an,!0),nn(an&&an.fn));for(var sn in rn)!function(t){if(rn.hasOwnProperty(t))switch(void 0===t?"undefined":W(t)){case"number":case"boolean":A(ln,t,{get:function(){return rn[t]},set:function(e){rn[t]=e}},!0);break;default:A(ln,t,rn[t],!0)}}(sn);return Object.freeze(ln),ln});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlZlbG9jaXR5LmpzIl0sIm5hbWVzIjpbImZhY3RvcnkiLCJleHBvcnRzIiwiX3R5cGVvZjIiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJWZWxvY2l0eSIsIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm9iaiIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiY3JlYXRlQ2xhc3MiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJrZXkiLCJpc0Jvb2xlYW4iLCJ2YXJpYWJsZSIsImlzRnVuY3Rpb24iLCJPYmplY3QiLCJ0b1N0cmluZyIsImNhbGwiLCJub2RlVHlwZSIsImlzTnVtYmVyIiwiaXNQbGFpbk9iamVjdCIsInByb3RvIiwiaGFzT3duUHJvcGVydHkiLCJpc1N0cmluZyIsImdldFByb3RvdHlwZU9mIiwiaXNXcmFwcGVkIiwid2luZG93IiwiaXNOb2RlIiwiQXJyYXkiLCJzbGljZSIsImFycmF5TGlrZSIsImRlZmluZVByb3BlcnR5JDEiLCJuYW1lIiwidmFsdWUiLCJyZWFkb25seSIsImVsZW1lbnQiLCJkZWZpbmVQcm9wZXJ0eSIsIkVsZW1lbnQiLCJnZXRWYWx1ZSIsIl9sZW4iLCJhcmd1bWVudHMiLCJhcmdzIiwiX2tleSIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwidW5kZWZpbmVkIiwiX2l0ZXJhdG9yIiwiX3N0ZXAiLCJuZXh0IiwiZG9uZSIsImFyZyIsImVyciIsInJldHVybiIsIm5vdyIsIkRhdGUiLCJyZW1vdmVDbGFzcyIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsIlJlZ0V4cCIsIkFjdGlvbnMiLCJyZWdpc3RlckFjdGlvbiIsImludGVybmFsIiwiY2FsbGJhY2siLCJwcm9wZXJ0eSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiY29uc29sZSIsIndhcm4iLCJERUZBVUxUX0RVUkFUSU9OIiwiZmFzdCIsInNsb3ciLCJFYXNpbmdzIiwicmVnaXN0ZXJFYXNpbmciLCJEVVJBVElPTl9GQVNUIiwiRFVSQVRJT05fTk9STUFMIiwiRlVaWllfTVNfUEVSX1NFQ09ORCIsIkRFRkFVTFRfREVMQVkiLCJERUZBVUxUX0ZQU0xJTUlUIiwiREVGQVVMVF9DQUNIRSIsIkRVUkFUSU9OX1NMT1ciLCJDTEFTU05BTUUiLCJwZXJjZW50Q29tcGxldGUiLCJzdGFydFZhbHVlIiwiZW5kVmFsdWUiLCJEdXJhdGlvbiIsImZpeFJhbmdlIiwiTWF0aCIsIm1pbiIsIm1heCIsIm51bSIsImFBMSIsImFBMiIsIkIiLCJjYWxjQmV6aWVyIiwiYVQiLCJsaW5lYXJFYXNpbmciLCJnZXRTbG9wZSIsIkEiLCJnZW5lcmF0ZUJlemllciIsIk5FV1RPTl9JVEVSQVRJT05TIiwiU1VCRElWSVNJT05fUFJFQ0lTSU9OIiwiU1VCRElWSVNJT05fTUFYX0lURVJBVElPTlMiLCJrU3BsaW5lVGFibGVTaXplIiwia1NhbXBsZVN0ZXBTaXplIiwiZmxvYXQzMkFycmF5U3VwcG9ydGVkIiwic3ByaW5nRWFzaW5nIiwiaXNOYU4iLCJpc0Zpbml0ZSIsIm1YMSIsIm1ZMSIsIm1YMiIsIm1ZMiIsIm1TYW1wbGVWYWx1ZXMiLCJGbG9hdDMyQXJyYXkiLCJzdHIiLCJmIiwicHJlY29tcHV0ZWQiLCJjdXJyZW50WCIsImdldFRGb3JYIiwiY3VycmVudFQiLCJnZXRDb250cm9sUG9pbnRzIiwiYmluYXJ5U3ViZGl2aWRlIiwieCIsInkiLCJhWCIsImludGVydmFsU3RhcnQiLCJjdXJyZW50U2FtcGxlIiwibGFzdFNhbXBsZSIsImd1ZXNzRm9yVCIsImluaXRpYWxTbG9wZSIsImFHdWVzc1QiLCJfaSIsImN1cnJlbnRTbG9wZSIsIm5ld3RvblJhcGhzb25JdGVyYXRlIiwiYUEiLCJhQiIsIk5FV1RPTl9NSU5fU0xPUEUiLCJwcmVjb21wdXRlIiwiX2kyIiwiREVGQVVMVF9QUk9NSVNFX1JFSkVDVF9FTVBUWSIsImNvcyIsIlBJIiwiZXhwIiwiZWFzZUluIiwiZWFzZUluT3V0Iiwic3ByaW5nQWNjZWxlcmF0aW9uRm9yU3RhdGUiLCJzdGF0ZSIsInRlbnNpb24iLCJmcmljdGlvbiIsInYiLCJpbml0aWFsU3RhdGUiLCJkdCIsImRlcml2YXRpdmUiLCJjYWxjU2FtcGxlVmFsdWVzIiwiZHgiLCJkdiIsImR1cmF0aW9uIiwiYSIsImIiLCJjIiwiZHhkdCIsImluaXRTdGF0ZSIsInBhcnNlRmxvYXQiLCJwYXRoIiwidGltZUxhcHNlZCIsImxhc3RTdGF0ZSIsImhhdmVEdXJhdGlvbiIsImdlbmVyYXRlU3ByaW5nUks0IiwiZHZkdCIsInNwcmluZ0V2YWx1YXRlU3RhdGVXaXRoRGVyaXZhdGl2ZSIsImQiLCJhYnMiLCJlYXNlT3V0IiwicGFyc2VEdXJhdGlvbiIsImRlZiIsInNwcmluZ0ludGVncmF0ZVN0YXRlIiwicmVwbGFjZSIsInZhbGlkYXRlQ2FjaGUiLCJ2YWxpZGF0ZUJlZ2luIiwidG9sZXJhbmNlIiwibm9FcnJvciIsInZhbGlkYXRlRGVsYXkiLCJwYXJzZWQiLCJlcnJvciIsInZhbGlkYXRlRHVyYXRpb24iLCJ2YWxpZGF0ZUVhc2luZyIsImNhY2hlIiwiZm4iLCJzdGVwcyIsImFwcGx5IiwicGFyc2VJbnQiLCJ0b0xvd2VyQ2FzZSIsInZhbGlkYXRlUXVldWUiLCJ2YWxpZGF0ZVJlcGVhdCIsInZhbGlkYXRlU3BlZWQiLCJpc0FycmF5IiwiZ2VuZXJhdGVTdGVwIiwidmFsaWRhdGVTeW5jIiwiY2FjaGUkMSIsImNvbXBsZXRlIiwiZGVsYXkiLCJlYXNpbmciLCJmcHNMaW1pdCIsImxvb3AiLCJtb2JpbGVIQSIsIm1pbkZyYW1lVGltZSIsInZhbGlkYXRlRnBzTGltaXQiLCJwcm9taXNlIiwicHJvbWlzZVJlamVjdEVtcHR5IiwicXVldWUiLCJyZXBlYXQiLCJzcGVlZCIsInN5bmMiLCJkZWZhdWx0cyQxIiwiZGVmYXVsdHMkJDEiLCJiZWdpbiIsInZhbGlkYXRlTG9vcCIsImdldCIsInNldCIsInZhbGlkYXRlUHJvZ3Jlc3MiLCJ2YWxpZGF0ZUNvbXBsZXRlIiwidmFsaWRhdGVQcm9taXNlIiwidmFsaWRhdGVQcm9taXNlUmVqZWN0RW1wdHkiLCJERUZBVUxUX1BST01JU0UiLCJERUZBVUxUX1FVRVVFIiwidGhpcyIsImZyZWV6ZSIsInJlc2V0IiwiTm9ybWFsaXphdGlvbnMiLCJOb0NhY2hlTm9ybWFsaXphdGlvbnMiLCJTZXQiLCJzZXQkJDEiLCJjb25zdHJ1Y3RvckNhY2hlIiwiTWFwIiwiZGF0YSIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsInR5cGVzIiwiaW5kZXgiLCJnZXQkJDEiLCJjb25zdHJ1Y3RvcnMiLCJfY29uc3RydWN0b3IiLCJuZXdEYXRhIiwiY291bnQiLCJjb21wdXRlZFN0eWxlIiwibGFzdEFuaW1hdGlvbkxpc3QiLCJsYXN0RmluaXNoTGlzdCIsImRhdGFOYW1lIiwicGFnZVlPZmZzZXQiLCJTdGF0ZSIsImlzQ2xpZW50IiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImlzR2luZ2VyYnJlYWQiLCJwcmVmaXhFbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwid2luZG93U2Nyb2xsQW5jaG9yIiwiZG9jdW1lbnRFbGVtZW50IiwiYm9keSIsInBhcmVudE5vZGUiLCJzY3JvbGxQcm9wZXJ0eVRvcCIsImZpcnN0IiwiZmlyc3ROZXciLCJhbmltYXRlIiwiYW5pbWF0aW9uIiwicHJldiIsIl9uZXh0IiwibGFzdCIsImFkZCIsImZyZWVBbmltYXRpb25DYWxsIiwiX3ByZXYiLCJxdWV1ZU5hbWUiLCJvcHRpb25zIiwiTm9ybWFsaXphdGlvblVuaXRzIiwiRGF0YSIsIlNlcXVlbmNlc09iamVjdCIsImNvbXBsZXRlQ2FsbCIsImFjdGl2ZUNhbGwiLCJpc0xvb3AiLCJpc1N0b3BwZWQiLCJfZmxhZ3MiLCJpc1JlcGVhdCIsInNjcm9sbEFuY2hvciIsIl90b3RhbCIsInNjcm9sbFByb3BlcnR5TGVmdCIsImVsZW1lbnRzIiwic2V0VGltZW91dCIsImNhbGxDb21wbGV0ZSIsInJlc29sdmVyIiwiX3Jlc29sdmVyIiwidGltZVN0YXJ0Iiwic2tpcCIsInF1ZXVlTGlzdCIsImRlcXVldWUiLCJyZXBlYXRBZ2FpbiIsInJlZ2lzdGVyTm9ybWFsaXphdGlvbiIsInVuaXQiLCJpbmRleE9mIiwibmV4dEFyZyIsImhhcyIsInB1c2giLCJnZXROb3JtYWxpemF0aW9uIiwicHJvcGVydHlOYW1lIiwic2V0UHJvcGVydHlWYWx1ZSIsInByb3BlcnR5VmFsdWUiLCJub0NhY2hlIiwiVmVsb2NpdHkkJDEiLCJkZWJ1ZyIsImluZm8iLCJoYXNOb3JtYWxpemF0aW9uIiwiY2FjaGUkMiIsImZpeGVkIiwiJCIsImxldHRlciIsInJ4Q29sb3I2IiwicnhDb2xvck5hbWUiLCJyeFJHQiIsInJ4U3BhY2VzIiwiQ29sb3JOYW1lcyIsInIiLCJnIiwiZml4Q29sb3JzIiwicnhDb2xvcjMiLCIkMCIsIiQxIiwiJDIiLCJhdWdtZW50RGltZW5zaW9uIiwid2FudElubmVyIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInNpZGVzIiwiYXVnbWVudCIsImZpZWxkcyIsImZpZWxkIiwiZ2V0V2lkdGhIZWlnaHQiLCJjb21wdXRlUHJvcGVydHlWYWx1ZSIsImdldENvbXB1dGVkU3R5bGUiLCJjb21wdXRlZFZhbHVlIiwic3R5bGUiLCJwb3NpdGlvbiIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIlN0cmluZyIsInNraXBDYWNoZSIsInJ4SGV4IiwiZWxlbWVudEFycmF5SW5kZXgiLCJ0d2VlbiIsIm51bWJlciIsImluY2x1ZGVzIiwiZ2V0Tm9ybWFsaXphdGlvblVuaXQiLCJzdHJpbmciLCJleHBhbmRQcm9wZXJ0aWVzIiwicHJvcGVydGllcyIsInZhbHVlRGF0YSIsImFycjEiLCJhcnIyIiwidHdlZW5zIiwiY3JlYXRlIiwiY2FtZWxDYXNlIiwiZGVwdGgiLCJqb2luIiwiZW5kIiwiY29tbWFuZHMiLCJzdGFydCIsImV4cGxvZGVUd2VlbiIsInRva2VucyIsImxvZyIsInJlbW92ZU5lc3RlZENhbGMiLCJyeFRva2VuIiwicnhOdW1iZXIiLCJwYXJ0cyIsImluZGV4ZXMiLCJudW1iZXJzIiwicGFydCIsInBhcnRzTGVuZ3RoIiwiY2xvbmVBcnJheSIsIm1hdGNoIiwibWFrZVJHQkEiLCJpZ25vcmUiLCJzZXF1ZW5jZSIsInBhdHRlcm4iLCJhZGRTdHJpbmciLCJ0ZXh0IiwiX3BhcnQiLCJyZXR1cm5TdHJpbmdUeXBlIiwiaXNEaXNwbGF5IiwiaXNWaXNpYmlsaXR5IiwiX3BhcnQyIiwiaXNCb3JkZXJCb3giLCJfcGFydDMiLCJtb3JlIiwiYml0cyIsInVuaXRzIiwiaGFzTnVtYmVycyIsIl9wYXJ0NCIsInRva2VuIiwiaW5kZXgyIiwiY2hhbmdlIiwiY2hhbmdlT3JVbml0IiwiaXNVbml0bGVzcyIsImRpZ2l0cyIsIl91bml0IiwiX3BhcnQ1IiwicGF0dGVybkNhbGMiLCJfdW5pdDIiLCJfZmlyc3RMZXR0ZXIiLCJpc0NvbXBsZXgiLCJpc01hdGhzIiwiX3BhcnQ2IiwiYml0IiwiaW5SR0IiLCJfdGV4dCIsInN0YXJ0aW5nIiwic3RhcnROdW1iZXJzIiwiZmluZFBhdHRlcm4iLCJfZnVuY3Rpb24iLCJKU09OIiwic3RyaW5naWZ5IiwiYXN5bmNDYWxsYmFja3MiLCJwcm9ncmVzc2VkIiwicHJvZ3Jlc3MiLCJsYXN0VGljayIsInR3ZWVuVmFsdWUiLCJwcm9ncmVzc0NhbGwiLCJjbGVhciIsIl9kaWRJdGVyYXRvckVycm9yMiIsIl9pdGVyYXRvckVycm9yMiIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJjb21wbGV0ZWQiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiIsIkZSQU1FX1RJTUUiLCJwZXJmb3JtYW5jZSIsInBlcmYiLCJ0aW1pbmciLCJuYXZpZ2F0aW9uU3RhcnQiLCJub3dPZmZzZXQiLCJyQUZQcm94eSIsInJBRlNoaW0iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aWNraW5nIiwid29ya2VyIiwiV29ya2VyIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiQmxvYiIsIl90aGlzIiwiaW50ZXJ2YWwiLCJvbm1lc3NhZ2UiLCJlIiwic2V0SW50ZXJ2YWwiLCJwb3N0TWVzc2FnZSIsImNsZWFySW50ZXJ2YWwiLCJ0aWNrIiwiaGlkZGVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImlzVGlja2luZyIsInRpbWVzdGFtcCIsInRpbWVDdXJyZW50IiwiZGVmYXVsdFNwZWVkIiwiZGVmYXVsdEVhc2luZyIsImRlZmF1bHREdXJhdGlvbiIsIm5leHRDYWxsIiwidmFsaWRhdGVUd2VlbnMiLCJmbGFncyIsImRlbHRhVGltZSIsIl9yZWFkeSIsIl9vcHRpb25zIiwicGVyY2VudCIsIl90aW1lU3RhcnQiLCJfc3RhcnRlZCIsIl9maXJzdCIsImJlZ2luQ2FsbCIsImFjdGl2ZUVhc2luZyIsIm1pbGxpc2Vjb25kc0VsbGFwc2VkIiwiZWxsYXBzZWRUaW1lIiwibW9jayIsInJldmVyc2UiLCJjdXJyZW50VmFsdWUiLCJlYXNpbmdDb21wbGV0ZSIsImJlc3QiLCJqIiwidHdlZW5Gcm9tIiwidHdlZW5UbyIsInJhd1BlcmNlbnQiLCJ0d2VlblBlcmNlbnQiLCJyZXN1bHQiLCJyb3VuZCIsInNwbGl0Iiwic2l6ZSIsImNoZWNrQW5pbWF0aW9uU2hvdWxkQmVGaW5pc2hlZCIsImRlZmF1bHRRdWV1ZSIsImVuZFZhbHVlcyIsInByb21pc2VIYW5kbGVyIiwiZmluaXNoQWxsIiwiaXNWZWxvY2l0eVJlc3VsdCIsInZlbG9jaXR5IiwiYW5pbWF0aW9ucyIsInRoZW4iLCJhbmltYXRpb25GbGFncyIsImlzRXhwYW5kZWQiLCJpc1JlYWR5IiwiaXNTdGFydGVkIiwiaXNQYXVzZWQiLCJpc1N5bmMiLCJjaGVja0FuaW1hdGlvbiIsInBhdXNlUmVzdW1lIiwiYWN0aW9uIiwicHJvcCIsIl9yZXN1bHQiLCJyZXMiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyIsIl9kaWRJdGVyYXRvckVycm9yMyIsIl9pdGVyYXRvckVycm9yMyIsIl9pdGVyYXRvcjMiLCJfc3RlcDMiLCJfcHJvcCIsIl9yZXN1bHQyIiwiX2RpZEl0ZXJhdG9yRXJyb3I0IiwiX2l0ZXJhdG9yRXJyb3I0IiwiX2l0ZXJhdG9yNCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240IiwiX3N0ZXA0IiwiX2VsZW1lbnQiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSIsIl9kaWRJdGVyYXRvckVycm9yNSIsIl9pdGVyYXRvckVycm9yNSIsIl9pdGVyYXRvcjUiLCJfc3RlcDUiLCJfZWxlbWVudDIiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiIsIl9kaWRJdGVyYXRvckVycm9yNiIsIl9zdGVwNiIsIl9pdGVyYXRvcjYiLCJfaXRlcmF0b3JFcnJvcjYiLCJmaW5pc2giLCJjaGVja0FuaW1hdGlvblNob3VsZEJlU3RvcHBlZCIsImlzUmV2ZXJzZSIsImlzTW9iaWxlIiwiZmxhZyIsImlzUGVyY2VudENvbXBsZXRlIiwiX2FuaW1hdGlvbiIsInByb3BlcnR5QWN0aW9uIiwiU3ludGF4RXJyb3IiLCJFcnJvciIsInJlcXVpcmVGb3JjZWZlZWRpbmciLCJzaW5nbGVSZXN1bHQiLCJtYXliZVNlcXVlbmNlIiwiX3Byb3BlcnR5IiwiZXhwYW5kU2VxdWVuY2UiLCJmYWtlQW5pbWF0aW9uIiwicHJvcGVydHlUd2VlbiIsInR3ZWVuRWFzaW5nIiwiX3Byb3BlcnR5MiIsImNvbG9yIiwiYW1vdW50IiwiY29sb3JWYWx1ZXMiLCJhbGljZWJsdWUiLCJhbnRpcXVld2hpdGUiLCJhcXVhIiwiYXp1cmUiLCJiaXNxdWUiLCJibGFjayIsImJsYW5jaGVkYWxtb25kIiwiYmx1ZSIsImJyb3duIiwiYnVybHl3b29kIiwiY2FkZXRibHVlIiwiY2hhcnRyZXVzZSIsImNob2NvbGF0ZSIsImNvcmFsIiwiY29ybmZsb3dlcmJsdWUiLCJjb3Juc2lsayIsImN5YW4iLCJkYXJrYmx1ZSIsImRhcmtjeWFuIiwiZGFya2dyYXkiLCJkYXJrZ3JleSIsImRhcmtncmVlbiIsImRhcmtraGFraSIsImRhcmttYWdlbnRhIiwiZGFya29saXZlZ3JlZW4iLCJkYXJrb3JhbmdlIiwiZGFya29yY2hpZCIsImRhcmtyZWQiLCJkYXJrc2FsbW9uIiwiZGFya3NlYWdyZWVuIiwiZGFya3NsYXRlYmx1ZSIsImRhcmtzbGF0ZWdyYXkiLCJkYXJrc2xhdGVncmV5IiwiZGFya3R1cnF1b2lzZSIsImRhcmt2aW9sZXQiLCJkZWVwcGluayIsImRlZXBza3libHVlIiwiZGltZ3JheSIsImRpbWdyZXkiLCJkb2RnZXJibHVlIiwiZmlyZWJyaWNrIiwiZmxvcmFsd2hpdGUiLCJmb3Jlc3RncmVlbiIsImZ1Y2hzaWEiLCJnYWluc2Jvcm8iLCJnb2xkIiwiZ29sZGVucm9kIiwiZ3JlZW4iLCJncmVlbnllbGxvdyIsImhvbmV5ZGV3IiwiaW5kaWFucmVkIiwiaW5kaWdvIiwiaXZvcnkiLCJraGFraSIsImxhdmVuZGVyIiwibGF2ZW5kZXJibHVzaCIsImxhd25ncmVlbiIsImxlbW9uY2hpZmZvbiIsImxpZ2h0Ymx1ZSIsImxpZ2h0Y29yYWwiLCJsaWdodGN5YW4iLCJsaWdodGdvbGRlbnJvZHllbGxvdyIsImxpZ2h0Z3JleSIsImxpZ2h0Z3JlZW4iLCJsaWdodHNhbG1vbiIsImxpZ2h0c2VhZ3JlZW4iLCJsaWdodHNreWJsdWUiLCJsaWdodHNsYXRlZ3JheSIsImxpZ2h0c2xhdGVncmV5IiwibGlnaHR5ZWxsb3ciLCJsaW1lZ3JlZW4iLCJsaW5lbiIsIm1hZ2VudGEiLCJtYXJvb24iLCJtZWRpdW1vcmNoaWQiLCJtZWRpdW1wdXJwbGUiLCJtZWRpdW1zZWFncmVlbiIsIm1lZGl1bXNsYXRlYmx1ZSIsIm1lZGl1bXNwcmluZ2dyZWVuIiwibWVkaXVtdHVycXVvaXNlIiwibWVkaXVtdmlvbGV0cmVkIiwibWlkbmlnaHRibHVlIiwibWludGNyZWFtIiwibWlzdHlyb3NlIiwibW9jY2FzaW4iLCJuYXZham93aGl0ZSIsIm5hdnkiLCJvbGRsYWNlIiwib2xpdmUiLCJvbGl2ZWRyYWIiLCJvcmFuZ2UiLCJvcmFuZ2VyZWQiLCJvcmNoaWQiLCJwYWxlZ29sZGVucm9kIiwicGFsZWdyZWVuIiwicGFsZXZpb2xldHJlZCIsInBhcGF5YXdoaXAiLCJwZWFjaHB1ZmYiLCJwZXJ1IiwicGluayIsInBsdW0iLCJwb3dkZXJibHVlIiwicHVycGxlIiwicmViZWNjYXB1cnBsZSIsInJlZCIsInJvc3licm93biIsInJveWFsYmx1ZSIsInNhZGRsZWJyb3duIiwic2FsbW9uIiwic2FuZHlicm93biIsInNlYXNoZWxsIiwic2llbm5hIiwic2xhdGVibHVlIiwic2xhdGVncmF5Iiwic2xhdGVncmV5Iiwic3ByaW5nZ3JlZW4iLCJzdGVlbGJsdWUiLCJ0YW4iLCJ0ZWFsIiwidGhpc3RsZSIsInRvbWF0byIsInR1cnF1b2lzZSIsInZpb2xldCIsIndoZWF0Iiwid2hpdGUiLCJ3aGl0ZXNtb2tlIiwieWVsbG93IiwieWVsbG93Z3JlZW4iLCJmbG9vciIsImVhc2VPdXRCb3VuY2VQZXJjZW50IiwiZWFzZUluQm91bmNlUGVyY2VudCIsInBvdyIsImFtcGxpdHVkZSIsInBlcmlvZCIsIlBJMiIsImdldERpbWVuc2lvbiIsInNpbiIsImFzaW4iLCJzIiwiaW5saW5lUngiLCJ0YWJsZVJvd1J4IiwidGFibGVSeCIsInRhYmxlUm93R3JvdXBSeCIsInNjcm9sbCIsImRpcmVjdGlvbiIsImNsaWVudCIsInNjcm9sbFZhbHVlIiwibm9kZU5hbWUiLCJsaXN0SXRlbVJ4Iiwic2Nyb2xsV2lkdGgiLCJjbGllbnRXaWR0aCIsInNjcm9sbEhlaWdodCIsInJ4QWRkUHgiLCJ1bnByZWZpeGVkIiwicnhWZW5kb3JzIiwiZ2V0U2V0UHJlZml4ZWQiLCJnZXRTZXRTdHlsZSIsImJhc2UiLCJyeFN1YnR5cGUiLCJyeEVsZW1lbnQiLCJnZXRCQm94Iiwic2V0QXR0cmlidXRlIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImZvckVhY2giLCJzdWJ0eXBlIiwiZXhlYyIsImF0dHJpYnV0ZSIsImNyZWF0ZUVsZW1lbnROUyIsInRvVXBwZXJDYXNlIiwiZ2V0QXR0cmlidXRlIiwiZ2V0RGltZW5zaW9uJDEiLCJnaG9zdHdoaXRlIiwiVmVsb2NpdHkkMSIsIlZlbG9jaXR5U3RhdGljIiwiU2VxdWVuY2VzIiwibGlnaHRncmF5IiwiZGVmYXVsdHMiLCJwYXRjaCIsInZlcnNpb24iLCJkb2N1bWVudE1vZGUiLCJkaXYiLCJpbm5lckhUTUwiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNlYWdyZWVuIiwialF1ZXJ5IiwiWmVwdG8iLCJOb2RlTGlzdCIsIkhUTUxDb2xsZWN0aW9uIiwicmVnaXN0ZXJCYWNrSW4iLCJfbG9vcCIsInJ4UGVyY2VudHMiLCJyZWdpc3RlckJhY2tJbk91dCIsInJlZ2lzdGVyU2VxdWVuY2UiLCJfbmFtZSIsInBlcmNlbnRzIiwiZWFzZUluQm91bmNlIiwic2VxdWVuY2VMaXN0Iiwia2V5cyIsImVhc2VJbk91dEJvdW5jZSIsImExIiwiYjEiLCJyZWdpc3RlckVsYXN0aWNJbk91dCIsIm9yZGVyZWRQZXJjZW50cyIsInN0ZXBQcm9wZXJ0aWVzIiwicmVhbFNlcXVlbmNlIiwiX2tleTIiLCJvcmlnaW5hbFByb3BlcnR5IiwiZ2xvYmFsUHJvbWlzZSIsIl9hIiwibm9Qcm9taXNlT3B0aW9uIiwicHJvbWlzZU9iamVjdCIsImJpbmQiLCJjYXRjaCIsImZpbmFsbHkiLCJhcmdzMCIsInN5bnRhY3RpY1N1Z2FyIiwicCIsIm5hbWVzIiwiYXJndW1lbnRJbmRleCIsInByb3BlcnRpZXNNYXAiLCJvcHRpb25zTWFwIiwicmVqZWN0ZXIiLCJfcmVmIiwiaXNBY3Rpb24iLCJvcHRzIiwibyIsInJlc29sdmUiLCJyZWplY3QiLCJwYXRjaFByb21pc2UiLCJvcHRpb25Qcm9taXNlUmVqZWN0RW1wdHkiLCJfcmVmMiIsImFjdGlvbkFyZ3MiLCJnZXRTZXRUd2VlbiIsInZhbGlkRHVyYXRpb24iLCJkcmFnIiwic3RhZ2dlciIsImRpc3BsYXkiLCJ2aXNpYmlsaXR5Iiwib3B0aW9uc0JlZ2luIiwib3B0aW9uc0NvbXBsZXRlIiwib3B0aW9uc1Byb2dyZXNzIiwib3B0aW9uc1N5bmMiLCJvZmZzZXQiLCJoYXNWYWxpZER1cmF0aW9uIiwiVkVSU0lPTiIsInJvb3RBbmltYXRpb24iLCJsYXN0QW5pbWF0aW9uIiwiYXNzaWduIiwib3B0aW9uIiwib3B0aW9uQ2FsbGJhY2siLCJxdWV1ZSQxIiwiZ2xvYmFsIiwiVmVsb2NpdHlTdGF0aWMkMSIsImpRdWVyeSQxIiwiWmVwdG8kMSIsIlZlbG9jaXR5JDIiLCJwcm9wZXJ0eSQxIl0sIm1hcHBpbmdzIjoiaVFBRUEsU0FBQUEsR0FDQSxZQUFBLG9CQUFBQyxRQUFBLFlBQUFDLFNBQUFELFdBQUEsb0JBQUFFLE9BQUFBLE9BQUFGLFFBQUFELElBQ0EsbUJBQUFJLFFBQUFBLE9BQUFDLElBQUFELE9BQUFKLFNBRkEsR0FJQ00sU0FBa0JOLElBSm5CLENBS0UsV0FHcUIsSUFBQU8sRUFBQSxtQkFBQUMsUUFBQSxXQUFBTixTQUFBTSxPQUFBQyxVQUFBLFNBQUFDLEdBR25CLE9BQUFSLFNBQWNRLElBRFpILFNBQVVHLEdBQ1osT0FBQUEsR0FBQSxtQkFBQUYsUUFBQUUsRUFBQUMsY0FBQUgsUUFBQUUsSUFBQUYsT0FBQUksVUFBQSxTQUFBVixTQUFBUSxJQURGRyxFQUFBLFNBQUFDLEVBQUFDLEdBT0UsS0FBTUQsYUFBb0JDLEdBRHhCRixNQUFBQSxJQUFBQSxVQUFpQixzQ0FBckJHLEVBZUcsU0FBQUQsRUFBQUUsRUFBQUMsR0FHQyxPQUFJRCxHQUFZRSxFQUFpQkosRUFBWUgsVUFBV0ssR0FEMURDLEdBQWlCSCxFQUFhRSxFQUFZQyxHQUNwQ0QsR0FYTixTQUFTRSxFQUFpQkMsRUFBUUMsR0FEaENMLElBQUFBLElBQUFBLEVBQVcsRUFBR00sRUFBQUQsRUFBWUUsT0FBQUQsSUFBQSxDQUM1QixJQUFBRSxFQUFTTCxFQUFpQkMsR0FDeEJJLEVBQWFDLFdBQWFGLEVBQTFCRSxhQUF1QyxFQUNyQ0QsRUFBSUEsY0FBSixFQUNBQSxVQUFXQyxJQUFhRCxFQUFXQyxV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QUEsSUFDSjJNLEdBQUE2RSxJQUFJclIsR0FrcEI1QndNLEdBQU02RSxJQUFXQSxHQUFRaG5CLEtBeG5CUixJQXBCZSxJQW9CZmtuQixNQUFDSixJQXBCYyxTQUFJakQsR0FpcEJwQyxHQUFJaUQsR0FBaUJweEIsZUFBZTJDLEdBaHBCSixZQUFrQixJQUFkd3JCLEVBQUosWUFBa0Nsd0IsRUFBQTBFLElBQzlCa1QsSUFBQUEsU0FDSCxJQUFBLFVBQ0pwVixFQUFBOHdCLEdBQUE1dUIsRUFBQSxDQUNIeUosSUFBT3RLLFdBQ0xnZSxPQUFBQSxHQUFBbmQsSUFWSjBKLElBWVUsU0FBQTFMLEdBQ0Z5d0IsR0FBQXp1QixHQUFBaEMsS0FFSXFmLEdBQ0gsTUFDSixRQUNHdmYsRUFBSXFmLEdBQW9CbmQsRUFBQXl1QixHQUFBenVCLElBQUEsSUFPcENnYyxDQUFBQSxJQUlJLE9BRlBsZixPQUFBb04sT0FsQ0Qwa0IsSUFvQ1FBIiwiZmlsZSI6IlZlbG9jaXR5Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogdmVsb2NpdHktYW5pbWF0ZSAoQykgMjAxNC0yMDE3IEp1bGlhbiBTaGFwaXJvLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4gU2VlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcHJvamVjdCByb290IGZvciBkZXRhaWxzLlxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgKGdsb2JhbC5WZWxvY2l0eSA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICB2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICB9O1xuXG4gIHZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gICAgfTtcbiAgfSgpO1xuXG4gIHZhciBkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmosIGtleSwgdmFsdWUpIHtcbiAgICBpZiAoa2V5IGluIG9iaikge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB2YXJpYWJsZSBpcyBhIGJvb2xlYW4uXG4gICAqL1xuICBmdW5jdGlvbiBpc0Jvb2xlYW4odmFyaWFibGUpIHtcbiAgICAgIHJldHVybiB2YXJpYWJsZSA9PT0gdHJ1ZSB8fCB2YXJpYWJsZSA9PT0gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgdmFyaWFibGUgaXMgYSBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFyaWFibGUpIHtcbiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFyaWFibGUpID09PSBcIltvYmplY3QgRnVuY3Rpb25dXCI7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgdmFyaWFibGUgaXMgYW4gSFRNTEVsZW1lbnQgb3IgU1ZHRWxlbWVudC5cbiAgICovXG4gIGZ1bmN0aW9uIGlzTm9kZSh2YXJpYWJsZSkge1xuICAgICAgcmV0dXJuICEhKHZhcmlhYmxlICYmIHZhcmlhYmxlLm5vZGVUeXBlKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB2YXJpYWJsZSBpcyBhIG51bWJlci5cbiAgICovXG4gIGZ1bmN0aW9uIGlzTnVtYmVyKHZhcmlhYmxlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhcmlhYmxlID09PSBcIm51bWJlclwiO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHZhcmlhYmxlIGlzIGEgcGxhaW4gb2JqZWN0IChhbmQgbm90IGFuIGluc3RhbmNlKS5cbiAgICovXG4gIGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFyaWFibGUpIHtcbiAgICAgIGlmICghdmFyaWFibGUgfHwgKHR5cGVvZiB2YXJpYWJsZSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHZhcmlhYmxlKSkgIT09IFwib2JqZWN0XCIgfHwgdmFyaWFibGUubm9kZVR5cGUgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhcmlhYmxlKSAhPT0gXCJbb2JqZWN0IE9iamVjdF1cIikge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YXJpYWJsZSk7XG4gICAgICByZXR1cm4gIXByb3RvIHx8IHByb3RvLmhhc093blByb3BlcnR5KFwiY29uc3RydWN0b3JcIikgJiYgcHJvdG8uY29uc3RydWN0b3IgPT09IE9iamVjdDtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB2YXJpYWJsZSBpcyBhIHN0cmluZy5cbiAgICovXG4gIGZ1bmN0aW9uIGlzU3RyaW5nKHZhcmlhYmxlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhcmlhYmxlID09PSBcInN0cmluZ1wiO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHZhcmlhYmxlIGlzIHRoZSByZXN1bHQgb2YgY2FsbGluZyBWZWxvY2l0eS5cbiAgICovXG4gIGZ1bmN0aW9uIGlzVmVsb2NpdHlSZXN1bHQodmFyaWFibGUpIHtcbiAgICAgIHJldHVybiB2YXJpYWJsZSAmJiBpc051bWJlcih2YXJpYWJsZS5sZW5ndGgpICYmIGlzRnVuY3Rpb24odmFyaWFibGUudmVsb2NpdHkpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHZhcmlhYmxlIGlzIGFuIGFycmF5LWxpa2Ugd3JhcHBlZCBqUXVlcnksIFplcHRvIG9yIHNpbWlsYXIsIHdoZXJlXG4gICAqIGVhY2ggaW5kZXhlZCB2YWx1ZSBpcyBhIE5vZGUuXG4gICAqL1xuICBmdW5jdGlvbiBpc1dyYXBwZWQodmFyaWFibGUpIHtcbiAgICAgIHJldHVybiB2YXJpYWJsZSAmJiB2YXJpYWJsZSAhPT0gd2luZG93ICYmIGlzTnVtYmVyKHZhcmlhYmxlLmxlbmd0aCkgJiYgIWlzU3RyaW5nKHZhcmlhYmxlKSAmJiAhaXNGdW5jdGlvbih2YXJpYWJsZSkgJiYgIWlzTm9kZSh2YXJpYWJsZSkgJiYgKHZhcmlhYmxlLmxlbmd0aCA9PT0gMCB8fCBpc05vZGUodmFyaWFibGVbMF0pKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaXMgYSBwcm9wZXJ0eSBpcyBhbiBlbnVtZXJhYmxlIG1lbWJlciBvZiBhbiBvYmplY3QuXG4gICAqL1xuICBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShvYmosIHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iaiwgcHJvcGVydHkpO1xuICB9XG5cbiAgLy8gUHJvamVjdFxuICAvKipcbiAgICogQWRkIGEgc2luZ2xlIGNsYXNzTmFtZSB0byBhbiBFbGVtZW50LlxuICAgKi9cbiAgZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gKGVsZW1lbnQuY2xhc3NOYW1lLmxlbmd0aCA/IFwiIFwiIDogXCJcIikgKyBjbGFzc05hbWU7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBDbG9uZSBhbiBhcnJheSwgd29ya3MgZm9yIGFycmF5LWxpa2UgdG9vLlxuICAgKi9cbiAgZnVuY3Rpb24gY2xvbmVBcnJheShhcnJheUxpa2UpIHtcbiAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnJheUxpa2UsIDApO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgPHN0cm9uZz48Y29kZT5kZWZpbmVQcm9wZXJ0eSgpPC9jb2RlPjwvc3Ryb25nPiBmdW5jdGlvbiBwcm92aWRlcyBhXG4gICAqIHNob3J0Y3V0IHRvIGRlZmluaW5nIGEgcHJvcGVydHkgdGhhdCBjYW5ub3QgYmUgYWNjaWRlbnRhbGx5IGl0ZXJhdGVkIGFjcm9zcy5cbiAgICovXG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5JDEocHJvdG8sIG5hbWUsIHZhbHVlLCByZWFkb25seSkge1xuICAgICAgaWYgKHByb3RvKSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCBuYW1lLCB7XG4gICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogIXJlYWRvbmx5LFxuICAgICAgICAgICAgICB3cml0YWJsZTogIXJlYWRvbmx5LFxuICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogV2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgbG9jYXRpb25zIGZvciBhIHZhbHVlIHBhc3MgdGhlbSBhbGwgaW4sIHRoZW4gZ2V0IHRoZVxuICAgKiBmaXJzdCB2YWx1ZSB0aGF0IGlzIHZhbGlkLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGFyZ3NbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgIHZhciBhcmcgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICBpZiAoYXJnICE9PSB1bmRlZmluZWQgJiYgYXJnID09PSBhcmcpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBTaGltIHRvIGdldCB0aGUgY3VycmVudCBtaWxsaXNlY29uZHMgLSBvbiBhbnl0aGluZyBleGNlcHQgb2xkIElFIGl0J2xsIHVzZVxuICAgKiBEYXRlLm5vdygpIGFuZCBzYXZlIGNyZWF0aW5nIGFuIG9iamVjdC4gSWYgdGhhdCBkb2Vzbid0IGV4aXN0IHRoZW4gaXQnbGxcbiAgICogY3JlYXRlIG9uZSB0aGF0IGdldHMgR0MuXG4gICAqL1xuICB2YXIgbm93ID0gRGF0ZS5ub3cgPyBEYXRlLm5vdyA6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlbW92ZSBhIHNpbmdsZSBjbGFzc05hbWUgZnJvbSBhbiBFbGVtZW50LlxuICAgKi9cbiAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gVE9ETzogTmVlZCBzb21lIGpzcGVyZiB0ZXN0cyBvbiBwZXJmb3JtYW5jZSAtIGNhbiB3ZSBnZXQgcmlkIG9mIHRoZSByZWdleCBhbmQgbWF5YmUgdXNlIHNwbGl0IC8gYXJyYXkgbWFuaXB1bGF0aW9uP1xuICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cChcIihefFxcXFxzKVwiICsgY2xhc3NOYW1lICsgXCIoXFxcXHN8JClcIiwgXCJnaVwiKSwgXCIgXCIpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuXG4gIC8vIFByb2plY3RcbiAgLy8gQ29uc3RhbnRzXG4gIHZhciBBY3Rpb25zID0ge307XG4gIC8qKlxuICAgKiBVc2VkIHRvIHJlZ2lzdGVyIGFuIGFjdGlvbi4gVGhpcyBzaG91bGQgbmV2ZXIgYmUgY2FsbGVkIGJ5IHVzZXJzXG4gICAqIGRpcmVjdGx5LCBpbnN0ZWFkIGl0IHNob3VsZCBiZSBjYWxsZWQgdmlhICBhbiBhY3Rpb246PGJyLz5cbiAgICogPGNvZGU+VmVsb2NpdHkoXCJyZWdpc3RlckFjdGlvblwiLCBcIm5hbWVcIiwgVmVsb2NpdHlBY3Rpb25Gbik7PC9jb2RlPlxuICAgKi9cbiAgZnVuY3Rpb24gcmVnaXN0ZXJBY3Rpb24oYXJncywgaW50ZXJuYWwpIHtcbiAgICAgIHZhciBuYW1lID0gYXJnc1swXSxcbiAgICAgICAgICBjYWxsYmFjayA9IGFyZ3NbMV07XG4gICAgICBpZiAoIWlzU3RyaW5nKG5hbWUpKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncmVnaXN0ZXJBY3Rpb24nIG5hbWUgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgbmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKCFpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3JlZ2lzdGVyQWN0aW9uJyBjYWxsYmFjayB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCBuYW1lLCBjYWxsYmFjayk7XG4gICAgICB9IGVsc2UgaWYgKEFjdGlvbnNbbmFtZV0gJiYgIXByb3BlcnR5SXNFbnVtZXJhYmxlKEFjdGlvbnMsIG5hbWUpKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIG92ZXJyaWRlIGludGVybmFsICdyZWdpc3RlckFjdGlvbicgY2FsbGJhY2tcIiwgbmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKGludGVybmFsID09PSB0cnVlKSB7XG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShBY3Rpb25zLCBuYW1lLCBjYWxsYmFjayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIEFjdGlvbnNbbmFtZV0gPSBjYWxsYmFjaztcbiAgICAgIH1cbiAgfVxuICByZWdpc3RlckFjdGlvbihbXCJyZWdpc3RlckFjdGlvblwiLCByZWdpc3RlckFjdGlvbl0sIHRydWUpO1xuXG4gIC8qKlxuICAgKiBXaXRob3V0IHRoaXMgaXQgd2lsbCBvbmx5IHVuLXByZWZpeCBwcm9wZXJ0aWVzIHRoYXQgaGF2ZSBhIHZhbGlkIFwibm9ybWFsXCJcbiAgICogdmVyc2lvbi5cbiAgICovXG4gIHZhciBEVVJBVElPTl9GQVNUID0gMjAwO1xuICB2YXIgRFVSQVRJT05fTk9STUFMID0gNDAwO1xuICB2YXIgRFVSQVRJT05fU0xPVyA9IDYwMDtcbiAgdmFyIEZVWlpZX01TX1BFUl9TRUNPTkQgPSA5ODA7XG4gIHZhciBERUZBVUxUX0NBQ0hFID0gdHJ1ZTtcbiAgdmFyIERFRkFVTFRfREVMQVkgPSAwO1xuICB2YXIgREVGQVVMVF9EVVJBVElPTiA9IERVUkFUSU9OX05PUk1BTDtcbiAgdmFyIERFRkFVTFRfRUFTSU5HID0gXCJzd2luZ1wiO1xuICB2YXIgREVGQVVMVF9GUFNMSU1JVCA9IDYwO1xuICB2YXIgREVGQVVMVF9MT09QID0gMDtcbiAgdmFyIERFRkFVTFRfUFJPTUlTRSA9IHRydWU7XG4gIHZhciBERUZBVUxUX1BST01JU0VfUkVKRUNUX0VNUFRZID0gdHJ1ZTtcbiAgdmFyIERFRkFVTFRfUVVFVUUgPSBcIlwiO1xuICB2YXIgREVGQVVMVF9SRVBFQVQgPSAwO1xuICB2YXIgREVGQVVMVF9TUEVFRCA9IDE7XG4gIHZhciBERUZBVUxUX1NZTkMgPSB0cnVlO1xuICB2YXIgQ0xBU1NOQU1FID0gXCJ2ZWxvY2l0eS1hbmltYXRpbmdcIjtcbiAgdmFyIER1cmF0aW9uID0ge1xuICAgIGZhc3Q6IERVUkFUSU9OX0ZBU1QsXG4gICAgbm9ybWFsOiBEVVJBVElPTl9OT1JNQUwsXG4gICAgc2xvdzogRFVSQVRJT05fU0xPV1xuICB9O1xuXG4gIC8vIFByb2plY3RcbiAgLy8gQ29uc3RhbnRzXG4gIHZhciBFYXNpbmdzID0ge307XG4gIC8qKlxuICAgKiBVc2VkIHRvIHJlZ2lzdGVyIGEgZWFzaW5nLiBUaGlzIHNob3VsZCBuZXZlciBiZSBjYWxsZWQgYnkgdXNlcnNcbiAgICogZGlyZWN0bHksIGluc3RlYWQgaXQgc2hvdWxkIGJlIGNhbGxlZCB2aWEgYW4gYWN0aW9uOjxici8+XG4gICAqIDxjb2RlPlZlbG9jaXR5KFwicmVnaXN0ZXJFYXNpbmdcIiwgXCJuYW1lXCIsIFZlbG9jaXR5RWFzaW5nRm4pOzwvY29kZT5cbiAgICovXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyRWFzaW5nKGFyZ3MpIHtcbiAgICAgIHZhciBuYW1lID0gYXJnc1swXSxcbiAgICAgICAgICBjYWxsYmFjayA9IGFyZ3NbMV07XG4gICAgICBpZiAoIWlzU3RyaW5nKG5hbWUpKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncmVnaXN0ZXJFYXNpbmcnIG5hbWUgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgbmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKCFpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3JlZ2lzdGVyRWFzaW5nJyBjYWxsYmFjayB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCBuYW1lLCBjYWxsYmFjayk7XG4gICAgICB9IGVsc2UgaWYgKEVhc2luZ3NbbmFtZV0pIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gb3ZlcnJpZGUgJ3JlZ2lzdGVyRWFzaW5nJyBjYWxsYmFja1wiLCBuYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgRWFzaW5nc1tuYW1lXSA9IGNhbGxiYWNrO1xuICAgICAgfVxuICB9XG4gIHJlZ2lzdGVyQWN0aW9uKFtcInJlZ2lzdGVyRWFzaW5nXCIsIHJlZ2lzdGVyRWFzaW5nXSwgdHJ1ZSk7XG4gIC8qKlxuICAgKiBMaW5lYXIgZWFzaW5nLCB1c2VkIGZvciBzZXF1ZW5jZSBwYXJ0cyB0aGF0IGRvbid0IGhhdmUgYW4gYWN0dWFsIGVhc2luZ1xuICAgKiBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGxpbmVhckVhc2luZyhwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIHN0YXJ0VmFsdWUgKyBwZXJjZW50Q29tcGxldGUgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcbiAgfVxuICAvKipcbiAgICogU3dpbmcgaXMgdGhlIGRlZmF1bHQgZm9yIGpRdWVyeSBhbmQgVmVsb2NpdHkuXG4gICAqL1xuICBmdW5jdGlvbiBzd2luZ0Vhc2luZyhwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XG4gICAgICByZXR1cm4gc3RhcnRWYWx1ZSArICgwLjUgLSBNYXRoLmNvcyhwZXJjZW50Q29tcGxldGUgKiBNYXRoLlBJKSAvIDIpICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIEEgbGVzcyBleGFnZ2VyYXRlZCB2ZXJzaW9uIG9mIGVhc2VJbk91dEVsYXN0aWMuXG4gICAqL1xuICBmdW5jdGlvbiBzcHJpbmdFYXNpbmcocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHN0YXJ0VmFsdWUgKyAoMSAtIE1hdGguY29zKHBlcmNlbnRDb21wbGV0ZSAqIDQuNSAqIE1hdGguUEkpICogTWF0aC5leHAoLXBlcmNlbnRDb21wbGV0ZSAqIDYpKSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xuICB9XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImxpbmVhclwiLCBsaW5lYXJFYXNpbmddKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wic3dpbmdcIiwgc3dpbmdFYXNpbmddKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wic3ByaW5nXCIsIHNwcmluZ0Vhc2luZ10pO1xuXG4gIC8vIFByb2plY3RcbiAgLyoqXG4gICAqIEZpeCB0byBhIHJhbmdlIG9mIDxjb2RlPjAgPD0gbnVtIDw9IDE8L2NvZGU+LlxuICAgKi9cbiAgZnVuY3Rpb24gZml4UmFuZ2UobnVtKSB7XG4gICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobnVtLCAwKSwgMSk7XG4gIH1cbiAgZnVuY3Rpb24gQShhQTEsIGFBMikge1xuICAgICAgcmV0dXJuIDEgLSAzICogYUEyICsgMyAqIGFBMTtcbiAgfVxuICBmdW5jdGlvbiBCKGFBMSwgYUEyKSB7XG4gICAgICByZXR1cm4gMyAqIGFBMiAtIDYgKiBhQTE7XG4gIH1cbiAgZnVuY3Rpb24gQyhhQTEpIHtcbiAgICAgIHJldHVybiAzICogYUExO1xuICB9XG4gIGZ1bmN0aW9uIGNhbGNCZXppZXIoYVQsIGFBMSwgYUEyKSB7XG4gICAgICByZXR1cm4gKChBKGFBMSwgYUEyKSAqIGFUICsgQihhQTEsIGFBMikpICogYVQgKyBDKGFBMSkpICogYVQ7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0U2xvcGUoYVQsIGFBMSwgYUEyKSB7XG4gICAgICByZXR1cm4gMyAqIEEoYUExLCBhQTIpICogYVQgKiBhVCArIDIgKiBCKGFBMSwgYUEyKSAqIGFUICsgQyhhQTEpO1xuICB9XG4gIGZ1bmN0aW9uIGdlbmVyYXRlQmV6aWVyKCkge1xuICAgICAgdmFyIE5FV1RPTl9JVEVSQVRJT05TID0gNCxcbiAgICAgICAgICBORVdUT05fTUlOX1NMT1BFID0gMC4wMDEsXG4gICAgICAgICAgU1VCRElWSVNJT05fUFJFQ0lTSU9OID0gMC4wMDAwMDAxLFxuICAgICAgICAgIFNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TID0gMTAsXG4gICAgICAgICAga1NwbGluZVRhYmxlU2l6ZSA9IDExLFxuICAgICAgICAgIGtTYW1wbGVTdGVwU2l6ZSA9IDEgLyAoa1NwbGluZVRhYmxlU2l6ZSAtIDEpLFxuICAgICAgICAgIGZsb2F0MzJBcnJheVN1cHBvcnRlZCA9IFwiRmxvYXQzMkFycmF5XCIgaW4gd2luZG93O1xuICAgICAgLyogTXVzdCBjb250YWluIGZvdXIgYXJncy4gKi9cblxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXJncy5sZW5ndGggIT09IDQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvKiBBcmdzIG11c3QgYmUgbnVtYmVycy4gKi9cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgKytpKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBhcmdzW2ldICE9PSBcIm51bWJlclwiIHx8IGlzTmFOKGFyZ3NbaV0pIHx8ICFpc0Zpbml0ZShhcmdzW2ldKSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyogWCB2YWx1ZXMgbXVzdCBiZSBpbiB0aGUgWzAsIDFdIHJhbmdlLiAqL1xuICAgICAgdmFyIG1YMSA9IGZpeFJhbmdlKGFyZ3NbMF0pO1xuICAgICAgdmFyIG1ZMSA9IGFyZ3NbMV07XG4gICAgICB2YXIgbVgyID0gZml4UmFuZ2UoYXJnc1syXSk7XG4gICAgICB2YXIgbVkyID0gYXJnc1szXTtcbiAgICAgIHZhciBtU2FtcGxlVmFsdWVzID0gZmxvYXQzMkFycmF5U3VwcG9ydGVkID8gbmV3IEZsb2F0MzJBcnJheShrU3BsaW5lVGFibGVTaXplKSA6IG5ldyBBcnJheShrU3BsaW5lVGFibGVTaXplKTtcbiAgICAgIGZ1bmN0aW9uIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBhR3Vlc3NUKSB7XG4gICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IE5FV1RPTl9JVEVSQVRJT05TOyArK19pKSB7XG4gICAgICAgICAgICAgIHZhciBjdXJyZW50U2xvcGUgPSBnZXRTbG9wZShhR3Vlc3NULCBtWDEsIG1YMik7XG4gICAgICAgICAgICAgIGlmIChjdXJyZW50U2xvcGUgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhR3Vlc3NUO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciBjdXJyZW50WCA9IGNhbGNCZXppZXIoYUd1ZXNzVCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICAgICAgICAgIGFHdWVzc1QgLT0gY3VycmVudFggLyBjdXJyZW50U2xvcGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhR3Vlc3NUO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gY2FsY1NhbXBsZVZhbHVlcygpIHtcbiAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBrU3BsaW5lVGFibGVTaXplOyArK19pMikge1xuICAgICAgICAgICAgICBtU2FtcGxlVmFsdWVzW19pMl0gPSBjYWxjQmV6aWVyKF9pMiAqIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGJpbmFyeVN1YmRpdmlkZShhWCwgYUEsIGFCKSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnRYID0gdm9pZCAwLFxuICAgICAgICAgICAgICBjdXJyZW50VCA9IHZvaWQgMCxcbiAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICBjdXJyZW50VCA9IGFBICsgKGFCIC0gYUEpIC8gMjtcbiAgICAgICAgICAgICAgY3VycmVudFggPSBjYWxjQmV6aWVyKGN1cnJlbnRULCBtWDEsIG1YMikgLSBhWDtcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRYID4gMCkge1xuICAgICAgICAgICAgICAgICAgYUIgPSBjdXJyZW50VDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGFBID0gY3VycmVudFQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9IHdoaWxlIChNYXRoLmFicyhjdXJyZW50WCkgPiBTVUJESVZJU0lPTl9QUkVDSVNJT04gJiYgKytpIDwgU1VCRElWSVNJT05fTUFYX0lURVJBVElPTlMpO1xuICAgICAgICAgIHJldHVybiBjdXJyZW50VDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGdldFRGb3JYKGFYKSB7XG4gICAgICAgICAgdmFyIGxhc3RTYW1wbGUgPSBrU3BsaW5lVGFibGVTaXplIC0gMTtcbiAgICAgICAgICB2YXIgaW50ZXJ2YWxTdGFydCA9IDAsXG4gICAgICAgICAgICAgIGN1cnJlbnRTYW1wbGUgPSAxO1xuICAgICAgICAgIGZvciAoOyBjdXJyZW50U2FtcGxlICE9PSBsYXN0U2FtcGxlICYmIG1TYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0gPD0gYVg7ICsrY3VycmVudFNhbXBsZSkge1xuICAgICAgICAgICAgICBpbnRlcnZhbFN0YXJ0ICs9IGtTYW1wbGVTdGVwU2l6ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLS1jdXJyZW50U2FtcGxlO1xuICAgICAgICAgIHZhciBkaXN0ID0gKGFYIC0gbVNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSkgLyAobVNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlICsgMV0gLSBtU2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdKSxcbiAgICAgICAgICAgICAgZ3Vlc3NGb3JUID0gaW50ZXJ2YWxTdGFydCArIGRpc3QgKiBrU2FtcGxlU3RlcFNpemUsXG4gICAgICAgICAgICAgIGluaXRpYWxTbG9wZSA9IGdldFNsb3BlKGd1ZXNzRm9yVCwgbVgxLCBtWDIpO1xuICAgICAgICAgIGlmIChpbml0aWFsU2xvcGUgPj0gTkVXVE9OX01JTl9TTE9QRSkge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3dG9uUmFwaHNvbkl0ZXJhdGUoYVgsIGd1ZXNzRm9yVCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpbml0aWFsU2xvcGUgPT09IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGd1ZXNzRm9yVDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gYmluYXJ5U3ViZGl2aWRlKGFYLCBpbnRlcnZhbFN0YXJ0LCBpbnRlcnZhbFN0YXJ0ICsga1NhbXBsZVN0ZXBTaXplKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgcHJlY29tcHV0ZWQgPSBmYWxzZTtcbiAgICAgIGZ1bmN0aW9uIHByZWNvbXB1dGUoKSB7XG4gICAgICAgICAgcHJlY29tcHV0ZWQgPSB0cnVlO1xuICAgICAgICAgIGlmIChtWDEgIT09IG1ZMSB8fCBtWDIgIT09IG1ZMikge1xuICAgICAgICAgICAgICBjYWxjU2FtcGxlVmFsdWVzKCk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHN0ciA9IFwiZ2VuZXJhdGVCZXppZXIoXCIgKyBbbVgxLCBtWTEsIG1YMiwgbVkyXSArIFwiKVwiLFxuICAgICAgICAgIGYgPSBmdW5jdGlvbiBmKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUsIHByb3BlcnR5KSB7XG4gICAgICAgICAgaWYgKCFwcmVjb21wdXRlZCkge1xuICAgICAgICAgICAgICBwcmVjb21wdXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWUgKyBwZXJjZW50Q29tcGxldGUgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWUgKyBjYWxjQmV6aWVyKGdldFRGb3JYKHBlcmNlbnRDb21wbGV0ZSksIG1ZMSwgbVkyKSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xuICAgICAgfTtcbiAgICAgIGYuZ2V0Q29udHJvbFBvaW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gW3sgeDogbVgxLCB5OiBtWTEgfSwgeyB4OiBtWDIsIHk6IG1ZMiB9XTtcbiAgICAgIH07XG4gICAgICBmLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGY7XG4gIH1cbiAgLyogQ29tbW9uIGVhc2luZ3MgKi9cbiAgdmFyIGVhc2VJbiA9IGdlbmVyYXRlQmV6aWVyKDAuNDIsIDAsIDEsIDEpLFxuICAgICAgZWFzZU91dCA9IGdlbmVyYXRlQmV6aWVyKDAsIDAsIDAuNTgsIDEpLFxuICAgICAgZWFzZUluT3V0ID0gZ2VuZXJhdGVCZXppZXIoMC40MiwgMCwgMC41OCwgMSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VcIiwgZ2VuZXJhdGVCZXppZXIoMC4yNSwgMC4xLCAwLjI1LCAxKV0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5cIiwgZWFzZUluXSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2UtaW5cIiwgZWFzZUluXSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VPdXRcIiwgZWFzZU91dF0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlLW91dFwiLCBlYXNlT3V0XSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJbk91dFwiLCBlYXNlSW5PdXRdKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZS1pbi1vdXRcIiwgZWFzZUluT3V0XSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJblNpbmVcIiwgZ2VuZXJhdGVCZXppZXIoMC40NywgMCwgMC43NDUsIDAuNzE1KV0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlT3V0U2luZVwiLCBnZW5lcmF0ZUJlemllcigwLjM5LCAwLjU3NSwgMC41NjUsIDEpXSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJbk91dFNpbmVcIiwgZ2VuZXJhdGVCZXppZXIoMC40NDUsIDAuMDUsIDAuNTUsIDAuOTUpXSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJblF1YWRcIiwgZ2VuZXJhdGVCZXppZXIoMC41NSwgMC4wODUsIDAuNjgsIDAuNTMpXSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VPdXRRdWFkXCIsIGdlbmVyYXRlQmV6aWVyKDAuMjUsIDAuNDYsIDAuNDUsIDAuOTQpXSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJbk91dFF1YWRcIiwgZ2VuZXJhdGVCZXppZXIoMC40NTUsIDAuMDMsIDAuNTE1LCAwLjk1NSldKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluQ3ViaWNcIiwgZ2VuZXJhdGVCZXppZXIoMC41NSwgMC4wNTUsIDAuNjc1LCAwLjE5KV0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlT3V0Q3ViaWNcIiwgZ2VuZXJhdGVCZXppZXIoMC4yMTUsIDAuNjEsIDAuMzU1LCAxKV0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5PdXRDdWJpY1wiLCBnZW5lcmF0ZUJlemllcigwLjY0NSwgMC4wNDUsIDAuMzU1LCAxKV0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5RdWFydFwiLCBnZW5lcmF0ZUJlemllcigwLjg5NSwgMC4wMywgMC42ODUsIDAuMjIpXSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VPdXRRdWFydFwiLCBnZW5lcmF0ZUJlemllcigwLjE2NSwgMC44NCwgMC40NCwgMSldKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluT3V0UXVhcnRcIiwgZ2VuZXJhdGVCZXppZXIoMC43NywgMCwgMC4xNzUsIDEpXSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJblF1aW50XCIsIGdlbmVyYXRlQmV6aWVyKDAuNzU1LCAwLjA1LCAwLjg1NSwgMC4wNildKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZU91dFF1aW50XCIsIGdlbmVyYXRlQmV6aWVyKDAuMjMsIDEsIDAuMzIsIDEpXSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJbk91dFF1aW50XCIsIGdlbmVyYXRlQmV6aWVyKDAuODYsIDAsIDAuMDcsIDEpXSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJbkV4cG9cIiwgZ2VuZXJhdGVCZXppZXIoMC45NSwgMC4wNSwgMC43OTUsIDAuMDM1KV0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlT3V0RXhwb1wiLCBnZW5lcmF0ZUJlemllcigwLjE5LCAxLCAwLjIyLCAxKV0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5PdXRFeHBvXCIsIGdlbmVyYXRlQmV6aWVyKDEsIDAsIDAsIDEpXSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJbkNpcmNcIiwgZ2VuZXJhdGVCZXppZXIoMC42LCAwLjA0LCAwLjk4LCAwLjMzNSldKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZU91dENpcmNcIiwgZ2VuZXJhdGVCZXppZXIoMC4wNzUsIDAuODIsIDAuMTY1LCAxKV0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5PdXRDaXJjXCIsIGdlbmVyYXRlQmV6aWVyKDAuNzg1LCAwLjEzNSwgMC4xNSwgMC44NildKTtcblxuICAvKiBSdW5nZS1LdXR0YSBzcHJpbmcgcGh5c2ljcyBmdW5jdGlvbiBnZW5lcmF0b3IuIEFkYXB0ZWQgZnJvbSBGcmFtZXIuanMsIGNvcHlyaWdodCBLb2VuIEJvay4gTUlUIExpY2Vuc2U6IGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTUlUX0xpY2Vuc2UgKi9cbiAgLyogR2l2ZW4gYSB0ZW5zaW9uLCBmcmljdGlvbiwgYW5kIGR1cmF0aW9uLCBhIHNpbXVsYXRpb24gYXQgNjBGUFMgd2lsbCBmaXJzdCBydW4gd2l0aG91dCBhIGRlZmluZWQgZHVyYXRpb24gaW4gb3JkZXIgdG8gY2FsY3VsYXRlIHRoZSBmdWxsIHBhdGguIEEgc2Vjb25kIHBhc3NcbiAgIHRoZW4gYWRqdXN0cyB0aGUgdGltZSBkZWx0YSAtLSB1c2luZyB0aGUgcmVsYXRpb24gYmV0d2VlbiBhY3R1YWwgdGltZSBhbmQgZHVyYXRpb24gLS0gdG8gY2FsY3VsYXRlIHRoZSBwYXRoIGZvciB0aGUgZHVyYXRpb24tY29uc3RyYWluZWQgYW5pbWF0aW9uLiAqL1xuICBmdW5jdGlvbiBzcHJpbmdBY2NlbGVyYXRpb25Gb3JTdGF0ZShzdGF0ZSkge1xuICAgICAgcmV0dXJuIC1zdGF0ZS50ZW5zaW9uICogc3RhdGUueCAtIHN0YXRlLmZyaWN0aW9uICogc3RhdGUudjtcbiAgfVxuICBmdW5jdGlvbiBzcHJpbmdFdmFsdWF0ZVN0YXRlV2l0aERlcml2YXRpdmUoaW5pdGlhbFN0YXRlLCBkdCwgZGVyaXZhdGl2ZSkge1xuICAgICAgdmFyIHN0YXRlID0ge1xuICAgICAgICAgIHg6IGluaXRpYWxTdGF0ZS54ICsgZGVyaXZhdGl2ZS5keCAqIGR0LFxuICAgICAgICAgIHY6IGluaXRpYWxTdGF0ZS52ICsgZGVyaXZhdGl2ZS5kdiAqIGR0LFxuICAgICAgICAgIHRlbnNpb246IGluaXRpYWxTdGF0ZS50ZW5zaW9uLFxuICAgICAgICAgIGZyaWN0aW9uOiBpbml0aWFsU3RhdGUuZnJpY3Rpb25cbiAgICAgIH07XG4gICAgICByZXR1cm4ge1xuICAgICAgICAgIGR4OiBzdGF0ZS52LFxuICAgICAgICAgIGR2OiBzcHJpbmdBY2NlbGVyYXRpb25Gb3JTdGF0ZShzdGF0ZSlcbiAgICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gc3ByaW5nSW50ZWdyYXRlU3RhdGUoc3RhdGUsIGR0KSB7XG4gICAgICB2YXIgYSA9IHtcbiAgICAgICAgICBkeDogc3RhdGUudixcbiAgICAgICAgICBkdjogc3ByaW5nQWNjZWxlcmF0aW9uRm9yU3RhdGUoc3RhdGUpXG4gICAgICB9LFxuICAgICAgICAgIGIgPSBzcHJpbmdFdmFsdWF0ZVN0YXRlV2l0aERlcml2YXRpdmUoc3RhdGUsIGR0ICogMC41LCBhKSxcbiAgICAgICAgICBjID0gc3ByaW5nRXZhbHVhdGVTdGF0ZVdpdGhEZXJpdmF0aXZlKHN0YXRlLCBkdCAqIDAuNSwgYiksXG4gICAgICAgICAgZCA9IHNwcmluZ0V2YWx1YXRlU3RhdGVXaXRoRGVyaXZhdGl2ZShzdGF0ZSwgZHQsIGMpLFxuICAgICAgICAgIGR4ZHQgPSAxIC8gNiAqIChhLmR4ICsgMiAqIChiLmR4ICsgYy5keCkgKyBkLmR4KSxcbiAgICAgICAgICBkdmR0ID0gMSAvIDYgKiAoYS5kdiArIDIgKiAoYi5kdiArIGMuZHYpICsgZC5kdik7XG4gICAgICBzdGF0ZS54ID0gc3RhdGUueCArIGR4ZHQgKiBkdDtcbiAgICAgIHN0YXRlLnYgPSBzdGF0ZS52ICsgZHZkdCAqIGR0O1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG4gIGZ1bmN0aW9uIGdlbmVyYXRlU3ByaW5nUks0KHRlbnNpb24sIGZyaWN0aW9uLCBkdXJhdGlvbikge1xuICAgICAgdmFyIGluaXRTdGF0ZSA9IHtcbiAgICAgICAgICB4OiAtMSxcbiAgICAgICAgICB2OiAwLFxuICAgICAgICAgIHRlbnNpb246IHBhcnNlRmxvYXQodGVuc2lvbikgfHwgNTAwLFxuICAgICAgICAgIGZyaWN0aW9uOiBwYXJzZUZsb2F0KGZyaWN0aW9uKSB8fCAyMFxuICAgICAgfSxcbiAgICAgICAgICBwYXRoID0gWzBdLFxuICAgICAgICAgIHRvbGVyYW5jZSA9IDEgLyAxMDAwMCxcbiAgICAgICAgICBEVCA9IDE2IC8gMTAwMCxcbiAgICAgICAgICBoYXZlRHVyYXRpb24gPSBkdXJhdGlvbiAhPSBudWxsOyAvLyBkZWxpYmVyYXRlIFwiPT1cIiwgYXMgdW5kZWZpbmVkID09IG51bGwgIT0gMFxuICAgICAgdmFyIHRpbWVMYXBzZWQgPSAwLFxuICAgICAgICAgIGR0ID0gdm9pZCAwLFxuICAgICAgICAgIGxhc3RTdGF0ZSA9IHZvaWQgMDtcbiAgICAgIC8qIENhbGN1bGF0ZSB0aGUgYWN0dWFsIHRpbWUgaXQgdGFrZXMgZm9yIHRoaXMgYW5pbWF0aW9uIHRvIGNvbXBsZXRlIHdpdGggdGhlIHByb3ZpZGVkIGNvbmRpdGlvbnMuICovXG4gICAgICBpZiAoaGF2ZUR1cmF0aW9uKSB7XG4gICAgICAgICAgLyogUnVuIHRoZSBzaW11bGF0aW9uIHdpdGhvdXQgYSBkdXJhdGlvbi4gKi9cbiAgICAgICAgICB0aW1lTGFwc2VkID0gZ2VuZXJhdGVTcHJpbmdSSzQoaW5pdFN0YXRlLnRlbnNpb24sIGluaXRTdGF0ZS5mcmljdGlvbik7XG4gICAgICAgICAgLyogQ29tcHV0ZSB0aGUgYWRqdXN0ZWQgdGltZSBkZWx0YS4gKi9cbiAgICAgICAgICBkdCA9IHRpbWVMYXBzZWQgLyBkdXJhdGlvbiAqIERUO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkdCA9IERUO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAvKiBOZXh0L3N0ZXAgZnVuY3Rpb24gLiovXG4gICAgICAgICAgbGFzdFN0YXRlID0gc3ByaW5nSW50ZWdyYXRlU3RhdGUobGFzdFN0YXRlIHx8IGluaXRTdGF0ZSwgZHQpO1xuICAgICAgICAgIC8qIFN0b3JlIHRoZSBwb3NpdGlvbi4gKi9cbiAgICAgICAgICBwYXRoLnB1c2goMSArIGxhc3RTdGF0ZS54KTtcbiAgICAgICAgICB0aW1lTGFwc2VkICs9IDE2O1xuICAgICAgICAgIC8qIElmIHRoZSBjaGFuZ2UgdGhyZXNob2xkIGlzIHJlYWNoZWQsIGJyZWFrLiAqL1xuICAgICAgICAgIGlmICghKE1hdGguYWJzKGxhc3RTdGF0ZS54KSA+IHRvbGVyYW5jZSAmJiBNYXRoLmFicyhsYXN0U3RhdGUudikgPiB0b2xlcmFuY2UpKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qIElmIGR1cmF0aW9uIGlzIG5vdCBkZWZpbmVkLCByZXR1cm4gdGhlIGFjdHVhbCB0aW1lIHJlcXVpcmVkIGZvciBjb21wbGV0aW5nIHRoaXMgYW5pbWF0aW9uLiBPdGhlcndpc2UsIHJldHVybiBhIGNsb3N1cmUgdGhhdCBob2xkcyB0aGVcbiAgICAgICBjb21wdXRlZCBwYXRoIGFuZCByZXR1cm5zIGEgc25hcHNob3Qgb2YgdGhlIHBvc2l0aW9uIGFjY29yZGluZyB0byBhIGdpdmVuIHBlcmNlbnRDb21wbGV0ZS4gKi9cbiAgICAgIHJldHVybiAhaGF2ZUR1cmF0aW9uID8gdGltZUxhcHNlZCA6IGZ1bmN0aW9uIChwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XG4gICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMSkge1xuICAgICAgICAgICAgICByZXR1cm4gZW5kVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzdGFydFZhbHVlICsgcGF0aFtNYXRoLmZsb29yKHBlcmNlbnRDb21wbGV0ZSAqIChwYXRoLmxlbmd0aCAtIDEpKV0gKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcbiAgICAgIH07XG4gIH1cblxuICAvLyBDb25zdGFudHNcbiAgdmFyIGNhY2hlID0ge307XG4gIGZ1bmN0aW9uIGdlbmVyYXRlU3RlcChzdGVwcykge1xuICAgICAgdmFyIGZuID0gY2FjaGVbc3RlcHNdO1xuICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgcmV0dXJuIGZuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhY2hlW3N0ZXBzXSA9IGZ1bmN0aW9uIChwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XG4gICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMSkge1xuICAgICAgICAgICAgICByZXR1cm4gZW5kVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzdGFydFZhbHVlICsgTWF0aC5yb3VuZChwZXJjZW50Q29tcGxldGUgKiBzdGVwcykgKiAoMSAvIHN0ZXBzKSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xuICAgICAgfTtcbiAgfVxuXG4gIC8vIFByb2plY3RcbiAgLyoqXG4gICAqIFBhcnNlIGEgZHVyYXRpb24gdmFsdWUgYW5kIHJldHVybiBhbiBtcyBudW1iZXIuIE9wdGlvbmFsbHkgcmV0dXJuIGFcbiAgICogZGVmYXVsdCB2YWx1ZSBpZiB0aGUgbnVtYmVyIGlzIG5vdCB2YWxpZC5cbiAgICovXG4gIGZ1bmN0aW9uIHBhcnNlRHVyYXRpb24oZHVyYXRpb24sIGRlZikge1xuICAgICAgaWYgKGlzTnVtYmVyKGR1cmF0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBkdXJhdGlvbjtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N0cmluZyhkdXJhdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gRHVyYXRpb25bZHVyYXRpb24udG9Mb3dlckNhc2UoKV0gfHwgcGFyc2VGbG9hdChkdXJhdGlvbi5yZXBsYWNlKFwibXNcIiwgXCJcIikucmVwbGFjZShcInNcIiwgXCIwMDBcIikpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZiA9PSBudWxsID8gdW5kZWZpbmVkIDogcGFyc2VEdXJhdGlvbihkZWYpO1xuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPmNhY2hlPC9jb2RlPiBvcHRpb24uXG4gICAqL1xuICBmdW5jdGlvbiB2YWxpZGF0ZUNhY2hlKHZhbHVlKSB7XG4gICAgICBpZiAoaXNCb29sZWFuKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAnY2FjaGUnIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogVmFsaWRhdGUgYSA8Y29kZT5iZWdpbjwvY29kZT4gb3B0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gdmFsaWRhdGVCZWdpbih2YWx1ZSkge1xuICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdiZWdpbicgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPmNvbXBsZXRlPC9jb2RlPiBvcHRpb24uXG4gICAqL1xuICBmdW5jdGlvbiB2YWxpZGF0ZUNvbXBsZXRlKHZhbHVlLCBub0Vycm9yKSB7XG4gICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiAhbm9FcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ2NvbXBsZXRlJyB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCB2YWx1ZSk7XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFZhbGlkYXRlIGEgPGNvZGU+ZGVsYXk8L2NvZGU+IG9wdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIHZhbGlkYXRlRGVsYXkodmFsdWUpIHtcbiAgICAgIHZhciBwYXJzZWQgPSBwYXJzZUR1cmF0aW9uKHZhbHVlKTtcbiAgICAgIGlmICghaXNOYU4ocGFyc2VkKSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdkZWxheScgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPmR1cmF0aW9uPC9jb2RlPiBvcHRpb24uXG4gICAqL1xuICBmdW5jdGlvbiB2YWxpZGF0ZUR1cmF0aW9uKHZhbHVlLCBub0Vycm9yKSB7XG4gICAgICB2YXIgcGFyc2VkID0gcGFyc2VEdXJhdGlvbih2YWx1ZSk7XG4gICAgICBpZiAoIWlzTmFOKHBhcnNlZCkgJiYgcGFyc2VkID49IDApIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgIW5vRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAnZHVyYXRpb24nIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogVmFsaWRhdGUgYSA8Y29kZT5lYXNpbmc8L2NvZGU+IG9wdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIHZhbGlkYXRlRWFzaW5nKHZhbHVlLCBkdXJhdGlvbiwgbm9FcnJvcikge1xuICAgICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgIC8vIE5hbWVkIGVhc2luZ1xuICAgICAgICAgIHJldHVybiBFYXNpbmdzW3ZhbHVlXTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIC8vIFRPRE86IFdlIHNob3VsZCBvbmx5IGRvIHRoZXNlIGlmIHRoZSBjb3JyZWN0IGZ1bmN0aW9uIGV4aXN0cyAtIGRvbid0IGZvcmNlIGxvYWRpbmcuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgIC8vIFN0ZXBzXG4gICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZVN0ZXAodmFsdWVbMF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgIC8vIHNwcmluZ1JLNCBtdXN0IGJlIHBhc3NlZCB0aGUgYW5pbWF0aW9uJ3MgZHVyYXRpb24uXG4gICAgICAgICAgICAgIC8vIE5vdGU6IElmIHRoZSBzcHJpbmdSSzQgYXJyYXkgY29udGFpbnMgbm9uLW51bWJlcnMsXG4gICAgICAgICAgICAgIC8vIGdlbmVyYXRlU3ByaW5nUks0KCkgcmV0dXJucyBhbiBlYXNpbmcgZnVuY3Rpb24gZ2VuZXJhdGVkIHdpdGhcbiAgICAgICAgICAgICAgLy8gZGVmYXVsdCB0ZW5zaW9uIGFuZCBmcmljdGlvbiB2YWx1ZXMuXG4gICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZVNwcmluZ1JLNCh2YWx1ZVswXSwgdmFsdWVbMV0sIGR1cmF0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgICAvLyBOb3RlOiBJZiB0aGUgYmV6aWVyIGFycmF5IGNvbnRhaW5zIG5vbi1udW1iZXJzLCBnZW5lcmF0ZUJlemllcigpXG4gICAgICAgICAgICAgIC8vIHJldHVybnMgdW5kZWZpbmVkLlxuICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVCZXppZXIuYXBwbHkobnVsbCwgdmFsdWUpIHx8IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmICFub0Vycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ2Vhc2luZycgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPmZwc0xpbWl0PC9jb2RlPiBvcHRpb24uXG4gICAqL1xuICBmdW5jdGlvbiB2YWxpZGF0ZUZwc0xpbWl0KHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwYXJzZWQgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VkKSAmJiBwYXJzZWQgPj0gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gTWF0aC5taW4ocGFyc2VkLCA2MCk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdmcHNMaW1pdCcgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPmxvb3A8L2NvZGU+IG9wdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIHZhbGlkYXRlTG9vcCh2YWx1ZSkge1xuICAgICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgZmFsc2U6XG4gICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgIGNhc2UgdHJ1ZTpcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VkKSAmJiBwYXJzZWQgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAnbG9vcCcgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPnByb2dyZXNzPC9jb2RlPiBvcHRpb24uXG4gICAqL1xuICBmdW5jdGlvbiB2YWxpZGF0ZVByb2dyZXNzKHZhbHVlKSB7XG4gICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3Byb2dyZXNzJyB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCB2YWx1ZSk7XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFZhbGlkYXRlIGEgPGNvZGU+cHJvbWlzZTwvY29kZT4gb3B0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gdmFsaWRhdGVQcm9taXNlKHZhbHVlKSB7XG4gICAgICBpZiAoaXNCb29sZWFuKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncHJvbWlzZScgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPnByb21pc2VSZWplY3RFbXB0eTwvY29kZT4gb3B0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gdmFsaWRhdGVQcm9taXNlUmVqZWN0RW1wdHkodmFsdWUpIHtcbiAgICAgIGlmIChpc0Jvb2xlYW4odmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdwcm9taXNlUmVqZWN0RW1wdHknIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogVmFsaWRhdGUgYSA8Y29kZT5xdWV1ZTwvY29kZT4gb3B0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gdmFsaWRhdGVRdWV1ZSh2YWx1ZSwgbm9FcnJvcikge1xuICAgICAgaWYgKHZhbHVlID09PSBmYWxzZSB8fCBpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiAhbm9FcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3F1ZXVlJyB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCB2YWx1ZSk7XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFZhbGlkYXRlIGEgPGNvZGU+cmVwZWF0PC9jb2RlPiBvcHRpb24uXG4gICAqL1xuICBmdW5jdGlvbiB2YWxpZGF0ZVJlcGVhdCh2YWx1ZSkge1xuICAgICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgZmFsc2U6XG4gICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgIGNhc2UgdHJ1ZTpcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VkKSAmJiBwYXJzZWQgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncmVwZWF0JyB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCB2YWx1ZSk7XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFZhbGlkYXRlIGEgPGNvZGU+c3BlZWQ8L2NvZGU+IG9wdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIHZhbGlkYXRlU3BlZWQodmFsdWUpIHtcbiAgICAgIGlmIChpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdzcGVlZCcgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPnN5bmM8L2NvZGU+IG9wdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIHZhbGlkYXRlU3luYyh2YWx1ZSkge1xuICAgICAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdzeW5jJyB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCB2YWx1ZSk7XG4gICAgICB9XG4gIH1cblxuICAvLyBQcm9qZWN0XG4gIC8vIE5PVEU6IEFkZCB0aGUgdmFyaWFibGUgaGVyZSwgdGhlbiBhZGQgdGhlIGRlZmF1bHQgc3RhdGUgaW4gXCJyZXNldFwiIGJlbG93LlxuICB2YXIgY2FjaGUkMSA9IHZvaWQgMCxcbiAgICAgIGJlZ2luID0gdm9pZCAwLFxuICAgICAgY29tcGxldGUgPSB2b2lkIDAsXG4gICAgICBkZWxheSA9IHZvaWQgMCxcbiAgICAgIGR1cmF0aW9uID0gdm9pZCAwLFxuICAgICAgZWFzaW5nID0gdm9pZCAwLFxuICAgICAgZnBzTGltaXQgPSB2b2lkIDAsXG4gICAgICBsb29wID0gdm9pZCAwLFxuICAgICAgbW9iaWxlSEEgPSB2b2lkIDAsXG4gICAgICBtaW5GcmFtZVRpbWUgPSB2b2lkIDAsXG4gICAgICBwcm9taXNlID0gdm9pZCAwLFxuICAgICAgcHJvbWlzZVJlamVjdEVtcHR5ID0gdm9pZCAwLFxuICAgICAgcXVldWUgPSB2b2lkIDAsXG4gICAgICByZXBlYXQgPSB2b2lkIDAsXG4gICAgICBzcGVlZCA9IHZvaWQgMCxcbiAgICAgIHN5bmMgPSB2b2lkIDA7XG4gIHZhciBkZWZhdWx0cyQxID0gZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZGVmYXVsdHMkJDEoKSB7XG4gICAgICAgICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgZGVmYXVsdHMkJDEpO1xuICAgICAgfVxuXG4gICAgICBjcmVhdGVDbGFzcyhkZWZhdWx0cyQkMSwgbnVsbCwgW3tcbiAgICAgICAgICBrZXk6IFwicmVzZXRcIixcbiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgICAgICAgIGNhY2hlJDEgPSBERUZBVUxUX0NBQ0hFO1xuICAgICAgICAgICAgICBiZWdpbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgY29tcGxldGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIGRlbGF5ID0gREVGQVVMVF9ERUxBWTtcbiAgICAgICAgICAgICAgZHVyYXRpb24gPSBERUZBVUxUX0RVUkFUSU9OO1xuICAgICAgICAgICAgICBlYXNpbmcgPSB2YWxpZGF0ZUVhc2luZyhERUZBVUxUX0VBU0lORywgREVGQVVMVF9EVVJBVElPTik7XG4gICAgICAgICAgICAgIGZwc0xpbWl0ID0gREVGQVVMVF9GUFNMSU1JVDtcbiAgICAgICAgICAgICAgbG9vcCA9IERFRkFVTFRfTE9PUDtcbiAgICAgICAgICAgICAgbWluRnJhbWVUaW1lID0gRlVaWllfTVNfUEVSX1NFQ09ORCAvIERFRkFVTFRfRlBTTElNSVQ7XG4gICAgICAgICAgICAgIHByb21pc2UgPSBERUZBVUxUX1BST01JU0U7XG4gICAgICAgICAgICAgIHByb21pc2VSZWplY3RFbXB0eSA9IERFRkFVTFRfUFJPTUlTRV9SRUpFQ1RfRU1QVFk7XG4gICAgICAgICAgICAgIHF1ZXVlID0gREVGQVVMVF9RVUVVRTtcbiAgICAgICAgICAgICAgcmVwZWF0ID0gREVGQVVMVF9SRVBFQVQ7XG4gICAgICAgICAgICAgIHNwZWVkID0gREVGQVVMVF9TUEVFRDtcbiAgICAgICAgICAgICAgc3luYyA9IERFRkFVTFRfU1lOQztcbiAgICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICAga2V5OiBcImNhY2hlXCIsXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjYWNoZSQxO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZUNhY2hlKHZhbHVlKTtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIGNhY2hlJDEgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgICBrZXk6IFwiYmVnaW5cIixcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGJlZ2luO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZUJlZ2luKHZhbHVlKTtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIGJlZ2luID0gdmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICAga2V5OiBcImNvbXBsZXRlXCIsXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVDb21wbGV0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICBjb21wbGV0ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAgIGtleTogXCJkZWxheVwiLFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgICByZXR1cm4gZGVsYXk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlRGVsYXkodmFsdWUpO1xuICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgZGVsYXkgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgICBrZXk6IFwiZHVyYXRpb25cIixcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGR1cmF0aW9uO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZUR1cmF0aW9uKHZhbHVlKTtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICAga2V5OiBcImVhc2luZ1wiLFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgICByZXR1cm4gZWFzaW5nO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZUVhc2luZyh2YWx1ZSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgZWFzaW5nID0gdmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICAga2V5OiBcImZwc0xpbWl0XCIsXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmcHNMaW1pdDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVGcHNMaW1pdCh2YWx1ZSk7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICBmcHNMaW1pdCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgbWluRnJhbWVUaW1lID0gRlVaWllfTVNfUEVSX1NFQ09ORCAvIHZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAgIGtleTogXCJsb29wXCIsXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBsb29wO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZUxvb3AodmFsdWUpO1xuICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgbG9vcCA9IHZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAgIGtleTogXCJtb2JpbGVIQVwiLFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgICByZXR1cm4gbW9iaWxlSEE7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoaXNCb29sZWFuKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgbW9iaWxlSEEgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgICBrZXk6IFwibWluRnJhbWVUaW1lXCIsXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtaW5GcmFtZVRpbWU7XG4gICAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAgIGtleTogXCJwcm9taXNlXCIsXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZVByb21pc2UodmFsdWUpO1xuICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgcHJvbWlzZSA9IHZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAgIGtleTogXCJwcm9taXNlUmVqZWN0RW1wdHlcIixcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RFbXB0eTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVQcm9taXNlUmVqZWN0RW1wdHkodmFsdWUpO1xuICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgcHJvbWlzZVJlamVjdEVtcHR5ID0gdmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICAga2V5OiBcInF1ZXVlXCIsXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBxdWV1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVRdWV1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICBxdWV1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAgIGtleTogXCJyZXBlYXRcIixcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlcGVhdDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVSZXBlYXQodmFsdWUpO1xuICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgcmVwZWF0ID0gdmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICAga2V5OiBcInJlcGVhdEFnYWluXCIsXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXBlYXQ7XG4gICAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAgIGtleTogXCJzcGVlZFwiLFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgICByZXR1cm4gc3BlZWQ7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlU3BlZWQodmFsdWUpO1xuICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgc3BlZWQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgICBrZXk6IFwic3luY1wiLFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgICByZXR1cm4gc3luYztcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVTeW5jKHZhbHVlKTtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIHN5bmMgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1dKTtcbiAgICAgIHJldHVybiBkZWZhdWx0cyQkMTtcbiAgfSgpO1xuICBPYmplY3QuZnJlZXplKGRlZmF1bHRzJDEpO1xuICAvLyBSZXNldCB0byBvdXIgZGVmYXVsdCB2YWx1ZXMsIGN1cnJlbnRseSBldmVyeXRoaW5nIGlzIHVuZGVmaW5lZC5cbiAgZGVmYXVsdHMkMS5yZXNldCgpO1xuXG4gIC8qKlxuICAgKiBUaGUgaGlnaGVzdCB0eXBlIGluZGV4IGZvciBmaW5kaW5nIHRoZSBiZXN0IG5vcm1hbGl6YXRpb24gZm9yIGEgcHJvcGVydHkuXG4gICAqL1xuICAvKipcbiAgICogVW5saWtlIFwiYWN0aW9uc1wiLCBub3JtYWxpemF0aW9ucyBjYW4gYWx3YXlzIGJlIHJlcGxhY2VkIGJ5IHVzZXJzLlxuICAgKi9cbiAgdmFyIE5vcm1hbGl6YXRpb25zID0gW107XG4gIC8qKlxuICAgKiBTdG9yZSBhIGNyb3NzLXJlZmVyZW5jZSB0byB1bml0cyB0byBiZSBhZGRlZCB0byBzcGVjaWZpYyBub3JtYWxpemF0aW9uXG4gICAqIGZ1bmN0aW9ucyBpZiB0aGUgdXNlciBzdXBwbGllcyBhIHVuaXQtbGVzcyBudW1iZXIuXG4gICAqXG4gICAqIFRoaXMgaXMgcHJldHR5IG11Y2ggY29uZmluZWQgdG8gYWRkaW5nIFwicHhcIiB0byBzZXZlcmFsIGNzcyBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgdmFyIE5vcm1hbGl6YXRpb25Vbml0cyA9IHt9O1xuICAvKipcbiAgICogQW55IG5vcm1hbGlzYXRpb25zIHRoYXQgc2hvdWxkIG5ldmVyIGJlIGNhY2hlZCBhcmUgbGlzdGVkIGhlcmUuXG4gICAqIEZhc3RlciB0aGFuIGFuIGFycmF5IC0gaHR0cHM6Ly9qc3BlcmYuY29tL2FycmF5LWluY2x1ZGVzLWFuZC1maW5kLW1ldGhvZHMtdnMtc2V0LWhhc1xuICAgKi9cbiAgdmFyIE5vQ2FjaGVOb3JtYWxpemF0aW9ucyA9IG5ldyBTZXQoKTtcbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIGNsYXNzZXMgdXNlZCBmb3IgdGhlIHBlci1jbGFzcyBub3JtYWxpemF0aW9ucy4gVGhpc1xuICAgKiB0cmFuc2xhdGVzIGludG8gYSBiaXR3aXNlIGVudW0gZm9yIHF1aWNrIGNyb3NzLXJlZmVyZW5jZSwgYW5kIHNvIHRoYXRcbiAgICogdGhlIGVsZW1lbnQgZG9lc24ndCBuZWVkIG11bHRpcGxlIDxjb2RlPmluc3RhbmNlb2Y8L2NvZGU+IGNhbGxzIGV2ZXJ5XG4gICAqIGZyYW1lLlxuICAgKi9cbiAgdmFyIGNvbnN0cnVjdG9ycyA9IFtdO1xuICAvKipcbiAgICogQSBjYWNoZSBvZiB0aGUgdmFyaW91cyBjb25zdHJ1Y3RvcnMgd2UndmUgZm91bmQgYW5kIG1hcHBpbmcgdG8gdGhlaXIgcmVhbFxuICAgKiBuYW1lIC0gc2F2ZXMgZXhwZW5zaXZlIGxvb2t1cHMuXG4gICAqL1xuICB2YXIgY29uc3RydWN0b3JDYWNoZSA9IG5ldyBNYXAoKTtcblxuICAvLyBQcm9qZWN0XG4gIC8vIENvbnN0YW50c1xuICB2YXIgZGF0YU5hbWUgPSBcInZlbG9jaXR5RGF0YVwiO1xuICAvKipcbiAgICogR2V0IChhbmQgY3JlYXRlKSB0aGUgaW50ZXJuYWwgZGF0YSBzdG9yZSBmb3IgYW4gZWxlbWVudC5cbiAgICovXG4gIGZ1bmN0aW9uIERhdGEoZWxlbWVudCkge1xuICAgICAgLy8gVXNlIGEgc3RyaW5nIG1lbWJlciBzbyBVZ2xpZnkgZG9lc24ndCBtYW5nbGUgaXQuXG4gICAgICB2YXIgZGF0YSA9IGVsZW1lbnRbZGF0YU5hbWVdO1xuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cbiAgICAgIHZhciB3aW5kb3cgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG4gICAgICB2YXIgdHlwZXMgPSAwO1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGNvbnN0cnVjdG9ycy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICB2YXIgX2NvbnN0cnVjdG9yID0gY29uc3RydWN0b3JzW2luZGV4XTtcbiAgICAgICAgICBpZiAoaXNTdHJpbmcoX2NvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIHdpbmRvd1tfY29uc3RydWN0b3JdKSB7XG4gICAgICAgICAgICAgICAgICB0eXBlcyB8PSAxIDw8IGluZGV4OyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIF9jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICB0eXBlcyB8PSAxIDw8IGluZGV4OyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBVc2UgYW4gaW50ZXJtZWRpYXRlIG9iamVjdCBzbyBpdCBlcnJvcnMgb24gaW5jb3JyZWN0IGRhdGEuXG4gICAgICB2YXIgbmV3RGF0YSA9IHtcbiAgICAgICAgICB0eXBlczogdHlwZXMsXG4gICAgICAgICAgY291bnQ6IDAsXG4gICAgICAgICAgY29tcHV0ZWRTdHlsZTogbnVsbCxcbiAgICAgICAgICBjYWNoZToge30sXG4gICAgICAgICAgcXVldWVMaXN0OiB7fSxcbiAgICAgICAgICBsYXN0QW5pbWF0aW9uTGlzdDoge30sXG4gICAgICAgICAgbGFzdEZpbmlzaExpc3Q6IHt9LFxuICAgICAgICAgIHdpbmRvdzogd2luZG93XG4gICAgICB9O1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsIGRhdGFOYW1lLCB7XG4gICAgICAgICAgdmFsdWU6IG5ld0RhdGFcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ld0RhdGE7XG4gIH1cblxuICAvLyBDb25zdGFudHNcbiAgdmFyIGlzQ2xpZW50ID0gd2luZG93ICYmIHdpbmRvdyA9PT0gd2luZG93LndpbmRvdyxcbiAgICAgIHdpbmRvd1Njcm9sbEFuY2hvciA9IGlzQ2xpZW50ICYmIHdpbmRvdy5wYWdlWU9mZnNldCAhPT0gdW5kZWZpbmVkO1xuICB2YXIgU3RhdGUgPSB7XG4gICAgICBpc0NsaWVudDogaXNDbGllbnQsXG4gICAgICBpc01vYmlsZTogaXNDbGllbnQgJiYgL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFxuICAgICAgaXNHaW5nZXJicmVhZDogaXNDbGllbnQgJiYgL0FuZHJvaWQgMlxcLjNcXC5bMy03XS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksXG4gICAgICBwcmVmaXhFbGVtZW50OiBpc0NsaWVudCAmJiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgd2luZG93U2Nyb2xsQW5jaG9yOiB3aW5kb3dTY3JvbGxBbmNob3IsXG4gICAgICBzY3JvbGxBbmNob3I6IHdpbmRvd1Njcm9sbEFuY2hvciA/IHdpbmRvdyA6ICFpc0NsaWVudCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlIHx8IGRvY3VtZW50LmJvZHksXG4gICAgICBzY3JvbGxQcm9wZXJ0eUxlZnQ6IHdpbmRvd1Njcm9sbEFuY2hvciA/IFwicGFnZVhPZmZzZXRcIiA6IFwic2Nyb2xsTGVmdFwiLFxuICAgICAgc2Nyb2xsUHJvcGVydHlUb3A6IHdpbmRvd1Njcm9sbEFuY2hvciA/IFwicGFnZVlPZmZzZXRcIiA6IFwic2Nyb2xsVG9wXCIsXG4gICAgICBjbGFzc05hbWU6IENMQVNTTkFNRSxcbiAgICAgIGlzVGlja2luZzogZmFsc2UsXG4gICAgICBmaXJzdDogdW5kZWZpbmVkLFxuICAgICAgbGFzdDogdW5kZWZpbmVkLFxuICAgICAgZmlyc3ROZXc6IHVuZGVmaW5lZFxuICB9O1xuXG4gIC8vIFByb2plY3RcbiAgLyoqXG4gICAqIFNpbXBsZSBxdWV1ZSBtYW5hZ2VtZW50LiBVbi1uYW1lZCBxdWV1ZSBpcyBkaXJlY3RseSB3aXRoaW4gdGhlIGVsZW1lbnQgZGF0YSxcbiAgICogbmFtZWQgcXVldWUgaXMgd2l0aGluIGFuIG9iamVjdCB3aXRoaW4gaXQuXG4gICAqL1xuICBmdW5jdGlvbiBhbmltYXRlKGFuaW1hdGlvbikge1xuICAgICAgdmFyIHByZXYgPSBTdGF0ZS5sYXN0O1xuICAgICAgYW5pbWF0aW9uLl9wcmV2ID0gcHJldjtcbiAgICAgIGFuaW1hdGlvbi5fbmV4dCA9IHVuZGVmaW5lZDtcbiAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgcHJldi5fbmV4dCA9IGFuaW1hdGlvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgU3RhdGUuZmlyc3QgPSBhbmltYXRpb247XG4gICAgICB9XG4gICAgICBTdGF0ZS5sYXN0ID0gYW5pbWF0aW9uO1xuICAgICAgaWYgKCFTdGF0ZS5maXJzdE5ldykge1xuICAgICAgICAgIFN0YXRlLmZpcnN0TmV3ID0gYW5pbWF0aW9uO1xuICAgICAgfVxuICAgICAgdmFyIGVsZW1lbnQgPSBhbmltYXRpb24uZWxlbWVudCxcbiAgICAgICAgICBkYXRhID0gRGF0YShlbGVtZW50KTtcbiAgICAgIGlmICghZGF0YS5jb3VudCsrKSB7XG4gICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgLy8gRmVhdHVyZTogQ2xhc3NuYW1lIC8vXG4gICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgU3RhdGUuY2xhc3NOYW1lKTtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogQWRkIGFuIGl0ZW0gdG8gYW4gYW5pbWF0aW9uIHF1ZXVlLlxuICAgKi9cbiAgZnVuY3Rpb24gcXVldWUkMShlbGVtZW50LCBhbmltYXRpb24sIHF1ZXVlTmFtZSkge1xuICAgICAgdmFyIGRhdGEgPSBEYXRhKGVsZW1lbnQpO1xuICAgICAgaWYgKHF1ZXVlTmFtZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAvLyBTdG9yZSB0aGUgbGFzdCBhbmltYXRpb24gYWRkZWQgc28gd2UgY2FuIHVzZSBpdCBmb3IgdGhlXG4gICAgICAgICAgLy8gYmVnaW5uaW5nIG9mIHRoZSBuZXh0IG9uZS5cbiAgICAgICAgICBkYXRhLmxhc3RBbmltYXRpb25MaXN0W3F1ZXVlTmFtZV0gPSBhbmltYXRpb247XG4gICAgICB9XG4gICAgICBpZiAocXVldWVOYW1lID09PSBmYWxzZSkge1xuICAgICAgICAgIGFuaW1hdGUoYW5pbWF0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFpc1N0cmluZyhxdWV1ZU5hbWUpKSB7XG4gICAgICAgICAgICAgIHF1ZXVlTmFtZSA9IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBsYXN0ID0gZGF0YS5xdWV1ZUxpc3RbcXVldWVOYW1lXTtcbiAgICAgICAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgICAgICAgaWYgKGxhc3QgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGRhdGEucXVldWVMaXN0W3F1ZXVlTmFtZV0gPSBhbmltYXRpb247XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBkYXRhLnF1ZXVlTGlzdFtxdWV1ZU5hbWVdID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgIGFuaW1hdGUoYW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHdoaWxlIChsYXN0Ll9uZXh0KSB7XG4gICAgICAgICAgICAgICAgICBsYXN0ID0gbGFzdC5fbmV4dDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsYXN0Ll9uZXh0ID0gYW5pbWF0aW9uO1xuICAgICAgICAgICAgICBhbmltYXRpb24uX3ByZXYgPSBsYXN0O1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogU3RhcnQgdGhlIG5leHQgYW5pbWF0aW9uIG9uIHRoaXMgZWxlbWVudCdzIHF1ZXVlIChuYW1lZCBvciBkZWZhdWx0KS5cbiAgICpcbiAgICogQHJldHVybnMgdGhlIG5leHQgYW5pbWF0aW9uIHRoYXQgaXMgc3RhcnRpbmcuXG4gICAqL1xuICBmdW5jdGlvbiBkZXF1ZXVlKGVsZW1lbnQsIHF1ZXVlTmFtZSwgc2tpcCkge1xuICAgICAgaWYgKHF1ZXVlTmFtZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBpZiAoIWlzU3RyaW5nKHF1ZXVlTmFtZSkpIHtcbiAgICAgICAgICAgICAgcXVldWVOYW1lID0gXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGRhdGEgPSBEYXRhKGVsZW1lbnQpLFxuICAgICAgICAgICAgICBhbmltYXRpb24gPSBkYXRhLnF1ZXVlTGlzdFtxdWV1ZU5hbWVdO1xuICAgICAgICAgIGlmIChhbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgZGF0YS5xdWV1ZUxpc3RbcXVldWVOYW1lXSA9IGFuaW1hdGlvbi5fbmV4dCB8fCBudWxsO1xuICAgICAgICAgICAgICBpZiAoIXNraXApIHtcbiAgICAgICAgICAgICAgICAgIGFuaW1hdGUoYW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoYW5pbWF0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBkYXRhLnF1ZXVlTGlzdFtxdWV1ZU5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYW5pbWF0aW9uO1xuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gYW5pbWF0aW9uIGZyb20gdGhlIGFjdGl2ZSBhbmltYXRpb24gbGlzdC4gSWYgaXQgaGFzIGEgcXVldWUgc2V0XG4gICAqIHRoZW4gcmVtZW1iZXIgaXQgYXMgdGhlIGxhc3QgYW5pbWF0aW9uIGZvciB0aGF0IHF1ZXVlLCBhbmQgZnJlZSB0aGUgb25lXG4gICAqIHRoYXQgd2FzIHByZXZpb3VzbHkgdGhlcmUuIElmIHRoZSBhbmltYXRpb24gbGlzdCBpcyBjb21wbGV0ZWx5IGVtcHR5IHRoZW5cbiAgICogbWFyayB1cyBhcyBmaW5pc2hlZC5cbiAgICovXG4gIGZ1bmN0aW9uIGZyZWVBbmltYXRpb25DYWxsKGFuaW1hdGlvbikge1xuICAgICAgdmFyIG5leHQgPSBhbmltYXRpb24uX25leHQsXG4gICAgICAgICAgcHJldiA9IGFuaW1hdGlvbi5fcHJldixcbiAgICAgICAgICBxdWV1ZU5hbWUgPSBhbmltYXRpb24ucXVldWUgPT0gbnVsbCA/IGFuaW1hdGlvbi5vcHRpb25zLnF1ZXVlIDogYW5pbWF0aW9uLnF1ZXVlO1xuICAgICAgaWYgKFN0YXRlLmZpcnN0TmV3ID09PSBhbmltYXRpb24pIHtcbiAgICAgICAgICBTdGF0ZS5maXJzdE5ldyA9IG5leHQ7XG4gICAgICB9XG4gICAgICBpZiAoU3RhdGUuZmlyc3QgPT09IGFuaW1hdGlvbikge1xuICAgICAgICAgIFN0YXRlLmZpcnN0ID0gbmV4dDtcbiAgICAgIH0gZWxzZSBpZiAocHJldikge1xuICAgICAgICAgIHByZXYuX25leHQgPSBuZXh0O1xuICAgICAgfVxuICAgICAgaWYgKFN0YXRlLmxhc3QgPT09IGFuaW1hdGlvbikge1xuICAgICAgICAgIFN0YXRlLmxhc3QgPSBwcmV2O1xuICAgICAgfSBlbHNlIGlmIChuZXh0KSB7XG4gICAgICAgICAgbmV4dC5fcHJldiA9IHByZXY7XG4gICAgICB9XG4gICAgICBpZiAocXVldWVOYW1lKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBEYXRhKGFuaW1hdGlvbi5lbGVtZW50KTtcbiAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICBhbmltYXRpb24uX25leHQgPSBhbmltYXRpb24uX3ByZXYgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG5cbiAgdmFyIFNlcXVlbmNlc09iamVjdCA9IHt9O1xuXG4gIC8vIFByb2plY3RcbiAgLyoqXG4gICAqIENhbGwgdGhlIGNvbXBsZXRlIG1ldGhvZCBvZiBhbiBhbmltYXRpb24gaW4gYSBzZXBhcmF0ZSBmdW5jdGlvbiBzbyBpdCBjYW5cbiAgICogYmVuZWZpdCBmcm9tIEpJVCBjb21waWxpbmcgd2hpbGUgc3RpbGwgaGF2aW5nIGEgdHJ5L2NhdGNoIGJsb2NrLlxuICAgKi9cbiAgZnVuY3Rpb24gY2FsbENvbXBsZXRlKGFjdGl2ZUNhbGwpIHtcbiAgICAgIHZhciBjYWxsYmFjayA9IGFjdGl2ZUNhbGwuY29tcGxldGUgfHwgYWN0aXZlQ2FsbC5vcHRpb25zLmNvbXBsZXRlO1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gYWN0aXZlQ2FsbC5lbGVtZW50cztcbiAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChlbGVtZW50cywgZWxlbWVudHMsIGFjdGl2ZUNhbGwpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogQ29tcGxldGUgYW4gYW5pbWF0aW9uLiBUaGlzIG1pZ2h0IGludm9sdmUgcmVzdGFydGluZyAoZm9yIGxvb3Agb3IgcmVwZWF0XG4gICAqIG9wdGlvbnMpLiBPbmNlIGl0IGlzIGZpbmlzaGVkIHdlIGFsc28gY2hlY2sgZm9yIGFueSBjYWxsYmFja3Mgb3IgUHJvbWlzZXNcbiAgICogdGhhdCBuZWVkIHVwZGF0aW5nLlxuICAgKi9cbiAgZnVuY3Rpb24gY29tcGxldGVDYWxsKGFjdGl2ZUNhbGwpIHtcbiAgICAgIC8vIFRPRE86IENoZWNrIGlmIGl0J3Mgbm90IGJlZW4gY29tcGxldGVkIGFscmVhZHlcbiAgICAgIHZhciBvcHRpb25zID0gYWN0aXZlQ2FsbC5vcHRpb25zLFxuICAgICAgICAgIHF1ZXVlID0gZ2V0VmFsdWUoYWN0aXZlQ2FsbC5xdWV1ZSwgb3B0aW9ucy5xdWV1ZSksXG4gICAgICAgICAgaXNMb29wID0gZ2V0VmFsdWUoYWN0aXZlQ2FsbC5sb29wLCBvcHRpb25zLmxvb3AsIGRlZmF1bHRzJDEubG9vcCksXG4gICAgICAgICAgaXNSZXBlYXQgPSBnZXRWYWx1ZShhY3RpdmVDYWxsLnJlcGVhdCwgb3B0aW9ucy5yZXBlYXQsIGRlZmF1bHRzJDEucmVwZWF0KSxcbiAgICAgICAgICBpc1N0b3BwZWQgPSBhY3RpdmVDYWxsLl9mbGFncyAmIDggLyogU1RPUFBFRCAqLzsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICBpZiAoIWlzU3RvcHBlZCAmJiAoaXNMb29wIHx8IGlzUmVwZWF0KSkge1xuICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgLy8gT3B0aW9uOiBMb29wICAgLy9cbiAgICAgICAgICAvLyBPcHRpb246IFJlcGVhdCAvL1xuICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgaWYgKGlzUmVwZWF0ICYmIGlzUmVwZWF0ICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgIGFjdGl2ZUNhbGwucmVwZWF0ID0gaXNSZXBlYXQgLSAxO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNMb29wICYmIGlzTG9vcCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBhY3RpdmVDYWxsLmxvb3AgPSBpc0xvb3AgLSAxO1xuICAgICAgICAgICAgICBhY3RpdmVDYWxsLnJlcGVhdCA9IGdldFZhbHVlKGFjdGl2ZUNhbGwucmVwZWF0QWdhaW4sIG9wdGlvbnMucmVwZWF0QWdhaW4sIGRlZmF1bHRzJDEucmVwZWF0QWdhaW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNMb29wKSB7XG4gICAgICAgICAgICAgIGFjdGl2ZUNhbGwuX2ZsYWdzIF49IDY0IC8qIFJFVkVSU0UgKi87IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocXVldWUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIC8vIENhbid0IGJlIGNhbGxlZCB3aGVuIHN0b3BwZWQgc28gbm8gbmVlZCBmb3IgYW4gZXh0cmEgY2hlY2suXG4gICAgICAgICAgICAgIERhdGEoYWN0aXZlQ2FsbC5lbGVtZW50KS5sYXN0RmluaXNoTGlzdFtxdWV1ZV0gPSBhY3RpdmVDYWxsLnRpbWVTdGFydCArIGdldFZhbHVlKGFjdGl2ZUNhbGwuZHVyYXRpb24sIG9wdGlvbnMuZHVyYXRpb24sIGRlZmF1bHRzJDEuZHVyYXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhY3RpdmVDYWxsLnRpbWVTdGFydCA9IGFjdGl2ZUNhbGwuZWxsYXBzZWRUaW1lID0gYWN0aXZlQ2FsbC5wZXJjZW50Q29tcGxldGUgPSAwO1xuICAgICAgICAgIGFjdGl2ZUNhbGwuX2ZsYWdzICY9IH40IC8qIFNUQVJURUQgKi87IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgZWxlbWVudCA9IGFjdGl2ZUNhbGwuZWxlbWVudCxcbiAgICAgICAgICAgICAgZGF0YSA9IERhdGEoZWxlbWVudCk7XG4gICAgICAgICAgaWYgKCEgLS1kYXRhLmNvdW50ICYmICFpc1N0b3BwZWQpIHtcbiAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgIC8vIEZlYXR1cmU6IENsYXNzbmFtZSAvL1xuICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoZWxlbWVudCwgU3RhdGUuY2xhc3NOYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgIC8vIE9wdGlvbjogQ29tcGxldGUgLy9cbiAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgbGFzdCBhbmltYXRpb24gaW4gdGhpcyBsaXN0IHRoZW4gd2UgY2FuIGNoZWNrIGZvclxuICAgICAgICAgIC8vIGFuZCBjb21wbGV0ZSBjYWxscyBvciBQcm9taXNlcy5cbiAgICAgICAgICAvLyBUT0RPOiBXaGVuIGRlbGV0aW5nIGFuIGVsZW1lbnQgd2UgbmVlZCB0byBhZGp1c3QgdGhlc2UgdmFsdWVzLlxuICAgICAgICAgIGlmIChvcHRpb25zICYmICsrb3B0aW9ucy5fY29tcGxldGVkID09PSBvcHRpb25zLl90b3RhbCkge1xuICAgICAgICAgICAgICBpZiAoIWlzU3RvcHBlZCAmJiBvcHRpb25zLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCBjYWxsIHRoZSBjb21wbGV0ZSBpZiB0aGUgYW5pbWF0aW9uIGlzIHN0b3BwZWQsXG4gICAgICAgICAgICAgICAgICAvLyBhbmQgd2UgY2xlYXIgdGhlIGtleSB0byBwcmV2ZW50IGl0IGJlaW5nIGNhbGxlZCBhZ2Fpbi5cbiAgICAgICAgICAgICAgICAgIGNhbGxDb21wbGV0ZShhY3RpdmVDYWxsKTtcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY29tcGxldGUgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciByZXNvbHZlciA9IG9wdGlvbnMuX3Jlc29sdmVyO1xuICAgICAgICAgICAgICBpZiAocmVzb2x2ZXIpIHtcbiAgICAgICAgICAgICAgICAgIC8vIEZ1bGZpbCB0aGUgUHJvbWlzZVxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZXIoYWN0aXZlQ2FsbC5lbGVtZW50cyk7XG4gICAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5fcmVzb2x2ZXI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgIC8vIE9wdGlvbjogUXVldWUgLy9cbiAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgaWYgKHF1ZXVlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAvLyBXZSBvbmx5IGRvIGNsZXZlciB0aGluZ3Mgd2l0aCBxdWV1ZXMuLi5cbiAgICAgICAgICAgICAgaWYgKCFpc1N0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICAgIC8vIElmIHdlJ3JlIG5vdCBzdG9wcGluZyBhbiBhbmltYXRpb24sIHdlIG5lZWQgdG8gcmVtZW1iZXJcbiAgICAgICAgICAgICAgICAgIC8vIHdoYXQgdGltZSBpdCBmaW5pc2hlZCBzbyB0aGF0IHRoZSBuZXh0IGFuaW1hdGlvbiBpblxuICAgICAgICAgICAgICAgICAgLy8gc2VxdWVuY2UgZ2V0cyB0aGUgY29ycmVjdCBzdGFydCB0aW1lLlxuICAgICAgICAgICAgICAgICAgZGF0YS5sYXN0RmluaXNoTGlzdFtxdWV1ZV0gPSBhY3RpdmVDYWxsLnRpbWVTdGFydCArIGdldFZhbHVlKGFjdGl2ZUNhbGwuZHVyYXRpb24sIG9wdGlvbnMuZHVyYXRpb24sIGRlZmF1bHRzJDEuZHVyYXRpb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIFN0YXJ0IHRoZSBuZXh0IGFuaW1hdGlvbiBpbiBzZXF1ZW5jZSwgb3IgZGVsZXRlIHRoZSBxdWV1ZSBpZlxuICAgICAgICAgICAgICAvLyB0aGlzIHdhcyB0aGUgbGFzdCBvbmUuXG4gICAgICAgICAgICAgIGRlcXVldWUoZWxlbWVudCwgcXVldWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBDbGVhbnVwIGFueSBwb2ludGVycywgYW5kIHJlbWVtYmVyIHRoZSBsYXN0IGFuaW1hdGlvbiBldGMuXG4gICAgICAgICAgZnJlZUFuaW1hdGlvbkNhbGwoYWN0aXZlQ2FsbCk7XG4gICAgICB9XG4gIH1cblxuICAvLyBQcm9qZWN0XG4gIC8qKlxuICAgKiBVc2VkIHRvIHJlZ2lzdGVyIGEgbm9ybWFsaXphdGlvbi4gVGhpcyBzaG91bGQgbmV2ZXIgYmUgY2FsbGVkIGJ5IHVzZXJzXG4gICAqIGRpcmVjdGx5LCBpbnN0ZWFkIGl0IHNob3VsZCBiZSBjYWxsZWQgdmlhIGFuIGFjdGlvbjo8YnIvPlxuICAgKiA8Y29kZT5WZWxvY2l0eShcInJlZ2lzdGVyTm9ybWFsaXphdGlvblwiLCBcIkVsZW1lbnRcIiwgXCJuYW1lXCIsIFZlbG9jaXR5Tm9ybWFsaXphdGlvbnNGblssIGZhbHNlXSk7PC9jb2RlPlxuICAgKlxuICAgKiBUaGUgc2Vjb25kIGFyZ3VtZW50IGlzIHRoZSBjbGFzcyBvZiB0aGUgYW5pbWF0YWJsZSBvYmplY3QuIElmIHRoaXMgaXMgcGFzc2VkXG4gICAqIGFzIGEgY2xhc3MgbmFtZSAoaWUsIGBcIkVsZW1lbnRcImAgLT4gYHdpbmRvd1tcIkVsZW1lbnRcIl1gKSB0aGVuIHRoaXMgd2lsbCB3b3JrXG4gICAqIGNyb3NzLWlmcmFtZS4gSWYgcGFzc2VkIGFzIGFuIGFjdHVhbCBjbGFzcyAoaWUgYEVsZW1lbnRgKSB0aGVuIGl0IHdpbGxcbiAgICogYXR0ZW1wdCB0byBmaW5kIHRoZSBjbGFzcyBvbiB0aGUgd2luZG93IGFuZCB1c2UgdGhhdCBuYW1lIGluc3RlYWQuIElmIGl0XG4gICAqIGNhbid0IGZpbmQgaXQgdGhlbiBpdCB3aWxsIHVzZSB0aGUgY2xhc3MgcGFzc2VkLCB3aGljaCBhbGxvd3MgZm9yIGN1c3RvbVxuICAgKiBhbmltYXRpb24gdGFyZ2V0cywgYnV0IHdpbGwgbm90IHdvcmsgY3Jvc3MtaWZyYW1lIGJvdW5kYXJ5LlxuICAgKlxuICAgKiBUaGUgZm91cnRoIGFyZ3VtZW50IGNhbiBiZSBhbiBleHBsaWNpdCA8Y29kZT5mYWxzZTwvY29kZT4sIHdoaWNoIHByZXZlbnRzXG4gICAqIHRoZSBwcm9wZXJ0eSBmcm9tIGJlaW5nIGNhY2hlZC4gUGxlYXNlIG5vdGUgdGhhdCB0aGlzIGNhbiBiZSBkYW5nZXJvdXNcbiAgICogZm9yIHBlcmZvcm1hbmNlIVxuICAgKi9cbiAgZnVuY3Rpb24gcmVnaXN0ZXJOb3JtYWxpemF0aW9uKGFyZ3MpIHtcbiAgICAgIHZhciBjb25zdHJ1Y3RvciA9IGFyZ3NbMF0sXG4gICAgICAgICAgbmFtZSA9IGFyZ3NbMV0sXG4gICAgICAgICAgY2FsbGJhY2sgPSBhcmdzWzJdO1xuICAgICAgaWYgKGlzU3RyaW5nKGNvbnN0cnVjdG9yKSAmJiAhKHdpbmRvd1tjb25zdHJ1Y3Rvcl0gaW5zdGFuY2VvZiBPYmplY3QpIHx8ICFpc1N0cmluZyhjb25zdHJ1Y3RvcikgJiYgIShjb25zdHJ1Y3RvciBpbnN0YW5jZW9mIE9iamVjdCkpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdyZWdpc3Rlck5vcm1hbGl6YXRpb24nIGNvbnN0cnVjdG9yIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIGNvbnN0cnVjdG9yKTtcbiAgICAgIH0gZWxzZSBpZiAoIWlzU3RyaW5nKG5hbWUpKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncmVnaXN0ZXJOb3JtYWxpemF0aW9uJyBuYW1lIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIG5hbWUpO1xuICAgICAgfSBlbHNlIGlmICghaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdyZWdpc3Rlck5vcm1hbGl6YXRpb24nIGNhbGxiYWNrIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIG5hbWUsIGNhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gY29uc3RydWN0b3JzLmluZGV4T2YoY29uc3RydWN0b3IpLFxuICAgICAgICAgICAgICBuZXh0QXJnID0gMztcbiAgICAgICAgICBpZiAoaW5kZXggPCAwICYmICFpc1N0cmluZyhjb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgICAgaWYgKGNvbnN0cnVjdG9yQ2FjaGUuaGFzKGNvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgICAgICAgaW5kZXggPSBjb25zdHJ1Y3RvcnMuaW5kZXhPZihjb25zdHJ1Y3RvckNhY2hlLmdldChjb25zdHJ1Y3RvcikpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gd2luZG93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvd1twcm9wZXJ0eV0gPT09IGNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gY29uc3RydWN0b3JzLmluZGV4T2YocHJvcGVydHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGNvbnN0cnVjdG9ycy5wdXNoKHByb3BlcnR5KSAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb3JtYWxpemF0aW9uc1tpbmRleF0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yQ2FjaGUuc2V0KGNvbnN0cnVjdG9yLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgaW5kZXggPSBjb25zdHJ1Y3RvcnMucHVzaChjb25zdHJ1Y3RvcikgLSAxO1xuICAgICAgICAgICAgICBOb3JtYWxpemF0aW9uc1tpbmRleF0gPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgTm9ybWFsaXphdGlvbnNbaW5kZXhdW25hbWVdID0gY2FsbGJhY2s7XG4gICAgICAgICAgaWYgKGlzU3RyaW5nKGFyZ3NbbmV4dEFyZ10pKSB7XG4gICAgICAgICAgICAgIHZhciB1bml0ID0gYXJnc1tuZXh0QXJnKytdO1xuICAgICAgICAgICAgICB2YXIgdW5pdHMgPSBOb3JtYWxpemF0aW9uVW5pdHNbdW5pdF07XG4gICAgICAgICAgICAgIGlmICghdW5pdHMpIHtcbiAgICAgICAgICAgICAgICAgIHVuaXRzID0gTm9ybWFsaXphdGlvblVuaXRzW3VuaXRdID0gW107XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdW5pdHMucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhcmdzW25leHRBcmddID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICBOb0NhY2hlTm9ybWFsaXphdGlvbnMuYWRkKG5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogVXNlZCB0byBjaGVjayBpZiBhIG5vcm1hbGlzYXRpb24gZXhpc3RzIG9uIGEgc3BlY2lmaWMgY2xhc3MuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNOb3JtYWxpemF0aW9uKGFyZ3MpIHtcbiAgICAgIHZhciBjb25zdHJ1Y3RvciA9IGFyZ3NbMF0sXG4gICAgICAgICAgbmFtZSA9IGFyZ3NbMV07XG4gICAgICB2YXIgaW5kZXggPSBjb25zdHJ1Y3RvcnMuaW5kZXhPZihjb25zdHJ1Y3Rvcik7XG4gICAgICBpZiAoaW5kZXggPCAwICYmICFpc1N0cmluZyhjb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICBpZiAoY29uc3RydWN0b3JDYWNoZS5oYXMoY29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgICAgIGluZGV4ID0gY29uc3RydWN0b3JzLmluZGV4T2YoY29uc3RydWN0b3JDYWNoZS5nZXQoY29uc3RydWN0b3IpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiB3aW5kb3cpIHtcbiAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3dbcHJvcGVydHldID09PSBjb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gY29uc3RydWN0b3JzLmluZGV4T2YocHJvcGVydHkpO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGluZGV4ID49IDAgJiYgTm9ybWFsaXphdGlvbnNbaW5kZXhdLmhhc093blByb3BlcnR5KG5hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIHVuaXQgdG8gYWRkIHRvIGEgdW5pdGxlc3MgbnVtYmVyIGJhc2VkIG9uIHRoZSBub3JtYWxpemF0aW9uIHVzZWQuXG4gICAqL1xuICBmdW5jdGlvbiBnZXROb3JtYWxpemF0aW9uVW5pdChmbikge1xuICAgICAgZm9yICh2YXIgdW5pdCBpbiBOb3JtYWxpemF0aW9uVW5pdHMpIHtcbiAgICAgICAgICBpZiAoTm9ybWFsaXphdGlvblVuaXRzW3VuaXRdLmluY2x1ZGVzKGZuKSkge1xuICAgICAgICAgICAgICByZXR1cm4gdW5pdDtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gXCJcIjtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBub3JtYWxpemF0aW9uIGZvciBhbiBlbGVtZW50IGFuZCBwcm9wZXJ0eU5hbWUgY29tYmluYXRpb24uIFRoaXNcbiAgICogdmFsdWUgc2hvdWxkIGJlIGNhY2hlZCBhdCBhc2tpbmcgdGltZSwgYXMgaXQgbWF5IGNoYW5nZSBpZiB0aGUgdXNlciBhZGRzXG4gICAqIG1vcmUgbm9ybWFsaXphdGlvbnMuXG4gICAqL1xuICBmdW5jdGlvbiBnZXROb3JtYWxpemF0aW9uKGVsZW1lbnQsIHByb3BlcnR5TmFtZSkge1xuICAgICAgdmFyIGRhdGEgPSBEYXRhKGVsZW1lbnQpO1xuICAgICAgdmFyIGZuID0gdm9pZCAwO1xuICAgICAgZm9yICh2YXIgaW5kZXggPSBjb25zdHJ1Y3RvcnMubGVuZ3RoIC0gMSwgdHlwZXMgPSBkYXRhLnR5cGVzOyAhZm4gJiYgaW5kZXggPj0gMDsgaW5kZXgtLSkge1xuICAgICAgICAgIGlmICh0eXBlcyAmIDEgPDwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgICAgICAgIGZuID0gTm9ybWFsaXphdGlvbnNbaW5kZXhdW3Byb3BlcnR5TmFtZV07XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZuO1xuICB9XG4gIHJlZ2lzdGVyQWN0aW9uKFtcInJlZ2lzdGVyTm9ybWFsaXphdGlvblwiLCByZWdpc3Rlck5vcm1hbGl6YXRpb25dKTtcbiAgcmVnaXN0ZXJBY3Rpb24oW1wiaGFzTm9ybWFsaXphdGlvblwiLCBoYXNOb3JtYWxpemF0aW9uXSk7XG5cbiAgLy8gUHJvamVjdFxuICAvKipcbiAgICogVGhlIHNpbmd1bGFyIHNldFByb3BlcnR5VmFsdWUsIHdoaWNoIHJvdXRlcyB0aGUgbG9naWMgZm9yIGFsbFxuICAgKiBub3JtYWxpemF0aW9ucy5cbiAgICovXG4gIGZ1bmN0aW9uIHNldFByb3BlcnR5VmFsdWUoZWxlbWVudCwgcHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlLCBmbikge1xuICAgICAgdmFyIG5vQ2FjaGUgPSBOb0NhY2hlTm9ybWFsaXphdGlvbnMuaGFzKHByb3BlcnR5TmFtZSksXG4gICAgICAgICAgZGF0YSA9ICFub0NhY2hlICYmIERhdGEoZWxlbWVudCk7XG4gICAgICBpZiAobm9DYWNoZSB8fCBkYXRhICYmIGRhdGEuY2FjaGVbcHJvcGVydHlOYW1lXSAhPT0gcHJvcGVydHlWYWx1ZSkge1xuICAgICAgICAgIC8vIEJ5IHNldHRpbmcgaXQgdG8gdW5kZWZpbmVkIHdlIGZvcmNlIGEgdHJ1ZSBcImdldFwiIGxhdGVyXG4gICAgICAgICAgaWYgKCFub0NhY2hlKSB7XG4gICAgICAgICAgICAgIGRhdGEuY2FjaGVbcHJvcGVydHlOYW1lXSA9IHByb3BlcnR5VmFsdWUgfHwgdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmbiA9IGZuIHx8IGdldE5vcm1hbGl6YXRpb24oZWxlbWVudCwgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgZm4oZWxlbWVudCwgcHJvcGVydHlWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChWZWxvY2l0eSQkMS5kZWJ1ZyA+PSAyKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhcIlNldCBcXFwiXCIgKyBwcm9wZXJ0eU5hbWUgKyBcIlxcXCI6IFxcXCJcIiArIHByb3BlcnR5VmFsdWUgKyBcIlxcXCJcIiwgZWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBuZXN0ZWQgYGNhbGMoMHB4ICsgKilgIG9yIGBjYWxjKCogKyAoMHB4ICsgKikpYCBjb3JyZWN0bHkuXG4gICAqL1xuICBmdW5jdGlvbiByZW1vdmVOZXN0ZWRDYWxjKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUuaW5kZXhPZihcImNhbGMoXCIpID49IDApIHtcbiAgICAgICAgICB2YXIgdG9rZW5zID0gdmFsdWUuc3BsaXQoLyhbXFwoXFwpXSkvKTtcbiAgICAgICAgICB2YXIgZGVwdGggPSAwO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIihcIjpcbiAgICAgICAgICAgICAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIilcIjpcbiAgICAgICAgICAgICAgICAgICAgICBkZXB0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVwdGggJiYgdG9rZW5bMF0gPT09IFwiMFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vuc1tpXSA9IHRva2VuLnJlcGxhY2UoL14wW2EteiVdKyBcXCsgLywgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0b2tlbnMuam9pbihcIlwiKS5yZXBsYWNlKC8oPzpjYWxjKT9cXCgoWzAtOVxcLl0rW2EteiVdKylcXCkvZywgXCIkMVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWNoZSBldmVyeSBjYW1lbENhc2UgbWF0Y2ggdG8gYXZvaWQgcmVwZWF0aW5nIGxvb2t1cHMuXG4gICAqL1xuICB2YXIgY2FjaGUkMiA9IHt9O1xuICAvKipcbiAgICogQ2FtZWxjYXNlIGEgcHJvcGVydHkgbmFtZSBpbnRvIGl0cyBKYXZhU2NyaXB0IG5vdGF0aW9uIChlLmcuXG4gICAqIFwiYmFja2dyb3VuZC1jb2xvclwiID09PiBcImJhY2tncm91bmRDb2xvclwiKS4gQ2FtZWxjYXNpbmcgaXMgdXNlZCB0b1xuICAgKiBub3JtYWxpemUgcHJvcGVydHkgbmFtZXMgYmV0d2VlbiBhbmQgYWNyb3NzIGNhbGxzLlxuICAgKi9cbiAgZnVuY3Rpb24gY2FtZWxDYXNlKHByb3BlcnR5KSB7XG4gICAgdmFyIGZpeGVkID0gY2FjaGUkMltwcm9wZXJ0eV07XG4gICAgaWYgKGZpeGVkKSB7XG4gICAgICByZXR1cm4gZml4ZWQ7XG4gICAgfVxuICAgIHJldHVybiBjYWNoZSQyW3Byb3BlcnR5XSA9IHByb3BlcnR5LnJlcGxhY2UoLy0oW2Etel0pL2csIGZ1bmN0aW9uICgkLCBsZXR0ZXIpIHtcbiAgICAgIHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIENvbnN0YW50c1xuICB2YXIgcnhDb2xvcjYgPSAvIyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KS9naSxcbiAgICAgIHJ4Q29sb3IzID0gLyMoW2EtZlxcZF0pKFthLWZcXGRdKShbYS1mXFxkXSkvZ2ksXG4gICAgICByeENvbG9yTmFtZSA9IC8ocmdiYT9cXChcXHMqKT8oXFxiW2Etel0rXFxiKS9nLFxuICAgICAgcnhSR0IgPSAvcmdiKGE/KVxcKChbXlxcKV0rKVxcKS9naSxcbiAgICAgIHJ4U3BhY2VzID0gL1xccysvZztcbiAgLyoqXG4gICAqIFRoaXMgaXMgdGhlIGxpc3Qgb2YgY29sb3IgbmFtZXMgLT4gcmdiIHZhbHVlcy4gVGhlIG9iamVjdCBpcyBpbiBoZXJlIHNvXG4gICAqIHRoYXQgdGhlIGFjdHVhbCBuYW1lIGNvbnZlcnNpb24gY2FuIGJlIGluIGEgc2VwYXJhdGUgZmlsZSBhbmQgbm90XG4gICAqIGluY2x1ZGVkIGZvciBjdXN0b20gYnVpbGRzLlxuICAgKi9cbiAgdmFyIENvbG9yTmFtZXMgPSB7fTtcbiAgLyoqXG4gICAqIENvbnZlcnQgYSBoZXggbGlzdCB0byBhbiByZ2JhIHZhbHVlLiBEZXNpZ25lZCB0byBiZSB1c2VkIGluIHJlcGxhY2UuXG4gICAqL1xuICBmdW5jdGlvbiBtYWtlUkdCQShpZ25vcmUsIHIsIGcsIGIpIHtcbiAgICAgIHJldHVybiBcInJnYmEoXCIgKyBwYXJzZUludChyLCAxNikgKyBcIixcIiArIHBhcnNlSW50KGcsIDE2KSArIFwiLFwiICsgcGFyc2VJbnQoYiwgMTYpICsgXCIsMSlcIjtcbiAgfVxuICAvKipcbiAgICogUmVwbGFjZSBhbnkgY3NzIGNvbG91ciBuYW1lIHdpdGggaXRzIHJnYmEoKSB2YWx1ZS4gSXQgaXMgcG9zc2libGUgdG8gdXNlXG4gICAqIHRoZSBuYW1lIHdpdGhpbiBhbiBcInJnYmEoYmx1ZSwgMC40KVwiIHN0cmluZyB0aGlzIHdheS5cbiAgICovXG4gIGZ1bmN0aW9uIGZpeENvbG9ycyhzdHIpIHtcbiAgICAgIHJldHVybiBzdHIucmVwbGFjZShyeENvbG9yNiwgbWFrZVJHQkEpLnJlcGxhY2UocnhDb2xvcjMsIGZ1bmN0aW9uICgkMCwgciwgZywgYikge1xuICAgICAgICAgIHJldHVybiBtYWtlUkdCQSgkMCwgciArIHIsIGcgKyBnLCBiICsgYik7XG4gICAgICB9KS5yZXBsYWNlKHJ4Q29sb3JOYW1lLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgICAgICAgIGlmIChDb2xvck5hbWVzWyQyXSkge1xuICAgICAgICAgICAgICByZXR1cm4gKCQxID8gJDEgOiBcInJnYmEoXCIpICsgQ29sb3JOYW1lc1skMl0gKyAoJDEgPyBcIlwiIDogXCIsMSlcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAkMDtcbiAgICAgIH0pLnJlcGxhY2UocnhSR0IsIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG4gICAgICAgICAgcmV0dXJuIFwicmdiYShcIiArICgkMi5yZXBsYWNlKHJ4U3BhY2VzLCBcIlwiKSArICgkMSA/IFwiXCIgOiBcIiwxXCIpKSArIFwiKVwiO1xuICAgICAgfSk7XG4gIH1cblxuICAvLyBQcm9qZWN0XG4gIC8qKlxuICAgKiBGaWd1cmUgb3V0IHRoZSBkaW1lbnNpb25zIGZvciB0aGlzIHdpZHRoIC8gaGVpZ2h0IGJhc2VkIG9uIHRoZVxuICAgKiBwb3RlbnRpYWwgYm9yZGVycyBhbmQgd2hldGhlciB3ZSBjYXJlIGFib3V0IHRoZW0uXG4gICAqL1xuICBmdW5jdGlvbiBhdWdtZW50RGltZW5zaW9uKGVsZW1lbnQsIG5hbWUsIHdhbnRJbm5lcikge1xuICAgICAgdmFyIGlzQm9yZGVyQm94ID0gZ2V0UHJvcGVydHlWYWx1ZShlbGVtZW50LCBcImJveFNpemluZ1wiKS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkgPT09IFwiYm9yZGVyLWJveFwiO1xuICAgICAgaWYgKGlzQm9yZGVyQm94ID09PSB3YW50SW5uZXIpIHtcbiAgICAgICAgICAvLyBpbiBib3gtc2l6aW5nIG1vZGUsIHRoZSBDU1Mgd2lkdGggLyBoZWlnaHQgYWNjZXNzb3JzIGFscmVhZHlcbiAgICAgICAgICAvLyBnaXZlIHRoZSBvdXRlcldpZHRoIC8gb3V0ZXJIZWlnaHQuXG4gICAgICAgICAgdmFyIHNpZGVzID0gbmFtZSA9PT0gXCJ3aWR0aFwiID8gW1wiTGVmdFwiLCBcIlJpZ2h0XCJdIDogW1wiVG9wXCIsIFwiQm90dG9tXCJdLFxuICAgICAgICAgICAgICBmaWVsZHMgPSBbXCJwYWRkaW5nXCIgKyBzaWRlc1swXSwgXCJwYWRkaW5nXCIgKyBzaWRlc1sxXSwgXCJib3JkZXJcIiArIHNpZGVzWzBdICsgXCJXaWR0aFwiLCBcImJvcmRlclwiICsgc2lkZXNbMV0gKyBcIldpZHRoXCJdO1xuICAgICAgICAgIHZhciBhdWdtZW50ID0gMDtcbiAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gZmllbGRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgdmFyIGZpZWxkID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlRmxvYXQoZ2V0UHJvcGVydHlWYWx1ZShlbGVtZW50LCBmaWVsZCkpO1xuICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdWdtZW50ICs9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gd2FudElubmVyID8gLWF1Z21lbnQgOiBhdWdtZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gIH1cblxuICAvLyBQcm9qZWN0XG4gIC8qKlxuICAgKiBHZXQgdGhlIHdpZHRoIG9yIGhlaWdodCBvZiBhbiBlbGVtZW50LCBwdWxsZWQgb3V0IGFzIGl0IGNhbiBiZSB1c2VkIHdoZW4gdGhlXG4gICAqIGluIHR3byBsb2NhdGlvbnMgc28gZG9uJ3Qgd2FudCB0byByZXBlYXQgaXQuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRXaWR0aEhlaWdodChlbGVtZW50LCBwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbcHJvcGVydHldICsgYXVnbWVudERpbWVuc2lvbihlbGVtZW50LCBwcm9wZXJ0eSwgdHJ1ZSkgKyBcInB4XCI7XG4gIH1cbiAgLy8gVE9ETzogVGhpcyBpcyBzdGlsbCBhIGNvbXBsZXRlIG1lc3NcbiAgZnVuY3Rpb24gY29tcHV0ZVByb3BlcnR5VmFsdWUoZWxlbWVudCwgcHJvcGVydHkpIHtcbiAgICAgIHZhciBkYXRhID0gRGF0YShlbGVtZW50KSxcblxuICAgICAgLy8gSWYgY29tcHV0ZWRTdHlsZSBpcyBjYWNoZWQsIHVzZSBpdC4gSWYgbm90IHRoZW4gZ2V0IHRoZSBjb3JyZWN0IG9uZVxuICAgICAgLy8gZm9yIHRoZSBlbGVtZW50IHRvIHN1cHBvcnQgY3Jvc3MtaWZyYW1lIGJvdW5kYXJpZXMuXG4gICAgICBjb21wdXRlZFN0eWxlID0gZGF0YS5jb21wdXRlZFN0eWxlID8gZGF0YS5jb21wdXRlZFN0eWxlIDogZGF0YS53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTtcbiAgICAgIHZhciBjb21wdXRlZFZhbHVlID0gMDtcbiAgICAgIGlmICghZGF0YS5jb21wdXRlZFN0eWxlKSB7XG4gICAgICAgICAgZGF0YS5jb21wdXRlZFN0eWxlID0gY29tcHV0ZWRTdHlsZTtcbiAgICAgIH1cbiAgICAgIGlmIChjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9PT0gXCJub25lXCIpIHtcbiAgICAgICAgICBzd2l0Y2ggKHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJ3aWR0aFwiOlxuICAgICAgICAgICAgICBjYXNlIFwiaGVpZ2h0XCI6XG4gICAgICAgICAgICAgICAgICAvLyBCcm93c2VycyBkbyBub3QgcmV0dXJuIGhlaWdodCBhbmQgd2lkdGggdmFsdWVzIGZvciBlbGVtZW50c1xuICAgICAgICAgICAgICAgICAgLy8gdGhhdCBhcmUgc2V0IHRvIGRpc3BsYXk6XCJub25lXCIuIFRodXMsIHdlIHRlbXBvcmFyaWx5IHRvZ2dsZVxuICAgICAgICAgICAgICAgICAgLy8gZGlzcGxheSB0byB0aGUgZWxlbWVudCB0eXBlJ3MgZGVmYXVsdCB2YWx1ZS5cbiAgICAgICAgICAgICAgICAgIHNldFByb3BlcnR5VmFsdWUoZWxlbWVudCwgXCJkaXNwbGF5XCIsIFwiYXV0b1wiKTtcbiAgICAgICAgICAgICAgICAgIGNvbXB1dGVkVmFsdWUgPSBnZXRXaWR0aEhlaWdodChlbGVtZW50LCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgICBzZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKGNvbXB1dGVkVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qIElFIGFuZCBGaXJlZm94IGRvIG5vdCByZXR1cm4gYSB2YWx1ZSBmb3IgdGhlIGdlbmVyaWMgYm9yZGVyQ29sb3IgLS0gdGhleSBvbmx5IHJldHVybiBpbmRpdmlkdWFsIHZhbHVlcyBmb3IgZWFjaCBib3JkZXIgc2lkZSdzIGNvbG9yLlxuICAgICAgIEFsc28sIGluIGFsbCBicm93c2Vycywgd2hlbiBib3JkZXIgY29sb3JzIGFyZW4ndCBhbGwgdGhlIHNhbWUsIGEgY29tcG91bmQgdmFsdWUgaXMgcmV0dXJuZWQgdGhhdCBWZWxvY2l0eSBpc24ndCBzZXR1cCB0byBwYXJzZS5cbiAgICAgICBTbywgYXMgYSBwb2x5ZmlsbCBmb3IgcXVlcnlpbmcgaW5kaXZpZHVhbCBib3JkZXIgc2lkZSBjb2xvcnMsIHdlIGp1c3QgcmV0dXJuIHRoZSB0b3AgYm9yZGVyJ3MgY29sb3IgYW5kIGFuaW1hdGUgYWxsIGJvcmRlcnMgZnJvbSB0aGF0IHZhbHVlLiAqL1xuICAgICAgLyogVE9ETzogVGhlcmUgaXMgYSBib3JkZXJDb2xvciBub3JtYWxpc2F0aW9uIGluIGxlZ2FjeS8gLSBmaWd1cmUgb3V0IHdoZXJlIHRoaXMgaXMgbmVlZGVkLi4uICovXG4gICAgICBjb21wdXRlZFZhbHVlID0gY29tcHV0ZWRTdHlsZVtwcm9wZXJ0eV07XG4gICAgICAvKiBGYWxsIGJhY2sgdG8gdGhlIHByb3BlcnR5J3Mgc3R5bGUgdmFsdWUgKGlmIGRlZmluZWQpIHdoZW4gY29tcHV0ZWRWYWx1ZSByZXR1cm5zIG5vdGhpbmcsXG4gICAgICAgd2hpY2ggY2FuIGhhcHBlbiB3aGVuIHRoZSBlbGVtZW50IGhhc24ndCBiZWVuIHBhaW50ZWQuICovXG4gICAgICBpZiAoIWNvbXB1dGVkVmFsdWUpIHtcbiAgICAgICAgICBjb21wdXRlZFZhbHVlID0gZWxlbWVudC5zdHlsZVtwcm9wZXJ0eV07XG4gICAgICB9XG4gICAgICAvKiBGb3IgdG9wLCByaWdodCwgYm90dG9tLCBhbmQgbGVmdCAoVFJCTCkgdmFsdWVzIHRoYXQgYXJlIHNldCB0byBcImF1dG9cIiBvbiBlbGVtZW50cyBvZiBcImZpeGVkXCIgb3IgXCJhYnNvbHV0ZVwiIHBvc2l0aW9uLFxuICAgICAgIGRlZmVyIHRvIGpRdWVyeSBmb3IgY29udmVydGluZyBcImF1dG9cIiB0byBhIG51bWVyaWMgdmFsdWUuIChGb3IgZWxlbWVudHMgd2l0aCBhIFwic3RhdGljXCIgb3IgXCJyZWxhdGl2ZVwiIHBvc2l0aW9uLCBcImF1dG9cIiBoYXMgdGhlIHNhbWVcbiAgICAgICBlZmZlY3QgYXMgYmVpbmcgc2V0IHRvIDAsIHNvIG5vIGNvbnZlcnNpb24gaXMgbmVjZXNzYXJ5LikgKi9cbiAgICAgIC8qIEFuIGV4YW1wbGUgb2Ygd2h5IG51bWVyaWMgY29udmVyc2lvbiBpcyBuZWNlc3Nhcnk6IFdoZW4gYW4gZWxlbWVudCB3aXRoIFwicG9zaXRpb246YWJzb2x1dGVcIiBoYXMgYW4gdW50b3VjaGVkIFwibGVmdFwiXG4gICAgICAgcHJvcGVydHksIHdoaWNoIHJldmVydHMgdG8gXCJhdXRvXCIsIGxlZnQncyB2YWx1ZSBpcyAwIHJlbGF0aXZlIHRvIGl0cyBwYXJlbnQgZWxlbWVudCwgYnV0IGlzIG9mdGVuIG5vbi16ZXJvIHJlbGF0aXZlXG4gICAgICAgdG8gaXRzICpjb250YWluaW5nKiAobm90IHBhcmVudCkgZWxlbWVudCwgd2hpY2ggaXMgdGhlIG5lYXJlc3QgXCJwb3NpdGlvbjpyZWxhdGl2ZVwiIGFuY2VzdG9yIG9yIHRoZSB2aWV3cG9ydCAoYW5kIGFsd2F5cyB0aGUgdmlld3BvcnQgaW4gdGhlIGNhc2Ugb2YgXCJwb3NpdGlvbjpmaXhlZFwiKS4gKi9cbiAgICAgIGlmIChjb21wdXRlZFZhbHVlID09PSBcImF1dG9cIikge1xuICAgICAgICAgIHN3aXRjaCAocHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgY2FzZSBcIndpZHRoXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJoZWlnaHRcIjpcbiAgICAgICAgICAgICAgICAgIGNvbXB1dGVkVmFsdWUgPSBnZXRXaWR0aEhlaWdodChlbGVtZW50LCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInRvcFwiOlxuICAgICAgICAgICAgICBjYXNlIFwibGVmdFwiOlxuXG4gICAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICAgICAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIFwicG9zaXRpb25cIik7XG4gICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPT09IFwiZml4ZWRcIiB8fCBwb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogdGhpcyBoYXMgbm8gcGl4ZWwgdW5pdCBvbiBpdHMgcmV0dXJuZWQgdmFsdWVzLFxuICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIHJlLWFkZCBpdCBoZXJlIHRvIGNvbmZvcm0gd2l0aFxuICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbXB1dGVQcm9wZXJ0eVZhbHVlJ3MgYmVoYXZpb3IuXG4gICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRWYWx1ZSA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0W3Byb3BlcnR5XSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gRGVsaWJlcmF0ZSBmYWxsdGhyb3VnaCFcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGNvbXB1dGVkVmFsdWUgPSBcIjBweFwiO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbXB1dGVkVmFsdWUgPyBTdHJpbmcoY29tcHV0ZWRWYWx1ZSkgOiBcIlwiO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBwcm9wZXJ0eSB2YWx1ZS4gVGhpcyB3aWxsIGdyYWIgdmlhIHRoZSBjYWNoZSBpZiBpdCBleGlzdHMsIHRoZW5cbiAgICogdmlhIGFueSBub3JtYWxpc2F0aW9ucy5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFByb3BlcnR5VmFsdWUoZWxlbWVudCwgcHJvcGVydHlOYW1lLCBmbiwgc2tpcENhY2hlKSB7XG4gICAgICB2YXIgZGF0YSA9IERhdGEoZWxlbWVudCk7XG4gICAgICB2YXIgcHJvcGVydHlWYWx1ZSA9IHZvaWQgMDtcbiAgICAgIGlmIChOb0NhY2hlTm9ybWFsaXphdGlvbnMuaGFzKHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICBza2lwQ2FjaGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFza2lwQ2FjaGUgJiYgZGF0YSAmJiBkYXRhLmNhY2hlW3Byb3BlcnR5TmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgIHByb3BlcnR5VmFsdWUgPSBkYXRhLmNhY2hlW3Byb3BlcnR5TmFtZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZuID0gZm4gfHwgZ2V0Tm9ybWFsaXphdGlvbihlbGVtZW50LCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgIGlmIChmbikge1xuICAgICAgICAgICAgICBwcm9wZXJ0eVZhbHVlID0gZm4oZWxlbWVudCk7XG4gICAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICBkYXRhLmNhY2hlW3Byb3BlcnR5TmFtZV0gPSBwcm9wZXJ0eVZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKFZlbG9jaXR5JCQxLmRlYnVnID49IDIpIHtcbiAgICAgICAgICBjb25zb2xlLmluZm8oXCJHZXQgXFxcIlwiICsgcHJvcGVydHlOYW1lICsgXCJcXFwiOiBcXFwiXCIgKyBwcm9wZXJ0eVZhbHVlICsgXCJcXFwiXCIsIGVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3BlcnR5VmFsdWU7XG4gIH1cblxuICAvLyBQcm9qZWN0XG4gIC8vIENvbnN0YW50c1xuICB2YXIgcnhIZXggPSAvXiMoW0EtZlxcZF17M30pezEsMn0kL2ksXG4gICAgICBjb21tYW5kcyA9IHtcbiAgICAgIGZ1bmN0aW9uOiBmdW5jdGlvbiBfZnVuY3Rpb24odmFsdWUsIGVsZW1lbnQsIGVsZW1lbnRzLCBlbGVtZW50QXJyYXlJbmRleCwgcHJvcGVydHlOYW1lLCB0d2Vlbikge1xuICAgICAgICAgIHJldHVybiB2YWx1ZS5jYWxsKGVsZW1lbnQsIGVsZW1lbnRBcnJheUluZGV4LCBlbGVtZW50cy5sZW5ndGgsIHByb3BlcnR5TmFtZSk7XG4gICAgICB9LFxuICAgICAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIodmFsdWUsIGVsZW1lbnQsIGVsZW1lbnRzLCBlbGVtZW50QXJyYXlJbmRleCwgcHJvcGVydHlOYW1lLCB0d2Vlbikge1xuICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpICsgZ2V0Tm9ybWFsaXphdGlvblVuaXQodHdlZW4uZm4pO1xuICAgICAgfSxcbiAgICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nKHZhbHVlLCBlbGVtZW50LCBlbGVtZW50cywgZWxlbWVudEFycmF5SW5kZXgsIHByb3BlcnR5TmFtZSwgdHdlZW4pIHtcbiAgICAgICAgICByZXR1cm4gZml4Q29sb3JzKHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICB1bmRlZmluZWQ6IGZ1bmN0aW9uIHVuZGVmaW5lZCh2YWx1ZSwgZWxlbWVudCwgZWxlbWVudHMsIGVsZW1lbnRBcnJheUluZGV4LCBwcm9wZXJ0eU5hbWUsIHR3ZWVuKSB7XG4gICAgICAgICAgcmV0dXJuIGZpeENvbG9ycyhnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5TmFtZSwgdHdlZW4uZm4pIHx8IFwiXCIpO1xuICAgICAgfVxuICB9O1xuICAvKipcbiAgICogRXhwYW5kIGEgVmVsb2NpdHlQcm9wZXJ0eSBhcmd1bWVudCBpbnRvIGEgdmFsaWQgc3BhcnNlIFR3ZWVuIGFycmF5LiBUaGlzXG4gICAqIHByZS1hbGxvY2F0ZXMgdGhlIGFycmF5IGFzIGl0IGlzIHRoZW4gdGhlIGNvcnJlY3Qgc2l6ZSBhbmQgc2xpZ2h0bHlcbiAgICogZmFzdGVyIHRvIGFjY2Vzcy5cbiAgICovXG4gIGZ1bmN0aW9uIGV4cGFuZFByb3BlcnRpZXMoYW5pbWF0aW9uLCBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgdHdlZW5zID0gYW5pbWF0aW9uLnR3ZWVucyA9IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICAgICAgZWxlbWVudHMgPSBhbmltYXRpb24uZWxlbWVudHMsXG4gICAgICAgICAgZWxlbWVudCA9IGFuaW1hdGlvbi5lbGVtZW50LFxuICAgICAgICAgIGVsZW1lbnRBcnJheUluZGV4ID0gZWxlbWVudHMuaW5kZXhPZihlbGVtZW50KSxcbiAgICAgICAgICBkYXRhID0gRGF0YShlbGVtZW50KSxcbiAgICAgICAgICBxdWV1ZSA9IGdldFZhbHVlKGFuaW1hdGlvbi5xdWV1ZSwgYW5pbWF0aW9uLm9wdGlvbnMucXVldWUpLFxuICAgICAgICAgIGR1cmF0aW9uID0gZ2V0VmFsdWUoYW5pbWF0aW9uLm9wdGlvbnMuZHVyYXRpb24sIGRlZmF1bHRzJDEuZHVyYXRpb24pO1xuICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykge1xuICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0gY2FtZWxDYXNlKHByb3BlcnR5KSxcbiAgICAgICAgICAgICAgICAgIGZuID0gZ2V0Tm9ybWFsaXphdGlvbihlbGVtZW50LCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgICB2YXIgdmFsdWVEYXRhID0gcHJvcGVydGllc1twcm9wZXJ0eV07XG4gICAgICAgICAgICAgIGlmICghZm4gJiYgcHJvcGVydHlOYW1lICE9PSBcInR3ZWVuXCIpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChWZWxvY2l0eSQkMS5kZWJ1Zykge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2tpcHBpbmcgXFxcIlwiICsgcHJvcGVydHkgKyBcIlxcXCIgZHVlIHRvIGEgbGFjayBvZiBicm93c2VyIHN1cHBvcnQuXCIpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHZhbHVlRGF0YSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoVmVsb2NpdHkkJDEuZGVidWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNraXBwaW5nIFxcXCJcIiArIHByb3BlcnR5ICsgXCJcXFwiIGR1ZSB0byBubyB2YWx1ZSBzdXBwbGllZC5cIik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgdHdlZW4gPSB0d2VlbnNbcHJvcGVydHlOYW1lXSA9IHt9O1xuICAgICAgICAgICAgICB2YXIgZW5kVmFsdWUgPSB2b2lkIDAsXG4gICAgICAgICAgICAgICAgICBzdGFydFZhbHVlID0gdm9pZCAwO1xuICAgICAgICAgICAgICB0d2Vlbi5mbiA9IGZuO1xuICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZURhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgZnVuY3Rpb24gYXMgdGhlIG1haW4gYXJndW1lbnQgdGhlbiByZXNvbHZlXG4gICAgICAgICAgICAgICAgICAvLyBpdCBmaXJzdCwgaW4gY2FzZSBpdCByZXR1cm5zIGFuIGFycmF5IHRoYXQgbmVlZHMgdG8gYmVcbiAgICAgICAgICAgICAgICAgIC8vIHNwbGl0LlxuICAgICAgICAgICAgICAgICAgdmFsdWVEYXRhID0gdmFsdWVEYXRhLmNhbGwoZWxlbWVudCwgZWxlbWVudEFycmF5SW5kZXgsIGVsZW1lbnRzLmxlbmd0aCwgZWxlbWVudHMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlRGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgIC8vIHZhbHVlRGF0YSBpcyBhbiBhcnJheSBpbiB0aGUgZm9ybSBvZlxuICAgICAgICAgICAgICAgICAgLy8gWyBlbmRWYWx1ZSwgWywgZWFzaW5nXSBbLCBzdGFydFZhbHVlXSBdXG4gICAgICAgICAgICAgICAgICB2YXIgYXJyMSA9IHZhbHVlRGF0YVsxXSxcbiAgICAgICAgICAgICAgICAgICAgICBhcnIyID0gdmFsdWVEYXRhWzJdO1xuICAgICAgICAgICAgICAgICAgZW5kVmFsdWUgPSB2YWx1ZURhdGFbMF07XG4gICAgICAgICAgICAgICAgICBpZiAoaXNTdHJpbmcoYXJyMSkgJiYgKC9eW1xcZC1dLy50ZXN0KGFycjEpIHx8IHJ4SGV4LnRlc3QoYXJyMSkpIHx8IGlzRnVuY3Rpb24oYXJyMSkgfHwgaXNOdW1iZXIoYXJyMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGFydFZhbHVlID0gYXJyMTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcoYXJyMSkgJiYgRWFzaW5nc1thcnIxXSB8fCBBcnJheS5pc0FycmF5KGFycjEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdHdlZW4uZWFzaW5nID0gdmFsaWRhdGVFYXNpbmcoYXJyMSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VmFsdWUgPSBhcnIyO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGFydFZhbHVlID0gYXJyMSB8fCBhcnIyO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZW5kVmFsdWUgPSB2YWx1ZURhdGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdHdlZW4uZW5kID0gY29tbWFuZHNbdHlwZW9mIGVuZFZhbHVlID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoZW5kVmFsdWUpXShlbmRWYWx1ZSwgZWxlbWVudCwgZWxlbWVudHMsIGVsZW1lbnRBcnJheUluZGV4LCBwcm9wZXJ0eU5hbWUsIHR3ZWVuKTtcbiAgICAgICAgICAgICAgaWYgKHN0YXJ0VmFsdWUgIT0gbnVsbCB8fCBxdWV1ZSA9PT0gZmFsc2UgfHwgZGF0YS5xdWV1ZUxpc3RbcXVldWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIHR3ZWVuLnN0YXJ0ID0gY29tbWFuZHNbdHlwZW9mIHN0YXJ0VmFsdWUgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihzdGFydFZhbHVlKV0oc3RhcnRWYWx1ZSwgZWxlbWVudCwgZWxlbWVudHMsIGVsZW1lbnRBcnJheUluZGV4LCBwcm9wZXJ0eU5hbWUsIHR3ZWVuKTtcbiAgICAgICAgICAgICAgICAgIGV4cGxvZGVUd2Vlbihwcm9wZXJ0eU5hbWUsIHR3ZWVuLCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgLy8gVE9ETzogTmVlZHMgYSBiZXR0ZXIgbWF0Y2ggZm9yIFwidHJhbnNsYXRlM2RcIiBldGMgLSBhIG51bWJlciBtdXN0IGJlIHByZWNlZGVkIGJ5IHNvbWUgZm9ybSBvZiBicmVhay4uLlxuICB2YXIgcnhUb2tlbiA9IC8oKD86WytcXC0qL109KT8oPzpbKy1dP1xcZCpcXC5cXGQrfFsrLV0/XFxkKylbYS16JV0qfCg/Oi4oPyEkfFsrLV0/XFxkfFsrXFwtKi9dPVsrLV0/XFxkKSkrLnwuKS9nLFxuICAgICAgcnhOdW1iZXIgPSAvXihbK1xcLSovXT0pPyhbKy1dP1xcZCpcXC5cXGQrfFsrLV0/XFxkKykoLiopJC87XG4gIC8qKlxuICAgKiBGaW5kIGEgcGF0dGVybiBiZXR3ZWVuIG11bHRpcGxlIHN0cmluZ3MsIHJldHVybiBhIFZlbG9jaXR5U2VxdWVuY2Ugd2l0aFxuICAgKiB0aGUgcGF0dGVybiBhbmQgdGhlIHRva2VuaXNlZCB2YWx1ZXMuXG4gICAqXG4gICAqIElmIG51bWJlciB0aGVuIGFuaW1hdGUuXG4gICAqIElmIGEgc3RyaW5nIHRoZW4gbXVzdCBtYXRjaC5cbiAgICogSWYgdW5pdHMgdGhlbiBjb252ZXJ0IGJldHdlZW4gdGhlbSBieSB3cmFwcGluZyBpbiBhIGNhbGMoKS5cbiAgICogLSBJZiBhbHJlYWR5IGluIGEgY2FsYyB0aGVuIG5lc3QgYW5vdGhlciBsYXllci5cbiAgICogSWYgaW4gYW4gcmdiYSgpIHRoZW4gdGhlIGZpcnN0IHRocmVlIG51bWJlcnMgYXJlIHJvdW5kZWQuXG4gICAqL1xuICBmdW5jdGlvbiBmaW5kUGF0dGVybihwYXJ0cywgcHJvcGVydHlOYW1lKSB7XG4gICAgICB2YXIgcGFydHNMZW5ndGggPSBwYXJ0cy5sZW5ndGgsXG4gICAgICAgICAgdG9rZW5zID0gW10sXG4gICAgICAgICAgaW5kZXhlcyA9IFtdO1xuICAgICAgdmFyIG51bWJlcnMgPSB2b2lkIDA7XG4gICAgICAvLyBGaXJzdCB0b2tlbmlzZSB0aGUgc3RyaW5ncyAtIHRoZXNlIGhhdmUgYWxsIHZhbHVlcywgd2Ugd2lsbCBwdWxsXG4gICAgICAvLyBudW1iZXJzIGxhdGVyLlxuICAgICAgZm9yICh2YXIgcGFydCA9IDA7IHBhcnQgPCBwYXJ0c0xlbmd0aDsgcGFydCsrKSB7XG4gICAgICAgICAgaWYgKGlzU3RyaW5nKHBhcnRzW3BhcnRdKSkge1xuICAgICAgICAgICAgICBpZiAocGFydHNbcGFydF0gPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgIHRva2Vuc1twYXJ0XSA9IFtcIlwiXTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRva2Vuc1twYXJ0XSA9IGNsb25lQXJyYXkocGFydHNbcGFydF0ubWF0Y2gocnhUb2tlbikpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGluZGV4ZXNbcGFydF0gPSAwO1xuICAgICAgICAgICAgICAvLyBJZiBpdCBtYXRjaGVzIG1vcmUgdGhhbiBvbmUgdGhpbmcgdGhlbiB3ZSd2ZSBnb3QgYSBudW1iZXIuXG4gICAgICAgICAgICAgIG51bWJlcnMgPSBudW1iZXJzIHx8IHRva2Vuc1twYXJ0XS5sZW5ndGggPiAxO1xuICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGB0b2tlbnM6YCwgcGFydHNbcGFydF0sIHRva2Vuc1twYXJ0XSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBXZSBoYXZlIGFuIGluY29tcGxldGUgbGluZXVwLCBpdCB3aWxsIGdldCB0cmllZCBhZ2FpbiBsYXRlci4uLlxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHNlcXVlbmNlID0gW10sXG4gICAgICAgICAgcGF0dGVybiA9IHNlcXVlbmNlLnBhdHRlcm4gPSBbXSxcbiAgICAgICAgICBhZGRTdHJpbmcgPSBmdW5jdGlvbiBhZGRTdHJpbmcodGV4dCkge1xuICAgICAgICAgIGlmIChpc1N0cmluZyhwYXR0ZXJuW3BhdHRlcm4ubGVuZ3RoIC0gMV0pKSB7XG4gICAgICAgICAgICAgIHBhdHRlcm5bcGF0dGVybi5sZW5ndGggLSAxXSArPSB0ZXh0O1xuICAgICAgICAgIH0gZWxzZSBpZiAodGV4dCkge1xuICAgICAgICAgICAgICBwYXR0ZXJuLnB1c2godGV4dCk7XG4gICAgICAgICAgICAgIGZvciAodmFyIF9wYXJ0ID0gMDsgX3BhcnQgPCBwYXJ0c0xlbmd0aDsgX3BhcnQrKykge1xuICAgICAgICAgICAgICAgICAgc2VxdWVuY2VbX3BhcnRdLnB1c2gobnVsbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9LFxuICAgICAgICAgIHJldHVyblN0cmluZ1R5cGUgPSBmdW5jdGlvbiByZXR1cm5TdHJpbmdUeXBlKCkge1xuICAgICAgICAgIGlmIChudW1iZXJzIHx8IHBhdHRlcm4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAvL2NvbnNvbGUuZXJyb3IoYFZlbG9jaXR5OiBUcnlpbmcgdG8gcGF0dGVybiBtYXRjaCBtaXMtbWF0Y2hlZCBzdHJpbmdzIFwiJHtwcm9wZXJ0eU5hbWV9XCI6YCwgcGFydHMpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBpc0Rpc3BsYXkgPSBwcm9wZXJ0eU5hbWUgPT09IFwiZGlzcGxheVwiLFxuICAgICAgICAgICAgICBpc1Zpc2liaWxpdHkgPSBwcm9wZXJ0eU5hbWUgPT09IFwidmlzaWJpbGl0eVwiO1xuICAgICAgICAgIGZvciAodmFyIF9wYXJ0MiA9IDA7IF9wYXJ0MiA8IHBhcnRzTGVuZ3RoOyBfcGFydDIrKykge1xuICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBwYXJ0c1tfcGFydDJdO1xuICAgICAgICAgICAgICBzZXF1ZW5jZVtfcGFydDJdWzBdID0gdmFsdWU7XG4gICAgICAgICAgICAgIC8vIERvbid0IGNhcmUgYWJvdXQgZHVyYXRpb24uLi5cbiAgICAgICAgICAgICAgc2VxdWVuY2VbX3BhcnQyXS5lYXNpbmcgPSB2YWxpZGF0ZUVhc2luZyhpc0Rpc3BsYXkgJiYgdmFsdWUgPT09IFwibm9uZVwiIHx8IGlzVmlzaWJpbGl0eSAmJiB2YWx1ZSA9PT0gXCJoaWRkZW5cIiB8fCAhaXNEaXNwbGF5ICYmICFpc1Zpc2liaWxpdHkgPyBcImF0LWVuZFwiIDogXCJhdC1zdGFydFwiLCA0MDApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXR0ZXJuWzBdID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIHNlcXVlbmNlO1xuICAgICAgfTtcbiAgICAgIHZhciBtb3JlID0gdHJ1ZTtcbiAgICAgIGZvciAodmFyIF9wYXJ0MyA9IDA7IF9wYXJ0MyA8IHBhcnRzTGVuZ3RoOyBfcGFydDMrKykge1xuICAgICAgICAgIHNlcXVlbmNlW19wYXJ0M10gPSBbXTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChtb3JlKSB7XG4gICAgICAgICAgdmFyIGJpdHMgPSBbXSxcbiAgICAgICAgICAgICAgdW5pdHMgPSBbXTtcbiAgICAgICAgICB2YXIgdGV4dCA9IHZvaWQgMCxcbiAgICAgICAgICAgICAgaXNVbml0bGVzcyA9IGZhbHNlLFxuICAgICAgICAgICAgICBoYXNOdW1iZXJzID0gZmFsc2U7XG4gICAgICAgICAgZm9yICh2YXIgX3BhcnQ0ID0gMDsgX3BhcnQ0IDwgcGFydHNMZW5ndGg7IF9wYXJ0NCsrKSB7XG4gICAgICAgICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbX3BhcnQ0XSsrLFxuICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbnNbX3BhcnQ0XVtpbmRleF07XG4gICAgICAgICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgICAgICAgdmFyIG51bSA9IHRva2VuLm1hdGNoKHJ4TnVtYmVyKTsgLy8gW2lnbm9yZSwgY2hhbmdlLCBudW1iZXIsIHVuaXRdXG4gICAgICAgICAgICAgICAgICBpZiAobnVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gSXQncyBhIG51bWJlciwgcG9zc2libHkgd2l0aCBhICs9IGNoYW5nZSBhbmQgdW5pdC5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuU3RyaW5nVHlwZSgpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlnaXRzID0gcGFyc2VGbG9hdChudW1bMl0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0ID0gbnVtWzNdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UgPSBudW1bMV0gPyBudW1bMV1bMF0gKyB1bml0IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VPclVuaXQgPSBjaGFuZ2UgfHwgdW5pdDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlnaXRzICYmICF1bml0cy5pbmNsdWRlcyhjaGFuZ2VPclVuaXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdpbGwgYmUgYW4gZW1wdHkgc3RyaW5nIGF0IHRoZSBsZWFzdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdHMucHVzaChjaGFuZ2VPclVuaXQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIXVuaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpZ2l0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzTnVtYmVycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1VuaXRsZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBiaXRzW19wYXJ0NF0gPSBjaGFuZ2UgPyBbZGlnaXRzLCBjaGFuZ2VPclVuaXQsIHRydWVdIDogW2RpZ2l0cywgY2hhbmdlT3JVbml0XTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYml0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuU3RyaW5nVHlwZSgpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBJdCdzIGEgc3RyaW5nLlxuICAgICAgICAgICAgICAgICAgICAgIGlmICghdGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXh0ICE9PSB0b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuU3RyaW5nVHlwZSgpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmICghX3BhcnQ0KSB7XG4gICAgICAgICAgICAgICAgICBmb3IgKDsgX3BhcnQ0IDwgcGFydHNMZW5ndGg7IF9wYXJ0NCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4MiA9IGluZGV4ZXNbX3BhcnQ0XSsrO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbnNbX3BhcnQ0XVtpbmRleDJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5TdHJpbmdUeXBlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgLy8gSU1QT1JUQU5UOiBUaGlzIGlzIHRoZSBleGl0IHBvaW50LlxuICAgICAgICAgICAgICAgICAgbW9yZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBEaWZmZXJlbnRcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgICAgICBhZGRTdHJpbmcodGV4dCk7XG4gICAgICAgICAgfSBlbHNlIGlmICh1bml0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgaWYgKHVuaXRzLmxlbmd0aCA9PT0gMiAmJiBpc1VuaXRsZXNzICYmICFoYXNOdW1iZXJzKSB7XG4gICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBvbmx5IGhhdmUgdHdvIHVuaXRzLCBhbmQgb25lIGlzIGVtcHR5LCBhbmQgaXQncyBvbmx5IGVtcHR5IG9uIFwiMFwiLCB0aGVuIHRyZWF0IHVzIGFzIGhhdmluZyBvbmUgdW5pdFxuICAgICAgICAgICAgICAgICAgdW5pdHMuc3BsaWNlKHVuaXRzWzBdID8gMSA6IDAsIDEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh1bml0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgIC8vIEFsbCB0aGUgc2FtZSB1bml0cywgc28gYXBwZW5kIG51bWJlciB0aGVuIHVuaXQuXG4gICAgICAgICAgICAgICAgICB2YXIgX3VuaXQgPSB1bml0c1swXSxcbiAgICAgICAgICAgICAgICAgICAgICBmaXJzdExldHRlciA9IF91bml0WzBdO1xuICAgICAgICAgICAgICAgICAgc3dpdGNoIChmaXJzdExldHRlcikge1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIrXCI6XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIi1cIjpcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiKlwiOlxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIvXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJWZWxvY2l0eTogVGhlIGZpcnN0IHByb3BlcnR5IG11c3Qgbm90IGNvbnRhaW4gYSByZWxhdGl2ZSBmdW5jdGlvbiBcXFwiXCIgKyBwcm9wZXJ0eU5hbWUgKyBcIlxcXCI6XCIsIHBhcnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBwYXR0ZXJuLnB1c2goZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX3BhcnQ1ID0gMDsgX3BhcnQ1IDwgcGFydHNMZW5ndGg7IF9wYXJ0NSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VbX3BhcnQ1XS5wdXNoKGJpdHNbX3BhcnQ1XVswXSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBhZGRTdHJpbmcoX3VuaXQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gTXVsdGlwbGUgdW5pdHMsIHNvIG11c3QgYmUgaW5zaWRlIGEgY2FsYy5cbiAgICAgICAgICAgICAgICAgIGFkZFN0cmluZyhcImNhbGMoXCIpO1xuICAgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm5DYWxjID0gcGF0dGVybi5sZW5ndGggLSAxOyAvLyBTdG9yZSB0aGUgYmVnaW5uaW5nIG9mIG91ciBjYWxjLlxuICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1bml0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBfdW5pdDIgPSB1bml0c1tpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2ZpcnN0TGV0dGVyID0gX3VuaXQyWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBsZXggPSBfZmlyc3RMZXR0ZXIgPT09IFwiKlwiIHx8IF9maXJzdExldHRlciA9PT0gXCIvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzTWF0aHMgPSBpc0NvbXBsZXggfHwgX2ZpcnN0TGV0dGVyID09PSBcIitcIiB8fCBfZmlyc3RMZXR0ZXIgPT09IFwiLVwiO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NvbXBsZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogTm90IHN1cmUgdGhpcyBzaG91bGQgYmUgZG9uZSBhdXRvbWF0aWNhbGx5IVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuW3BhdHRlcm5DYWxjXSArPSBcIihcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkU3RyaW5nKFwiKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkU3RyaW5nKFwiIFwiICsgKGlzTWF0aHMgPyBfZmlyc3RMZXR0ZXIgOiBcIitcIikgKyBcIiBcIik7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4ucHVzaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX3BhcnQ2ID0gMDsgX3BhcnQ2IDwgcGFydHNMZW5ndGg7IF9wYXJ0NisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiaXQgPSBiaXRzW19wYXJ0Nl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGJpdFsxXSA9PT0gX3VuaXQyID8gYml0WzBdIDogYml0Lmxlbmd0aCA9PT0gMyA/IHNlcXVlbmNlW19wYXJ0NiAtIDFdW3NlcXVlbmNlW19wYXJ0NiAtIDFdLmxlbmd0aCAtIDFdIDogaXNDb21wbGV4ID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlW19wYXJ0Nl0ucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGFkZFN0cmluZyhpc01hdGhzID8gX3VuaXQyLnN1YnN0cmluZygxKSA6IF91bml0Mik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBhZGRTdHJpbmcoXCIpXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gV2UndmUgZ290IGhlcmUsIHNvIGEgdmFsaWQgc2VxdWVuY2UgLSBub3cgY2hlY2sgYW5kIGZpeCBSR0Igcm91bmRpbmdcbiAgICAgIC8vIGFuZCBjYWxjKCkgbmVzdGluZy4uLlxuICAgICAgLy8gVE9ETzogTmVzdGVkIGNhbGMoYSArIGNhbGMoYiArIGMpKSAtPiBjYWxjKGEgKyAoYiArIGMpKVxuICAgICAgZm9yICh2YXIgX2kgPSAwLCBpblJHQiA9IDA7IF9pIDwgcGF0dGVybi5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICB2YXIgX3RleHQgPSBwYXR0ZXJuW19pXTtcbiAgICAgICAgICBpZiAoaXNTdHJpbmcoX3RleHQpKSB7XG4gICAgICAgICAgICAgIGlmIChpblJHQiAmJiBfdGV4dC5pbmRleE9mKFwiLFwiKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICBpblJHQisrO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90ZXh0LmluZGV4T2YoXCJyZ2JcIikgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgaW5SR0IgPSAxO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChpblJHQikge1xuICAgICAgICAgICAgICBpZiAoaW5SR0IgPCA0KSB7XG4gICAgICAgICAgICAgICAgICBwYXR0ZXJuW19pXSA9IHRydWU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBpblJHQiA9IDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VxdWVuY2U7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnQgYSBzdHJpbmctYmFzZWQgdHdlZW4gd2l0aCBzdGFydCBhbmQgZW5kIHN0cmluZ3MsIGludG8gYSBwYXR0ZXJuXG4gICAqIGJhc2VkIHR3ZWVuIHdpdGggYXJyYXlzLlxuICAgKi9cbiAgZnVuY3Rpb24gZXhwbG9kZVR3ZWVuKHByb3BlcnR5TmFtZSwgdHdlZW4sIGR1cmF0aW9uLCBzdGFydGluZykge1xuICAgICAgdmFyIHN0YXJ0VmFsdWUgPSB0d2Vlbi5zdGFydCxcbiAgICAgICAgICBlbmRWYWx1ZSA9IHR3ZWVuLmVuZDtcbiAgICAgIGlmICghaXNTdHJpbmcoZW5kVmFsdWUpIHx8ICFpc1N0cmluZyhzdGFydFZhbHVlKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBzZXF1ZW5jZSA9IGZpbmRQYXR0ZXJuKFtzdGFydFZhbHVlLCBlbmRWYWx1ZV0sIHByb3BlcnR5TmFtZSk7XG4gICAgICBpZiAoIXNlcXVlbmNlICYmIHN0YXJ0aW5nKSB7XG4gICAgICAgICAgLy8gVGhpcyBsaXR0bGUgcGllY2Ugd2lsbCB0YWtlIGEgc3RhcnRWYWx1ZSwgc3BsaXQgb3V0IHRoZVxuICAgICAgICAgIC8vIHZhcmlvdXMgbnVtYmVycyBpbiBpdCwgdGhlbiBjb3B5IHRoZSBlbmRWYWx1ZSBpbnRvIHRoZVxuICAgICAgICAgIC8vIHN0YXJ0VmFsdWUgd2hpbGUgcmVwbGFjaW5nIHRoZSBudW1iZXJzIGluIGl0IHRvIG1hdGNoIHRoZVxuICAgICAgICAgIC8vIG9yaWdpbmFsIHN0YXJ0IG51bWJlcnMgYXMgYSByZXBlYXRpbmcgc2VxdWVuY2UuXG4gICAgICAgICAgLy8gRmluYWxseSB0aGlzIGZ1bmN0aW9uIHdpbGwgcnVuIGFnYWluIHdpdGggdGhlIG5ld1xuICAgICAgICAgIC8vIHN0YXJ0VmFsdWUgYW5kIGEgbm93IG1hdGNoaW5nIHBhdHRlcm4uXG4gICAgICAgICAgdmFyIHN0YXJ0TnVtYmVycyA9IHN0YXJ0VmFsdWUubWF0Y2goL1xcZFxcLj9cXGQqL2cpIHx8IFtcIjBcIl0sXG4gICAgICAgICAgICAgIGNvdW50ID0gc3RhcnROdW1iZXJzLmxlbmd0aDtcbiAgICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICAgIHNlcXVlbmNlID0gZmluZFBhdHRlcm4oW2VuZFZhbHVlLnJlcGxhY2UoL1xcZCtcXC4/XFxkKi9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzdGFydE51bWJlcnNbaW5kZXgrKyAlIGNvdW50XTtcbiAgICAgICAgICB9KSwgZW5kVmFsdWVdLCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKHNlcXVlbmNlKSB7XG4gICAgICAgICAgaWYgKFZlbG9jaXR5JCQxLmRlYnVnKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVmVsb2NpdHk6IFNlcXVlbmNlIGZvdW5kOlwiLCBzZXF1ZW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlcXVlbmNlWzBdLnBlcmNlbnQgPSAwO1xuICAgICAgICAgIHNlcXVlbmNlWzFdLnBlcmNlbnQgPSAxO1xuICAgICAgICAgIHR3ZWVuLnNlcXVlbmNlID0gc2VxdWVuY2U7XG4gICAgICAgICAgc3dpdGNoICh0d2Vlbi5lYXNpbmcpIHtcbiAgICAgICAgICAgICAgY2FzZSBFYXNpbmdzW1wiYXQtc3RhcnRcIl06XG4gICAgICAgICAgICAgIGNhc2UgRWFzaW5nc1tcImR1cmluZ1wiXTpcbiAgICAgICAgICAgICAgY2FzZSBFYXNpbmdzW1wiYXQtZW5kXCJdOlxuICAgICAgICAgICAgICAgICAgc2VxdWVuY2VbMF0uZWFzaW5nID0gc2VxdWVuY2VbMV0uZWFzaW5nID0gdHdlZW4uZWFzaW5nO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBFeHBhbmQgYWxsIHF1ZXVlZCBhbmltYXRpb25zIHRoYXQgaGF2ZW4ndCBnb25lIHlldFxuICAgKlxuICAgKiBUaGlzIHdpbGwgYXV0b21hdGljYWxseSBleHBhbmQgdGhlIHByb3BlcnRpZXMgbWFwIGZvciBhbnkgcmVjZW50bHkgYWRkZWRcbiAgICogYW5pbWF0aW9ucyBzbyB0aGF0IHRoZSBzdGFydCBhbmQgZW5kIHZhbHVlcyBhcmUgY29ycmVjdC5cbiAgICovXG4gIGZ1bmN0aW9uIHZhbGlkYXRlVHdlZW5zKGFjdGl2ZUNhbGwpIHtcbiAgICAgIC8vIFRoaXMgbWlnaHQgYmUgY2FsbGVkIG9uIGFuIGFscmVhZHktcmVhZHkgYW5pbWF0aW9uXG4gICAgICBpZiAoU3RhdGUuZmlyc3ROZXcgPT09IGFjdGl2ZUNhbGwpIHtcbiAgICAgICAgICBTdGF0ZS5maXJzdE5ldyA9IGFjdGl2ZUNhbGwuX25leHQ7XG4gICAgICB9XG4gICAgICAvLyBDaGVjayBpZiB3ZSdyZSBhY3R1YWxseSBhbHJlYWR5IHJlYWR5XG4gICAgICBpZiAoYWN0aXZlQ2FsbC5fZmxhZ3MgJiAxIC8qIEVYUEFOREVEICovKSB7XG4gICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgdmFyIGVsZW1lbnQgPSBhY3RpdmVDYWxsLmVsZW1lbnQsXG4gICAgICAgICAgdHdlZW5zID0gYWN0aXZlQ2FsbC50d2VlbnMsXG4gICAgICAgICAgZHVyYXRpb24gPSBnZXRWYWx1ZShhY3RpdmVDYWxsLm9wdGlvbnMuZHVyYXRpb24sIGRlZmF1bHRzJDEuZHVyYXRpb24pO1xuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmZvcmluXG4gICAgICBmb3IgKHZhciBwcm9wZXJ0eU5hbWUgaW4gdHdlZW5zKSB7XG4gICAgICAgICAgdmFyIHR3ZWVuID0gdHdlZW5zW3Byb3BlcnR5TmFtZV07XG4gICAgICAgICAgaWYgKHR3ZWVuLnN0YXJ0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgLy8gR2V0IHRoZSBzdGFydCB2YWx1ZSBhcyBpdCdzIG5vdCBiZWVuIHBhc3NlZCBpblxuICAgICAgICAgICAgICB2YXIgc3RhcnRWYWx1ZSA9IGdldFByb3BlcnR5VmFsdWUoYWN0aXZlQ2FsbC5lbGVtZW50LCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgICBpZiAoaXNTdHJpbmcoc3RhcnRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgIHR3ZWVuLnN0YXJ0ID0gZml4Q29sb3JzKHN0YXJ0VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgZXhwbG9kZVR3ZWVuKHByb3BlcnR5TmFtZSwgdHdlZW4sIGR1cmF0aW9uLCB0cnVlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShzdGFydFZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiYmFkIHR5cGVcIiwgdHdlZW4sIHByb3BlcnR5TmFtZSwgc3RhcnRWYWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFZlbG9jaXR5JCQxLmRlYnVnKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidHdlZW5zQ29udGFpbmVyIFxcXCJcIiArIHByb3BlcnR5TmFtZSArIFwiXFxcIjogXCIgKyBKU09OLnN0cmluZ2lmeSh0d2VlbiksIGVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFjdGl2ZUNhbGwuX2ZsYWdzIHw9IDEgLyogRVhQQU5ERUQgKi87IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICB9XG5cbiAgLy8gUHJvamVjdFxuICAvKipcbiAgICogQ2FsbCB0aGUgYmVnaW4gbWV0aG9kIG9mIGFuIGFuaW1hdGlvbiBpbiBhIHNlcGFyYXRlIGZ1bmN0aW9uIHNvIGl0IGNhblxuICAgKiBiZW5lZml0IGZyb20gSklUIGNvbXBpbGluZyB3aGlsZSBzdGlsbCBoYXZpbmcgYSB0cnkvY2F0Y2ggYmxvY2suXG4gICAqL1xuICBmdW5jdGlvbiBiZWdpbkNhbGwoYWN0aXZlQ2FsbCkge1xuICAgICAgdmFyIGNhbGxiYWNrID0gYWN0aXZlQ2FsbC5iZWdpbiB8fCBhY3RpdmVDYWxsLm9wdGlvbnMuYmVnaW47XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBhY3RpdmVDYWxsLmVsZW1lbnRzO1xuICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKGVsZW1lbnRzLCBlbGVtZW50cywgYWN0aXZlQ2FsbCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBDYWxsIHRoZSBwcm9ncmVzcyBtZXRob2Qgb2YgYW4gYW5pbWF0aW9uIGluIGEgc2VwYXJhdGUgZnVuY3Rpb24gc28gaXQgY2FuXG4gICAqIGJlbmVmaXQgZnJvbSBKSVQgY29tcGlsaW5nIHdoaWxlIHN0aWxsIGhhdmluZyBhIHRyeS9jYXRjaCBibG9jay5cbiAgICovXG4gIGZ1bmN0aW9uIHByb2dyZXNzQ2FsbChhY3RpdmVDYWxsKSB7XG4gICAgICB2YXIgY2FsbGJhY2sgPSBhY3RpdmVDYWxsLnByb2dyZXNzIHx8IGFjdGl2ZUNhbGwub3B0aW9ucy5wcm9ncmVzcztcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IGFjdGl2ZUNhbGwuZWxlbWVudHMsXG4gICAgICAgICAgICAgICAgICBwZXJjZW50Q29tcGxldGUgPSBhY3RpdmVDYWxsLnBlcmNlbnRDb21wbGV0ZSxcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBhY3RpdmVDYWxsLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICB0d2VlblZhbHVlID0gYWN0aXZlQ2FsbC50d2VlbjtcbiAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChlbGVtZW50cywgZWxlbWVudHMsIHBlcmNlbnRDb21wbGV0ZSwgTWF0aC5tYXgoMCwgYWN0aXZlQ2FsbC50aW1lU3RhcnQgKyAoYWN0aXZlQ2FsbC5kdXJhdGlvbiAhPSBudWxsID8gYWN0aXZlQ2FsbC5kdXJhdGlvbiA6IG9wdGlvbnMuZHVyYXRpb24gIT0gbnVsbCA/IG9wdGlvbnMuZHVyYXRpb24gOiBkZWZhdWx0cyQxLmR1cmF0aW9uKSAtIGxhc3RUaWNrKSwgdHdlZW5WYWx1ZSAhPT0gdW5kZWZpbmVkID8gdHdlZW5WYWx1ZSA6IFN0cmluZyhwZXJjZW50Q29tcGxldGUgKiAxMDApLCBhY3RpdmVDYWxsKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhbGwgY2FsbGJhY2tzLCBwb3RlbnRpYWxseSBydW4gYXN5bmMgd2l0aCB0aGUgbWFpbiBhbmltYXRpb24gdGhyZWFkLlxuICAgKi9cbiAgZnVuY3Rpb24gYXN5bmNDYWxsYmFja3MoKSB7XG4gICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBwcm9ncmVzc2VkW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICB2YXIgYWN0aXZlQ2FsbCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgIHByb2dyZXNzQ2FsbChhY3RpdmVDYWxsKTtcbiAgICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBwcm9ncmVzc2VkLmNsZWFyKCk7XG4gICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gY29tcGxldGVkW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgIHZhciBfYWN0aXZlQ2FsbCA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICBjb21wbGV0ZUNhbGwoX2FjdGl2ZUNhbGwpO1xuICAgICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb21wbGV0ZWQuY2xlYXIoKTtcbiAgfVxuICAvKioqKioqKioqKioqKipcbiAgIFRpbWluZ1xuICAgKioqKioqKioqKioqKiovXG4gIHZhciBGUkFNRV9USU1FID0gMTAwMCAvIDYwLFxuXG4gIC8qKlxuICAgKiBBbmltYXRpb25zIHdpdGggYSBDb21wbGV0ZSBjYWxsYmFjay5cbiAgICovXG4gIGNvbXBsZXRlZCA9IG5ldyBTZXQoKSxcblxuICAvKipcbiAgICogQW5pbWF0aW9ucyB3aXRoIGEgUHJvZ3Jlc3MgY2FsbGJhY2suXG4gICAqL1xuICBwcm9ncmVzc2VkID0gbmV3IFNldCgpLFxuXG4gIC8qKlxuICAgKiBTaGltIGZvciB3aW5kb3cucGVyZm9ybWFuY2UgaW4gY2FzZSBpdCBkb2Vzbid0IGV4aXN0XG4gICAqL1xuICBwZXJmb3JtYW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwZXJmID0gd2luZG93LnBlcmZvcm1hbmNlIHx8IHt9O1xuICAgICAgaWYgKHR5cGVvZiBwZXJmLm5vdyAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgdmFyIG5vd09mZnNldCA9IHBlcmYudGltaW5nICYmIHBlcmYudGltaW5nLm5hdmlnYXRpb25TdGFydCA/IHBlcmYudGltaW5nLm5hdmlnYXRpb25TdGFydCA6IG5vdygpO1xuICAgICAgICAgIHBlcmYubm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gbm93KCkgLSBub3dPZmZzZXQ7XG4gICAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwZXJmO1xuICB9KCksXG5cbiAgLyoqXG4gICAqIFByb3h5IGZ1bmN0aW9uIGZvciB3aGVuIHJBRiBpcyBub3QgYXZhaWxhYmxlLlxuICAgKlxuICAgKiBUaGlzIHNob3VsZCBob3BlZnVsbHkgbmV2ZXIgYmUgdXNlZCBhcyB0aGUgYnJvd3NlcnMgb2Z0ZW4gdGhyb3R0bGVcbiAgICogdGhpcyB0byBsZXNzIHRoYW4gb25lIGZyYW1lIHBlciBzZWNvbmQgaW4gdGhlIGJhY2tncm91bmQsIG1ha2luZyBpdFxuICAgKiBjb21wbGV0ZWx5IHVudXNhYmxlLlxuICAgKi9cbiAgckFGUHJveHkgPSBmdW5jdGlvbiByQUZQcm94eShjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoY2FsbGJhY2ssIE1hdGgubWF4KDAsIEZSQU1FX1RJTUUgLSAocGVyZm9ybWFuY2Uubm93KCkgLSBsYXN0VGljaykpKTtcbiAgfSxcblxuICAvKipcbiAgICogRWl0aGVyIHJlcXVlc3RBbmltYXRpb25GcmFtZSwgb3IgYSBzaGltIGZvciBpdC5cbiAgICovXG4gIHJBRlNoaW0gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHJBRlByb3h5O1xuICAvKipcbiAgICogU2V0IGlmIHdlIGFyZSBjdXJyZW50bHkgaW5zaWRlIGEgdGljaygpIHRvIHByZXZlbnQgZG91YmxlLWNhbGxpbmcuXG4gICAqL1xuICB2YXIgdGlja2luZyA9IHZvaWQgMCxcblxuICAvKipcbiAgICogQSBiYWNrZ3JvdW5kIFdlYldvcmtlciB0aGF0IHNlbmRzIHVzIGZyYW1lcmF0ZSBtZXNzYWdlcyB3aGVuIHdlJ3JlIGluXG4gICAqIHRoZSBiYWNrZ3JvdW5kLiBXaXRob3V0IHRoaXMgd2UgY2Fubm90IG1haW50YWluIGZyYW1lIGFjY3VyYWN5LlxuICAgKi9cbiAgd29ya2VyID0gdm9pZCAwO1xuICAvKipcbiAgICogVGhlIHRpbWUgdGhhdCB0aGUgbGFzdCBhbmltYXRpb24gZnJhbWUgcmFuIGF0LiBTZXQgZnJvbSB0aWNrKCksIGFuZCB1c2VkXG4gICAqIGZvciBtaXNzaW5nIHJBRiAoaWUsIHdoZW4gbm90IGluIGZvY3VzIGV0YykuXG4gICAqL1xuICB2YXIgbGFzdFRpY2sgPSAwO1xuICAvKipcbiAgICogV2ViV29ya2VyIGJhY2tncm91bmQgZnVuY3Rpb24uXG4gICAqXG4gICAqIFdoZW4gd2UncmUgaW4gdGhlIGJhY2tncm91bmQgdGhpcyB3aWxsIHNlbmQgdXMgYSBtc2cgZXZlcnkgdGljaywgd2hlbiBpblxuICAgKiB0aGUgZm9yZWdyb3VuZCBpdCB3b24ndC5cbiAgICpcbiAgICogV2hlbiBydW5uaW5nIGluIHRoZSBiYWNrZ3JvdW5kIHRoZSBicm93c2VyIHJlZHVjZXMgYWxsb3dlZCBDUFUgZXRjLCBzb1xuICAgKiB3ZSByYXVuIGF0IDMwZnBzIGluc3RlYWQgb2YgNjBmcHMuXG4gICAqL1xuICBmdW5jdGlvbiB3b3JrZXJGbigpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBpbnRlcnZhbCA9IHZvaWQgMDtcbiAgICAgIHRoaXMub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBzd2l0Y2ggKGUuZGF0YSkge1xuICAgICAgICAgICAgICBjYXNlIHRydWU6XG4gICAgICAgICAgICAgICAgICBpZiAoIWludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvc3RNZXNzYWdlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDAgLyAzMCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBmYWxzZTpcbiAgICAgICAgICAgICAgICAgIGlmIChpbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgIGludGVydmFsID0gMDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgX3RoaXMucG9zdE1lc3NhZ2UoZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgIH07XG4gIH1cbiAgdHJ5IHtcbiAgICAgIC8vIENyZWF0ZSB0aGUgd29ya2VyIC0gdGhpcyBtaWdodCBub3QgYmUgc3VwcG9ydGVkLCBoZW5jZSB0aGUgdHJ5L2NhdGNoLlxuICAgICAgd29ya2VyID0gbmV3IFdvcmtlcihVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtcIihcIiArIHdvcmtlckZuICsgXCIpKClcIl0pKSk7XG4gICAgICAvLyBXaGVuZXZlciB0aGUgd29ya2VyIHNlbmRzIGEgbWVzc2FnZSB3ZSB0aWNrKClcbiAgICAgIHdvcmtlci5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGlmIChlLmRhdGEgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgdGljaygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFzeW5jQ2FsbGJhY2tzKCk7XG4gICAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIC8vIEFuZCB3YXRjaCBmb3IgZ29pbmcgdG8gdGhlIGJhY2tncm91bmQgdG8gc3RhcnQgdGhlIFdlYldvcmtlciBydW5uaW5nLlxuICAgICAgaWYgKCFTdGF0ZS5pc01vYmlsZSAmJiBkb2N1bWVudC5oaWRkZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKFN0YXRlLmlzVGlja2luZyAmJiBkb2N1bWVudC5oaWRkZW4pO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICB9IGNhdGNoIChlKSB7fVxuICAvKlxuICAgKiBXZWJXb3JrZXJzIGFyZSBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZm9ybWF0LiBUaGlzIGNhbiBoYXBwZW4gaW4gSUUxMFxuICAgKiB3aGVyZSBpdCBjYW4ndCBjcmVhdGUgb25lIGZyb20gYSBibG9iIHRoaXMgd2F5LiBXZSBmYWxsYmFjaywgYnV0IG1ha2VcbiAgICogbm8gZ3VhcmFudGVlcyB0b3dhcmRzIGFjY3VyYWN5IGluIHRoaXMgY2FzZS5cbiAgICovXG5cbiAgLyoqXG4gICAqIENhbGxlZCBvbiBldmVyeSB0aWNrLCBwcmVmZXJhYmx5IHRocm91Z2ggckFGLiBUaGlzIGlzIHJlcG9uc2libGUgZm9yXG4gICAqIGluaXRpYWxpc2luZyBhbnkgbmV3IGFuaW1hdGlvbnMsIHRoZW4gc3RhcnRpbmcgYW55IHRoYXQgbmVlZCBzdGFydGluZy5cbiAgICogRmluYWxseSBpdCB3aWxsIGV4cGFuZCBhbnkgdHdlZW5zIGFuZCBzZXQgdGhlIHByb3BlcnRpZXMgcmVsYXRpbmcgdG9cbiAgICogdGhlbS4gSWYgdGhlcmUgYXJlIGFueSBjYWxsYmFja3MgcmVsYXRpbmcgdG8gdGhlIGFuaW1hdGlvbnMgdGhlbiB0aGV5XG4gICAqIHdpbGwgYXR0ZW1wdCB0byBjYWxsIGF0IHRoZSBlbmQgKHdpdGggdGhlIGV4Y2VwdGlvbiBvZiBcImJlZ2luXCIpLlxuICAgKi9cbiAgZnVuY3Rpb24gdGljayh0aW1lc3RhbXApIHtcbiAgICAgIGlmICh0aWNraW5nKSB7XG4gICAgICAgICAgLy8gU2hvdWxkIG5ldmVyIGhhcHBlbiAtIGJ1dCBpZiB3ZSd2ZSBzd2FwcGVkIGJhY2sgZnJvbSBoaWRkZW4gdG9cbiAgICAgICAgICAvLyB2aXNpYmlsZSB0aGVuIHdlIHdhbnQgdG8gbWFrZSBzdXJlXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGlja2luZyA9IHRydWU7XG4gICAgICAvKiBBbiBlbXB0eSB0aW1lc3RhbXAgYXJndW1lbnQgaW5kaWNhdGVzIHRoYXQgdGhpcyBpcyB0aGUgZmlyc3QgdGljayBvY2N1cmVuY2Ugc2luY2UgdGlja2luZyB3YXMgdHVybmVkIG9uLlxuICAgICAgIFdlIGxldmVyYWdlIHRoaXMgbWV0YWRhdGEgdG8gZnVsbHkgaWdub3JlIHRoZSBmaXJzdCB0aWNrIHBhc3Mgc2luY2UgUkFGJ3MgaW5pdGlhbCBwYXNzIGlzIGZpcmVkIHdoZW5ldmVyXG4gICAgICAgdGhlIGJyb3dzZXIncyBuZXh0IHRpY2sgc3luYyB0aW1lIG9jY3Vycywgd2hpY2ggcmVzdWx0cyBpbiB0aGUgZmlyc3QgZWxlbWVudHMgc3ViamVjdGVkIHRvIFZlbG9jaXR5XG4gICAgICAgY2FsbHMgYmVpbmcgYW5pbWF0ZWQgb3V0IG9mIHN5bmMgd2l0aCBhbnkgZWxlbWVudHMgYW5pbWF0ZWQgaW1tZWRpYXRlbHkgdGhlcmVhZnRlci4gSW4gc2hvcnQsIHdlIGlnbm9yZVxuICAgICAgIHRoZSBmaXJzdCBSQUYgdGljayBwYXNzIHNvIHRoYXQgZWxlbWVudHMgYmVpbmcgaW1tZWRpYXRlbHkgY29uc2VjdXRpdmVseSBhbmltYXRlZCAtLSBpbnN0ZWFkIG9mIHNpbXVsdGFuZW91c2x5IGFuaW1hdGVkXG4gICAgICAgYnkgdGhlIHNhbWUgVmVsb2NpdHkgY2FsbCAtLSBhcmUgcHJvcGVybHkgYmF0Y2hlZCBpbnRvIHRoZSBzYW1lIGluaXRpYWwgUkFGIHRpY2sgYW5kIGNvbnNlcXVlbnRseSByZW1haW4gaW4gc3luYyB0aGVyZWFmdGVyLiAqL1xuICAgICAgaWYgKHRpbWVzdGFtcCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICB2YXIgdGltZUN1cnJlbnQgPSBwZXJmb3JtYW5jZS5ub3coKSxcbiAgICAgICAgICAgICAgZGVsdGFUaW1lID0gbGFzdFRpY2sgPyB0aW1lQ3VycmVudCAtIGxhc3RUaWNrIDogRlJBTUVfVElNRSxcbiAgICAgICAgICAgICAgZGVmYXVsdFNwZWVkID0gZGVmYXVsdHMkMS5zcGVlZCxcbiAgICAgICAgICAgICAgZGVmYXVsdEVhc2luZyA9IGRlZmF1bHRzJDEuZWFzaW5nLFxuICAgICAgICAgICAgICBkZWZhdWx0RHVyYXRpb24gPSBkZWZhdWx0cyQxLmR1cmF0aW9uO1xuICAgICAgICAgIHZhciBhY3RpdmVDYWxsID0gdm9pZCAwLFxuICAgICAgICAgICAgICBuZXh0Q2FsbCA9IHZvaWQgMDtcbiAgICAgICAgICBpZiAoZGVsdGFUaW1lID49IGRlZmF1bHRzJDEubWluRnJhbWVUaW1lIHx8ICFsYXN0VGljaykge1xuICAgICAgICAgICAgICBsYXN0VGljayA9IHRpbWVDdXJyZW50O1xuICAgICAgICAgICAgICAvKioqKioqKioqKioqKioqKioqKipcbiAgICAgICAgICAgICAgIENhbGwgSXRlcmF0aW9uXG4gICAgICAgICAgICAgICAqKioqKioqKioqKioqKioqKioqKi9cbiAgICAgICAgICAgICAgLy8gRXhwYW5kIGFueSB0d2VlbnMgdGhhdCBtaWdodCBuZWVkIGl0LlxuICAgICAgICAgICAgICB3aGlsZSAoU3RhdGUuZmlyc3ROZXcpIHtcbiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlVHdlZW5zKFN0YXRlLmZpcnN0TmV3KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggZWFjaCBhY3RpdmUgY2FsbC5cbiAgICAgICAgICAgICAgZm9yIChhY3RpdmVDYWxsID0gU3RhdGUuZmlyc3Q7IGFjdGl2ZUNhbGwgJiYgYWN0aXZlQ2FsbCAhPT0gU3RhdGUuZmlyc3ROZXc7IGFjdGl2ZUNhbGwgPSBhY3RpdmVDYWxsLl9uZXh0KSB7XG4gICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGFjdGl2ZUNhbGwuZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gRGF0YShlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGlzIGVsZW1lbnQgaGFzIGJlZW4gZGVsZXRlZCBtaWR3YXlcbiAgICAgICAgICAgICAgICAgIC8vIHRocm91Z2ggdGhlIGFuaW1hdGlvbi4gSWYgaXQncyBnb25lIHRoZW4gZW5kIHRoaXNcbiAgICAgICAgICAgICAgICAgIC8vIGFuaW1hdGlvbi5cbiAgICAgICAgICAgICAgICAgIGlmICghZWxlbWVudC5wYXJlbnROb2RlIHx8ICFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogUmVtb3ZlIHNhZmVseSAtIGRlY3JlYXNlIGNvdW50LCBkZWxldGUgZGF0YSwgcmVtb3ZlIGZyb20gYXJyYXlzXG4gICAgICAgICAgICAgICAgICAgICAgZnJlZUFuaW1hdGlvbkNhbGwoYWN0aXZlQ2FsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAvLyBEb24ndCBib3RoZXIgZ2V0dGluZyB1bnRpbCB3ZSBjYW4gdXNlIHRoZXNlLlxuICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBhY3RpdmVDYWxsLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgZmxhZ3MgPSBhY3RpdmVDYWxsLl9mbGFncztcbiAgICAgICAgICAgICAgICAgIHZhciB0aW1lU3RhcnQgPSBhY3RpdmVDYWxsLnRpbWVTdGFydDtcbiAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGZpcnN0IHRpbWUgdGhhdCB0aGlzIGNhbGwgaGFzIGJlZW5cbiAgICAgICAgICAgICAgICAgIC8vIHByb2Nlc3NlZCBieSB0aWNrKCkgdGhlbiB3ZSBhc3NpZ24gdGltZVN0YXJ0IG5vdyBzbyB0aGF0XG4gICAgICAgICAgICAgICAgICAvLyBpdCdzIHZhbHVlIGlzIGFzIGNsb3NlIHRvIHRoZSByZWFsIGFuaW1hdGlvbiBzdGFydCB0aW1lXG4gICAgICAgICAgICAgICAgICAvLyBhcyBwb3NzaWJsZS5cbiAgICAgICAgICAgICAgICAgIGlmICghdGltZVN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXVlID0gYWN0aXZlQ2FsbC5xdWV1ZSAhPSBudWxsID8gYWN0aXZlQ2FsbC5xdWV1ZSA6IG9wdGlvbnMucXVldWU7XG4gICAgICAgICAgICAgICAgICAgICAgdGltZVN0YXJ0ID0gdGltZUN1cnJlbnQgLSBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXVlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lU3RhcnQgPSBNYXRoLm1heCh0aW1lU3RhcnQsIGRhdGEubGFzdEZpbmlzaExpc3RbcXVldWVdIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVDYWxsLnRpbWVTdGFydCA9IHRpbWVTdGFydDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgYW5pbWF0aW9uIGlzIHBhdXNlZCB0aGVuIHNraXAgcHJvY2Vzc2luZyB1bmxlc3NcbiAgICAgICAgICAgICAgICAgIC8vIGl0IGhhcyBiZWVuIHNldCB0byByZXN1bWUuXG4gICAgICAgICAgICAgICAgICBpZiAoZmxhZ3MgJiAxNiAvKiBQQVVTRUQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdGltZSBzdGFydCB0byBhY2NvbW9kYXRlIHRoZSBwYXVzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tcGxldGlvbiBhbW91bnQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNhbGwudGltZVN0YXJ0ICs9IGRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBhbmltYXRpb24gaXMgcmVhZHkgLSBpZiBpdCdzIHN5bmNlZCB0aGVuIGl0XG4gICAgICAgICAgICAgICAgICAvLyBuZWVkcyB0byB3YWl0IGZvciBhbGwgb3RoZXIgYW5pbWF0aW9ucyBpbiB0aGUgc3luY1xuICAgICAgICAgICAgICAgICAgaWYgKCEoZmxhZ3MgJiAyIC8qIFJFQURZICovKSkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNhbGwuX2ZsYWdzIHw9IDIgLyogUkVBRFkgKi87IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuX3JlYWR5Kys7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gTmVlZCB0byBzcGxpdCB0aGUgbG9vcCwgYXMgcmVhZHkgc3luYyBhbmltYXRpb25zIG11c3QgYWxsIGdldFxuICAgICAgICAgICAgICAvLyB0aGUgc2FtZSBzdGFydCB0aW1lLlxuICAgICAgICAgICAgICBmb3IgKGFjdGl2ZUNhbGwgPSBTdGF0ZS5maXJzdDsgYWN0aXZlQ2FsbCAmJiBhY3RpdmVDYWxsICE9PSBTdGF0ZS5maXJzdE5ldzsgYWN0aXZlQ2FsbCA9IG5leHRDYWxsKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgX2ZsYWdzID0gYWN0aXZlQ2FsbC5fZmxhZ3M7XG4gICAgICAgICAgICAgICAgICBuZXh0Q2FsbCA9IGFjdGl2ZUNhbGwuX25leHQ7XG4gICAgICAgICAgICAgICAgICBpZiAoIShfZmxhZ3MgJiAyIC8qIFJFQURZICovKSB8fCBfZmxhZ3MgJiAxNiAvKiBQQVVTRUQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHZhciBfb3B0aW9ucyA9IGFjdGl2ZUNhbGwub3B0aW9ucztcbiAgICAgICAgICAgICAgICAgIGlmIChfZmxhZ3MgJiAzMiAvKiBTWU5DICovICYmIF9vcHRpb25zLl9yZWFkeSA8IF9vcHRpb25zLl90b3RhbCkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNhbGwudGltZVN0YXJ0ICs9IGRlbHRhVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHZhciBzcGVlZCA9IGFjdGl2ZUNhbGwuc3BlZWQgIT0gbnVsbCA/IGFjdGl2ZUNhbGwuc3BlZWQgOiBfb3B0aW9ucy5zcGVlZCAhPSBudWxsID8gX29wdGlvbnMuc3BlZWQgOiBkZWZhdWx0U3BlZWQ7XG4gICAgICAgICAgICAgICAgICB2YXIgX3RpbWVTdGFydCA9IGFjdGl2ZUNhbGwudGltZVN0YXJ0O1xuICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgYm90aGVyIGdldHRpbmcgdW50aWwgd2UgY2FuIHVzZSB0aGVzZS5cbiAgICAgICAgICAgICAgICAgIGlmICghKF9mbGFncyAmIDQgLyogU1RBUlRFRCAqLykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsYXkgPSBhY3RpdmVDYWxsLmRlbGF5ICE9IG51bGwgPyBhY3RpdmVDYWxsLmRlbGF5IDogX29wdGlvbnMuZGVsYXk7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIGFueXRoaW5nIHdlJ3ZlIGRlbGF5ZWQgZG9lc24ndCBzdGFydFxuICAgICAgICAgICAgICAgICAgICAgIC8vIGFuaW1hdGluZyB5ZXQsIHRoZXJlIG1pZ2h0IHN0aWxsIGJlIGFuIGFjdGl2ZSBkZWxheVxuICAgICAgICAgICAgICAgICAgICAgIC8vIGFmdGVyIHNvbWV0aGluZyBoYXMgYmVlbiB1bi1wYXVzZWRcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aW1lU3RhcnQgKyBkZWxheSAvIHNwZWVkID4gdGltZUN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNhbGwudGltZVN0YXJ0ID0gX3RpbWVTdGFydCArPSBkZWxheSAvIChkZWxheSA+IDAgPyBzcGVlZCA6IDEpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVDYWxsLl9mbGFncyB8PSA0IC8qIFNUQVJURUQgKi87IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBiZWdpbiBjYWxsYmFjayBpcyBmaXJlZCBvbmNlIHBlciBjYWxsLCBub3Qgb25jZVxuICAgICAgICAgICAgICAgICAgICAgIC8vIHBlciBlbGVtZW50LCBhbmQgaXMgcGFzc2VkIHRoZSBmdWxsIHJhdyBET00gZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCBhcyBib3RoIGl0cyBjb250ZXh0IGFuZCBpdHMgZmlyc3QgYXJndW1lbnQuXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKF9vcHRpb25zLl9zdGFydGVkKysgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX29wdGlvbnMuX2ZpcnN0ID0gYWN0aXZlQ2FsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9vcHRpb25zLmJlZ2luKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXNzIHRvIGFuIGV4dGVybmFsIGZuIHdpdGggYSB0cnkvY2F0Y2ggYmxvY2sgZm9yIG9wdGltaXNhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW5DYWxsKGFjdGl2ZUNhbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBjYWxsZWQgb25jZSwgZXZlbiBpZiByZXZlcnNlZCBvciByZXBlYXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29wdGlvbnMuYmVnaW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoc3BlZWQgIT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBPbiB0aGUgZmlyc3QgZnJhbWUgd2UgbWF5IGhhdmUgYSBzaG9ydGVyIGRlbHRhXG4gICAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgZGVsdGEgPSBNYXRoLm1pbihkZWx0YVRpbWUsIHRpbWVDdXJyZW50IC0gdGltZVN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVDYWxsLnRpbWVTdGFydCA9IF90aW1lU3RhcnQgKz0gTWF0aC5taW4oZGVsdGFUaW1lLCB0aW1lQ3VycmVudCAtIF90aW1lU3RhcnQpICogKDEgLSBzcGVlZCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlRWFzaW5nID0gYWN0aXZlQ2FsbC5lYXNpbmcgIT0gbnVsbCA/IGFjdGl2ZUNhbGwuZWFzaW5nIDogX29wdGlvbnMuZWFzaW5nICE9IG51bGwgPyBfb3B0aW9ucy5lYXNpbmcgOiBkZWZhdWx0RWFzaW5nLFxuICAgICAgICAgICAgICAgICAgICAgIG1pbGxpc2Vjb25kc0VsbGFwc2VkID0gYWN0aXZlQ2FsbC5lbGxhcHNlZFRpbWUgPSB0aW1lQ3VycmVudCAtIF90aW1lU3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSBhY3RpdmVDYWxsLmR1cmF0aW9uICE9IG51bGwgPyBhY3RpdmVDYWxsLmR1cmF0aW9uIDogX29wdGlvbnMuZHVyYXRpb24gIT0gbnVsbCA/IF9vcHRpb25zLmR1cmF0aW9uIDogZGVmYXVsdER1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRDb21wbGV0ZSA9IGFjdGl2ZUNhbGwucGVyY2VudENvbXBsZXRlID0gVmVsb2NpdHkkJDEubW9jayA/IDEgOiBNYXRoLm1pbihtaWxsaXNlY29uZHNFbGxhcHNlZCAvIGR1cmF0aW9uLCAxKSxcbiAgICAgICAgICAgICAgICAgICAgICB0d2VlbnMgPSBhY3RpdmVDYWxsLnR3ZWVucyxcbiAgICAgICAgICAgICAgICAgICAgICByZXZlcnNlID0gX2ZsYWdzICYgNjQgLyogUkVWRVJTRSAqLzsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlQ2FsbC5wcm9ncmVzcyB8fCBfb3B0aW9ucy5fZmlyc3QgPT09IGFjdGl2ZUNhbGwgJiYgX29wdGlvbnMucHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc2VkLmFkZChhY3RpdmVDYWxsKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQuYWRkKGFjdGl2ZUNhbGwpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmZvcmluXG4gICAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiB0d2VlbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgZXZlcnkgZWxlbWVudCwgaXRlcmF0ZSB0aHJvdWdoIGVhY2ggcHJvcGVydHkuXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIHR3ZWVuID0gdHdlZW5zW3Byb3BlcnR5XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2UgPSB0d2Vlbi5zZXF1ZW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybiA9IHNlcXVlbmNlLnBhdHRlcm47XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlYXNpbmdDb21wbGV0ZSA9ICh0d2Vlbi5lYXNpbmcgfHwgYWN0aXZlRWFzaW5nKShwZXJjZW50Q29tcGxldGUsIDAsIDEsIHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJlc3QgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNlcXVlbmNlLmxlbmd0aCAtIDE7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlW2pdLnBlcmNlbnQgPCBlYXNpbmdDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlc3QgPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0d2VlbkZyb20gPSBzZXF1ZW5jZVtiZXN0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR3ZWVuVG8gPSBzZXF1ZW5jZVtiZXN0ICsgMV0gfHwgdHdlZW5Gcm9tLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3UGVyY2VudCA9IChwZXJjZW50Q29tcGxldGUgLSB0d2VlbkZyb20ucGVyY2VudCkgLyAodHdlZW5Uby5wZXJjZW50IC0gdHdlZW5Gcm9tLnBlcmNlbnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHdlZW5QZXJjZW50ID0gcmV2ZXJzZSA/IDEgLSByYXdQZXJjZW50IDogcmF3UGVyY2VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhc2luZyA9IHR3ZWVuVG8uZWFzaW5nIHx8IGFjdGl2ZUVhc2luZyB8fCBsaW5lYXJFYXNpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgcGF0dGVybi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0VmFsdWUgPSB0d2VlbkZyb21baV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlICs9IHBhdHRlcm5baV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRWYWx1ZSA9IHR3ZWVuVG9baV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0VmFsdWUgPT09IGVuZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSArPSBzdGFydFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsbCBlYXNpbmdzIG11c3QgZGVhbCB3aXRoIG51bWJlcnMgZXhjZXB0IGZvciBvdXIgaW50ZXJuYWwgb25lcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGVhc2luZyh0d2VlblBlcmNlbnQsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSArPSBwYXR0ZXJuW2ldICE9PSB0cnVlID8gcmVzdWx0IDogTWF0aC5yb3VuZChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkgIT09IFwidHdlZW5cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IHJlbW92ZU5lc3RlZENhbGMoY3VycmVudFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFRvIHNvbHZlIGFuIElFPD04IHBvc2l0aW9uaW5nIGJ1ZywgdGhlIHVuaXQgdHlwZSBtdXN0IGJlIGRyb3BwZWQgd2hlbiBzZXR0aW5nIGEgcHJvcGVydHkgdmFsdWUgb2YgMCAtIGFkZCBub3JtYWxpc2F0aW9ucyB0byBsZWdhY3lcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFByb3BlcnR5VmFsdWUoYWN0aXZlQ2FsbC5lbGVtZW50LCBwcm9wZXJ0eSwgY3VycmVudFZhbHVlLCB0d2Vlbi5mbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIHRoZSBmYWtlICd0d2VlbicgcHJvcGVydHkgYXMgdGhhdCBpcyBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXNzZWQgaW50byB0aGUgcHJvZ3Jlc3MgY2FsbGJhY2suXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVDYWxsLnR3ZWVuID0gY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogTWlzc2luZyBwYXR0ZXJuOlwiLCBwcm9wZXJ0eSwgSlNPTi5zdHJpbmdpZnkodHdlZW5bcHJvcGVydHldKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0d2VlbnNbcHJvcGVydHldO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3NlZC5zaXplIHx8IGNvbXBsZXRlZC5zaXplKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICAgICAgICAgICAgICAgIGFzeW5jQ2FsbGJhY2tzKCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdvcmtlcikge1xuICAgICAgICAgICAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZShcIlwiKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChhc3luY0NhbGxiYWNrcywgMSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoU3RhdGUuZmlyc3QpIHtcbiAgICAgICAgICBTdGF0ZS5pc1RpY2tpbmcgPSB0cnVlO1xuICAgICAgICAgIGlmICghZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgICAgICAgIHJBRlNoaW0odGljayk7XG4gICAgICAgICAgfSBlbHNlIGlmICghd29ya2VyKSB7XG4gICAgICAgICAgICAgIHJBRlByb3h5KHRpY2spO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGltZXN0YW1wID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgdHVybiBvbiB0aGUgbWVzc2FnZXMuXG4gICAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIFN0YXRlLmlzVGlja2luZyA9IGZhbHNlO1xuICAgICAgICAgIGxhc3RUaWNrID0gMDtcbiAgICAgICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuICYmIHdvcmtlcikge1xuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgdHVybiBvZmYgdGhlIG1lc3NhZ2VzLlxuICAgICAgICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2UoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRpY2tpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIFByb2plY3RcbiAgLyoqXG4gICAqIENoZWNrIGlmIGFuIGFuaW1hdGlvbiBzaG91bGQgYmUgZmluaXNoZWQsIGFuZCBpZiBzbyB3ZSBzZXQgdGhlIHR3ZWVucyB0b1xuICAgKiB0aGUgZmluYWwgdmFsdWUgZm9yIGl0LCB0aGVuIGNhbGwgY29tcGxldGUuXG4gICAqL1xuICBmdW5jdGlvbiBjaGVja0FuaW1hdGlvblNob3VsZEJlRmluaXNoZWQoYW5pbWF0aW9uLCBxdWV1ZU5hbWUsIGRlZmF1bHRRdWV1ZSkge1xuICAgICAgdmFsaWRhdGVUd2VlbnMoYW5pbWF0aW9uKTtcbiAgICAgIGlmIChxdWV1ZU5hbWUgPT09IHVuZGVmaW5lZCB8fCBxdWV1ZU5hbWUgPT09IGdldFZhbHVlKGFuaW1hdGlvbi5xdWV1ZSwgYW5pbWF0aW9uLm9wdGlvbnMucXVldWUsIGRlZmF1bHRRdWV1ZSkpIHtcbiAgICAgICAgICBpZiAoIShhbmltYXRpb24uX2ZsYWdzICYgNCAvKiBTVEFSVEVEICovKSkge1xuICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICAgICAgLy8gQ29waWVkIGZyb20gdGljay50cyAtIGVuc3VyZSB0aGF0IHRoZSBhbmltYXRpb24gaXMgY29tcGxldGVseVxuICAgICAgICAgICAgICAvLyB2YWxpZCBhbmQgcnVuIGJlZ2luKCkgYmVmb3JlIGNvbXBsZXRlKCkuXG4gICAgICAgICAgICAgIHZhciBvcHRpb25zID0gYW5pbWF0aW9uLm9wdGlvbnM7XG4gICAgICAgICAgICAgIC8vIFRoZSBiZWdpbiBjYWxsYmFjayBpcyBmaXJlZCBvbmNlIHBlciBjYWxsLCBub3Qgb25jZSBwZXJcbiAgICAgICAgICAgICAgLy8gZWxlbWVudCwgYW5kIGlzIHBhc3NlZCB0aGUgZnVsbCByYXcgRE9NIGVsZW1lbnQgc2V0IGFzIGJvdGhcbiAgICAgICAgICAgICAgLy8gaXRzIGNvbnRleHQgYW5kIGl0cyBmaXJzdCBhcmd1bWVudC5cbiAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuX3N0YXJ0ZWQrKyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgb3B0aW9ucy5fZmlyc3QgPSBhbmltYXRpb247XG4gICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5iZWdpbikge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFBhc3MgdG8gYW4gZXh0ZXJuYWwgZm4gd2l0aCBhIHRyeS9jYXRjaCBibG9jayBmb3Igb3B0aW1pc2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgYmVnaW5DYWxsKGFuaW1hdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBjYWxsZWQgb25jZSwgZXZlbiBpZiByZXZlcnNlZCBvciByZXBlYXRlZFxuICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuYmVnaW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYW5pbWF0aW9uLl9mbGFncyB8PSA0IC8qIFNUQVJURUQgKi87IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6Zm9yaW5cbiAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBhbmltYXRpb24udHdlZW5zKSB7XG4gICAgICAgICAgICAgIHZhciB0d2VlbiA9IGFuaW1hdGlvbi50d2VlbnNbcHJvcGVydHldLFxuICAgICAgICAgICAgICAgICAgc2VxdWVuY2UgPSB0d2Vlbi5zZXF1ZW5jZSxcbiAgICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBzZXF1ZW5jZS5wYXR0ZXJuO1xuICAgICAgICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gXCJcIixcbiAgICAgICAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgICBpZiAocGF0dGVybikge1xuICAgICAgICAgICAgICAgICAgdmFyIGVuZFZhbHVlcyA9IHNlcXVlbmNlW3NlcXVlbmNlLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBwYXR0ZXJuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZFZhbHVlID0gZW5kVmFsdWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSArPSBlbmRWYWx1ZSA9PSBudWxsID8gcGF0dGVybltpXSA6IGVuZFZhbHVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNldFByb3BlcnR5VmFsdWUoYW5pbWF0aW9uLmVsZW1lbnQsIHByb3BlcnR5LCBjdXJyZW50VmFsdWUsIHR3ZWVuLmZuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29tcGxldGVDYWxsKGFuaW1hdGlvbik7XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gdGhlIGZpbmlzaCBhY3Rpb24gaXMgdHJpZ2dlcmVkLCB0aGUgZWxlbWVudHMnIGN1cnJlbnRseSBhY3RpdmUgY2FsbCBpc1xuICAgKiBpbW1lZGlhdGVseSBmaW5pc2hlZC4gV2hlbiBhbiBlbGVtZW50IGlzIGZpbmlzaGVkLCB0aGUgbmV4dCBpdGVtIGluIGl0c1xuICAgKiBhbmltYXRpb24gcXVldWUgaXMgaW1tZWRpYXRlbHkgdHJpZ2dlcmVkLiBJZiBwYXNzZWQgdmlhIGEgY2hhaW5lZCBjYWxsXG4gICAqIHRoZW4gdGhpcyB3aWxsIG9ubHkgdGFyZ2V0IHRoZSBhbmltYXRpb25zIGluIHRoYXQgY2FsbCwgYW5kIG5vdCB0aGVcbiAgICogZWxlbWVudHMgbGlua2VkIHRvIGl0LlxuICAgKlxuICAgKiBBIHF1ZXVlIG5hbWUgbWF5IGJlIHBhc3NlZCBpbiB0byBzcGVjaWZ5IHRoYXQgb25seSBhbmltYXRpb25zIG9uIHRoZVxuICAgKiBuYW1lZCBxdWV1ZSBhcmUgZmluaXNoZWQuIFRoZSBkZWZhdWx0IHF1ZXVlIGlzIG5hbWVkIFwiXCIuIEluIGFkZGl0aW9uIHRoZVxuICAgKiB2YWx1ZSBvZiBgZmFsc2VgIGlzIGFsbG93ZWQgZm9yIHRoZSBxdWV1ZSBuYW1lLlxuICAgKlxuICAgKiBBbiBmaW5hbCBhcmd1bWVudCBtYXkgYmUgcGFzc2VkIGluIHRvIGNsZWFyIGFuIGVsZW1lbnQncyByZW1haW5pbmcgcXVldWVkXG4gICAqIGNhbGxzLiBUaGlzIG1heSBvbmx5IGJlIHRoZSB2YWx1ZSBgdHJ1ZWAuXG4gICAqL1xuICBmdW5jdGlvbiBmaW5pc2goYXJncywgZWxlbWVudHMsIHByb21pc2VIYW5kbGVyKSB7XG4gICAgICB2YXIgcXVldWVOYW1lID0gdmFsaWRhdGVRdWV1ZShhcmdzWzBdLCB0cnVlKSxcbiAgICAgICAgICBkZWZhdWx0UXVldWUgPSBkZWZhdWx0cyQxLnF1ZXVlLFxuICAgICAgICAgIGZpbmlzaEFsbCA9IGFyZ3NbcXVldWVOYW1lID09PSB1bmRlZmluZWQgPyAwIDogMV0gPT09IHRydWU7XG4gICAgICBpZiAoaXNWZWxvY2l0eVJlc3VsdChlbGVtZW50cykgJiYgZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9ucykge1xuICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBlbGVtZW50cy52ZWxvY2l0eS5hbmltYXRpb25zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICBjaGVja0FuaW1hdGlvblNob3VsZEJlRmluaXNoZWQoYW5pbWF0aW9uLCBxdWV1ZU5hbWUsIGRlZmF1bHRRdWV1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2hpbGUgKFN0YXRlLmZpcnN0TmV3KSB7XG4gICAgICAgICAgICAgIHZhbGlkYXRlVHdlZW5zKFN0YXRlLmZpcnN0TmV3KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yICh2YXIgYWN0aXZlQ2FsbCA9IFN0YXRlLmZpcnN0LCBuZXh0Q2FsbDsgYWN0aXZlQ2FsbCAmJiAoZmluaXNoQWxsIHx8IGFjdGl2ZUNhbGwgIT09IFN0YXRlLmZpcnN0TmV3KTsgYWN0aXZlQ2FsbCA9IG5leHRDYWxsIHx8IFN0YXRlLmZpcnN0TmV3KSB7XG4gICAgICAgICAgICAgIG5leHRDYWxsID0gYWN0aXZlQ2FsbC5fbmV4dDtcbiAgICAgICAgICAgICAgaWYgKCFlbGVtZW50cyB8fCBlbGVtZW50cy5pbmNsdWRlcyhhY3RpdmVDYWxsLmVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICBjaGVja0FuaW1hdGlvblNob3VsZEJlRmluaXNoZWQoYWN0aXZlQ2FsbCwgcXVldWVOYW1lLCBkZWZhdWx0UXVldWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb21pc2VIYW5kbGVyKSB7XG4gICAgICAgICAgaWYgKGlzVmVsb2NpdHlSZXN1bHQoZWxlbWVudHMpICYmIGVsZW1lbnRzLnZlbG9jaXR5LmFuaW1hdGlvbnMgJiYgZWxlbWVudHMudGhlbikge1xuICAgICAgICAgICAgICBlbGVtZW50cy50aGVuKHByb21pc2VIYW5kbGVyLl9yZXNvbHZlcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHJvbWlzZUhhbmRsZXIuX3Jlc29sdmVyKGVsZW1lbnRzKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgcmVnaXN0ZXJBY3Rpb24oW1wiZmluaXNoXCIsIGZpbmlzaF0sIHRydWUpO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hcCBnZXR0ZXJzIGZvciB0aGUgdmFyaW91cyBBbmltYXRpb25GbGFncy5cbiAgICovXG4gIHZhciBhbmltYXRpb25GbGFncyA9IHtcbiAgICAgIGlzRXhwYW5kZWQ6IDEgLyogRVhQQU5ERUQgKi9cbiAgICAgICwgaXNSZWFkeTogMiAvKiBSRUFEWSAqL1xuICAgICAgLCBpc1N0YXJ0ZWQ6IDQgLyogU1RBUlRFRCAqL1xuICAgICAgLCBpc1N0b3BwZWQ6IDggLyogU1RPUFBFRCAqL1xuICAgICAgLCBpc1BhdXNlZDogMTYgLyogUEFVU0VEICovXG4gICAgICAsIGlzU3luYzogMzIgLyogU1lOQyAqL1xuICAgICAgLCBpc1JldmVyc2U6IDY0IC8qIFJFVkVSU0UgKi9cbiAgfTtcbiAgLyoqXG4gICAqIEdldCBvciBzZXQgYW4gb3B0aW9uIG9yIHJ1bm5pbmcgQW5pbWF0aW9uQ2FsbCBkYXRhIHZhbHVlLiBJZiB0aGVyZSBpcyBub1xuICAgKiB2YWx1ZSBwYXNzZWQgdGhlbiBpdCB3aWxsIGdldCwgb3RoZXJ3aXNlIHdlIHdpbGwgc2V0LlxuICAgKlxuICAgKiBOT1RFOiBXaGVuIHVzaW5nIFwiZ2V0XCIgdGhpcyB3aWxsIG5vdCB0b3VjaCB0aGUgUHJvbWlzZSBhcyBpdCBpcyBuZXZlclxuICAgKiByZXR1cm5lZCB0byB0aGUgdXNlci5cbiAgICovXG4gIGZ1bmN0aW9uIG9wdGlvbihhcmdzLCBlbGVtZW50cywgcHJvbWlzZUhhbmRsZXIsIGFjdGlvbikge1xuICAgICAgdmFyIGtleSA9IGFyZ3NbMF0sXG4gICAgICAgICAgcXVldWUgPSBhY3Rpb24uaW5kZXhPZihcIi5cIikgPj0gMCA/IGFjdGlvbi5yZXBsYWNlKC9eLipcXC4vLCBcIlwiKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBxdWV1ZU5hbWUgPSBxdWV1ZSA9PT0gXCJmYWxzZVwiID8gZmFsc2UgOiB2YWxpZGF0ZVF1ZXVlKHF1ZXVlLCB0cnVlKTtcbiAgICAgIHZhciBhbmltYXRpb25zID0gdm9pZCAwLFxuICAgICAgICAgIHZhbHVlID0gYXJnc1sxXTtcbiAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogQ2Fubm90IGFjY2VzcyBhIG5vbi1leGlzdGFudCBrZXkhXCIpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgLy8gSWYgd2UncmUgY2hhaW5pbmcgdGhlIHJldHVybiB2YWx1ZSBmcm9tIFZlbG9jaXR5IHRoZW4gd2UgYXJlIG9ubHlcbiAgICAgIC8vIGludGVyZXN0ZWQgaW4gdGhlIHZhbHVlcyByZWxhdGVkIHRvIHRoYXQgY2FsbFxuICAgICAgaWYgKGlzVmVsb2NpdHlSZXN1bHQoZWxlbWVudHMpICYmIGVsZW1lbnRzLnZlbG9jaXR5LmFuaW1hdGlvbnMpIHtcbiAgICAgICAgICBhbmltYXRpb25zID0gZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9ucztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYW5pbWF0aW9ucyA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGFjdGl2ZUNhbGwgPSBTdGF0ZS5maXJzdDsgYWN0aXZlQ2FsbDsgYWN0aXZlQ2FsbCA9IGFjdGl2ZUNhbGwuX25leHQpIHtcbiAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzLmluZGV4T2YoYWN0aXZlQ2FsbC5lbGVtZW50KSA+PSAwICYmIGdldFZhbHVlKGFjdGl2ZUNhbGwucXVldWUsIGFjdGl2ZUNhbGwub3B0aW9ucy5xdWV1ZSkgPT09IHF1ZXVlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgYW5pbWF0aW9ucy5wdXNoKGFjdGl2ZUNhbGwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIHdlJ3JlIGRlYWxpbmcgd2l0aCBtdWx0aXBsZSBlbGVtZW50cyB0aGF0IGFyZSBwb2ludGluZyBhdCBhXG4gICAgICAgICAgLy8gc2luZ2xlIHJ1bm5pbmcgYW5pbWF0aW9uLCB0aGVuIGluc3RlYWQgdHJlYXQgdGhlbSBhcyBhIHNpbmdsZVxuICAgICAgICAgIC8vIGFuaW1hdGlvbi5cbiAgICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoID4gMSAmJiBhbmltYXRpb25zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgdmFyIGkgPSAxLFxuICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IGFuaW1hdGlvbnNbMF0ub3B0aW9ucztcbiAgICAgICAgICAgICAgd2hpbGUgKGkgPCBhbmltYXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbnNbaSsrXS5vcHRpb25zICE9PSBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gVE9ETzogdGhpcyBuZWVkcyB0byBjaGVjayB0aGF0IHRoZXkncmUgYWN0dWFsbHkgYSBzeW5jOnRydWUgYW5pbWF0aW9uIHRvIG1lcmdlIHRoZSByZXN1bHRzLCBvdGhlcndpc2UgdGhlIGluZGl2aWR1YWwgdmFsdWVzIG1heSBiZSBkaWZmZXJlbnRcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMgPSBbYW5pbWF0aW9uc1swXV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBHRVRcbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IFtdLFxuICAgICAgICAgICAgICBmbGFnID0gYW5pbWF0aW9uRmxhZ3Nba2V5XTtcbiAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gYW5pbWF0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgaWYgKGZsYWcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIEEgbm9ybWFsIGtleSB0byBnZXQuXG4gICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZ2V0VmFsdWUoYW5pbWF0aW9uW2tleV0sIGFuaW1hdGlvbi5vcHRpb25zW2tleV0pKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gQSBmbGFnIHRoYXQgd2UncmUgY2hlY2tpbmcgYWdhaW5zdC5cbiAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgoYW5pbWF0aW9uLl9mbGFncyAmIGZsYWcpID09PSAwKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDEgJiYgYW5pbWF0aW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgLy8gSWYgb25seSBhIHNpbmdsZSBhbmltYXRpb24gaXMgZm91bmQgYW5kIHdlJ3JlIG9ubHkgdGFyZ2V0dGluZyBhXG4gICAgICAgICAgICAgIC8vIHNpbmdsZSBlbGVtZW50LCB0aGVuIHJldHVybiB0aGUgdmFsdWUgZGlyZWN0bHlcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFswXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIC8vIFNFVFxuICAgICAgdmFyIGlzUGVyY2VudENvbXBsZXRlID0gdm9pZCAwO1xuICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICBjYXNlIFwiY2FjaGVcIjpcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZUNhY2hlKHZhbHVlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImJlZ2luXCI6XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVCZWdpbih2YWx1ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJjb21wbGV0ZVwiOlxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlQ29tcGxldGUodmFsdWUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiZGVsYXlcIjpcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZURlbGF5KHZhbHVlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImR1cmF0aW9uXCI6XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVEdXJhdGlvbih2YWx1ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJmcHNMaW1pdFwiOlxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlRnBzTGltaXQodmFsdWUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwibG9vcFwiOlxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlTG9vcCh2YWx1ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJwZXJjZW50Q29tcGxldGVcIjpcbiAgICAgICAgICAgICAgaXNQZXJjZW50Q29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwicmVwZWF0XCI6XG4gICAgICAgICAgY2FzZSBcInJlcGVhdEFnYWluXCI6XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVSZXBlYXQodmFsdWUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBpZiAoa2V5WzBdICE9PSBcIl9cIikge1xuICAgICAgICAgICAgICAgICAgdmFyIG51bSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBTdHJpbmcobnVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbnVtO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAvLyBkZWxpYmVyYXRlIGZhbGx0aHJvdWdoXG4gICAgICAgICAgY2FzZSBcInF1ZXVlXCI6XG4gICAgICAgICAgY2FzZSBcInByb21pc2VcIjpcbiAgICAgICAgICBjYXNlIFwicHJvbWlzZVJlamVjdEVtcHR5XCI6XG4gICAgICAgICAgY2FzZSBcImVhc2luZ1wiOlxuICAgICAgICAgIGNhc2UgXCJzdGFydGVkXCI6XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgYSByZWFkLW9ubHkga2V5OlwiLCBrZXkpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0IGFuIGludmFsaWQgdmFsdWU6XCIgKyBrZXkgKyBcIj1cIiArIHZhbHVlICsgXCIgKFwiICsgYXJnc1sxXSArIFwiKVwiKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBhbmltYXRpb25zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgIHZhciBfYW5pbWF0aW9uID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgIGlmIChpc1BlcmNlbnRDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgX2FuaW1hdGlvbi50aW1lU3RhcnQgPSBsYXN0VGljayAtIGdldFZhbHVlKF9hbmltYXRpb24uZHVyYXRpb24sIF9hbmltYXRpb24ub3B0aW9ucy5kdXJhdGlvbiwgZGVmYXVsdHMkMS5kdXJhdGlvbikgKiB2YWx1ZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIF9hbmltYXRpb25ba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9taXNlSGFuZGxlcikge1xuICAgICAgICAgIGlmIChpc1ZlbG9jaXR5UmVzdWx0KGVsZW1lbnRzKSAmJiBlbGVtZW50cy52ZWxvY2l0eS5hbmltYXRpb25zICYmIGVsZW1lbnRzLnRoZW4pIHtcbiAgICAgICAgICAgICAgZWxlbWVudHMudGhlbihwcm9taXNlSGFuZGxlci5fcmVzb2x2ZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByb21pc2VIYW5kbGVyLl9yZXNvbHZlcihlbGVtZW50cyk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIHJlZ2lzdGVyQWN0aW9uKFtcIm9wdGlvblwiLCBvcHRpb25dLCB0cnVlKTtcblxuICAvLyBQcm9qZWN0XG4gIC8qKlxuICAgKiBDaGVjayBpZiBhbiBhbmltYXRpb24gc2hvdWxkIGJlIHBhdXNlZCAvIHJlc3VtZWQuXG4gICAqL1xuICBmdW5jdGlvbiBjaGVja0FuaW1hdGlvbihhbmltYXRpb24sIHF1ZXVlTmFtZSwgZGVmYXVsdFF1ZXVlLCBpc1BhdXNlZCkge1xuICAgICAgaWYgKHF1ZXVlTmFtZSA9PT0gdW5kZWZpbmVkIHx8IHF1ZXVlTmFtZSA9PT0gZ2V0VmFsdWUoYW5pbWF0aW9uLnF1ZXVlLCBhbmltYXRpb24ub3B0aW9ucy5xdWV1ZSwgZGVmYXVsdFF1ZXVlKSkge1xuICAgICAgICAgIGlmIChpc1BhdXNlZCkge1xuICAgICAgICAgICAgICBhbmltYXRpb24uX2ZsYWdzIHw9IDE2IC8qIFBBVVNFRCAqLzsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uLl9mbGFncyAmPSB+MTYgLyogUEFVU0VEICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFBhdXNlIGFuZCBSZXN1bWUgYXJlIGNhbGwtd2lkZSAobm90IG9uIGEgcGVyIGVsZW1lbnQgYmFzaXMpLiBUaHVzLCBjYWxsaW5nIHBhdXNlIG9yIHJlc3VtZSBvbiBhXG4gICAqIHNpbmdsZSBlbGVtZW50IHdpbGwgY2F1c2UgYW55IGNhbGxzIHRoYXQgY29udGFpbiB0d2VlbnMgZm9yIHRoYXQgZWxlbWVudCB0byBiZSBwYXVzZWQvcmVzdW1lZFxuICAgKiBhcyB3ZWxsLlxuICAgKi9cbiAgZnVuY3Rpb24gcGF1c2VSZXN1bWUoYXJncywgZWxlbWVudHMsIHByb21pc2VIYW5kbGVyLCBhY3Rpb24pIHtcbiAgICAgIHZhciBpc1BhdXNlZCA9IGFjdGlvbi5pbmRleE9mKFwicGF1c2VcIikgPT09IDAsXG4gICAgICAgICAgcXVldWUgPSBhY3Rpb24uaW5kZXhPZihcIi5cIikgPj0gMCA/IGFjdGlvbi5yZXBsYWNlKC9eLipcXC4vLCBcIlwiKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBxdWV1ZU5hbWUgPSBxdWV1ZSA9PT0gXCJmYWxzZVwiID8gZmFsc2UgOiB2YWxpZGF0ZVF1ZXVlKGFyZ3NbMF0pLFxuICAgICAgICAgIGRlZmF1bHRRdWV1ZSA9IGRlZmF1bHRzJDEucXVldWU7XG4gICAgICBpZiAoaXNWZWxvY2l0eVJlc3VsdChlbGVtZW50cykgJiYgZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9ucykge1xuICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBlbGVtZW50cy52ZWxvY2l0eS5hbmltYXRpb25zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICBjaGVja0FuaW1hdGlvbihhbmltYXRpb24sIHF1ZXVlTmFtZSwgZGVmYXVsdFF1ZXVlLCBpc1BhdXNlZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGFjdGl2ZUNhbGwgPSBTdGF0ZS5maXJzdDtcbiAgICAgICAgICB3aGlsZSAoYWN0aXZlQ2FsbCkge1xuICAgICAgICAgICAgICBpZiAoIWVsZW1lbnRzIHx8IGVsZW1lbnRzLmluY2x1ZGVzKGFjdGl2ZUNhbGwuZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgIGNoZWNrQW5pbWF0aW9uKGFjdGl2ZUNhbGwsIHF1ZXVlTmFtZSwgZGVmYXVsdFF1ZXVlLCBpc1BhdXNlZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYWN0aXZlQ2FsbCA9IGFjdGl2ZUNhbGwuX25leHQ7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb21pc2VIYW5kbGVyKSB7XG4gICAgICAgICAgaWYgKGlzVmVsb2NpdHlSZXN1bHQoZWxlbWVudHMpICYmIGVsZW1lbnRzLnZlbG9jaXR5LmFuaW1hdGlvbnMgJiYgZWxlbWVudHMudGhlbikge1xuICAgICAgICAgICAgICBlbGVtZW50cy50aGVuKHByb21pc2VIYW5kbGVyLl9yZXNvbHZlcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHJvbWlzZUhhbmRsZXIuX3Jlc29sdmVyKGVsZW1lbnRzKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgcmVnaXN0ZXJBY3Rpb24oW1wicGF1c2VcIiwgcGF1c2VSZXN1bWVdLCB0cnVlKTtcbiAgcmVnaXN0ZXJBY3Rpb24oW1wicmVzdW1lXCIsIHBhdXNlUmVzdW1lXSwgdHJ1ZSk7XG5cbiAgLy8gUHJvamVjdFxuICAvKipcbiAgICogR2V0IG9yIHNldCBhIHN0eWxlIG9mIE5vbXJhbGlzZWQgcHJvcGVydHkgdmFsdWUgb24gb25lIG9yIG1vcmUgZWxlbWVudHMuXG4gICAqIElmIHRoZXJlIGlzIG5vIHZhbHVlIHBhc3NlZCB0aGVuIGl0IHdpbGwgZ2V0LCBvdGhlcndpc2Ugd2Ugd2lsbCBzZXQuXG4gICAqXG4gICAqIE5PVEU6IFdoZW4gdXNpbmcgXCJnZXRcIiB0aGlzIHdpbGwgbm90IHRvdWNoIHRoZSBQcm9taXNlIGFzIGl0IGlzIG5ldmVyXG4gICAqIHJldHVybmVkIHRvIHRoZSB1c2VyLlxuICAgKlxuICAgKiBUaGlzIGNhbiBmYWlsIHRvIHNldCwgYW5kIHdpbGwgcmVqZWN0IHRoZSBQcm9taXNlIGlmIGl0IGRvZXMgc28uXG4gICAqXG4gICAqIFZlbG9jaXR5KGVsZW1lbnRzLCBcInN0eWxlXCIsIFwicHJvcGVydHlcIiwgXCJ2YWx1ZVwiKSA9PiBlbGVtZW50cztcbiAgICogVmVsb2NpdHkoZWxlbWVudHMsIFwic3R5bGVcIiwge1wicHJvcGVydHlcIjogXCJ2YWx1ZVwiLCAuLi59KSA9PiBlbGVtZW50cztcbiAgICogVmVsb2NpdHkoZWxlbWVudCwgXCJzdHlsZVwiLCBcInByb3BlcnR5XCIpID0+IFwidmFsdWVcIjtcbiAgICogVmVsb2NpdHkoZWxlbWVudHMsIFwic3R5bGVcIiwgXCJwcm9wZXJ0eVwiKSA9PiBbXCJ2YWx1ZVwiLCAuLi5dO1xuICAgKi9cbiAgZnVuY3Rpb24gcHJvcGVydHlBY3Rpb24oYXJncywgZWxlbWVudHMsIHByb21pc2VIYW5kbGVyLCBhY3Rpb24pIHtcbiAgICAgIHZhciBwcm9wZXJ0eSA9IGFyZ3NbMF0sXG4gICAgICAgICAgdmFsdWUgPSBhcmdzWzFdO1xuICAgICAgaWYgKCFwcm9wZXJ0eSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IENhbm5vdCBhY2Nlc3MgYSBub24tZXhpc3RhbnQgcHJvcGVydHkhXCIpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgLy8gR0VUXG4gICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhaXNQbGFpbk9iamVjdChwcm9wZXJ0eSkpIHtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gcHJvcGVydHlbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Byb3BdID0gZml4Q29sb3JzKGdldFByb3BlcnR5VmFsdWUoZWxlbWVudHNbMF0sIHByb3ApKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdmFyIF9yZXN1bHQgPSBbXTtcbiAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBlbGVtZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IHByb3BlcnR5W1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9wcm9wID0gX3N0ZXAzLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzW19wcm9wXSA9IGZpeENvbG9ycyhnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIF9wcm9wKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc3VsdC5wdXNoKHJlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVzdWx0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gSWYgb25seSBhIHNpbmdsZSBhbmltYXRpb24gaXMgZm91bmQgYW5kIHdlJ3JlIG9ubHkgdGFyZ2V0dGluZyBhXG4gICAgICAgICAgICAgIC8vIHNpbmdsZSBlbGVtZW50LCB0aGVuIHJldHVybiB0aGUgdmFsdWUgZGlyZWN0bHlcbiAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpeENvbG9ycyhnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnRzWzBdLCBwcm9wZXJ0eSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciBfcmVzdWx0MiA9IFtdO1xuICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlO1xuICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gZmFsc2U7XG4gICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjQgPSBlbGVtZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IChfc3RlcDQgPSBfaXRlcmF0b3I0Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBfZWxlbWVudCA9IF9zdGVwNC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgIF9yZXN1bHQyLnB1c2goZml4Q29sb3JzKGdldFByb3BlcnR5VmFsdWUoX2VsZW1lbnQsIHByb3BlcnR5KSkpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yNCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjQgPSBlcnI7XG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgJiYgX2l0ZXJhdG9yNC5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I0O1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBfcmVzdWx0MjtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBTRVRcbiAgICAgIHZhciBlcnJvciA9IFtdO1xuICAgICAgaWYgKGlzUGxhaW5PYmplY3QocHJvcGVydHkpKSB7XG4gICAgICAgICAgZm9yICh2YXIgcHJvcGVydHlOYW1lIGluIHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgIGlmIChwcm9wZXJ0eS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yNSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I1ID0gZWxlbWVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDU7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSAoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9lbGVtZW50MiA9IF9zdGVwNS52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlWYWx1ZSA9IHByb3BlcnR5W3Byb3BlcnR5TmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1N0cmluZyhwcm9wZXJ0eVZhbHVlKSB8fCBpc051bWJlcihwcm9wZXJ0eVZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UHJvcGVydHlWYWx1ZShfZWxlbWVudDIsIHByb3BlcnR5TmFtZSwgcHJvcGVydHlbcHJvcGVydHlOYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvci5wdXNoKFwiQ2Fubm90IHNldCBhIHByb3BlcnR5IFxcXCJcIiArIHByb3BlcnR5TmFtZSArIFwiXFxcIiB0byBhbiB1bmtub3duIHR5cGU6IFwiICsgKHR5cGVvZiBwcm9wZXJ0eVZhbHVlID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YocHJvcGVydHlWYWx1ZSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IENhbm5vdCBzZXQgYSBwcm9wZXJ0eSBcXFwiXCIgKyBwcm9wZXJ0eU5hbWUgKyBcIlxcXCIgdG8gYW4gdW5rbm93biB0eXBlOlwiLCBwcm9wZXJ0eVZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yNSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3I1ID0gZXJyO1xuICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ICYmIF9pdGVyYXRvcjUucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I1LnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyh2YWx1ZSkgfHwgaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gdHJ1ZTtcbiAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I2ID0gZmFsc2U7XG4gICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yNiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjYgPSBlbGVtZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IChfc3RlcDYgPSBfaXRlcmF0b3I2Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgdmFyIF9lbGVtZW50MyA9IF9zdGVwNi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgc2V0UHJvcGVydHlWYWx1ZShfZWxlbWVudDMsIHByb3BlcnR5LCBTdHJpbmcodmFsdWUpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjYgPSB0cnVlO1xuICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjYgPSBlcnI7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgJiYgX2l0ZXJhdG9yNi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I2LnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNikge1xuICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXJyb3IucHVzaChcIkNhbm5vdCBzZXQgYSBwcm9wZXJ0eSBcXFwiXCIgKyBwcm9wZXJ0eSArIFwiXFxcIiB0byBhbiB1bmtub3duIHR5cGU6IFwiICsgKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHZhbHVlKSkpO1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IENhbm5vdCBzZXQgYSBwcm9wZXJ0eSBcXFwiXCIgKyBwcm9wZXJ0eSArIFwiXFxcIiB0byBhbiB1bmtub3duIHR5cGU6XCIsIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9taXNlSGFuZGxlcikge1xuICAgICAgICAgIGlmIChlcnJvci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcHJvbWlzZUhhbmRsZXIuX3JlamVjdGVyKGVycm9yLmpvaW4oXCIsIFwiKSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc1ZlbG9jaXR5UmVzdWx0KGVsZW1lbnRzKSAmJiBlbGVtZW50cy52ZWxvY2l0eS5hbmltYXRpb25zICYmIGVsZW1lbnRzLnRoZW4pIHtcbiAgICAgICAgICAgICAgZWxlbWVudHMudGhlbihwcm9taXNlSGFuZGxlci5fcmVzb2x2ZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByb21pc2VIYW5kbGVyLl9yZXNvbHZlcihlbGVtZW50cyk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIHJlZ2lzdGVyQWN0aW9uKFtcInByb3BlcnR5XCIsIHByb3BlcnR5QWN0aW9uXSwgdHJ1ZSk7XG5cbiAgLy8gUHJvamVjdFxuICByZWdpc3RlckFjdGlvbihbXCJyZXZlcnNlXCIsIGZ1bmN0aW9uIChhcmdzLCBlbGVtZW50cywgcHJvbWlzZUhhbmRsZXIsIGFjdGlvbikge1xuICAgICAgICAgIC8vIE5PVEU6IENvZGUgbmVlZHMgdG8gc3BsaXQgb3V0IGJlZm9yZSBoZXJlIC0gYnV0IHRoaXMgaXMgbmVlZGVkIHRvIHByZXZlbnQgaXQgYmVpbmcgb3ZlcnJpZGRlblxuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIlZlbG9jaXR5SlM6IFRoZSAncmV2ZXJzZScgYWN0aW9uIGlzIGJ1aWx0IGluIGFuZCBwcml2YXRlLlwiKTtcbiAgfV0sIHRydWUpO1xuXG4gIC8vIFByb2plY3RcbiAgLyoqXG4gICAqIENoZWNrIGlmIGFuIGFuaW1hdGlvbiBzaG91bGQgYmUgc3RvcHBlZCwgYW5kIGlmIHNvIHRoZW4gc2V0IHRoZSBTVE9QUEVEXG4gICAqIGZsYWcgb24gaXQsIHRoZW4gY2FsbCBjb21wbGV0ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGNoZWNrQW5pbWF0aW9uU2hvdWxkQmVTdG9wcGVkKGFuaW1hdGlvbiwgcXVldWVOYW1lLCBkZWZhdWx0UXVldWUpIHtcbiAgICAgIHZhbGlkYXRlVHdlZW5zKGFuaW1hdGlvbik7XG4gICAgICBpZiAocXVldWVOYW1lID09PSB1bmRlZmluZWQgfHwgcXVldWVOYW1lID09PSBnZXRWYWx1ZShhbmltYXRpb24ucXVldWUsIGFuaW1hdGlvbi5vcHRpb25zLnF1ZXVlLCBkZWZhdWx0UXVldWUpKSB7XG4gICAgICAgICAgYW5pbWF0aW9uLl9mbGFncyB8PSA4IC8qIFNUT1BQRUQgKi87IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgIGNvbXBsZXRlQ2FsbChhbmltYXRpb24pO1xuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBXaGVuIHRoZSBzdG9wIGFjdGlvbiBpcyB0cmlnZ2VyZWQsIHRoZSBlbGVtZW50cycgY3VycmVudGx5IGFjdGl2ZSBjYWxsIGlzXG4gICAqIGltbWVkaWF0ZWx5IHN0b3BwZWQuIFdoZW4gYW4gZWxlbWVudCBpcyBzdG9wcGVkLCB0aGUgbmV4dCBpdGVtIGluIGl0c1xuICAgKiBhbmltYXRpb24gcXVldWUgaXMgaW1tZWRpYXRlbHkgdHJpZ2dlcmVkLiBJZiBwYXNzZWQgdmlhIGEgY2hhaW5lZCBjYWxsXG4gICAqIHRoZW4gdGhpcyB3aWxsIG9ubHkgdGFyZ2V0IHRoZSBhbmltYXRpb25zIGluIHRoYXQgY2FsbCwgYW5kIG5vdCB0aGVcbiAgICogZWxlbWVudHMgbGlua2VkIHRvIGl0LlxuICAgKlxuICAgKiBBIHF1ZXVlIG5hbWUgbWF5IGJlIHBhc3NlZCBpbiB0byBzcGVjaWZ5IHRoYXQgb25seSBhbmltYXRpb25zIG9uIHRoZVxuICAgKiBuYW1lZCBxdWV1ZSBhcmUgc3RvcHBlZC4gVGhlIGRlZmF1bHQgcXVldWUgaXMgbmFtZWQgXCJcIi4gSW4gYWRkaXRpb24gdGhlXG4gICAqIHZhbHVlIG9mIGBmYWxzZWAgaXMgYWxsb3dlZCBmb3IgdGhlIHF1ZXVlIG5hbWUuXG4gICAqXG4gICAqIEFuIGZpbmFsIGFyZ3VtZW50IG1heSBiZSBwYXNzZWQgaW4gdG8gY2xlYXIgYW4gZWxlbWVudCdzIHJlbWFpbmluZyBxdWV1ZWRcbiAgICogY2FsbHMuIFRoaXMgbWF5IG9ubHkgYmUgdGhlIHZhbHVlIGB0cnVlYC5cbiAgICpcbiAgICogTm90ZTogVGhlIHN0b3AgY29tbWFuZCBydW5zIHByaW9yIHRvIFZlbG9jaXR5J3MgUXVldWVpbmcgcGhhc2Ugc2luY2UgaXRzXG4gICAqIGJlaGF2aW9yIGlzIGludGVuZGVkIHRvIHRha2UgZWZmZWN0ICppbW1lZGlhdGVseSosIHJlZ2FyZGxlc3Mgb2YgdGhlXG4gICAqIGVsZW1lbnQncyBjdXJyZW50IHF1ZXVlIHN0YXRlLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RvcChhcmdzLCBlbGVtZW50cywgcHJvbWlzZUhhbmRsZXIsIGFjdGlvbikge1xuICAgICAgdmFyIHF1ZXVlTmFtZSA9IHZhbGlkYXRlUXVldWUoYXJnc1swXSwgdHJ1ZSksXG4gICAgICAgICAgZGVmYXVsdFF1ZXVlID0gZGVmYXVsdHMkMS5xdWV1ZSxcbiAgICAgICAgICBmaW5pc2hBbGwgPSBhcmdzW3F1ZXVlTmFtZSA9PT0gdW5kZWZpbmVkID8gMCA6IDFdID09PSB0cnVlO1xuICAgICAgaWYgKGlzVmVsb2NpdHlSZXN1bHQoZWxlbWVudHMpICYmIGVsZW1lbnRzLnZlbG9jaXR5LmFuaW1hdGlvbnMpIHtcbiAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgY2hlY2tBbmltYXRpb25TaG91bGRCZVN0b3BwZWQoYW5pbWF0aW9uLCBxdWV1ZU5hbWUsIGRlZmF1bHRRdWV1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2hpbGUgKFN0YXRlLmZpcnN0TmV3KSB7XG4gICAgICAgICAgICAgIHZhbGlkYXRlVHdlZW5zKFN0YXRlLmZpcnN0TmV3KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yICh2YXIgYWN0aXZlQ2FsbCA9IFN0YXRlLmZpcnN0LCBuZXh0Q2FsbDsgYWN0aXZlQ2FsbCAmJiAoZmluaXNoQWxsIHx8IGFjdGl2ZUNhbGwgIT09IFN0YXRlLmZpcnN0TmV3KTsgYWN0aXZlQ2FsbCA9IG5leHRDYWxsIHx8IFN0YXRlLmZpcnN0TmV3KSB7XG4gICAgICAgICAgICAgIG5leHRDYWxsID0gYWN0aXZlQ2FsbC5fbmV4dDtcbiAgICAgICAgICAgICAgaWYgKCFlbGVtZW50cyB8fCBlbGVtZW50cy5pbmNsdWRlcyhhY3RpdmVDYWxsLmVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICBjaGVja0FuaW1hdGlvblNob3VsZEJlU3RvcHBlZChhY3RpdmVDYWxsLCBxdWV1ZU5hbWUsIGRlZmF1bHRRdWV1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocHJvbWlzZUhhbmRsZXIpIHtcbiAgICAgICAgICBpZiAoaXNWZWxvY2l0eVJlc3VsdChlbGVtZW50cykgJiYgZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9ucyAmJiBlbGVtZW50cy50aGVuKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnRzLnRoZW4ocHJvbWlzZUhhbmRsZXIuX3Jlc29sdmVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcm9taXNlSGFuZGxlci5fcmVzb2x2ZXIoZWxlbWVudHMpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuICByZWdpc3RlckFjdGlvbihbXCJzdG9wXCIsIHN0b3BdLCB0cnVlKTtcblxuICAvLyBQcm9qZWN0XG4gIHJlZ2lzdGVyQWN0aW9uKFtcInN0eWxlXCIsIHByb3BlcnR5QWN0aW9uXSwgdHJ1ZSk7XG5cbiAgLy8gUHJvamVjdFxuICAvKipcbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIHR3ZWVuQWN0aW9uKGFyZ3MsIGVsZW1lbnRzLCBwcm9taXNlSGFuZGxlciwgYWN0aW9uKSB7XG4gICAgICB2YXIgcmVxdWlyZUZvcmNlZmVlZGluZyA9IHZvaWQgMDtcbiAgICAgIGlmICghZWxlbWVudHMpIHtcbiAgICAgICAgICBpZiAoIWFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhcIlZlbG9jaXR5KDxlbGVtZW50PiwgXFxcInR3ZWVuXFxcIiwgcGVyY2VudENvbXBsZXRlLCBwcm9wZXJ0eSwgZW5kIHwgW2VuZCwgPGVhc2luZz4sIDxzdGFydD5dLCA8ZWFzaW5nPikgPT4gdmFsdWVcXG5WZWxvY2l0eSg8ZWxlbWVudD4sIFxcXCJ0d2VlblxcXCIsIHBlcmNlbnRDb21wbGV0ZSwge3Byb3BlcnR5OiBlbmQgfCBbZW5kLCA8ZWFzaW5nPiwgPHN0YXJ0Pl0sIC4uLn0sIDxlYXNpbmc+KSA9PiB7cHJvcGVydHk6IHZhbHVlLCAuLi59XCIpO1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxlbWVudHMgPSBbZG9jdW1lbnQuYm9keV07XG4gICAgICAgICAgcmVxdWlyZUZvcmNlZmVlZGluZyA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGVsZW1lbnRzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgIC8vIFRPRE86IEFsbG93IG1vcmUgdGhhbiBhIHNpbmdsZSBlbGVtZW50IHRvIHJldHVybiBhbiBhcnJheSBvZiByZXN1bHRzXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmVsb2NpdHlKUzogQ2Fubm90IHR3ZWVuIG1vcmUgdGhhbiBvbmUgZWxlbWVudCFcIik7XG4gICAgICB9XG4gICAgICB2YXIgcGVyY2VudENvbXBsZXRlID0gYXJnc1swXSxcbiAgICAgICAgICBmYWtlQW5pbWF0aW9uID0ge1xuICAgICAgICAgIGVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICAgICAgICBlbGVtZW50OiBlbGVtZW50c1swXSxcbiAgICAgICAgICBxdWV1ZTogZmFsc2UsXG4gICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHdlZW5zOiBudWxsXG4gICAgICB9LFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuICAgICAgdmFyIHByb3BlcnRpZXMgPSBhcmdzWzFdLFxuICAgICAgICAgIHNpbmdsZVJlc3VsdCA9IHZvaWQgMCxcbiAgICAgICAgICBtYXliZVNlcXVlbmNlID0gdm9pZCAwLFxuICAgICAgICAgIGVhc2luZyA9IGFyZ3NbMl0sXG4gICAgICAgICAgY291bnQgPSAwO1xuICAgICAgaWYgKGlzU3RyaW5nKGFyZ3NbMV0pKSB7XG4gICAgICAgICAgaWYgKFNlcXVlbmNlc09iamVjdCAmJiBTZXF1ZW5jZXNPYmplY3RbYXJnc1sxXV0pIHtcbiAgICAgICAgICAgICAgbWF5YmVTZXF1ZW5jZSA9IFNlcXVlbmNlc09iamVjdFthcmdzWzFdXTtcbiAgICAgICAgICAgICAgcHJvcGVydGllcyA9IHt9O1xuICAgICAgICAgICAgICBlYXNpbmcgPSBhcmdzWzJdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNpbmdsZVJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICAgIHByb3BlcnRpZXMgPSBkZWZpbmVQcm9wZXJ0eSh7fSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICAgIGVhc2luZyA9IGFyZ3NbM107XG4gICAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZ3NbMV0pKSB7XG4gICAgICAgICAgc2luZ2xlUmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICBwcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgICB0d2VlbjogYXJnc1sxXVxuICAgICAgICAgIH07XG4gICAgICAgICAgZWFzaW5nID0gYXJnc1syXTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNOdW1iZXIocGVyY2VudENvbXBsZXRlKSB8fCBwZXJjZW50Q29tcGxldGUgPCAwIHx8IHBlcmNlbnRDb21wbGV0ZSA+IDEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWZWxvY2l0eUpTOiBNdXN0IHR3ZWVuIGEgcGVyY2VudGFnZSBmcm9tIDAgdG8gMSFcIik7XG4gICAgICB9XG4gICAgICBpZiAoIWlzUGxhaW5PYmplY3QocHJvcGVydGllcykpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWZWxvY2l0eUpTOiBDYW5ub3QgdHdlZW4gYW4gaW52YWxpZCBwcm9wZXJ0eSFcIik7XG4gICAgICB9XG4gICAgICBpZiAocmVxdWlyZUZvcmNlZmVlZGluZykge1xuICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpICYmICghQXJyYXkuaXNBcnJheShwcm9wZXJ0aWVzW3Byb3BlcnR5XSkgfHwgcHJvcGVydGllc1twcm9wZXJ0eV0ubGVuZ3RoIDwgMikpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZlbG9jaXR5SlM6IFdoZW4gbm90IHN1cHBseWluZyBhbiBlbGVtZW50IHlvdSBtdXN0IGZvcmNlLWZlZWQgdmFsdWVzOiBcIiArIHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBhY3RpdmVFYXNpbmcgPSB2YWxpZGF0ZUVhc2luZyhnZXRWYWx1ZShlYXNpbmcsIGRlZmF1bHRzJDEuZWFzaW5nKSwgREVGQVVMVF9EVVJBVElPTik7XG4gICAgICBpZiAobWF5YmVTZXF1ZW5jZSkge1xuICAgICAgICAgIGV4cGFuZFNlcXVlbmNlKGZha2VBbmltYXRpb24sIG1heWJlU2VxdWVuY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBleHBhbmRQcm9wZXJ0aWVzKGZha2VBbmltYXRpb24sIHByb3BlcnRpZXMpO1xuICAgICAgfVxuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmZvcmluXG4gICAgICBmb3IgKHZhciBfcHJvcGVydHkgaW4gZmFrZUFuaW1hdGlvbi50d2VlbnMpIHtcbiAgICAgICAgICAvLyBGb3IgZXZlcnkgZWxlbWVudCwgaXRlcmF0ZSB0aHJvdWdoIGVhY2ggcHJvcGVydHkuXG4gICAgICAgICAgdmFyIHByb3BlcnR5VHdlZW4gPSBmYWtlQW5pbWF0aW9uLnR3ZWVuc1tfcHJvcGVydHldLFxuICAgICAgICAgICAgICBzZXF1ZW5jZSA9IHByb3BlcnR5VHdlZW4uc2VxdWVuY2UsXG4gICAgICAgICAgICAgIHBhdHRlcm4gPSBzZXF1ZW5jZS5wYXR0ZXJuO1xuICAgICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBcIlwiLFxuICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgIGlmIChwYXR0ZXJuKSB7XG4gICAgICAgICAgICAgIHZhciBlYXNpbmdDb21wbGV0ZSA9IChwcm9wZXJ0eVR3ZWVuLmVhc2luZyB8fCBhY3RpdmVFYXNpbmcpKHBlcmNlbnRDb21wbGV0ZSwgMCwgMSwgX3Byb3BlcnR5KTtcbiAgICAgICAgICAgICAgdmFyIGJlc3QgPSAwO1xuICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNlcXVlbmNlLmxlbmd0aCAtIDE7IGorKykge1xuICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlW2pdLnBlcmNlbnQgPCBlYXNpbmdDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGJlc3QgPSBqO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciB0d2VlbkZyb20gPSBzZXF1ZW5jZVtiZXN0XSxcbiAgICAgICAgICAgICAgICAgIHR3ZWVuVG8gPSBzZXF1ZW5jZVtiZXN0ICsgMV0gfHwgdHdlZW5Gcm9tLFxuICAgICAgICAgICAgICAgICAgdHdlZW5QZXJjZW50ID0gKHBlcmNlbnRDb21wbGV0ZSAtIHR3ZWVuRnJvbS5wZXJjZW50KSAvICh0d2VlblRvLnBlcmNlbnQgLSB0d2VlbkZyb20ucGVyY2VudCksXG4gICAgICAgICAgICAgICAgICB0d2VlbkVhc2luZyA9IHR3ZWVuVG8uZWFzaW5nIHx8IGxpbmVhckVhc2luZztcbiAgICAgICAgICAgICAgZm9yICg7IGkgPCBwYXR0ZXJuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgc3RhcnRWYWx1ZSA9IHR3ZWVuRnJvbVtpXTtcbiAgICAgICAgICAgICAgICAgIGlmIChzdGFydFZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgKz0gcGF0dGVybltpXTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZFZhbHVlID0gdHdlZW5Ub1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRWYWx1ZSA9PT0gZW5kVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlICs9IHN0YXJ0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsIGVhc2luZ3MgbXVzdCBkZWFsIHdpdGggbnVtYmVycyBleGNlcHQgZm9yIG91ciBpbnRlcm5hbCBvbmVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0d2VlbkVhc2luZyh0d2VlblBlcmNlbnQsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBfcHJvcGVydHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgKz0gcGF0dGVybltpXSA9PT0gdHJ1ZSA/IE1hdGgucm91bmQodmFsdWUpIDogdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJlc3VsdFtfcHJvcGVydHldID0gY3VycmVudFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzaW5nbGVSZXN1bHQgJiYgY291bnQgPT09IDEpIHtcbiAgICAgICAgICBmb3IgKHZhciBfcHJvcGVydHkyIGluIHJlc3VsdCkge1xuICAgICAgICAgICAgICBpZiAocmVzdWx0Lmhhc093blByb3BlcnR5KF9wcm9wZXJ0eTIpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0W19wcm9wZXJ0eTJdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICByZWdpc3RlckFjdGlvbihbXCJ0d2VlblwiLCB0d2VlbkFjdGlvbl0sIHRydWUpO1xuXG4gIC8vIFByb2plY3RcbiAgLyoqXG4gICAqIENvbnZlcnRpbmcgZnJvbSBoZXggYXMgaXQgbWFrZXMgZm9yIGEgc21hbGxlciBmaWxlLlxuICAgKi9cbiAgdmFyIGNvbG9yVmFsdWVzID0ge1xuICAgICAgYWxpY2VibHVlOiAweEYwRjhGRixcbiAgICAgIGFudGlxdWV3aGl0ZTogMHhGQUVCRDcsXG4gICAgICBhcXVhOiAweDAwRkZGRixcbiAgICAgIGFxdWFtYXJpbmU6IDB4N0ZGRkQ0LFxuICAgICAgYXp1cmU6IDB4RjBGRkZGLFxuICAgICAgYmVpZ2U6IDB4RjVGNURDLFxuICAgICAgYmlzcXVlOiAweEZGRTRDNCxcbiAgICAgIGJsYWNrOiAweDAwMDAwMCxcbiAgICAgIGJsYW5jaGVkYWxtb25kOiAweEZGRUJDRCxcbiAgICAgIGJsdWU6IDB4MDAwMEZGLFxuICAgICAgYmx1ZXZpb2xldDogMHg4QTJCRTIsXG4gICAgICBicm93bjogMHhBNTJBMkEsXG4gICAgICBidXJseXdvb2Q6IDB4REVCODg3LFxuICAgICAgY2FkZXRibHVlOiAweDVGOUVBMCxcbiAgICAgIGNoYXJ0cmV1c2U6IDB4N0ZGRjAwLFxuICAgICAgY2hvY29sYXRlOiAweEQyNjkxRSxcbiAgICAgIGNvcmFsOiAweEZGN0Y1MCxcbiAgICAgIGNvcm5mbG93ZXJibHVlOiAweDY0OTVFRCxcbiAgICAgIGNvcm5zaWxrOiAweEZGRjhEQyxcbiAgICAgIGNyaW1zb246IDB4REMxNDNDLFxuICAgICAgY3lhbjogMHgwMEZGRkYsXG4gICAgICBkYXJrYmx1ZTogMHgwMDAwOEIsXG4gICAgICBkYXJrY3lhbjogMHgwMDhCOEIsXG4gICAgICBkYXJrZ29sZGVucm9kOiAweEI4ODYwQixcbiAgICAgIGRhcmtncmF5OiAweEE5QTlBOSxcbiAgICAgIGRhcmtncmV5OiAweEE5QTlBOSxcbiAgICAgIGRhcmtncmVlbjogMHgwMDY0MDAsXG4gICAgICBkYXJra2hha2k6IDB4QkRCNzZCLFxuICAgICAgZGFya21hZ2VudGE6IDB4OEIwMDhCLFxuICAgICAgZGFya29saXZlZ3JlZW46IDB4NTU2QjJGLFxuICAgICAgZGFya29yYW5nZTogMHhGRjhDMDAsXG4gICAgICBkYXJrb3JjaGlkOiAweDk5MzJDQyxcbiAgICAgIGRhcmtyZWQ6IDB4OEIwMDAwLFxuICAgICAgZGFya3NhbG1vbjogMHhFOTk2N0EsXG4gICAgICBkYXJrc2VhZ3JlZW46IDB4OEZCQzhGLFxuICAgICAgZGFya3NsYXRlYmx1ZTogMHg0ODNEOEIsXG4gICAgICBkYXJrc2xhdGVncmF5OiAweDJGNEY0RixcbiAgICAgIGRhcmtzbGF0ZWdyZXk6IDB4MkY0RjRGLFxuICAgICAgZGFya3R1cnF1b2lzZTogMHgwMENFRDEsXG4gICAgICBkYXJrdmlvbGV0OiAweDk0MDBEMyxcbiAgICAgIGRlZXBwaW5rOiAweEZGMTQ5MyxcbiAgICAgIGRlZXBza3libHVlOiAweDAwQkZGRixcbiAgICAgIGRpbWdyYXk6IDB4Njk2OTY5LFxuICAgICAgZGltZ3JleTogMHg2OTY5NjksXG4gICAgICBkb2RnZXJibHVlOiAweDFFOTBGRixcbiAgICAgIGZpcmVicmljazogMHhCMjIyMjIsXG4gICAgICBmbG9yYWx3aGl0ZTogMHhGRkZBRjAsXG4gICAgICBmb3Jlc3RncmVlbjogMHgyMjhCMjIsXG4gICAgICBmdWNoc2lhOiAweEZGMDBGRixcbiAgICAgIGdhaW5zYm9ybzogMHhEQ0RDREMsXG4gICAgICBnaG9zdHdoaXRlOiAweEY4RjhGRixcbiAgICAgIGdvbGQ6IDB4RkZENzAwLFxuICAgICAgZ29sZGVucm9kOiAweERBQTUyMCxcbiAgICAgIGdyYXk6IDB4ODA4MDgwLFxuICAgICAgZ3JleTogMHg4MDgwODAsXG4gICAgICBncmVlbjogMHgwMDgwMDAsXG4gICAgICBncmVlbnllbGxvdzogMHhBREZGMkYsXG4gICAgICBob25leWRldzogMHhGMEZGRjAsXG4gICAgICBob3RwaW5rOiAweEZGNjlCNCxcbiAgICAgIGluZGlhbnJlZDogMHhDRDVDNUMsXG4gICAgICBpbmRpZ286IDB4NEIwMDgyLFxuICAgICAgaXZvcnk6IDB4RkZGRkYwLFxuICAgICAga2hha2k6IDB4RjBFNjhDLFxuICAgICAgbGF2ZW5kZXI6IDB4RTZFNkZBLFxuICAgICAgbGF2ZW5kZXJibHVzaDogMHhGRkYwRjUsXG4gICAgICBsYXduZ3JlZW46IDB4N0NGQzAwLFxuICAgICAgbGVtb25jaGlmZm9uOiAweEZGRkFDRCxcbiAgICAgIGxpZ2h0Ymx1ZTogMHhBREQ4RTYsXG4gICAgICBsaWdodGNvcmFsOiAweEYwODA4MCxcbiAgICAgIGxpZ2h0Y3lhbjogMHhFMEZGRkYsXG4gICAgICBsaWdodGdvbGRlbnJvZHllbGxvdzogMHhGQUZBRDIsXG4gICAgICBsaWdodGdyYXk6IDB4RDNEM0QzLFxuICAgICAgbGlnaHRncmV5OiAweEQzRDNEMyxcbiAgICAgIGxpZ2h0Z3JlZW46IDB4OTBFRTkwLFxuICAgICAgbGlnaHRwaW5rOiAweEZGQjZDMSxcbiAgICAgIGxpZ2h0c2FsbW9uOiAweEZGQTA3QSxcbiAgICAgIGxpZ2h0c2VhZ3JlZW46IDB4MjBCMkFBLFxuICAgICAgbGlnaHRza3libHVlOiAweDg3Q0VGQSxcbiAgICAgIGxpZ2h0c2xhdGVncmF5OiAweDc3ODg5OSxcbiAgICAgIGxpZ2h0c2xhdGVncmV5OiAweDc3ODg5OSxcbiAgICAgIGxpZ2h0c3RlZWxibHVlOiAweEIwQzRERSxcbiAgICAgIGxpZ2h0eWVsbG93OiAweEZGRkZFMCxcbiAgICAgIGxpbWU6IDB4MDBGRjAwLFxuICAgICAgbGltZWdyZWVuOiAweDMyQ0QzMixcbiAgICAgIGxpbmVuOiAweEZBRjBFNixcbiAgICAgIG1hZ2VudGE6IDB4RkYwMEZGLFxuICAgICAgbWFyb29uOiAweDgwMDAwMCxcbiAgICAgIG1lZGl1bWFxdWFtYXJpbmU6IDB4NjZDREFBLFxuICAgICAgbWVkaXVtYmx1ZTogMHgwMDAwQ0QsXG4gICAgICBtZWRpdW1vcmNoaWQ6IDB4QkE1NUQzLFxuICAgICAgbWVkaXVtcHVycGxlOiAweDkzNzBEQixcbiAgICAgIG1lZGl1bXNlYWdyZWVuOiAweDNDQjM3MSxcbiAgICAgIG1lZGl1bXNsYXRlYmx1ZTogMHg3QjY4RUUsXG4gICAgICBtZWRpdW1zcHJpbmdncmVlbjogMHgwMEZBOUEsXG4gICAgICBtZWRpdW10dXJxdW9pc2U6IDB4NDhEMUNDLFxuICAgICAgbWVkaXVtdmlvbGV0cmVkOiAweEM3MTU4NSxcbiAgICAgIG1pZG5pZ2h0Ymx1ZTogMHgxOTE5NzAsXG4gICAgICBtaW50Y3JlYW06IDB4RjVGRkZBLFxuICAgICAgbWlzdHlyb3NlOiAweEZGRTRFMSxcbiAgICAgIG1vY2Nhc2luOiAweEZGRTRCNSxcbiAgICAgIG5hdmFqb3doaXRlOiAweEZGREVBRCxcbiAgICAgIG5hdnk6IDB4MDAwMDgwLFxuICAgICAgb2xkbGFjZTogMHhGREY1RTYsXG4gICAgICBvbGl2ZTogMHg4MDgwMDAsXG4gICAgICBvbGl2ZWRyYWI6IDB4NkI4RTIzLFxuICAgICAgb3JhbmdlOiAweEZGQTUwMCxcbiAgICAgIG9yYW5nZXJlZDogMHhGRjQ1MDAsXG4gICAgICBvcmNoaWQ6IDB4REE3MEQ2LFxuICAgICAgcGFsZWdvbGRlbnJvZDogMHhFRUU4QUEsXG4gICAgICBwYWxlZ3JlZW46IDB4OThGQjk4LFxuICAgICAgcGFsZXR1cnF1b2lzZTogMHhBRkVFRUUsXG4gICAgICBwYWxldmlvbGV0cmVkOiAweERCNzA5MyxcbiAgICAgIHBhcGF5YXdoaXA6IDB4RkZFRkQ1LFxuICAgICAgcGVhY2hwdWZmOiAweEZGREFCOSxcbiAgICAgIHBlcnU6IDB4Q0Q4NTNGLFxuICAgICAgcGluazogMHhGRkMwQ0IsXG4gICAgICBwbHVtOiAweEREQTBERCxcbiAgICAgIHBvd2RlcmJsdWU6IDB4QjBFMEU2LFxuICAgICAgcHVycGxlOiAweDgwMDA4MCxcbiAgICAgIHJlYmVjY2FwdXJwbGU6IDB4NjYzMzk5LFxuICAgICAgcmVkOiAweEZGMDAwMCxcbiAgICAgIHJvc3licm93bjogMHhCQzhGOEYsXG4gICAgICByb3lhbGJsdWU6IDB4NDE2OUUxLFxuICAgICAgc2FkZGxlYnJvd246IDB4OEI0NTEzLFxuICAgICAgc2FsbW9uOiAweEZBODA3MixcbiAgICAgIHNhbmR5YnJvd246IDB4RjRBNDYwLFxuICAgICAgc2VhZ3JlZW46IDB4MkU4QjU3LFxuICAgICAgc2Vhc2hlbGw6IDB4RkZGNUVFLFxuICAgICAgc2llbm5hOiAweEEwNTIyRCxcbiAgICAgIHNpbHZlcjogMHhDMEMwQzAsXG4gICAgICBza3libHVlOiAweDg3Q0VFQixcbiAgICAgIHNsYXRlYmx1ZTogMHg2QTVBQ0QsXG4gICAgICBzbGF0ZWdyYXk6IDB4NzA4MDkwLFxuICAgICAgc2xhdGVncmV5OiAweDcwODA5MCxcbiAgICAgIHNub3c6IDB4RkZGQUZBLFxuICAgICAgc3ByaW5nZ3JlZW46IDB4MDBGRjdGLFxuICAgICAgc3RlZWxibHVlOiAweDQ2ODJCNCxcbiAgICAgIHRhbjogMHhEMkI0OEMsXG4gICAgICB0ZWFsOiAweDAwODA4MCxcbiAgICAgIHRoaXN0bGU6IDB4RDhCRkQ4LFxuICAgICAgdG9tYXRvOiAweEZGNjM0NyxcbiAgICAgIHR1cnF1b2lzZTogMHg0MEUwRDAsXG4gICAgICB2aW9sZXQ6IDB4RUU4MkVFLFxuICAgICAgd2hlYXQ6IDB4RjVERUIzLFxuICAgICAgd2hpdGU6IDB4RkZGRkZGLFxuICAgICAgd2hpdGVzbW9rZTogMHhGNUY1RjUsXG4gICAgICB5ZWxsb3c6IDB4RkZGRjAwLFxuICAgICAgeWVsbG93Z3JlZW46IDB4OUFDRDMyXG4gIH07XG4gIGZvciAodmFyIG5hbWUgaW4gY29sb3JWYWx1ZXMpIHtcbiAgICAgIGlmIChjb2xvclZhbHVlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgIHZhciBjb2xvciA9IGNvbG9yVmFsdWVzW25hbWVdO1xuICAgICAgICAgIENvbG9yTmFtZXNbbmFtZV0gPSBNYXRoLmZsb29yKGNvbG9yIC8gNjU1MzYpICsgXCIsXCIgKyBNYXRoLmZsb29yKGNvbG9yIC8gMjU2ICUgMjU2KSArIFwiLFwiICsgY29sb3IgJSAyNTY7XG4gICAgICB9XG4gIH1cblxuICAvLyBQcm9qZWN0XG4gIGZ1bmN0aW9uIHJlZ2lzdGVyQmFja0luKG5hbWUsIGFtb3VudCkge1xuICAgICAgcmVnaXN0ZXJFYXNpbmcoW25hbWUsIGZ1bmN0aW9uIChwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XG4gICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMSkge1xuICAgICAgICAgICAgICByZXR1cm4gZW5kVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBNYXRoLnBvdyhwZXJjZW50Q29tcGxldGUsIDIpICogKChhbW91bnQgKyAxKSAqIHBlcmNlbnRDb21wbGV0ZSAtIGFtb3VudCkgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcbiAgICAgIH1dKTtcbiAgfVxuICBmdW5jdGlvbiByZWdpc3RlckJhY2tPdXQobmFtZSwgYW1vdW50KSB7XG4gICAgICByZWdpc3RlckVhc2luZyhbbmFtZSwgZnVuY3Rpb24gKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUpIHtcbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzdGFydFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlbmRWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIChNYXRoLnBvdygtLXBlcmNlbnRDb21wbGV0ZSwgMikgKiAoKGFtb3VudCArIDEpICogcGVyY2VudENvbXBsZXRlICsgYW1vdW50KSArIDEpICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XG4gICAgICB9XSk7XG4gIH1cbiAgZnVuY3Rpb24gcmVnaXN0ZXJCYWNrSW5PdXQobmFtZSwgYW1vdW50KSB7XG4gICAgICBhbW91bnQgKj0gMS41MjU7XG4gICAgICByZWdpc3RlckVhc2luZyhbbmFtZSwgZnVuY3Rpb24gKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUpIHtcbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzdGFydFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlbmRWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGVyY2VudENvbXBsZXRlICo9IDI7XG4gICAgICAgICAgcmV0dXJuIChwZXJjZW50Q29tcGxldGUgPCAxID8gTWF0aC5wb3cocGVyY2VudENvbXBsZXRlLCAyKSAqICgoYW1vdW50ICsgMSkgKiBwZXJjZW50Q29tcGxldGUgLSBhbW91bnQpIDogTWF0aC5wb3cocGVyY2VudENvbXBsZXRlIC0gMiwgMikgKiAoKGFtb3VudCArIDEpICogKHBlcmNlbnRDb21wbGV0ZSAtIDIpICsgYW1vdW50KSArIDIpICogMC41ICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XG4gICAgICB9XSk7XG4gIH1cbiAgcmVnaXN0ZXJCYWNrSW4oXCJlYXNlSW5CYWNrXCIsIDEuNyk7XG4gIHJlZ2lzdGVyQmFja091dChcImVhc2VPdXRCYWNrXCIsIDEuNyk7XG4gIHJlZ2lzdGVyQmFja0luT3V0KFwiZWFzZUluT3V0QmFja1wiLCAxLjcpO1xuICAvLyBUT0RPOiBFeHBvc2UgdGhlc2UgYXMgYWN0aW9ucyB0byByZWdpc3RlciBjdXN0b20gZWFzaW5ncz9cblxuICAvLyBQcm9qZWN0XG4gIGZ1bmN0aW9uIGVhc2VPdXRCb3VuY2VQZXJjZW50KHBlcmNlbnRDb21wbGV0ZSkge1xuICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA8IDEgLyAyLjc1KSB7XG4gICAgICAgICAgcmV0dXJuIDcuNTYyNSAqIHBlcmNlbnRDb21wbGV0ZSAqIHBlcmNlbnRDb21wbGV0ZTtcbiAgICAgIH1cbiAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPCAyIC8gMi43NSkge1xuICAgICAgICAgIHJldHVybiA3LjU2MjUgKiAocGVyY2VudENvbXBsZXRlIC09IDEuNSAvIDIuNzUpICogcGVyY2VudENvbXBsZXRlICsgMC43NTtcbiAgICAgIH1cbiAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPCAyLjUgLyAyLjc1KSB7XG4gICAgICAgICAgcmV0dXJuIDcuNTYyNSAqIChwZXJjZW50Q29tcGxldGUgLT0gMi4yNSAvIDIuNzUpICogcGVyY2VudENvbXBsZXRlICsgMC45Mzc1O1xuICAgICAgfVxuICAgICAgcmV0dXJuIDcuNTYyNSAqIChwZXJjZW50Q29tcGxldGUgLT0gMi42MjUgLyAyLjc1KSAqIHBlcmNlbnRDb21wbGV0ZSArIDAuOTg0Mzc1O1xuICB9XG4gIGZ1bmN0aW9uIGVhc2VJbkJvdW5jZVBlcmNlbnQocGVyY2VudENvbXBsZXRlKSB7XG4gICAgICByZXR1cm4gMSAtIGVhc2VPdXRCb3VuY2VQZXJjZW50KDEgLSBwZXJjZW50Q29tcGxldGUpO1xuICB9XG4gIGZ1bmN0aW9uIGVhc2VJbkJvdW5jZShwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XG4gICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVhc2VJbkJvdW5jZVBlcmNlbnQocGVyY2VudENvbXBsZXRlKSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xuICB9XG4gIGZ1bmN0aW9uIGVhc2VPdXRCb3VuY2UocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xuICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBzdGFydFZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiBlbmRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlYXNlT3V0Qm91bmNlUGVyY2VudChwZXJjZW50Q29tcGxldGUpICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XG4gIH1cbiAgZnVuY3Rpb24gZWFzZUluT3V0Qm91bmNlKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUpIHtcbiAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDEpIHtcbiAgICAgICAgICByZXR1cm4gZW5kVmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gKHBlcmNlbnRDb21wbGV0ZSA8IDAuNSA/IGVhc2VJbkJvdW5jZVBlcmNlbnQocGVyY2VudENvbXBsZXRlICogMikgKiAwLjUgOiBlYXNlT3V0Qm91bmNlUGVyY2VudChwZXJjZW50Q29tcGxldGUgKiAyIC0gMSkgKiAwLjUgKyAwLjUpICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XG4gIH1cbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluQm91bmNlXCIsIGVhc2VJbkJvdW5jZV0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlT3V0Qm91bmNlXCIsIGVhc2VPdXRCb3VuY2VdKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluT3V0Qm91bmNlXCIsIGVhc2VJbk91dEJvdW5jZV0pO1xuXG4gIC8vIFByb2plY3RcbiAgLy8gQ29uc3RhbnRzXG4gIHZhciBQSTIgPSBNYXRoLlBJICogMjtcbiAgZnVuY3Rpb24gcmVnaXN0ZXJFbGFzdGljSW4obmFtZSwgYW1wbGl0dWRlLCBwZXJpb2QpIHtcbiAgICAgIHJlZ2lzdGVyRWFzaW5nKFtuYW1lLCBmdW5jdGlvbiAocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xuICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gLShhbXBsaXR1ZGUgKiBNYXRoLnBvdygyLCAxMCAqIChwZXJjZW50Q29tcGxldGUgLT0gMSkpICogTWF0aC5zaW4oKHBlcmNlbnRDb21wbGV0ZSAtIHBlcmlvZCAvIFBJMiAqIE1hdGguYXNpbigxIC8gYW1wbGl0dWRlKSkgKiBQSTIgLyBwZXJpb2QpKSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xuICAgICAgfV0pO1xuICB9XG4gIGZ1bmN0aW9uIHJlZ2lzdGVyRWxhc3RpY091dChuYW1lLCBhbXBsaXR1ZGUsIHBlcmlvZCkge1xuICAgICAgcmVnaXN0ZXJFYXNpbmcoW25hbWUsIGZ1bmN0aW9uIChwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XG4gICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMSkge1xuICAgICAgICAgICAgICByZXR1cm4gZW5kVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAoYW1wbGl0dWRlICogTWF0aC5wb3coMiwgLTEwICogcGVyY2VudENvbXBsZXRlKSAqIE1hdGguc2luKChwZXJjZW50Q29tcGxldGUgLSBwZXJpb2QgLyBQSTIgKiBNYXRoLmFzaW4oMSAvIGFtcGxpdHVkZSkpICogUEkyIC8gcGVyaW9kKSArIDEpICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XG4gICAgICB9XSk7XG4gIH1cbiAgZnVuY3Rpb24gcmVnaXN0ZXJFbGFzdGljSW5PdXQobmFtZSwgYW1wbGl0dWRlLCBwZXJpb2QpIHtcbiAgICAgIHJlZ2lzdGVyRWFzaW5nKFtuYW1lLCBmdW5jdGlvbiAocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xuICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgcyA9IHBlcmlvZCAvIFBJMiAqIE1hdGguYXNpbigxIC8gYW1wbGl0dWRlKTtcbiAgICAgICAgICBwZXJjZW50Q29tcGxldGUgPSBwZXJjZW50Q29tcGxldGUgKiAyIC0gMTtcbiAgICAgICAgICByZXR1cm4gKHBlcmNlbnRDb21wbGV0ZSA8IDAgPyAtMC41ICogKGFtcGxpdHVkZSAqIE1hdGgucG93KDIsIDEwICogcGVyY2VudENvbXBsZXRlKSAqIE1hdGguc2luKChwZXJjZW50Q29tcGxldGUgLSBzKSAqIFBJMiAvIHBlcmlvZCkpIDogYW1wbGl0dWRlICogTWF0aC5wb3coMiwgLTEwICogcGVyY2VudENvbXBsZXRlKSAqIE1hdGguc2luKChwZXJjZW50Q29tcGxldGUgLSBzKSAqIFBJMiAvIHBlcmlvZCkgKiAwLjUgKyAxKSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xuICAgICAgfV0pO1xuICB9XG4gIHJlZ2lzdGVyRWxhc3RpY0luKFwiZWFzZUluRWxhc3RpY1wiLCAxLCAwLjMpO1xuICByZWdpc3RlckVsYXN0aWNPdXQoXCJlYXNlT3V0RWxhc3RpY1wiLCAxLCAwLjMpO1xuICByZWdpc3RlckVsYXN0aWNJbk91dChcImVhc2VJbk91dEVsYXN0aWNcIiwgMSwgMC4zICogMS41KTtcbiAgLy8gVE9ETzogRXhwb3NlIHRoZXNlIGFzIGFjdGlvbnMgdG8gcmVnaXN0ZXIgY3VzdG9tIGVhc2luZ3M/XG5cbiAgLy8gUHJvamVjdFxuICAvKipcbiAgICogRWFzaW5nIGZ1bmN0aW9uIHRoYXQgc2V0cyB0byB0aGUgc3BlY2lmaWVkIHZhbHVlIGltbWVkaWF0ZWx5IGFmdGVyIHRoZVxuICAgKiBhbmltYXRpb24gc3RhcnRzLlxuICAgKi9cbiAgZnVuY3Rpb24gYXRTdGFydChwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XG4gICAgcmV0dXJuIHBlcmNlbnRDb21wbGV0ZSA9PT0gMCA/IHN0YXJ0VmFsdWUgOiBlbmRWYWx1ZTtcbiAgfVxuICAvKipcbiAgICogRWFzaW5nIGZ1bmN0aW9uIHRoYXQgc2V0cyB0byB0aGUgc3BlY2lmaWVkIHZhbHVlIHdoaWxlIHRoZSBhbmltYXRpb24gaXNcbiAgICogcnVubmluZy5cbiAgICovXG4gIGZ1bmN0aW9uIGR1cmluZyhwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XG4gICAgcmV0dXJuIHBlcmNlbnRDb21wbGV0ZSA9PT0gMCB8fCBwZXJjZW50Q29tcGxldGUgPT09IDEgPyBzdGFydFZhbHVlIDogZW5kVmFsdWU7XG4gIH1cbiAgLyoqXG4gICAqIEVhc2luZyBmdW5jdGlvbiB0aGF0IHNldHMgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZSB3aGVuIHRoZSBhbmltYXRpb24gZW5kcy5cbiAgICovXG4gIGZ1bmN0aW9uIGF0RW5kKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUpIHtcbiAgICByZXR1cm4gcGVyY2VudENvbXBsZXRlID09PSAxID8gZW5kVmFsdWUgOiBzdGFydFZhbHVlO1xuICB9XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImF0LXN0YXJ0XCIsIGF0U3RhcnRdKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZHVyaW5nXCIsIGR1cmluZ10pO1xuICByZWdpc3RlckVhc2luZyhbXCJhdC1lbmRcIiwgYXRFbmRdKTtcblxuICAvLyBQcm9qZWN0XG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSBpbm5lci9vdXRlciBkaW1lbnNpb24uXG4gICAqL1xuICBmdW5jdGlvbiBnZXREaW1lbnNpb24obmFtZSwgd2FudElubmVyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW1lbnQsIHByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgICBpZiAocHJvcGVydHlWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBhdWdtZW50RGltZW5zaW9uKGVsZW1lbnQsIG5hbWUsIHdhbnRJbm5lcikgKyBcInB4XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFByb3BlcnR5VmFsdWUoZWxlbWVudCwgbmFtZSwgcGFyc2VGbG9hdChwcm9wZXJ0eVZhbHVlKSAtIGF1Z21lbnREaW1lbnNpb24oZWxlbWVudCwgbmFtZSwgd2FudElubmVyKSArIFwicHhcIik7XG4gICAgICB9O1xuICB9XG4gIHJlZ2lzdGVyTm9ybWFsaXphdGlvbihbXCJFbGVtZW50XCIsIFwiaW5uZXJXaWR0aFwiLCBnZXREaW1lbnNpb24oXCJ3aWR0aFwiLCB0cnVlKV0pO1xuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiRWxlbWVudFwiLCBcImlubmVySGVpZ2h0XCIsIGdldERpbWVuc2lvbihcImhlaWdodFwiLCB0cnVlKV0pO1xuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiRWxlbWVudFwiLCBcIm91dGVyV2lkdGhcIiwgZ2V0RGltZW5zaW9uKFwid2lkdGhcIiwgZmFsc2UpXSk7XG4gIHJlZ2lzdGVyTm9ybWFsaXphdGlvbihbXCJFbGVtZW50XCIsIFwib3V0ZXJIZWlnaHRcIiwgZ2V0RGltZW5zaW9uKFwiaGVpZ2h0XCIsIGZhbHNlKV0pO1xuXG4gIC8vIFByb2plY3RcbiAgLy8gQ29uc3RhbnRzXG4gIHZhciBpbmxpbmVSeCA9IC9eKGJ8YmlnfGl8c21hbGx8dHR8YWJicnxhY3JvbnltfGNpdGV8Y29kZXxkZm58ZW18a2JkfHN0cm9uZ3xzYW1wfGxldHxhfGJkb3xicnxpbWd8bWFwfG9iamVjdHxxfHNjcmlwdHxzcGFufHN1YnxzdXB8YnV0dG9ufGlucHV0fGxhYmVsfHNlbGVjdHx0ZXh0YXJlYSkkL2ksXG4gICAgICBsaXN0SXRlbVJ4ID0gL14obGkpJC9pLFxuICAgICAgdGFibGVSb3dSeCA9IC9eKHRyKSQvaSxcbiAgICAgIHRhYmxlUnggPSAvXih0YWJsZSkkL2ksXG4gICAgICB0YWJsZVJvd0dyb3VwUnggPSAvXih0Ym9keSkkL2k7XG4gIGZ1bmN0aW9uIGRpc3BsYXkoZWxlbWVudCwgcHJvcGVydHlWYWx1ZSkge1xuICAgICAgdmFyIHN0eWxlID0gZWxlbWVudC5zdHlsZTtcbiAgICAgIGlmIChwcm9wZXJ0eVZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gY29tcHV0ZVByb3BlcnR5VmFsdWUoZWxlbWVudCwgXCJkaXNwbGF5XCIpO1xuICAgICAgfVxuICAgICAgaWYgKHByb3BlcnR5VmFsdWUgPT09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgdmFyIG5vZGVOYW1lID0gZWxlbWVudCAmJiBlbGVtZW50Lm5vZGVOYW1lLFxuICAgICAgICAgICAgICBkYXRhID0gRGF0YShlbGVtZW50KTtcbiAgICAgICAgICBpZiAoaW5saW5lUngudGVzdChub2RlTmFtZSkpIHtcbiAgICAgICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IFwiaW5saW5lXCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChsaXN0SXRlbVJ4LnRlc3Qobm9kZU5hbWUpKSB7XG4gICAgICAgICAgICAgIHByb3BlcnR5VmFsdWUgPSBcImxpc3QtaXRlbVwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGFibGVSb3dSeC50ZXN0KG5vZGVOYW1lKSkge1xuICAgICAgICAgICAgICBwcm9wZXJ0eVZhbHVlID0gXCJ0YWJsZS1yb3dcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlUngudGVzdChub2RlTmFtZSkpIHtcbiAgICAgICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IFwidGFibGVcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlUm93R3JvdXBSeC50ZXN0KG5vZGVOYW1lKSkge1xuICAgICAgICAgICAgICBwcm9wZXJ0eVZhbHVlID0gXCJ0YWJsZS1yb3ctZ3JvdXBcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBEZWZhdWx0IHRvIFwiYmxvY2tcIiB3aGVuIG5vIG1hdGNoIGlzIGZvdW5kLlxuICAgICAgICAgICAgICBwcm9wZXJ0eVZhbHVlID0gXCJibG9ja1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBJTVBPUlRBTlQ6IFdlIG5lZWQgdG8gZG8gdGhpcyBhcyBnZXRQcm9wZXJ0eVZhbHVlIGJ5cGFzc2VzIHRoZVxuICAgICAgICAgIC8vIE5vcm1hbGlzYXRpb24gd2hlbiBpdCBleGlzdHMgaW4gdGhlIGNhY2hlLlxuICAgICAgICAgIGRhdGEuY2FjaGVbXCJkaXNwbGF5XCJdID0gcHJvcGVydHlWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHN0eWxlLmRpc3BsYXkgPSBwcm9wZXJ0eVZhbHVlO1xuICB9XG4gIHJlZ2lzdGVyTm9ybWFsaXphdGlvbihbXCJFbGVtZW50XCIsIFwiZGlzcGxheVwiLCBkaXNwbGF5XSk7XG5cbiAgLy8gUHJvamVjdFxuICBmdW5jdGlvbiBjbGllbnRXaWR0aChlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKSB7XG4gICAgICBpZiAocHJvcGVydHlWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQuY2xpZW50V2lkdGggKyBcInB4XCI7XG4gICAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc2Nyb2xsV2lkdGgoZWxlbWVudCwgcHJvcGVydHlWYWx1ZSkge1xuICAgICAgaWYgKHByb3BlcnR5VmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50LnNjcm9sbFdpZHRoICsgXCJweFwiO1xuICAgICAgfVxuICB9XG4gIGZ1bmN0aW9uIGNsaWVudEhlaWdodChlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKSB7XG4gICAgICBpZiAocHJvcGVydHlWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQuY2xpZW50SGVpZ2h0ICsgXCJweFwiO1xuICAgICAgfVxuICB9XG4gIGZ1bmN0aW9uIHNjcm9sbEhlaWdodChlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKSB7XG4gICAgICBpZiAocHJvcGVydHlWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQuc2Nyb2xsSGVpZ2h0ICsgXCJweFwiO1xuICAgICAgfVxuICB9XG4gIGZ1bmN0aW9uIHNjcm9sbChkaXJlY3Rpb24sIGVuZCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKSB7XG4gICAgICAgICAgaWYgKHByb3BlcnR5VmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSB0aGVzZSB2YWx1ZXMgY2FjaGVkLlxuICAgICAgICAgICAgICBnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIFwiY2xpZW50XCIgKyBkaXJlY3Rpb24sIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgICBnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIFwic2Nyb2xsXCIgKyBkaXJlY3Rpb24sIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudFtcInNjcm9sbFwiICsgZW5kXSArIFwicHhcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHZhbHVlID0gcGFyc2VGbG9hdChwcm9wZXJ0eVZhbHVlKSxcbiAgICAgICAgICAgICAgdW5pdCA9IHByb3BlcnR5VmFsdWUucmVwbGFjZShTdHJpbmcodmFsdWUpLCBcIlwiKTtcbiAgICAgICAgICBzd2l0Y2ggKHVuaXQpIHtcbiAgICAgICAgICAgICAgY2FzZSBcIlwiOlxuICAgICAgICAgICAgICBjYXNlIFwicHhcIjpcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnRbXCJzY3JvbGxcIiArIGVuZF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiJVwiOlxuICAgICAgICAgICAgICAgICAgdmFyIGNsaWVudCA9IHBhcnNlRmxvYXQoZ2V0UHJvcGVydHlWYWx1ZShlbGVtZW50LCBcImNsaWVudFwiICsgZGlyZWN0aW9uKSksXG4gICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVmFsdWUgPSBwYXJzZUZsb2F0KGdldFByb3BlcnR5VmFsdWUoZWxlbWVudCwgXCJzY3JvbGxcIiArIGRpcmVjdGlvbikpO1xuICAgICAgICAgICAgICAgICAgZWxlbWVudFtcInNjcm9sbFwiICsgZW5kXSA9IE1hdGgubWF4KDAsIHNjcm9sbFZhbHVlIC0gY2xpZW50KSAqIHZhbHVlIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgfTtcbiAgfVxuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiSFRNTEVsZW1lbnRcIiwgXCJzY3JvbGxcIiwgc2Nyb2xsKFwiSGVpZ2h0XCIsIFwiVG9wXCIpLCBmYWxzZV0pO1xuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiSFRNTEVsZW1lbnRcIiwgXCJzY3JvbGxUb3BcIiwgc2Nyb2xsKFwiSGVpZ2h0XCIsIFwiVG9wXCIpLCBmYWxzZV0pO1xuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiSFRNTEVsZW1lbnRcIiwgXCJzY3JvbGxMZWZ0XCIsIHNjcm9sbChcIldpZHRoXCIsIFwiTGVmdFwiKSwgZmFsc2VdKTtcbiAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkhUTUxFbGVtZW50XCIsIFwic2Nyb2xsV2lkdGhcIiwgc2Nyb2xsV2lkdGhdKTtcbiAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkhUTUxFbGVtZW50XCIsIFwiY2xpZW50V2lkdGhcIiwgY2xpZW50V2lkdGhdKTtcbiAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkhUTUxFbGVtZW50XCIsIFwic2Nyb2xsSGVpZ2h0XCIsIHNjcm9sbEhlaWdodF0pO1xuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiSFRNTEVsZW1lbnRcIiwgXCJjbGllbnRIZWlnaHRcIiwgY2xpZW50SGVpZ2h0XSk7XG5cbiAgLy8gUHJvamVjdFxuICAvKipcbiAgICogQW4gUmVnRXhwIHBhdHRlcm4gZm9yIHRoZSBmb2xsb3dpbmcgbGlzdCBvZiBjc3Mgd29yZHMgdXNpbmdcbiAgICogaHR0cDovL2tlbWlvLmNvbS5hci90b29scy9sc3QtdHJpZS1yZS5waHAgdG8gZ2VuZXJhdGU6XG4gICAqXG4gICAqIGJsb2NrU2l6ZVxuICAgKiBib3JkZXJCb3R0b21MZWZ0UmFkaXVzXG4gICAqIGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzXG4gICAqIGJvcmRlckJvdHRvbVdpZHRoXG4gICAqIGJvcmRlckltYWdlT3V0c2V0XG4gICAqIGJvcmRlckltYWdlV2lkdGhcbiAgICogYm9yZGVyTGVmdFdpZHRoXG4gICAqIGJvcmRlclJhZGl1c1xuICAgKiBib3JkZXJSaWdodFdpZHRoXG4gICAqIGJvcmRlclNwYWNpbmdcbiAgICogYm9yZGVyVG9wTGVmdFJhZGl1c1xuICAgKiBib3JkZXJUb3BSaWdodFJhZGl1c1xuICAgKiBib3JkZXJUb3BXaWR0aFxuICAgKiBib3JkZXJXaWR0aFxuICAgKiBib3R0b21cbiAgICogY29sdW1uR2FwXG4gICAqIGNvbHVtblJ1bGVXaWR0aFxuICAgKiBjb2x1bW5XaWR0aFxuICAgKiBmbGV4QmFzaXNcbiAgICogZm9udFNpemVcbiAgICogZ3JpZENvbHVtbkdhcFxuICAgKiBncmlkR2FwXG4gICAqIGdyaWRSb3dHYXBcbiAgICogaGVpZ2h0XG4gICAqIGlubGluZVNpemVcbiAgICogbGVmdFxuICAgKiBsZXR0ZXJTcGFjaW5nXG4gICAqIG1hcmdpblxuICAgKiBtYXJnaW5Cb3R0b21cbiAgICogbWFyZ2luTGVmdFxuICAgKiBtYXJnaW5SaWdodFxuICAgKiBtYXJnaW5Ub3BcbiAgICogbWF4QmxvY2tTaXplXG4gICAqIG1heEhlaWdodFxuICAgKiBtYXhJbmxpbmVTaXplXG4gICAqIG1heFdpZHRoXG4gICAqIG1pbkJsb2NrU2l6ZVxuICAgKiBtaW5IZWlnaHRcbiAgICogbWluSW5saW5lU2l6ZVxuICAgKiBtaW5XaWR0aFxuICAgKiBvYmplY3RQb3NpdGlvblxuICAgKiBvdXRsaW5lT2Zmc2V0XG4gICAqIG91dGxpbmVXaWR0aFxuICAgKiBwYWRkaW5nXG4gICAqIHBhZGRpbmdCb3R0b21cbiAgICogcGFkZGluZ0xlZnRcbiAgICogcGFkZGluZ1JpZ2h0XG4gICAqIHBhZGRpbmdUb3BcbiAgICogcGVyc3BlY3RpdmVcbiAgICogcmlnaHRcbiAgICogc2hhcGVNYXJnaW5cbiAgICogc3Ryb2tlRGFzaG9mZnNldFxuICAgKiBzdHJva2VXaWR0aFxuICAgKiB0ZXh0SW5kZW50XG4gICAqIHRvcFxuICAgKiB0cmFuc2Zvcm1PcmlnaW5cbiAgICogd2lkdGhcbiAgICogd29yZFNwYWNpbmdcbiAgICovXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgdmFyIHJ4QWRkUHggPSAvXihiKGxvY2tTaXplfG8ocmRlcihCb3R0b20oTGVmdFJhZGl1c3xSaWdodFJhZGl1c3xXaWR0aCl8SW1hZ2UoT3V0c2V0fFdpZHRoKXxMZWZ0V2lkdGh8UihhZGl1c3xpZ2h0V2lkdGgpfFNwYWNpbmd8VG9wKExlZnRSYWRpdXN8UmlnaHRSYWRpdXN8V2lkdGgpfFdpZHRoKXx0dG9tKSl8Y29sdW1uKEdhcHxSdWxlV2lkdGh8V2lkdGgpfGYobGV4QmFzaXN8b250U2l6ZSl8Z3JpZChDb2x1bW5HYXB8R2FwfFJvd0dhcCl8aGVpZ2h0fGlubGluZVNpemV8bGUoZnR8dHRlclNwYWNpbmcpfG0oYShyZ2luKEJvdHRvbXxMZWZ0fFJpZ2h0fFRvcCl8eChCbG9ja1NpemV8SGVpZ2h0fElubGluZVNpemV8V2lkdGgpKXxpbihCbG9ja1NpemV8SGVpZ2h0fElubGluZVNpemV8V2lkdGgpKXxvKGJqZWN0UG9zaXRpb258dXRsaW5lKE9mZnNldHxXaWR0aCkpfHAoYWRkaW5nKEJvdHRvbXxMZWZ0fFJpZ2h0fFRvcCl8ZXJzcGVjdGl2ZSl8cmlnaHR8cyhoYXBlTWFyZ2lufHRyb2tlKERhc2hvZmZzZXR8V2lkdGgpKXx0KGV4dEluZGVudHxvcHxyYW5zZm9ybU9yaWdpbil8dyhpZHRofG9yZFNwYWNpbmcpKSQvO1xuICAvKipcbiAgICogUmV0dXJuIGEgTm9ybWFsaXNhdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIHNldCAvIGdldCBhIHByZWZpeGVkIHN0eWxlXG4gICAqIHByb3BlcnR5LlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0U2V0UHJlZml4ZWQocHJvcGVydHlOYW1lLCB1bnByZWZpeGVkKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW1lbnQsIHByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgICBpZiAocHJvcGVydHlWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjb21wdXRlUHJvcGVydHlWYWx1ZShlbGVtZW50LCBwcm9wZXJ0eU5hbWUpIHx8IGNvbXB1dGVQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIHVucHJlZml4ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BlcnR5TmFtZV0gPSBlbGVtZW50LnN0eWxlW3VucHJlZml4ZWRdID0gcHJvcGVydHlWYWx1ZTtcbiAgICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIE5vcm1hbGlzYXRpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBzZXQgLyBnZXQgYSBzdHlsZSBwcm9wZXJ0eS5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFNldFN0eWxlKHByb3BlcnR5TmFtZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKSB7XG4gICAgICAgICAgaWYgKHByb3BlcnR5VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICByZXR1cm4gY29tcHV0ZVByb3BlcnR5VmFsdWUoZWxlbWVudCwgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wZXJ0eU5hbWVdID0gcHJvcGVydHlWYWx1ZTtcbiAgICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFZlbmRvciBwcmVmaXhlcy4gQ2hyb21lIC8gU2FmYXJpLCBGaXJlZm94LCBJRSAvIEVkZ2UsIE9wZXJhLlxuICAgKi9cbiAgdmFyIHJ4VmVuZG9ycyA9IC9eKHdlYmtpdHxtb3p8bXN8bylbQS1aXS8sXG4gICAgICBwcmVmaXhFbGVtZW50ID0gU3RhdGUucHJlZml4RWxlbWVudDtcbiAgaWYgKHByZWZpeEVsZW1lbnQpIHtcbiAgICAgIGZvciAodmFyIHByb3BlcnR5TmFtZSBpbiBwcmVmaXhFbGVtZW50LnN0eWxlKSB7XG4gICAgICAgICAgaWYgKHJ4VmVuZG9ycy50ZXN0KHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICAgICAgdmFyIHVucHJlZml4ZWQgPSBwcm9wZXJ0eU5hbWUucmVwbGFjZSgvXlthLXpdKyhbQS1aXSkvLCBmdW5jdGlvbiAoJCwgbGV0dGVyKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB2YXIgYWRkVW5pdCA9IHJ4QWRkUHgudGVzdCh1bnByZWZpeGVkKSA/IFwicHhcIiA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyTm9ybWFsaXphdGlvbihbXCJFbGVtZW50XCIsIHVucHJlZml4ZWQsIGdldFNldFByZWZpeGVkKHByb3BlcnR5TmFtZSwgdW5wcmVmaXhlZCksIGFkZFVuaXRdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoIWhhc05vcm1hbGl6YXRpb24oW1wiRWxlbWVudFwiLCBwcm9wZXJ0eU5hbWVdKSkge1xuICAgICAgICAgICAgICB2YXIgX2FkZFVuaXQgPSByeEFkZFB4LnRlc3QocHJvcGVydHlOYW1lKSA/IFwicHhcIiA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkVsZW1lbnRcIiwgcHJvcGVydHlOYW1lLCBnZXRTZXRTdHlsZShwcm9wZXJ0eU5hbWUpLCBfYWRkVW5pdF0pO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuXG4gIC8vIFByb2plY3RcbiAgLyoqXG4gICAqIEdldC9zZXQgYW4gYXR0cmlidXRlLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0QXR0cmlidXRlKG5hbWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCwgcHJvcGVydHlWYWx1ZSkge1xuICAgICAgICAgIGlmIChwcm9wZXJ0eVZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCBwcm9wZXJ0eVZhbHVlKTtcbiAgICAgIH07XG4gIH1cbiAgdmFyIGJhc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgcnhTdWJ0eXBlID0gL15TVkcoLiopRWxlbWVudCQvLFxuICAgICAgcnhFbGVtZW50ID0gL0VsZW1lbnQkLztcbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgICAgdmFyIHN1YnR5cGUgPSByeFN1YnR5cGUuZXhlYyhwcm9wZXJ0eSk7XG4gICAgICBpZiAoc3VidHlwZSAmJiBzdWJ0eXBlWzFdICE9PSBcIlNWR1wiKSB7XG4gICAgICAgICAgLy8gRG9uJ3QgZG8gU1ZHU1ZHRWxlbWVudC5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IHN1YnR5cGVbMV0gPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCAoc3VidHlwZVsxXSB8fCBcInN2Z1wiKS50b0xvd2VyQ2FzZSgpKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIik7XG4gICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpmb3JpblxuICAgICAgICAgICAgICBmb3IgKHZhciBhdHRyaWJ1dGUgaW4gZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgLy8gQWx0aG91Z2ggdGhpcyBpc24ndCBhIHR3ZWVuIHdpdGhvdXQgcHJvdG90eXBlcywgd2UgZG9cbiAgICAgICAgICAgICAgICAgIC8vIHdhbnQgdG8gZ2V0IGhvbGQgb2YgYWxsIGF0dHJpYnV0ZXMgYW5kIG5vdCBqdXN0IG93biBvbmVzLlxuICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudFthdHRyaWJ1dGVdO1xuICAgICAgICAgICAgICAgICAgaWYgKGlzU3RyaW5nKGF0dHJpYnV0ZSkgJiYgIShhdHRyaWJ1dGVbMF0gPT09IFwib1wiICYmIGF0dHJpYnV0ZVsxXSA9PT0gXCJuXCIpICYmIGF0dHJpYnV0ZSAhPT0gYXR0cmlidXRlLnRvVXBwZXJDYXNlKCkgJiYgIXJ4RWxlbWVudC50ZXN0KGF0dHJpYnV0ZSkgJiYgIShhdHRyaWJ1dGUgaW4gYmFzZSkgJiYgIWlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogU2hvdWxkIHRoaXMgYWxsIGJlIHNldCBvbiB0aGUgZ2VuZXJpYyBTVkdFbGVtZW50LCBpdCB3b3VsZCBzYXZlIHNwYWNlIGFuZCB0aW1lLCBidXQgbm90IGFzIHBvd2VyZnVsXG4gICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtwcm9wZXJ0eSwgYXR0cmlidXRlLCBnZXRBdHRyaWJ1dGUoYXR0cmlidXRlKV0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVmVsb2NpdHlKUzogRXJyb3Igd2hlbiB0cnlpbmcgdG8gaWRlbnRpZnkgU1ZHIGF0dHJpYnV0ZXMgb24gXCIgKyBwcm9wZXJ0eSArIFwiLlwiLCBlKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gIH0pO1xuXG4gIC8vIFByb2plY3RcbiAgLyoqXG4gICAqIEdldC9zZXQgdGhlIHdpZHRoIG9yIGhlaWdodC5cbiAgICovXG4gIGZ1bmN0aW9uIGdldERpbWVuc2lvbiQxKG5hbWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCwgcHJvcGVydHlWYWx1ZSkge1xuICAgICAgICAgIGlmIChwcm9wZXJ0eVZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgLy8gRmlyZWZveCB0aHJvd3MgYW4gZXJyb3IgaWYgLmdldEJCb3goKSBpcyBjYWxsZWQgb24gYW4gU1ZHIHRoYXQgaXNuJ3QgYXR0YWNoZWQgdG8gdGhlIERPTS5cbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmdldEJCb3goKVtuYW1lXSArIFwicHhcIjtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiMHB4XCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgcHJvcGVydHlWYWx1ZSk7XG4gICAgICB9O1xuICB9XG4gIHJlZ2lzdGVyTm9ybWFsaXphdGlvbihbXCJTVkdFbGVtZW50XCIsIFwid2lkdGhcIiwgZ2V0RGltZW5zaW9uJDEoXCJ3aWR0aFwiKV0pO1xuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiU1ZHRWxlbWVudFwiLCBcImhlaWdodFwiLCBnZXREaW1lbnNpb24kMShcImhlaWdodFwiKV0pO1xuXG4gIC8vIFByb2plY3RcbiAgLyoqXG4gICAqIEEgZmFrZSBub3JtYWxpemF0aW9uIHVzZWQgdG8gYWxsb3cgdGhlIFwidHdlZW5cIiBwcm9wZXJ0eSBlYXN5IGFjY2Vzcy5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFNldFR3ZWVuKGVsZW1lbnQsIHByb3BlcnR5VmFsdWUpIHtcbiAgICAgIGlmIChwcm9wZXJ0eVZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIH1cbiAgfVxuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiRWxlbWVudFwiLCBcInR3ZWVuXCIsIGdldFNldFR3ZWVuXSk7XG5cbiAgLy8gQXV0b21hdGljYWxseSBnZW5lcmF0ZWRcbiAgdmFyIFZFUlNJT04gPSBcIjIuMC42XCI7XG5cbiAgLy8gUHJvamVjdFxuICB2YXIgVmVsb2NpdHkkJDEgPSBWZWxvY2l0eSQxO1xuICAvKipcbiAgICogVGhlc2UgcGFydHMgb2YgVmVsb2NpdHkgYWJzb2x1dGVseSBtdXN0IGJlIGluY2x1ZGVkLCBldmVuIGlmIHRoZXkncmUgdW51c2VkIVxuICAgKi9cbiAgdmFyIFZlbG9jaXR5U3RhdGljO1xuICAoZnVuY3Rpb24gKFZlbG9jaXR5U3RhdGljKSB7XG4gICAgICAvKipcbiAgICAgICAqIEFjdGlvbnMgY2Fubm90IGJlIHJlcGxhY2VkIGlmIHRoZXkgYXJlIGludGVybmFsIChoYXNPd25Qcm9wZXJ0eSBpcyBmYWxzZVxuICAgICAgICogYnV0IHRoZXkgc3RpbGwgZXhpc3QpLiBPdGhlcndpc2UgdGhleSBjYW4gYmUgcmVwbGFjZWQgYnkgdXNlcnMuXG4gICAgICAgKlxuICAgICAgICogQWxsIGV4dGVybmFsIG1ldGhvZCBjYWxscyBzaG91bGQgYmUgdXNpbmcgYWN0aW9ucyByYXRoZXIgdGhhbiBzdWItY2FsbHNcbiAgICAgICAqIG9mIFZlbG9jaXR5IGl0c2VsZi5cbiAgICAgICAqL1xuICAgICAgVmVsb2NpdHlTdGF0aWMuQWN0aW9ucyA9IEFjdGlvbnM7XG4gICAgICAvKipcbiAgICAgICAqIE91ciBrbm93biBlYXNpbmcgZnVuY3Rpb25zLlxuICAgICAgICovXG4gICAgICBWZWxvY2l0eVN0YXRpYy5FYXNpbmdzID0gRWFzaW5ncztcbiAgICAgIC8qKlxuICAgICAgICogVGhlIGN1cnJlbnRseSByZWdpc3RlcmVkIHNlcXVlbmNlcy5cbiAgICAgICAqL1xuICAgICAgVmVsb2NpdHlTdGF0aWMuU2VxdWVuY2VzID0gU2VxdWVuY2VzT2JqZWN0O1xuICAgICAgLyoqXG4gICAgICAgKiBDdXJyZW50IGludGVybmFsIHN0YXRlIG9mIFZlbG9jaXR5LlxuICAgICAgICovXG4gICAgICBWZWxvY2l0eVN0YXRpYy5TdGF0ZSA9IFN0YXRlOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXG4gICAgICAvKipcbiAgICAgICAqIFZlbG9jaXR5IG9wdGlvbiBkZWZhdWx0cywgd2hpY2ggY2FuIGJlIG92ZXJyaWRlbiBieSB0aGUgdXNlci5cbiAgICAgICAqL1xuICAgICAgVmVsb2NpdHlTdGF0aWMuZGVmYXVsdHMgPSBkZWZhdWx0cyQxO1xuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIHBhdGNoIGFueSBvYmplY3QgdG8gYWxsb3cgVmVsb2NpdHkgY2hhaW5pbmcuIEluIG9yZGVyIHRvIGNoYWluIGFuXG4gICAgICAgKiBvYmplY3QgbXVzdCBlaXRoZXIgYmUgdHJlYXRhYmxlIGFzIGFuIGFycmF5IC0gd2l0aCBhIDxjb2RlPi5sZW5ndGg8L2NvZGU+XG4gICAgICAgKiBwcm9wZXJ0eSwgYW5kIGVhY2ggbWVtYmVyIGEgTm9kZSwgb3IgYSBOb2RlIGRpcmVjdGx5LlxuICAgICAgICpcbiAgICAgICAqIEJ5IGRlZmF1bHQgVmVsb2NpdHkgd2lsbCB0cnkgdG8gcGF0Y2ggPGNvZGU+d2luZG93PC9jb2RlPixcbiAgICAgICAqIDxjb2RlPmpRdWVyeTwvY29kZT4sIDxjb2RlPlplcHRvPC9jb2RlPiwgYW5kIHNldmVyYWwgY2xhc3NlcyB0aGF0IHJldHVyblxuICAgICAgICogTm9kZXMgb3IgbGlzdHMgb2YgTm9kZXMuXG4gICAgICAgKi9cbiAgICAgIFZlbG9jaXR5U3RhdGljLnBhdGNoID0gcGF0Y2g7XG4gICAgICAvKipcbiAgICAgICAqIFNldCB0byB0cnVlLCAxIG9yIDIgKG1vc3QgdmVyYm9zZSkgdG8gb3V0cHV0IGRlYnVnIGluZm8gdG8gY29uc29sZS5cbiAgICAgICAqL1xuICAgICAgVmVsb2NpdHlTdGF0aWMuZGVidWcgPSBmYWxzZTtcbiAgICAgIC8qKlxuICAgICAgICogSW4gbW9jayBtb2RlLCBhbGwgYW5pbWF0aW9ucyBhcmUgZm9yY2VkIHRvIGNvbXBsZXRlIGltbWVkaWF0ZWx5IHVwb24gdGhlXG4gICAgICAgKiBuZXh0IHJBRiB0aWNrLiBJZiB0aGVyZSBhcmUgZnVydGhlciBhbmltYXRpb25zIHF1ZXVlZCB0aGVuIHRoZXkgd2lsbCBlYWNoXG4gICAgICAgKiB0YWtlIG9uZSBzaW5nbGUgZnJhbWUgaW4gdHVybi4gTG9vcHMgYW5kIHJlcGVhdHMgd2lsbCBiZSBkaXNhYmxlZCB3aGlsZVxuICAgICAgICogPGNvZGU+bW9jayA9IHRydWU8L2NvZGU+LlxuICAgICAgICovXG4gICAgICBWZWxvY2l0eVN0YXRpYy5tb2NrID0gZmFsc2U7XG4gICAgICAvKipcbiAgICAgICAqIFNhdmUgb3VyIHZlcnNpb24gbnVtYmVyIHNvbWV3aGVyZSB2aXNpYmxlLlxuICAgICAgICovXG4gICAgICBWZWxvY2l0eVN0YXRpYy52ZXJzaW9uID0gVkVSU0lPTjtcbiAgICAgIC8qKlxuICAgICAgICogQWRkZWQgYXMgYSBmYWxsYmFjayBmb3IgXCJpbXBvcnQge1ZlbG9jaXR5fSBmcm9tICd2ZWxvY2l0eS1hbmltYXRlJztcIi5cbiAgICAgICAqL1xuICAgICAgVmVsb2NpdHlTdGF0aWMuVmVsb2NpdHkgPSBWZWxvY2l0eSQxOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXG4gIH0pKFZlbG9jaXR5U3RhdGljIHx8IChWZWxvY2l0eVN0YXRpYyA9IHt9KSk7XG4gIC8qIElFIGRldGVjdGlvbi4gR2lzdDogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vanVsaWFuc2hhcGlyby85MDk4NjA5ICovXG4gIHZhciBJRSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudE1vZGUpIHtcbiAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRNb2RlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gNzsgaSA+IDQ7IGktLSkge1xuICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IFwiPCFcIiArIFwiLS1cIiArIFwiW2lmIElFIFwiICsgaSArIFwiXT48c3Bhbj48L3NwYW4+PCFbZW5kaWZdLS0+XCI7XG4gICAgICAgICAgICAgIGlmIChkaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzcGFuXCIpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgZGl2ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSgpO1xuICAvKioqKioqKioqKioqKioqKioqXG4gICBVbnN1cHBvcnRlZFxuICAgKioqKioqKioqKioqKioqKioqL1xuICBpZiAoSUUgPD0gOCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmVsb2NpdHlKUyBjYW5ub3QgcnVuIG9uIEludGVybmV0IEV4cGxvcmVyIDggb3IgZWFybGllclwiKTtcbiAgfVxuICAvKioqKioqKioqKioqKioqKioqXG4gICBGcmFtZXdvcmtzXG4gICAqKioqKioqKioqKioqKioqKiovXG4gIGlmICh3aW5kb3cpIHtcbiAgICAgIC8qXG4gICAgICAgKiBCb3RoIGpRdWVyeSBhbmQgWmVwdG8gYWxsb3cgdGhlaXIgJC5mbiBvYmplY3QgdG8gYmUgZXh0ZW5kZWQgdG8gYWxsb3dcbiAgICAgICAqIHdyYXBwZWQgZWxlbWVudHMgdG8gYmUgc3ViamVjdGVkIHRvIHBsdWdpbiBjYWxscy4gSWYgZWl0aGVyIGZyYW1ld29yayBpc1xuICAgICAgICogbG9hZGVkLCByZWdpc3RlciBhIFwidmVsb2NpdHlcIiBleHRlbnNpb24gcG9pbnRpbmcgdG8gVmVsb2NpdHkncyBjb3JlXG4gICAgICAgKiBhbmltYXRlKCkgbWV0aG9kLiBWZWxvY2l0eSBhbHNvIHJlZ2lzdGVycyBpdHNlbGYgb250byBhIGdsb2JhbCBjb250YWluZXJcbiAgICAgICAqICh3aW5kb3cualF1ZXJ5IHx8IHdpbmRvdy5aZXB0byB8fCB3aW5kb3cpIHNvIHRoYXQgY2VydGFpbiBmZWF0dXJlcyBhcmVcbiAgICAgICAqIGFjY2Vzc2libGUgYmV5b25kIGp1c3QgYSBwZXItZWxlbWVudCBzY29wZS4gQWNjb3JkaW5nbHksIFZlbG9jaXR5IGNhblxuICAgICAgICogYm90aCBhY3Qgb24gd3JhcHBlZCBET00gZWxlbWVudHMgYW5kIHN0YW5kIGFsb25lIGZvciB0YXJnZXRpbmcgcmF3IERPTVxuICAgICAgICogZWxlbWVudHMuXG4gICAgICAgKi9cbiAgICAgIHZhciBqUXVlcnkgPSB3aW5kb3cualF1ZXJ5LFxuICAgICAgICAgIFplcHRvID0gd2luZG93LlplcHRvO1xuICAgICAgcGF0Y2god2luZG93LCB0cnVlKTtcbiAgICAgIHBhdGNoKEVsZW1lbnQgJiYgRWxlbWVudC5wcm90b3R5cGUpO1xuICAgICAgcGF0Y2goTm9kZUxpc3QgJiYgTm9kZUxpc3QucHJvdG90eXBlKTtcbiAgICAgIHBhdGNoKEhUTUxDb2xsZWN0aW9uICYmIEhUTUxDb2xsZWN0aW9uLnByb3RvdHlwZSk7XG4gICAgICBwYXRjaChqUXVlcnksIHRydWUpO1xuICAgICAgcGF0Y2goalF1ZXJ5ICYmIGpRdWVyeS5mbik7XG4gICAgICBwYXRjaChaZXB0bywgdHJ1ZSk7XG4gICAgICBwYXRjaChaZXB0byAmJiBaZXB0by5mbik7XG4gIH1cbiAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIHZhbHVlcyB3aXRoaW4gVmVsb2NpdHkgYXJlIHJlYWQtb25seSBhbmQgdXBhdGNoYWJsZS5cblxuICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChwcm9wZXJ0eSkge1xuICAgICAgaWYgKFZlbG9jaXR5U3RhdGljLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHByb3BlcnR5ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YocHJvcGVydHkpKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEoVmVsb2NpdHkkJDEsIHByb3BlcnR5LCB7XG4gICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBWZWxvY2l0eVN0YXRpY1twcm9wZXJ0eV07XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBWZWxvY2l0eVN0YXRpY1twcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShWZWxvY2l0eSQkMSwgcHJvcGVydHksIFZlbG9jaXR5U3RhdGljW3Byb3BlcnR5XSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICB9XG4gIH07XG5cbiAgZm9yICh2YXIgcHJvcGVydHkgaW4gVmVsb2NpdHlTdGF0aWMpIHtcbiAgICAgIF9sb29wKHByb3BlcnR5KTtcbiAgfVxuICBPYmplY3QuZnJlZXplKFZlbG9jaXR5JCQxKTtcblxuICAvLyBQcm9qZWN0XG4gIHZhciByeFBlcmNlbnRzID0gLyhcXGQqXFwuXFxkK3xcXGQrXFwuP3xmcm9tfHRvKS9nO1xuICBmdW5jdGlvbiBleHBhbmRTZXF1ZW5jZShhbmltYXRpb24sIHNlcXVlbmNlKSB7XG4gICAgICB2YXIgdHdlZW5zID0gYW5pbWF0aW9uLnR3ZWVucyA9IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICAgICAgZWxlbWVudCA9IGFuaW1hdGlvbi5lbGVtZW50O1xuICAgICAgZm9yICh2YXIgcHJvcGVydHlOYW1lIGluIHNlcXVlbmNlLnR3ZWVucykge1xuICAgICAgICAgIGlmIChzZXF1ZW5jZS50d2VlbnMuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgICAgICB2YXIgZm4gPSBnZXROb3JtYWxpemF0aW9uKGVsZW1lbnQsIHByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgICAgIGlmICghZm4gJiYgcHJvcGVydHlOYW1lICE9PSBcInR3ZWVuXCIpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChWZWxvY2l0eSQkMS5kZWJ1Zykge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2tpcHBpbmcgW1wiICsgcHJvcGVydHlOYW1lICsgXCJdIGR1ZSB0byBhIGxhY2sgb2YgYnJvd3NlciBzdXBwb3J0LlwiKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHR3ZWVuc1twcm9wZXJ0eU5hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgZm46IGZuLFxuICAgICAgICAgICAgICAgICAgc2VxdWVuY2U6IHNlcXVlbmNlLnR3ZWVuc1twcm9wZXJ0eU5hbWVdXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBVc2VkIHRvIHJlZ2lzdGVyIGEgc2VxdWVuY2UuIFRoaXMgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZCBieSB1c2Vyc1xuICAgKiBkaXJlY3RseSwgaW5zdGVhZCBpdCBzaG91bGQgYmUgY2FsbGVkIHZpYSBhbiBhY3Rpb246PGJyLz5cbiAgICogPGNvZGU+VmVsb2NpdHkoXCJyZWdpc3RlclNlcXVlbmNlXCIsIFwiXCJuYW1lXCIsIFZlbG9jaXR5U2VxdWVuY2UpOzwvY29kZT5cbiAgICovXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyU2VxdWVuY2UoYXJncykge1xuICAgICAgaWYgKGlzUGxhaW5PYmplY3QoYXJnc1swXSkpIHtcbiAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIGFyZ3NbMF0pIHtcbiAgICAgICAgICAgICAgaWYgKGFyZ3NbMF0uaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyU2VxdWVuY2UoW25hbWUsIGFyZ3NbMF1bbmFtZV1dKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcoYXJnc1swXSkpIHtcbiAgICAgICAgICB2YXIgX25hbWUgPSBhcmdzWzBdLFxuICAgICAgICAgICAgICBzZXF1ZW5jZSA9IGFyZ3NbMV07XG4gICAgICAgICAgaWYgKCFpc1N0cmluZyhfbmFtZSkpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncmVnaXN0ZXJTZXF1ZW5jZScgbmFtZSB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCBfbmFtZSk7XG4gICAgICAgICAgfSBlbHNlIGlmICghaXNQbGFpbk9iamVjdChzZXF1ZW5jZSkpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncmVnaXN0ZXJTZXF1ZW5jZScgc2VxdWVuY2UgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgX25hbWUsIHNlcXVlbmNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoU2VxdWVuY2VzT2JqZWN0W19uYW1lXSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogUmVwbGFjaW5nIG5hbWVkIHNlcXVlbmNlOlwiLCBfbmFtZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIHBlcmNlbnRzID0ge30sXG4gICAgICAgICAgICAgICAgICBzdGVwcyA9IG5ldyBBcnJheSgxMDApLFxuICAgICAgICAgICAgICAgICAgcHJvcGVydGllcyA9IFtdLFxuICAgICAgICAgICAgICAgICAgc2VxdWVuY2VMaXN0ID0gU2VxdWVuY2VzT2JqZWN0W19uYW1lXSA9IHt9LFxuICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSB2YWxpZGF0ZUR1cmF0aW9uKHNlcXVlbmNlLmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgc2VxdWVuY2VMaXN0LnR3ZWVucyA9IHt9O1xuICAgICAgICAgICAgICBpZiAoaXNOdW1iZXIoZHVyYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICBzZXF1ZW5jZUxpc3QuZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBmb3IgKHZhciBwYXJ0IGluIHNlcXVlbmNlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2UuaGFzT3duUHJvcGVydHkocGFydCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IFN0cmluZyhwYXJ0KS5tYXRjaChyeFBlcmNlbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGtleXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBlcmNlbnQgPSBrZXkgPT09IFwiZnJvbVwiID8gMCA6IGtleSA9PT0gXCJ0b1wiID8gMTAwIDogcGFyc2VGbG9hdChrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZXJjZW50IDwgMCB8fCBwZXJjZW50ID4gMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byB1c2UgYW4gaW52YWxpZCB2YWx1ZSBhcyBhIHBlcmNlbnRhZ2UgKDAgPD0gbiA8PSAxMDApOlwiLCBfbmFtZSwgcGVyY2VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc05hTihwZXJjZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gdXNlIGFuIGludmFsaWQgbnVtYmVyIGFzIGEgcGVyY2VudGFnZTpcIiwgX25hbWUsIHBhcnQsIGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwZXJjZW50c1tTdHJpbmcocGVyY2VudCldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50c1tTdHJpbmcocGVyY2VudCldID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudHNbU3RyaW5nKHBlcmNlbnQpXS5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBzZXF1ZW5jZVtwYXJ0XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0aWVzLmluY2x1ZGVzKHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIG9yZGVyZWRQZXJjZW50cyA9IE9iamVjdC5rZXlzKHBlcmNlbnRzKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgYTEgPSBwYXJzZUZsb2F0KGEpLFxuICAgICAgICAgICAgICAgICAgICAgIGIxID0gcGFyc2VGbG9hdChiKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhMSA+IGIxID8gMSA6IGExIDwgYjEgPyAtMSA6IDA7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBvcmRlcmVkUGVyY2VudHMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICBzdGVwcy5wdXNoLmFwcGx5KHBlcmNlbnRzW2tleV0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gcHJvcGVydGllc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBfcHJvcGVydHkgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlOYW1lID0gY2FtZWxDYXNlKF9wcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSBvcmRlcmVkUGVyY2VudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfa2V5ID0gX3N0ZXAzLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjYgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjYgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNiA9IHBlcmNlbnRzW19rZXldW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA2OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gKF9zdGVwNiA9IF9pdGVyYXRvcjYubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfdmFsdWUgPSBfc3RlcDYudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0ZXBQcm9wZXJ0aWVzID0gc2VxdWVuY2VbX3ZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0ZXBQcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goaXNTdHJpbmcoc3RlcFByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSkgPyBzdGVwUHJvcGVydGllc1twcm9wZXJ0eU5hbWVdIDogc3RlcFByb3BlcnRpZXNbcHJvcGVydHlOYW1lXVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjYgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNiA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiAmJiBfaXRlcmF0b3I2LnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWxTZXF1ZW5jZSA9IGZpbmRQYXR0ZXJuKHBhcnRzLCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVhbFNlcXVlbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yNCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gb3JkZXJlZFBlcmNlbnRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA0OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gKF9zdGVwNCA9IF9pdGVyYXRvcjQubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfa2V5MiA9IF9zdGVwNC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I1ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I1ID0gcGVyY2VudHNbX2tleTJdW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA1OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gKF9zdGVwNSA9IF9pdGVyYXRvcjUubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gX3N0ZXA1LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsUHJvcGVydHkgPSBzZXF1ZW5jZVt2YWx1ZV1bcHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcmlnaW5hbFByb3BlcnR5KSAmJiBvcmlnaW5hbFByb3BlcnR5Lmxlbmd0aCA+IDEgJiYgKGlzU3RyaW5nKG9yaWdpbmFsUHJvcGVydHlbMV0pIHx8IEFycmF5LmlzQXJyYXkob3JpZ2luYWxQcm9wZXJ0eVsxXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFsU2VxdWVuY2VbaW5kZXhdLmVhc2luZyA9IHZhbGlkYXRlRWFzaW5nKG9yaWdpbmFsUHJvcGVydHlbMV0sIHNlcXVlbmNlTGlzdC5kdXJhdGlvbiB8fCBERUZBVUxUX0RVUkFUSU9OKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFsU2VxdWVuY2VbaW5kZXgrK10ucGVyY2VudCA9IHBhcnNlRmxvYXQoX2tleTIpIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3I1ID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ICYmIF9pdGVyYXRvcjUucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjUucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNCA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCAmJiBfaXRlcmF0b3I0LnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VMaXN0LnR3ZWVuc1twcm9wZXJ0eU5hbWVdID0gcmVhbFNlcXVlbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuICByZWdpc3RlckFjdGlvbihbXCJyZWdpc3RlclNlcXVlbmNlXCIsIHJlZ2lzdGVyU2VxdWVuY2VdLCB0cnVlKTtcblxuICAvLyBQcm9qZWN0XG4gIHZhciBnbG9iYWxQcm9taXNlID0gdm9pZCAwO1xuICB0cnkge1xuICAgICAgZ2xvYmFsUHJvbWlzZSA9IFByb21pc2U7XG4gIH0gY2F0Y2ggKCAvKiovX2EpIHsvKiovfVxuICB2YXIgbm9Qcm9taXNlT3B0aW9uID0gXCIsIGlmIHRoYXQgaXMgZGVsaWJlcmF0ZSB0aGVuIHBhc3MgYHByb21pc2VSZWplY3RFbXB0eTpmYWxzZWAgYXMgYW4gb3B0aW9uXCI7XG4gIC8qKlxuICAgKiBQYXRjaCBhIFZlbG9jaXR5UmVzdWx0IHdpdGggYSBQcm9taXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gcGF0Y2hQcm9taXNlKHByb21pc2VPYmplY3QsIHJlc3VsdCkge1xuICAgICAgZGVmaW5lUHJvcGVydHkkMShyZXN1bHQsIFwicHJvbWlzZVwiLCBwcm9taXNlT2JqZWN0KTtcbiAgICAgIGRlZmluZVByb3BlcnR5JDEocmVzdWx0LCBcInRoZW5cIiwgcHJvbWlzZU9iamVjdC50aGVuLmJpbmQocHJvbWlzZU9iamVjdCkpO1xuICAgICAgZGVmaW5lUHJvcGVydHkkMShyZXN1bHQsIFwiY2F0Y2hcIiwgcHJvbWlzZU9iamVjdC5jYXRjaC5iaW5kKHByb21pc2VPYmplY3QpKTtcbiAgICAgIGlmIChwcm9taXNlT2JqZWN0LmZpbmFsbHkpIHtcbiAgICAgICAgICAvLyBTZW1pLXN0YW5kYXJkXG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShyZXN1bHQsIFwiZmluYWxseVwiLCBwcm9taXNlT2JqZWN0LmZpbmFsbHkuYmluZChwcm9taXNlT2JqZWN0KSk7XG4gICAgICB9XG4gIH1cbiAgLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbiAgZnVuY3Rpb24gVmVsb2NpdHkkMSgpIHtcbiAgICAgIHZhclxuICAgICAgLyoqXG4gICAgICAgKiBBIHNob3J0Y3V0IHRvIHRoZSBkZWZhdWx0IG9wdGlvbnMuXG4gICAgICAgKi9cbiAgICAgIGRlZmF1bHRzJCQxID0gZGVmYXVsdHMkMSxcblxuICAgICAgLyoqXG4gICAgICAgKiBDYWNoZSBvZiB0aGUgZmlyc3QgYXJndW1lbnQgLSB0aGlzIGlzIHVzZWQgb2Z0ZW4gZW5vdWdoIHRvIGJlIHNhdmVkLlxuICAgICAgICovXG4gICAgICBhcmdzMCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1swXSxcblxuICAgICAgLyoqXG4gICAgICAgKiBUbyBhbGxvdyBmb3IgZXhwcmVzc2l2ZSBDb2ZmZWVTY3JpcHQgY29kZSwgVmVsb2NpdHkgc3VwcG9ydHMgYW5cbiAgICAgICAqIGFsdGVybmF0aXZlIHN5bnRheCBpbiB3aGljaCBcImVsZW1lbnRzXCIgKG9yIFwiZVwiKSwgXCJwcm9wZXJ0aWVzXCIgKG9yXG4gICAgICAgKiBcInBcIiksIGFuZCBcIm9wdGlvbnNcIiAob3IgXCJvXCIpIG9iamVjdHMgYXJlIGRlZmluZWQgb24gYSBjb250YWluZXJcbiAgICAgICAqIG9iamVjdCB0aGF0J3MgcGFzc2VkIGluIGFzIFZlbG9jaXR5J3Mgc29sZSBhcmd1bWVudC5cbiAgICAgICAqXG4gICAgICAgKiBOb3RlOiBTb21lIGJyb3dzZXJzIGF1dG9tYXRpY2FsbHkgcG9wdWxhdGUgYXJndW1lbnRzIHdpdGggYVxuICAgICAgICogXCJwcm9wZXJ0aWVzXCIgb2JqZWN0LiBXZSBkZXRlY3QgaXQgYnkgY2hlY2tpbmcgZm9yIGl0cyBkZWZhdWx0XG4gICAgICAgKiBcIm5hbWVzXCIgcHJvcGVydHkuXG4gICAgICAgKi9cbiAgICAgIC8vIFRPRE86IENvbmZpcm0gd2hpY2ggYnJvd3NlcnMgLSBpZiA8PUlFOCB0aGUgd2UgY2FuIGRyb3AgY29tcGxldGVseVxuICAgICAgc3ludGFjdGljU3VnYXIgPSBpc1BsYWluT2JqZWN0KGFyZ3MwKSAmJiAoYXJnczAucCB8fCBpc1BsYWluT2JqZWN0KGFyZ3MwLnByb3BlcnRpZXMpICYmICFhcmdzMC5wcm9wZXJ0aWVzLm5hbWVzIHx8IGlzU3RyaW5nKGFyZ3MwLnByb3BlcnRpZXMpKTtcbiAgICAgIHZhclxuICAgICAgLyoqXG4gICAgICAgKiAgV2hlbiBWZWxvY2l0eSBpcyBjYWxsZWQgdmlhIHRoZSB1dGlsaXR5IGZ1bmN0aW9uIChWZWxvY2l0eSgpKSxcbiAgICAgICAqIGVsZW1lbnRzIGFyZSBleHBsaWNpdGx5IHBhc3NlZCBpbiBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyLiBUaHVzLFxuICAgICAgICogYXJndW1lbnQgcG9zaXRpb25pbmcgdmFyaWVzLlxuICAgICAgICovXG4gICAgICBhcmd1bWVudEluZGV4ID0gMCxcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgbGlzdCBvZiBlbGVtZW50cywgZXh0ZW5kZWQgd2l0aCBQcm9taXNlIGFuZCBWZWxvY2l0eS5cbiAgICAgICAqL1xuICAgICAgZWxlbWVudHMgPSB2b2lkIDAsXG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHByb3BlcnRpZXMgYmVpbmcgYW5pbWF0ZWQuIFRoaXMgY2FuIGJlIGEgc3RyaW5nLCBpbiB3aGljaCBjYXNlIGl0XG4gICAgICAgKiBpcyBlaXRoZXIgYSBmdW5jdGlvbiBmb3IgdGhlc2UgZWxlbWVudHMsIG9yIGl0IGlzIGEgXCJuYW1lZFwiIGFuaW1hdGlvblxuICAgICAgICogc2VxdWVuY2UgdG8gdXNlIGluc3RlYWQuIE5hbWVkIHNlcXVlbmNlcyBzdGFydCB3aXRoIGVpdGhlciBcImNhbGxvdXQuXCJcbiAgICAgICAqIG9yIFwidHJhbnNpdGlvbi5cIi4gV2hlbiB1c2VkIGFzIGEgY2FsbG91dCB0aGUgdmFsdWVzIHdpbGwgYmUgcmVzZXRcbiAgICAgICAqIGFmdGVyIGZpbmlzaGluZy4gV2hlbiB1c2VkIGFzIGEgdHJhbnN0aXRpb24gdGhlbiB0aGVyZSBpcyBubyBzcGVjaWFsXG4gICAgICAgKiBoYW5kbGluZyBhZnRlciBmaW5pc2hpbmcuXG4gICAgICAgKi9cbiAgICAgIHByb3BlcnRpZXNNYXAgPSB2b2lkIDAsXG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9ucyBzdXBwbGllZCwgdGhpcyB3aWxsIGJlIG1hcHBlZCBhbmQgdmFsaWRhdGVkIGludG9cbiAgICAgICAqIDxjb2RlPm9wdGlvbnM8L2NvZGU+LlxuICAgICAgICovXG4gICAgICBvcHRpb25zTWFwID0gdm9pZCAwLFxuXG4gICAgICAvKipcbiAgICAgICAqIElmIGNhbGxlZCB2aWEgYSBjaGFpbiB0aGVuIHRoaXMgY29udGFpbnMgdGhlIDxiPmxhc3Q8L2I+IGNhbGxzXG4gICAgICAgKiBhbmltYXRpb25zLiBJZiB0aGlzIGRvZXMgbm90IGhhdmUgYSB2YWx1ZSB0aGVuIGFueSBhY2Nlc3MgdG8gdGhlXG4gICAgICAgKiBlbGVtZW50J3MgYW5pbWF0aW9ucyBuZWVkcyB0byBiZSB0byB0aGUgY3VycmVudGx5LXJ1bm5pbmcgb25lcy5cbiAgICAgICAqL1xuICAgICAgYW5pbWF0aW9ucyA9IHZvaWQgMCxcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgcHJvbWlzZSB0aGF0IGlzIHJldHVybmVkLlxuICAgICAgICovXG4gICAgICBwcm9taXNlID0gdm9pZCAwLFxuXG4gICAgICAvLyBVc2VkIHdoZW4gdGhlIGFuaW1hdGlvbiBpcyBmaW5pc2hlZFxuICAgICAgcmVzb2x2ZXIgPSB2b2lkIDAsXG5cbiAgICAgIC8vIFVzZWQgd2hlbiB0aGVyZSB3YXMgYW4gaXNzdWUgd2l0aCBvbmUgb3IgbW9yZSBvZiB0aGUgVmVsb2NpdHkgYXJndW1lbnRzXG4gICAgICByZWplY3RlciA9IHZvaWQgMDtcbiAgICAgIC8vY29uc29sZS5sb2coYFZlbG9jaXR5YCwgYXJncylcbiAgICAgIC8vIEZpcnN0IGdldCB0aGUgZWxlbWVudHMsIGFuZCB0aGUgYW5pbWF0aW9ucyBjb25uZWN0ZWQgdG8gdGhlIGxhc3QgY2FsbCBpZlxuICAgICAgLy8gdGhpcyBpcyBjaGFpbmVkLlxuICAgICAgLy8gVE9ETzogQ2xlYW4gdGhpcyB1cCBhIGJpdFxuICAgICAgLy8gVE9ETzogVGhyb3cgZXJyb3IgaWYgdGhlIGNoYWluIGlzIGNhbGxlZCB3aXRoIGVsZW1lbnRzIGFzIHRoZSBmaXJzdCBhcmd1bWVudC4gaXNWZWxvY2l0eVJlc3VsdCh0aGlzKSAmJiAoIChpc05vZGUoYXJnMCkgfHwgaXNXcmFwcGVkKGFyZzApKSAmJiBhcmcwID09IHRoaXMpXG4gICAgICBpZiAoaXNOb2RlKHRoaXMpKSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBmcm9tIGEgY2hhaW4gc3VjaCBhcyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlwiKS52ZWxvY2l0eSguLi4pXG4gICAgICAgICAgZWxlbWVudHMgPSBbdGhpc107XG4gICAgICB9IGVsc2UgaWYgKGlzV3JhcHBlZCh0aGlzKSkge1xuICAgICAgICAgIC8vIFRoaXMgbWlnaHQgYmUgYSBjaGFpbiBmcm9tIHNvbWV0aGluZyBlbHNlLCBidXQgaWYgY2hhaW5lZCBmcm9tIGFcbiAgICAgICAgICAvLyBwcmV2aW91cyBWZWxvY2l0eSgpIGNhbGwgdGhlbiBncmFiIHRoZSBhbmltYXRpb25zIGl0J3MgcmVsYXRlZCB0by5cbiAgICAgICAgICBlbGVtZW50cyA9IGNsb25lQXJyYXkodGhpcyk7XG4gICAgICAgICAgaWYgKGlzVmVsb2NpdHlSZXN1bHQodGhpcykpIHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9ucyA9IHRoaXMudmVsb2NpdHkuYW5pbWF0aW9ucztcbiAgICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN5bnRhY3RpY1N1Z2FyKSB7XG4gICAgICAgICAgZWxlbWVudHMgPSBjbG9uZUFycmF5KGFyZ3MwLmVsZW1lbnRzIHx8IGFyZ3MwLmUpO1xuICAgICAgICAgIGFyZ3VtZW50SW5kZXgrKztcbiAgICAgIH0gZWxzZSBpZiAoaXNOb2RlKGFyZ3MwKSkge1xuICAgICAgICAgIGVsZW1lbnRzID0gY2xvbmVBcnJheShbYXJnczBdKTtcbiAgICAgICAgICBhcmd1bWVudEluZGV4Kys7XG4gICAgICB9IGVsc2UgaWYgKGlzV3JhcHBlZChhcmdzMCkpIHtcbiAgICAgICAgICBlbGVtZW50cyA9IGNsb25lQXJyYXkoYXJnczApO1xuICAgICAgICAgIGFyZ3VtZW50SW5kZXgrKztcbiAgICAgIH1cbiAgICAgIC8vIEFsbG93IGVsZW1lbnRzIHRvIGJlIGNoYWluZWQuXG4gICAgICBpZiAoZWxlbWVudHMpIHtcbiAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSQxKGVsZW1lbnRzLCBcInZlbG9jaXR5XCIsIFZlbG9jaXR5JDEuYmluZChlbGVtZW50cykpO1xuICAgICAgICAgIGlmIChhbmltYXRpb25zKSB7XG4gICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEoZWxlbWVudHMudmVsb2NpdHksIFwiYW5pbWF0aW9uc1wiLCBhbmltYXRpb25zKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBOZXh0IGdldCB0aGUgcHJvcGVydGllc01hcCBhbmQgb3B0aW9ucy5cbiAgICAgIGlmIChzeW50YWN0aWNTdWdhcikge1xuICAgICAgICAgIHByb3BlcnRpZXNNYXAgPSBnZXRWYWx1ZShhcmdzMC5wcm9wZXJ0aWVzLCBhcmdzMC5wKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIF9yZWY7XG5cbiAgICAgICAgICAvLyBUT0RPOiBTaG91bGQgYmUgcG9zc2libGUgdG8gY2FsbCBWZWxvY2l0eShcInBhdXNlQWxsXCIpIC0gY3VycmVudGx5IG5vdCBwb3NzaWJsZVxuICAgICAgICAgIHByb3BlcnRpZXNNYXAgPSAoX3JlZiA9IGFyZ3VtZW50SW5kZXgrKywgYXJndW1lbnRzLmxlbmd0aCA8PSBfcmVmID8gdW5kZWZpbmVkIDogYXJndW1lbnRzW19yZWZdKTtcbiAgICAgIH1cbiAgICAgIC8vIEdldCBhbnkgb3B0aW9ucyBtYXAgcGFzc2VkIGluIGFzIGFyZ3VtZW50cyBmaXJzdCwgZXhwYW5kIGFueSBkaXJlY3RcbiAgICAgIC8vIG9wdGlvbnMgaWYgcG9zc2libGUuXG4gICAgICB2YXIgaXNSZXZlcnNlID0gcHJvcGVydGllc01hcCA9PT0gXCJyZXZlcnNlXCIsXG4gICAgICAgICAgaXNBY3Rpb24gPSAhaXNSZXZlcnNlICYmIGlzU3RyaW5nKHByb3BlcnRpZXNNYXApLFxuICAgICAgICAgIG1heWJlU2VxdWVuY2UgPSBpc0FjdGlvbiAmJiBTZXF1ZW5jZXNPYmplY3RbcHJvcGVydGllc01hcF0sXG4gICAgICAgICAgb3B0cyA9IHN5bnRhY3RpY1N1Z2FyID8gZ2V0VmFsdWUoYXJnczAub3B0aW9ucywgYXJnczAubykgOiBhcmd1bWVudHMubGVuZ3RoIDw9IGFyZ3VtZW50SW5kZXggPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbYXJndW1lbnRJbmRleF07XG4gICAgICBpZiAoaXNQbGFpbk9iamVjdChvcHRzKSkge1xuICAgICAgICAgIG9wdGlvbnNNYXAgPSBvcHRzO1xuICAgICAgfVxuICAgICAgLy8gQ3JlYXRlIHRoZSBwcm9taXNlIGlmIHN1cHBvcnRlZCBhbmQgd2FudGVkLlxuICAgICAgaWYgKGdsb2JhbFByb21pc2UgJiYgZ2V0VmFsdWUob3B0aW9uc01hcCAmJiBvcHRpb25zTWFwLnByb21pc2UsIGRlZmF1bHRzJCQxLnByb21pc2UpKSB7XG4gICAgICAgICAgcHJvbWlzZSA9IG5ldyBnbG9iYWxQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgcmVqZWN0ZXIgPSByZWplY3Q7XG4gICAgICAgICAgICAgIC8vIElNUE9SVEFOVDpcbiAgICAgICAgICAgICAgLy8gSWYgYSByZXNvbHZlciB0cmllcyB0byBydW4gb24gYSBQcm9taXNlIHRoZW4gaXQgd2lsbCB3YWl0IHVudGlsXG4gICAgICAgICAgICAgIC8vIHRoYXQgUHJvbWlzZSByZXNvbHZlcyAtIGJ1dCBpbiB0aGlzIGNhc2Ugd2UncmUgcnVubmluZyBvbiBvdXIgb3duXG4gICAgICAgICAgICAgIC8vIFByb21pc2UsIHNvIG5lZWQgdG8gbWFrZSBzdXJlIGl0J3Mgbm90IHNlZW4gYXMgb25lLiBSZW1vdmluZ1xuICAgICAgICAgICAgICAvLyB0aGVzZSB2YWx1ZXMgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgcmVzb2x2ZS5cbiAgICAgICAgICAgICAgLy8gRHVlIHRvIGJlaW5nIGFuIGFzeW5jIGNhbGwsIHRoZXkgc2hvdWxkIGJlIGJhY2sgdG8gXCJub3JtYWxcIlxuICAgICAgICAgICAgICAvLyBiZWZvcmUgdGhlIDxjb2RlPi50aGVuKCk8L2NvZGU+IGZ1bmN0aW9uIGdldHMgY2FsbGVkLlxuICAgICAgICAgICAgICByZXNvbHZlciA9IGZ1bmN0aW9uIHJlc29sdmVyKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlzVmVsb2NpdHlSZXN1bHQocmVzdWx0KSAmJiByZXN1bHQucHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXN1bHQudGhlbjtcbiAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzdWx0LmNhdGNoO1xuICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXN1bHQuZmluYWxseTtcbiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgcGF0Y2hQcm9taXNlKHJlc3VsdC5wcm9taXNlLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgIHBhdGNoUHJvbWlzZShwcm9taXNlLCBlbGVtZW50cyk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb21pc2UpIHtcbiAgICAgICAgICB2YXIgb3B0aW9uUHJvbWlzZVJlamVjdEVtcHR5ID0gb3B0aW9uc01hcCAmJiBvcHRpb25zTWFwLnByb21pc2VSZWplY3RFbXB0eSxcbiAgICAgICAgICAgICAgcHJvbWlzZVJlamVjdEVtcHR5ID0gZ2V0VmFsdWUob3B0aW9uUHJvbWlzZVJlamVjdEVtcHR5LCBkZWZhdWx0cyQkMS5wcm9taXNlUmVqZWN0RW1wdHkpO1xuICAgICAgICAgIGlmICghZWxlbWVudHMgJiYgIWlzQWN0aW9uKSB7XG4gICAgICAgICAgICAgIGlmIChwcm9taXNlUmVqZWN0RW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgIHJlamVjdGVyKFwiVmVsb2NpdHk6IE5vIGVsZW1lbnRzIHN1cHBsaWVkXCIgKyAoaXNCb29sZWFuKG9wdGlvblByb21pc2VSZWplY3RFbXB0eSkgPyBcIlwiIDogbm9Qcm9taXNlT3B0aW9uKSArIFwiLiBBYm9ydGluZy5cIik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlcigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICghcHJvcGVydGllc01hcCkge1xuICAgICAgICAgICAgICBpZiAocHJvbWlzZVJlamVjdEVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICByZWplY3RlcihcIlZlbG9jaXR5OiBObyBwcm9wZXJ0aWVzIHN1cHBsaWVkXCIgKyAoaXNCb29sZWFuKG9wdGlvblByb21pc2VSZWplY3RFbXB0eSkgPyBcIlwiIDogbm9Qcm9taXNlT3B0aW9uKSArIFwiLiBBYm9ydGluZy5cIik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlcigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFlbGVtZW50cyAmJiAhaXNBY3Rpb24gfHwgIXByb3BlcnRpZXNNYXApIHtcbiAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgIH1cbiAgICAgIC8vIE5PVEU6IENhbid0IHVzZSBpc0FjdGlvbiBoZXJlIGR1ZSB0byB0eXBlIGluZmVyZW5jZSAtIHRoZXJlIGFyZSBjYWxsYmFja3NcbiAgICAgIC8vIGJldHdlZW4gc28gdGhlIHR5cGUgaXNuJ3QgY29uc2lkZXJlZCBzYWZlLlxuICAgICAgaWYgKGlzQWN0aW9uKSB7XG4gICAgICAgICAgdmFyIGFjdGlvbkFyZ3MgPSBbXSxcbiAgICAgICAgICAgICAgcHJvbWlzZUhhbmRsZXIgPSBwcm9taXNlICYmIHtcbiAgICAgICAgICAgICAgX3Byb21pc2U6IHByb21pc2UsXG4gICAgICAgICAgICAgIF9yZXNvbHZlcjogcmVzb2x2ZXIsXG4gICAgICAgICAgICAgIF9yZWplY3RlcjogcmVqZWN0ZXJcbiAgICAgICAgICB9O1xuICAgICAgICAgIHdoaWxlIChhcmd1bWVudEluZGV4IDwgYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICB2YXIgX3JlZjI7XG5cbiAgICAgICAgICAgICAgYWN0aW9uQXJncy5wdXNoKChfcmVmMiA9IGFyZ3VtZW50SW5kZXgrKywgYXJndW1lbnRzLmxlbmd0aCA8PSBfcmVmMiA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1tfcmVmMl0pKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gVmVsb2NpdHkncyBiZWhhdmlvciBpcyBjYXRlZ29yaXplZCBpbnRvIFwiYWN0aW9uc1wiLiBJZiBhIHN0cmluZyBpc1xuICAgICAgICAgIC8vIHBhc3NlZCBpbiBpbnN0ZWFkIG9mIGEgcHJvcGVydGllc01hcCB0aGVuIHRoYXQgd2lsbCBjYWxsIGEgZnVuY3Rpb25cbiAgICAgICAgICAvLyB0byBkbyBzb21ldGhpbmcgc3BlY2lhbCB0byB0aGUgYW5pbWF0aW9uIGxpbmtlZC5cbiAgICAgICAgICAvLyBUaGVyZSBpcyBvbmUgc3BlY2lhbCBjYXNlIC0gXCJyZXZlcnNlXCIgLSB3aGljaCBpcyBoYW5kbGVkIGRpZmZlcmVudGx5LFxuICAgICAgICAgIC8vIGJ5IGJlaW5nIHN0b3JlZCBvbiB0aGUgYW5pbWF0aW9uIGFuZCB0aGVuIGV4cGFuZGVkIHdoZW4gdGhlIGFuaW1hdGlvblxuICAgICAgICAgIC8vIHN0YXJ0cy5cbiAgICAgICAgICB2YXIgYWN0aW9uID0gcHJvcGVydGllc01hcC5yZXBsYWNlKC9cXC4uKiQvLCBcIlwiKSxcbiAgICAgICAgICAgICAgY2FsbGJhY2sgPSBBY3Rpb25zW2FjdGlvbl07XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjayhhY3Rpb25BcmdzLCBlbGVtZW50cywgcHJvbWlzZUhhbmRsZXIsIHByb3BlcnRpZXNNYXApO1xuICAgICAgICAgICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzIHx8IHByb21pc2U7XG4gICAgICAgICAgfSBlbHNlIGlmICghbWF5YmVTZXF1ZW5jZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVmVsb2NpdHlKUzogRmlyc3QgYXJndW1lbnQgKFwiICsgcHJvcGVydGllc01hcCArIFwiKSB3YXMgbm90IGEgcHJvcGVydHkgbWFwLCBhIGtub3duIGFjdGlvbiwgb3IgYSByZWdpc3RlcmVkIHJlZGlyZWN0LiBBYm9ydGluZy5cIik7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgaGFzVmFsaWREdXJhdGlvbiA9IHZvaWQgMDtcbiAgICAgIGlmIChpc1BsYWluT2JqZWN0KHByb3BlcnRpZXNNYXApIHx8IGlzUmV2ZXJzZSB8fCBtYXliZVNlcXVlbmNlKSB7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogVGhlIG9wdGlvbnMgZm9yIHRoaXMgc2V0IG9mIGFuaW1hdGlvbnMuXG4gICAgICAgICAgICovXG4gICAgICAgICAgdmFyIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICB2YXIgaXNTeW5jID0gZGVmYXVsdHMkJDEuc3luYztcbiAgICAgICAgICAvLyBQcml2YXRlIG9wdGlvbnMgZmlyc3QgLSBzZXQgYXMgbm9uLWVudW1lcmFibGUsIGFuZCBzdGFydGluZyB3aXRoIGFuXG4gICAgICAgICAgLy8gdW5kZXJzY29yZSBzbyB3ZSBjYW4gZmlsdGVyIHRoZW0gb3V0LlxuICAgICAgICAgIGlmIChwcm9taXNlKSB7XG4gICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEob3B0aW9ucywgXCJfcHJvbWlzZVwiLCBwcm9taXNlKTtcbiAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShvcHRpb25zLCBcIl9yZWplY3RlclwiLCByZWplY3Rlcik7XG4gICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEob3B0aW9ucywgXCJfcmVzb2x2ZXJcIiwgcmVzb2x2ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSQxKG9wdGlvbnMsIFwiX3JlYWR5XCIsIDApO1xuICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEob3B0aW9ucywgXCJfc3RhcnRlZFwiLCAwKTtcbiAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSQxKG9wdGlvbnMsIFwiX2NvbXBsZXRlZFwiLCAwKTtcbiAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSQxKG9wdGlvbnMsIFwiX3RvdGFsXCIsIDApO1xuICAgICAgICAgIC8vIE5vdyBjaGVjayB0aGUgb3B0aW9uc01hcFxuICAgICAgICAgIGlmIChpc1BsYWluT2JqZWN0KG9wdGlvbnNNYXApKSB7XG4gICAgICAgICAgICAgIHZhciB2YWxpZER1cmF0aW9uID0gdmFsaWRhdGVEdXJhdGlvbihvcHRpb25zTWFwLmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgaGFzVmFsaWREdXJhdGlvbiA9IHZhbGlkRHVyYXRpb24gIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgb3B0aW9ucy5kdXJhdGlvbiA9IGdldFZhbHVlKHZhbGlkRHVyYXRpb24sIGRlZmF1bHRzJCQxLmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgb3B0aW9ucy5kZWxheSA9IGdldFZhbHVlKHZhbGlkYXRlRGVsYXkob3B0aW9uc01hcC5kZWxheSksIGRlZmF1bHRzJCQxLmRlbGF5KTtcbiAgICAgICAgICAgICAgLy8gTmVlZCB0aGUgZXh0cmEgZmFsbGJhY2sgaGVyZSBpbiBjYXNlIGl0IHN1cHBsaWVzIGFuIGludmFsaWRcbiAgICAgICAgICAgICAgLy8gZWFzaW5nIHRoYXQgd2UgbmVlZCB0byBvdmVycnJpZGUgd2l0aCB0aGUgZGVmYXVsdC5cbiAgICAgICAgICAgICAgb3B0aW9ucy5lYXNpbmcgPSB2YWxpZGF0ZUVhc2luZyhnZXRWYWx1ZShvcHRpb25zTWFwLmVhc2luZywgZGVmYXVsdHMkJDEuZWFzaW5nKSwgb3B0aW9ucy5kdXJhdGlvbikgfHwgdmFsaWRhdGVFYXNpbmcoZGVmYXVsdHMkJDEuZWFzaW5nLCBvcHRpb25zLmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgb3B0aW9ucy5sb29wID0gZ2V0VmFsdWUodmFsaWRhdGVMb29wKG9wdGlvbnNNYXAubG9vcCksIGRlZmF1bHRzJCQxLmxvb3ApO1xuICAgICAgICAgICAgICBvcHRpb25zLnJlcGVhdCA9IG9wdGlvbnMucmVwZWF0QWdhaW4gPSBnZXRWYWx1ZSh2YWxpZGF0ZVJlcGVhdChvcHRpb25zTWFwLnJlcGVhdCksIGRlZmF1bHRzJCQxLnJlcGVhdCk7XG4gICAgICAgICAgICAgIGlmIChvcHRpb25zTWFwLnNwZWVkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMuc3BlZWQgPSBnZXRWYWx1ZSh2YWxpZGF0ZVNwZWVkKG9wdGlvbnNNYXAuc3BlZWQpLCAxKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoaXNCb29sZWFuKG9wdGlvbnNNYXAucHJvbWlzZSkpIHtcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMucHJvbWlzZSA9IG9wdGlvbnNNYXAucHJvbWlzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvcHRpb25zLnF1ZXVlID0gZ2V0VmFsdWUodmFsaWRhdGVRdWV1ZShvcHRpb25zTWFwLnF1ZXVlKSwgZGVmYXVsdHMkJDEucXVldWUpO1xuICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcC5tb2JpbGVIQSAmJiAhU3RhdGUuaXNHaW5nZXJicmVhZCkge1xuICAgICAgICAgICAgICAgICAgLyogV2hlbiBzZXQgdG8gdHJ1ZSwgYW5kIGlmIHRoaXMgaXMgYSBtb2JpbGUgZGV2aWNlLCBtb2JpbGVIQSBhdXRvbWF0aWNhbGx5IGVuYWJsZXMgaGFyZHdhcmUgYWNjZWxlcmF0aW9uICh2aWEgYSBudWxsIHRyYW5zZm9ybSBoYWNrKVxuICAgICAgICAgICAgICAgICAgIG9uIGFuaW1hdGluZyBlbGVtZW50cy4gSEEgaXMgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50IGF0IHRoZSBjb21wbGV0aW9uIG9mIGl0cyBhbmltYXRpb24uICovXG4gICAgICAgICAgICAgICAgICAvKiBOb3RlOiBBbmRyb2lkIEdpbmdlcmJyZWFkIGRvZXNuJ3Qgc3VwcG9ydCBIQS4gSWYgYSBudWxsIHRyYW5zZm9ybSBoYWNrIChtb2JpbGVIQSkgaXMgaW4gZmFjdCBzZXQsIGl0IHdpbGwgcHJldmVudCBvdGhlciB0cmFuZm9ybSBzdWJwcm9wZXJ0aWVzIGZyb20gdGFraW5nIGVmZmVjdC4gKi9cbiAgICAgICAgICAgICAgICAgIC8qIE5vdGU6IFlvdSBjYW4gcmVhZCBtb3JlIGFib3V0IHRoZSB1c2Ugb2YgbW9iaWxlSEEgaW4gVmVsb2NpdHkncyBkb2N1bWVudGF0aW9uOiB2ZWxvY2l0eS1hbmltYXRlLyNtb2JpbGVIQS4gKi9cbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMubW9iaWxlSEEgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChvcHRpb25zTWFwLmRyYWcgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZHJhZyA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGlzTnVtYmVyKG9wdGlvbnNNYXAuc3RhZ2dlcikgfHwgaXNGdW5jdGlvbihvcHRpb25zTWFwLnN0YWdnZXIpKSB7XG4gICAgICAgICAgICAgICAgICBvcHRpb25zLnN0YWdnZXIgPSBvcHRpb25zTWFwLnN0YWdnZXI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFpc1JldmVyc2UpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zTWFwW1wiZGlzcGxheVwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllc01hcC5kaXNwbGF5ID0gb3B0aW9uc01hcFtcImRpc3BsYXlcIl07XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkRlcHJlY2F0ZWQgXFxcIm9wdGlvbnMuZGlzcGxheVxcXCIgdXNlZCwgdGhpcyBpcyBub3cgYSBwcm9wZXJ0eTpcIiwgb3B0aW9uc01hcFtcImRpc3BsYXlcIl0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNNYXBbXCJ2aXNpYmlsaXR5XCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzTWFwLnZpc2liaWxpdHkgPSBvcHRpb25zTWFwW1widmlzaWJpbGl0eVwiXTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRGVwcmVjYXRlZCBcXFwib3B0aW9ucy52aXNpYmlsaXR5XFxcIiB1c2VkLCB0aGlzIGlzIG5vdyBhIHByb3BlcnR5OlwiLCBvcHRpb25zTWFwW1widmlzaWJpbGl0eVwiXSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gVE9ETzogQWxsb3cgZnVuY3Rpb25hbCBvcHRpb25zIGZvciBkaWZmZXJlbnQgb3B0aW9ucyBwZXIgZWxlbWVudFxuICAgICAgICAgICAgICB2YXIgb3B0aW9uc0JlZ2luID0gdmFsaWRhdGVCZWdpbihvcHRpb25zTWFwLmJlZ2luKSxcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnNDb21wbGV0ZSA9IHZhbGlkYXRlQ29tcGxldGUob3B0aW9uc01hcC5jb21wbGV0ZSksXG4gICAgICAgICAgICAgICAgICBvcHRpb25zUHJvZ3Jlc3MgPSB2YWxpZGF0ZVByb2dyZXNzKG9wdGlvbnNNYXAucHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgb3B0aW9uc1N5bmMgPSB2YWxpZGF0ZVN5bmMob3B0aW9uc01hcC5zeW5jKTtcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbnNCZWdpbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBvcHRpb25zLmJlZ2luID0gb3B0aW9uc0JlZ2luO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChvcHRpb25zQ29tcGxldGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jb21wbGV0ZSA9IG9wdGlvbnNDb21wbGV0ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAob3B0aW9uc1Byb2dyZXNzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMucHJvZ3Jlc3MgPSBvcHRpb25zUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKG9wdGlvbnNTeW5jICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGlzU3luYyA9IG9wdGlvbnNTeW5jO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICghc3ludGFjdGljU3VnYXIpIHtcbiAgICAgICAgICAgICAgLy8gRXhwYW5kIGFueSBkaXJlY3Qgb3B0aW9ucyBpZiBwb3NzaWJsZS5cbiAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSB2YWxpZGF0ZUR1cmF0aW9uKGFyZ3VtZW50cy5sZW5ndGggPD0gYXJndW1lbnRJbmRleCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1thcmd1bWVudEluZGV4XSwgdHJ1ZSk7XG4gICAgICAgICAgICAgIGlmIChvcHRpb25zLmR1cmF0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSBkZWZhdWx0cyQkMS5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGhhc1ZhbGlkRHVyYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgb2Zmc2V0Kys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGFyZ3VtZW50cy5sZW5ndGggPD0gYXJndW1lbnRJbmRleCArIG9mZnNldCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1thcmd1bWVudEluZGV4ICsgb2Zmc2V0XSkpIHtcbiAgICAgICAgICAgICAgICAgIC8vIERlc3BpdGUgY29taW5nIGJlZm9yZSBDb21wbGV0ZSwgd2UgY2FuJ3QgcGFzcyBhIGZuIGVhc2luZ1xuICAgICAgICAgICAgICAgICAgdmFyIGVhc2luZyA9IHZhbGlkYXRlRWFzaW5nKGFyZ3VtZW50cy5sZW5ndGggPD0gYXJndW1lbnRJbmRleCArIG9mZnNldCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1thcmd1bWVudEluZGV4ICsgb2Zmc2V0XSwgZ2V0VmFsdWUob3B0aW9ucyAmJiB2YWxpZGF0ZUR1cmF0aW9uKG9wdGlvbnMuZHVyYXRpb24pLCBkZWZhdWx0cyQkMS5kdXJhdGlvbiksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgaWYgKGVhc2luZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0Kys7XG4gICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5lYXNpbmcgPSBlYXNpbmc7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIGNvbXBsZXRlID0gdmFsaWRhdGVDb21wbGV0ZShhcmd1bWVudHMubGVuZ3RoIDw9IGFyZ3VtZW50SW5kZXggKyBvZmZzZXQgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbYXJndW1lbnRJbmRleCArIG9mZnNldF0sIHRydWUpO1xuICAgICAgICAgICAgICBpZiAoY29tcGxldGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jb21wbGV0ZSA9IGNvbXBsZXRlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG9wdGlvbnMuZGVsYXkgPSBkZWZhdWx0cyQkMS5kZWxheTtcbiAgICAgICAgICAgICAgb3B0aW9ucy5sb29wID0gZGVmYXVsdHMkJDEubG9vcDtcbiAgICAgICAgICAgICAgb3B0aW9ucy5yZXBlYXQgPSBvcHRpb25zLnJlcGVhdEFnYWluID0gZGVmYXVsdHMkJDEucmVwZWF0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNSZXZlcnNlICYmIG9wdGlvbnMucXVldWUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZlbG9jaXR5SlM6IENhbm5vdCByZXZlcnNlIGEgcXVldWU6ZmFsc2UgYW5pbWF0aW9uLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFoYXNWYWxpZER1cmF0aW9uICYmIG1heWJlU2VxdWVuY2UgJiYgbWF5YmVTZXF1ZW5jZS5kdXJhdGlvbikge1xuICAgICAgICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gbWF5YmVTZXF1ZW5jZS5kdXJhdGlvbjtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gV2hlbiBhIHNldCBvZiBlbGVtZW50cyBpcyB0YXJnZXRlZCBieSBhIFZlbG9jaXR5IGNhbGwsIHRoZSBzZXQgaXNcbiAgICAgICAgICAvLyBicm9rZW4gdXAgYW5kIGVhY2ggZWxlbWVudCBoYXMgdGhlIGN1cnJlbnQgVmVsb2NpdHkgY2FsbCBpbmRpdmlkdWFsbHlcbiAgICAgICAgICAvLyBxdWV1ZWQgb250byBpdC4gSW4gdGhpcyB3YXksIGVhY2ggZWxlbWVudCdzIGV4aXN0aW5nIHF1ZXVlIGlzXG4gICAgICAgICAgLy8gcmVzcGVjdGVkOyBzb21lIGVsZW1lbnRzIG1heSBhbHJlYWR5IGJlIGFuaW1hdGluZyBhbmQgYWNjb3JkaW5nbHlcbiAgICAgICAgICAvLyBzaG91bGQgbm90IGhhdmUgdGhpcyBjdXJyZW50IFZlbG9jaXR5IGNhbGwgdHJpZ2dlcmVkIGltbWVkaWF0ZWx5XG4gICAgICAgICAgLy8gdW5sZXNzIHRoZSBzeW5jOnRydWUgb3B0aW9uIGlzIHVzZWQuXG4gICAgICAgICAgdmFyIHJvb3RBbmltYXRpb24gPSB7XG4gICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgICAgICAgIGVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICAgICAgICAgICAgX3ByZXY6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgX25leHQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgX2ZsYWdzOiBpc1N5bmMgPyAzMiAvKiBTWU5DICovIDogMCxcbiAgICAgICAgICAgICAgcGVyY2VudENvbXBsZXRlOiAwLFxuICAgICAgICAgICAgICBlbGxhcHNlZFRpbWU6IDAsXG4gICAgICAgICAgICAgIHRpbWVTdGFydDogMFxuICAgICAgICAgIH07XG4gICAgICAgICAgYW5pbWF0aW9ucyA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBlbGVtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpbmRleF07XG4gICAgICAgICAgICAgIHZhciBmbGFncyA9IDA7XG4gICAgICAgICAgICAgIGlmIChpc05vZGUoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFRoaXMgbmVlZHMgdG8gY2hlY2sgZm9yIHZhbGlkIGFuaW1hdGlvbiB0YXJnZXRzLCBub3QganVzdCBFbGVtZW50c1xuICAgICAgICAgICAgICAgICAgaWYgKGlzUmV2ZXJzZSkge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXN0QW5pbWF0aW9uID0gRGF0YShlbGVtZW50KS5sYXN0QW5pbWF0aW9uTGlzdFtvcHRpb25zLnF1ZXVlXTtcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzTWFwID0gbGFzdEFuaW1hdGlvbiAmJiBsYXN0QW5pbWF0aW9uLnR3ZWVucztcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByb3BlcnRpZXNNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlZlbG9jaXR5SlM6IEF0dGVtcHRpbmcgdG8gcmV2ZXJzZSBhbiBhbmltYXRpb24gb24gYW4gZWxlbWVudCB3aXRoIG5vIHByZXZpb3VzIGFuaW1hdGlvbjpcIiwgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBmbGFncyB8PSA2NCAvKiBSRVZFUlNFICovICYgfihsYXN0QW5pbWF0aW9uLl9mbGFncyAmIDY0IC8qIFJFVkVSU0UgKi8pOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBPYmplY3QuYXNzaWduKHt9LCByb290QW5pbWF0aW9uLCB7IGVsZW1lbnQ6IGVsZW1lbnQsIF9mbGFnczogcm9vdEFuaW1hdGlvbi5fZmxhZ3MgfCBmbGFncyB9KTtcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMuX3RvdGFsKys7XG4gICAgICAgICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnN0YWdnZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLnN0YWdnZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW0gPSBvcHRpb25DYWxsYmFjayhvcHRpb25zLnN0YWdnZXIsIGVsZW1lbnQsIGluZGV4LCBlbGVtZW50cy5sZW5ndGgsIGVsZW1lbnRzLCBcInN0YWdnZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc051bWJlcihudW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uZGVsYXkgPSBvcHRpb25zLmRlbGF5ICsgbnVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLmRlbGF5ID0gb3B0aW9ucy5kZWxheSArIG9wdGlvbnMuc3RhZ2dlciAqIGluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRyYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uZHVyYXRpb24gPSBvcHRpb25zLmR1cmF0aW9uIC0gb3B0aW9ucy5kdXJhdGlvbiAqIE1hdGgubWF4KDEgLSAoaW5kZXggKyAxKSAvIGVsZW1lbnRzLmxlbmd0aCwgMC43NSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAobWF5YmVTZXF1ZW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGV4cGFuZFNlcXVlbmNlKGFuaW1hdGlvbiwgbWF5YmVTZXF1ZW5jZSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzUmV2ZXJzZSkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIEluIHRoaXMgY2FzZSB3ZSdyZSB1c2luZyB0aGUgcHJldmlvdXMgYW5pbWF0aW9uLCBzb1xuICAgICAgICAgICAgICAgICAgICAgIC8vIGl0IHdpbGwgYmUgZXhwYW5kZWQgY29ycmVjdGx5IHdoZW4gdGhhdCBvbmUgcnVucy5cbiAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24udHdlZW5zID0gcHJvcGVydGllc01hcDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLnR3ZWVucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgZXhwYW5kUHJvcGVydGllcyhhbmltYXRpb24sIHByb3BlcnRpZXNNYXApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcXVldWUkMShlbGVtZW50LCBhbmltYXRpb24sIG9wdGlvbnMucXVldWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChTdGF0ZS5pc1RpY2tpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIC8vIElmIHRoZSBhbmltYXRpb24gdGljayBpc24ndCBydW5uaW5nLCBzdGFydCBpdC4gKFZlbG9jaXR5IHNodXRzIGl0XG4gICAgICAgICAgICAgIC8vIG9mZiB3aGVuIHRoZXJlIGFyZSBubyBhY3RpdmUgY2FsbHMgdG8gcHJvY2Vzcy4pXG4gICAgICAgICAgICAgIHRpY2soZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYW5pbWF0aW9ucykge1xuICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSQxKGVsZW1lbnRzLnZlbG9jaXR5LCBcImFuaW1hdGlvbnNcIiwgYW5pbWF0aW9ucyk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyoqKioqKioqKioqKioqKlxuICAgICAgIENoYWluaW5nXG4gICAgICAgKioqKioqKioqKioqKioqL1xuICAgICAgLyogUmV0dXJuIHRoZSBlbGVtZW50cyBiYWNrIHRvIHRoZSBjYWxsIGNoYWluLCB3aXRoIHdyYXBwZWQgZWxlbWVudHMgdGFraW5nIHByZWNlZGVuY2UgaW4gY2FzZSBWZWxvY2l0eSB3YXMgY2FsbGVkIHZpYSB0aGUgJC5mbi4gZXh0ZW5zaW9uLiAqL1xuICAgICAgcmV0dXJuIGVsZW1lbnRzIHx8IHByb21pc2U7XG4gIH1cbiAgLyoqXG4gICAqIENhbGwgYW4gb3B0aW9uIGNhbGxiYWNrIGluIGEgdHJ5L2NhdGNoIGJsb2NrIGFuZCByZXBvcnQgYW4gZXJyb3IgaWYgbmVlZGVkLlxuICAgKi9cbiAgZnVuY3Rpb24gb3B0aW9uQ2FsbGJhY2soZm4sIGVsZW1lbnQsIGluZGV4LCBsZW5ndGgsIGVsZW1lbnRzLCBvcHRpb24pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGZuLmNhbGwoZWxlbWVudCwgaW5kZXgsIGxlbmd0aCwgZWxlbWVudHMsIG9wdGlvbik7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIlZlbG9jaXR5SlM6IEV4Y2VwdGlvbiB3aGVuIGNhbGxpbmcgJ1wiICsgb3B0aW9uICsgXCInIGNhbGxiYWNrOlwiLCBlKTtcbiAgICAgIH1cbiAgfVxuXG4gIC8vIFByb2plY3RcbiAgLyoqXG4gICAqIFVzZWQgdG8gcGF0Y2ggYW55IG9iamVjdCB0byBhbGxvdyBWZWxvY2l0eSBjaGFpbmluZy4gSW4gb3JkZXIgdG8gY2hhaW4gYW5cbiAgICogb2JqZWN0IG11c3QgZWl0aGVyIGJlIHRyZWF0YWJsZSBhcyBhbiBhcnJheSAtIHdpdGggYSA8Y29kZT4ubGVuZ3RoPC9jb2RlPlxuICAgKiBwcm9wZXJ0eSwgYW5kIGVhY2ggbWVtYmVyIGEgTm9kZSwgb3IgYSBOb2RlIGRpcmVjdGx5LlxuICAgKlxuICAgKiBCeSBkZWZhdWx0IFZlbG9jaXR5IHdpbGwgdHJ5IHRvIHBhdGNoIDxjb2RlPndpbmRvdzwvY29kZT4sXG4gICAqIDxjb2RlPmpRdWVyeTwvY29kZT4sIDxjb2RlPlplcHRvPC9jb2RlPiwgYW5kIHNldmVyYWwgY2xhc3NlcyB0aGF0IHJldHVyblxuICAgKiBOb2RlcyBvciBsaXN0cyBvZiBOb2Rlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHBhdGNoKHByb3RvLCBnbG9iYWwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShwcm90bywgKGdsb2JhbCA/IFwiVlwiIDogXCJ2XCIpICsgXCJlbG9jaXR5XCIsIFZlbG9jaXR5JDEpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IEVycm9yIHdoZW4gdHJ5aW5nIHRvIGFkZCBwcm90b3R5cGUuXCIsIGUpO1xuICAgICAgfVxuICB9XG5cbiAgLy8gUHJvamVjdFxuICB2YXIgVmVsb2NpdHkkMiA9IFZlbG9jaXR5JDE7XG4gIC8qKlxuICAgKiBUaGVzZSBwYXJ0cyBvZiBWZWxvY2l0eSBhYnNvbHV0ZWx5IG11c3QgYmUgaW5jbHVkZWQsIGV2ZW4gaWYgdGhleSdyZSB1bnVzZWQhXG4gICAqL1xuICB2YXIgVmVsb2NpdHlTdGF0aWMkMTtcbiAgKGZ1bmN0aW9uIChWZWxvY2l0eVN0YXRpYykge1xuICAgICAgLyoqXG4gICAgICAgKiBBY3Rpb25zIGNhbm5vdCBiZSByZXBsYWNlZCBpZiB0aGV5IGFyZSBpbnRlcm5hbCAoaGFzT3duUHJvcGVydHkgaXMgZmFsc2VcbiAgICAgICAqIGJ1dCB0aGV5IHN0aWxsIGV4aXN0KS4gT3RoZXJ3aXNlIHRoZXkgY2FuIGJlIHJlcGxhY2VkIGJ5IHVzZXJzLlxuICAgICAgICpcbiAgICAgICAqIEFsbCBleHRlcm5hbCBtZXRob2QgY2FsbHMgc2hvdWxkIGJlIHVzaW5nIGFjdGlvbnMgcmF0aGVyIHRoYW4gc3ViLWNhbGxzXG4gICAgICAgKiBvZiBWZWxvY2l0eSBpdHNlbGYuXG4gICAgICAgKi9cbiAgICAgIFZlbG9jaXR5U3RhdGljLkFjdGlvbnMgPSBBY3Rpb25zO1xuICAgICAgLyoqXG4gICAgICAgKiBPdXIga25vd24gZWFzaW5nIGZ1bmN0aW9ucy5cbiAgICAgICAqL1xuICAgICAgVmVsb2NpdHlTdGF0aWMuRWFzaW5ncyA9IEVhc2luZ3M7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBjdXJyZW50bHkgcmVnaXN0ZXJlZCBzZXF1ZW5jZXMuXG4gICAgICAgKi9cbiAgICAgIFZlbG9jaXR5U3RhdGljLlNlcXVlbmNlcyA9IFNlcXVlbmNlc09iamVjdDtcbiAgICAgIC8qKlxuICAgICAgICogQ3VycmVudCBpbnRlcm5hbCBzdGF0ZSBvZiBWZWxvY2l0eS5cbiAgICAgICAqL1xuICAgICAgVmVsb2NpdHlTdGF0aWMuU3RhdGUgPSBTdGF0ZTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuICAgICAgLyoqXG4gICAgICAgKiBWZWxvY2l0eSBvcHRpb24gZGVmYXVsdHMsIHdoaWNoIGNhbiBiZSBvdmVycmlkZW4gYnkgdGhlIHVzZXIuXG4gICAgICAgKi9cbiAgICAgIFZlbG9jaXR5U3RhdGljLmRlZmF1bHRzID0gZGVmYXVsdHMkMTtcbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBwYXRjaCBhbnkgb2JqZWN0IHRvIGFsbG93IFZlbG9jaXR5IGNoYWluaW5nLiBJbiBvcmRlciB0byBjaGFpbiBhblxuICAgICAgICogb2JqZWN0IG11c3QgZWl0aGVyIGJlIHRyZWF0YWJsZSBhcyBhbiBhcnJheSAtIHdpdGggYSA8Y29kZT4ubGVuZ3RoPC9jb2RlPlxuICAgICAgICogcHJvcGVydHksIGFuZCBlYWNoIG1lbWJlciBhIE5vZGUsIG9yIGEgTm9kZSBkaXJlY3RseS5cbiAgICAgICAqXG4gICAgICAgKiBCeSBkZWZhdWx0IFZlbG9jaXR5IHdpbGwgdHJ5IHRvIHBhdGNoIDxjb2RlPndpbmRvdzwvY29kZT4sXG4gICAgICAgKiA8Y29kZT5qUXVlcnk8L2NvZGU+LCA8Y29kZT5aZXB0bzwvY29kZT4sIGFuZCBzZXZlcmFsIGNsYXNzZXMgdGhhdCByZXR1cm5cbiAgICAgICAqIE5vZGVzIG9yIGxpc3RzIG9mIE5vZGVzLlxuICAgICAgICovXG4gICAgICBWZWxvY2l0eVN0YXRpYy5wYXRjaCA9IHBhdGNoO1xuICAgICAgLyoqXG4gICAgICAgKiBTZXQgdG8gdHJ1ZSwgMSBvciAyIChtb3N0IHZlcmJvc2UpIHRvIG91dHB1dCBkZWJ1ZyBpbmZvIHRvIGNvbnNvbGUuXG4gICAgICAgKi9cbiAgICAgIFZlbG9jaXR5U3RhdGljLmRlYnVnID0gZmFsc2U7XG4gICAgICAvKipcbiAgICAgICAqIEluIG1vY2sgbW9kZSwgYWxsIGFuaW1hdGlvbnMgYXJlIGZvcmNlZCB0byBjb21wbGV0ZSBpbW1lZGlhdGVseSB1cG9uIHRoZVxuICAgICAgICogbmV4dCByQUYgdGljay4gSWYgdGhlcmUgYXJlIGZ1cnRoZXIgYW5pbWF0aW9ucyBxdWV1ZWQgdGhlbiB0aGV5IHdpbGwgZWFjaFxuICAgICAgICogdGFrZSBvbmUgc2luZ2xlIGZyYW1lIGluIHR1cm4uIExvb3BzIGFuZCByZXBlYXRzIHdpbGwgYmUgZGlzYWJsZWQgd2hpbGVcbiAgICAgICAqIDxjb2RlPm1vY2sgPSB0cnVlPC9jb2RlPi5cbiAgICAgICAqL1xuICAgICAgVmVsb2NpdHlTdGF0aWMubW9jayA9IGZhbHNlO1xuICAgICAgLyoqXG4gICAgICAgKiBTYXZlIG91ciB2ZXJzaW9uIG51bWJlciBzb21ld2hlcmUgdmlzaWJsZS5cbiAgICAgICAqL1xuICAgICAgVmVsb2NpdHlTdGF0aWMudmVyc2lvbiA9IFZFUlNJT047XG4gICAgICAvKipcbiAgICAgICAqIEFkZGVkIGFzIGEgZmFsbGJhY2sgZm9yIFwiaW1wb3J0IHtWZWxvY2l0eX0gZnJvbSAndmVsb2NpdHktYW5pbWF0ZSc7XCIuXG4gICAgICAgKi9cbiAgICAgIFZlbG9jaXR5U3RhdGljLlZlbG9jaXR5ID0gVmVsb2NpdHkkMTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuICB9KShWZWxvY2l0eVN0YXRpYyQxIHx8IChWZWxvY2l0eVN0YXRpYyQxID0ge30pKTtcbiAgLyogSUUgZGV0ZWN0aW9uLiBHaXN0OiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9qdWxpYW5zaGFwaXJvLzkwOTg2MDkgKi9cbiAgdmFyIElFJDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSB7XG4gICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50TW9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDc7IGkgPiA0OyBpLS0pIHtcbiAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBcIjwhXCIgKyBcIi0tXCIgKyBcIltpZiBJRSBcIiArIGkgKyBcIl0+PHNwYW4+PC9zcGFuPjwhW2VuZGlmXS0tPlwiO1xuICAgICAgICAgICAgICBpZiAoZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3BhblwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgIGRpdiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0oKTtcbiAgLyoqKioqKioqKioqKioqKioqKlxuICAgVW5zdXBwb3J0ZWRcbiAgICoqKioqKioqKioqKioqKioqKi9cbiAgaWYgKElFJDEgPD0gOCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmVsb2NpdHlKUyBjYW5ub3QgcnVuIG9uIEludGVybmV0IEV4cGxvcmVyIDggb3IgZWFybGllclwiKTtcbiAgfVxuICAvKioqKioqKioqKioqKioqKioqXG4gICBGcmFtZXdvcmtzXG4gICAqKioqKioqKioqKioqKioqKiovXG4gIGlmICh3aW5kb3cpIHtcbiAgICAgIC8qXG4gICAgICAgKiBCb3RoIGpRdWVyeSBhbmQgWmVwdG8gYWxsb3cgdGhlaXIgJC5mbiBvYmplY3QgdG8gYmUgZXh0ZW5kZWQgdG8gYWxsb3dcbiAgICAgICAqIHdyYXBwZWQgZWxlbWVudHMgdG8gYmUgc3ViamVjdGVkIHRvIHBsdWdpbiBjYWxscy4gSWYgZWl0aGVyIGZyYW1ld29yayBpc1xuICAgICAgICogbG9hZGVkLCByZWdpc3RlciBhIFwidmVsb2NpdHlcIiBleHRlbnNpb24gcG9pbnRpbmcgdG8gVmVsb2NpdHkncyBjb3JlXG4gICAgICAgKiBhbmltYXRlKCkgbWV0aG9kLiBWZWxvY2l0eSBhbHNvIHJlZ2lzdGVycyBpdHNlbGYgb250byBhIGdsb2JhbCBjb250YWluZXJcbiAgICAgICAqICh3aW5kb3cualF1ZXJ5IHx8IHdpbmRvdy5aZXB0byB8fCB3aW5kb3cpIHNvIHRoYXQgY2VydGFpbiBmZWF0dXJlcyBhcmVcbiAgICAgICAqIGFjY2Vzc2libGUgYmV5b25kIGp1c3QgYSBwZXItZWxlbWVudCBzY29wZS4gQWNjb3JkaW5nbHksIFZlbG9jaXR5IGNhblxuICAgICAgICogYm90aCBhY3Qgb24gd3JhcHBlZCBET00gZWxlbWVudHMgYW5kIHN0YW5kIGFsb25lIGZvciB0YXJnZXRpbmcgcmF3IERPTVxuICAgICAgICogZWxlbWVudHMuXG4gICAgICAgKi9cbiAgICAgIHZhciBqUXVlcnkkMSA9IHdpbmRvdy5qUXVlcnksXG4gICAgICAgICAgWmVwdG8kMSA9IHdpbmRvdy5aZXB0bztcbiAgICAgIHBhdGNoKHdpbmRvdywgdHJ1ZSk7XG4gICAgICBwYXRjaChFbGVtZW50ICYmIEVsZW1lbnQucHJvdG90eXBlKTtcbiAgICAgIHBhdGNoKE5vZGVMaXN0ICYmIE5vZGVMaXN0LnByb3RvdHlwZSk7XG4gICAgICBwYXRjaChIVE1MQ29sbGVjdGlvbiAmJiBIVE1MQ29sbGVjdGlvbi5wcm90b3R5cGUpO1xuICAgICAgcGF0Y2goalF1ZXJ5JDEsIHRydWUpO1xuICAgICAgcGF0Y2goalF1ZXJ5JDEgJiYgalF1ZXJ5JDEuZm4pO1xuICAgICAgcGF0Y2goWmVwdG8kMSwgdHJ1ZSk7XG4gICAgICBwYXRjaChaZXB0byQxICYmIFplcHRvJDEuZm4pO1xuICB9XG4gIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSB2YWx1ZXMgd2l0aGluIFZlbG9jaXR5IGFyZSByZWFkLW9ubHkgYW5kIHVwYXRjaGFibGUuXG5cbiAgdmFyIF9sb29wJDEgPSBmdW5jdGlvbiBfbG9vcChwcm9wZXJ0eSkge1xuICAgICAgaWYgKFZlbG9jaXR5U3RhdGljJDEuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgICAgICAgc3dpdGNoICh0eXBlb2YgcHJvcGVydHkgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShWZWxvY2l0eSQyLCBwcm9wZXJ0eSwge1xuICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVmVsb2NpdHlTdGF0aWMkMVtwcm9wZXJ0eV07XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBWZWxvY2l0eVN0YXRpYyQxW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSQxKFZlbG9jaXR5JDIsIHByb3BlcnR5LCBWZWxvY2l0eVN0YXRpYyQxW3Byb3BlcnR5XSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICB9XG4gIH07XG5cbiAgZm9yICh2YXIgcHJvcGVydHkkMSBpbiBWZWxvY2l0eVN0YXRpYyQxKSB7XG4gICAgICBfbG9vcCQxKHByb3BlcnR5JDEpO1xuICB9XG4gIE9iamVjdC5mcmVlemUoVmVsb2NpdHkkMik7XG5cbiAgcmV0dXJuIFZlbG9jaXR5JDI7XG5cbn0pKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZWxvY2l0eS5qcy5tYXBcbiJdfQ==
