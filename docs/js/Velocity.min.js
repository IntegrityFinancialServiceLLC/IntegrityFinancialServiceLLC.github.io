"use strict";function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(void 0).Velocity=e()}(function(){var W="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e){return!0===e||!1===e}function V(e){return"[object Function]"===Object.prototype.toString.call(e)}function q(e){return!(!e||!e.nodeType)}function Y(e){return"number"==typeof e}function X(e){if(!e||"object"!==(void 0===e?"undefined":W(e))||e.nodeType||"[object Object]"!==Object.prototype.toString.call(e))return!1;e=Object.getPrototypeOf(e);return!e||e.hasOwnProperty("constructor")&&e.constructor===Object}function K(e){return"string"==typeof e}function $(e){return e&&Y(e.length)&&V(e.velocity)}function N(e){return e&&e!==window&&Y(e.length)&&!K(e)&&!V(e)&&!q(e)&&(0===e.length||q(e[0]))}function P(e){return Array.prototype.slice.call(e,0)}function A(e,t,n,r){e&&Object.defineProperty(e,t,{configurable:!r,writable:!r,value:n})}function L(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){var l=l.value;if(void 0!==l&&l==l)return l}}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}}var n=Date.now||function(){return(new Date).getTime()};function u(e,t){e instanceof Element&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(\\s|$)","gi")," "))}var J={};function i(e,t){var n,r=e[0],i=e[1];K(r)?V(i)?J[r]&&(n=J,e=r,!Object.prototype.propertyIsEnumerable.call(n,e))?console.warn("VelocityJS: Trying to override internal 'registerAction' callback",r):!0===t?A(J,r,i):J[r]=i:console.warn("VelocityJS: Trying to set 'registerAction' callback to an invalid value:",r,i):console.warn("VelocityJS: Trying to set 'registerAction' name to an invalid value:",r)}i(["registerAction",i],!0);var ee=400,o={fast:200,normal:400,slow:600},h={};function a(e){var t=e[0],e=e[1];K(t)?V(e)?h[t]?console.warn("VelocityJS: Trying to override 'registerEasing' callback",t):h[t]=e:console.warn("VelocityJS: Trying to set 'registerEasing' callback to an invalid value:",t,e):console.warn("VelocityJS: Trying to set 'registerEasing' name to an invalid value:",t)}function z(e,t,n,r){return t+e*(n-t)}function w(e){return Math.min(Math.max(e,0),1)}function l(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function b(e,t,n){return((l(t,n)*e+s(t,n))*e+3*t)*e}function S(e,t,n){return 3*l(t,n)*e*e+2*s(t,n)*e+3*t}function c(){for(var a=4,l=1e-7,s=10,u=11,c=1/(u-1),e=("Float32Array"in window),t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(4===n.length){for(var i=0;i<4;++i)if("number"!=typeof n[i]||isNaN(n[i])||!isFinite(n[i]))return;var f=w(n[0]),o=n[1],d=w(n[2]),v=n[3],p=new(e?Float32Array:Array)(u),y=!1,g="generateBezier("+[f,o,d,v]+")",e=function(e,t,n,r){return y||m(),0===e?t:1===e?n:f===o&&d===v?t+e*(n-t):t+b(h(e),o,v)*(n-t)};return e.getControlPoints=function(){return[{x:f,y:o},{x:d,y:v}]},e.toString=function(){return g},e}function h(e){for(var t=u-1,n=0,r=1;r!==t&&p[r]<=e;++r)n+=c;var i=n+(e-p[--r])/(p[r+1]-p[r])*c,o=S(i,f,d);return.001<=o?function(e,t){for(var n=0;n<a;++n){var r=S(t,f,d);if(0===r)return t;t-=(b(t,f,d)-e)/r}return t}(e,i):0===o?i:function(e,t,n){for(var r,i=void 0,o=0;0<(r=b(i=t+(n-t)/2,f,d)-e)?n=i:t=i,Math.abs(r)>l&&++o<s;);return i}(e,n,n+c)}function m(){y=!0,f===o&&d===v||function(){for(var e=0;e<u;++e)p[e]=b(e*c,f,d)}()}}i(["registerEasing",a],!0),a(["linear",z]),a(["swing",function(e,t,n){return t+(.5-Math.cos(e*Math.PI)/2)*(n-t)}]),a(["spring",function(e,t,n){return t+(1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e))*(n-t)}]);var f=c(.42,0,1,1),d=c(0,0,.58,1),v=c(.42,0,.58,1);function y(e){return-e.tension*e.x-e.friction*e.v}function g(e,t,n){e={x:e.x+n.dx*t,v:e.v+n.dv*t,tension:e.tension,friction:e.friction};return{dx:e.v,dv:y(e)}}function m(e,t,n){for(var r,i,o,a,l,s,u,c={x:-1,v:0,tension:parseFloat(e)||500,friction:parseFloat(t)||20},f=[0],t=null!=n,d=0,v=void 0,p=void 0,v=t?(d=m(c.tension,c.friction))/n*.016:.016;i=v,s=u=s=l=a=o=void 0,o={dx:(r=p||c).v,dv:y(r)},a=g(r,.5*i,o),l=g(r,.5*i,a),s=g(r,i,l),u=1/6*(o.dx+2*(a.dx+l.dx)+s.dx),s=1/6*(o.dv+2*(a.dv+l.dv)+s.dv),r.x=r.x+u*i,r.v=r.v+s*i,p=r,f.push(1+p.x),d+=16,1e-4<Math.abs(p.x)&&1e-4<Math.abs(p.v););return t?function(e,t,n){return 0===e?t:1===e?n:t+f[Math.floor(e*(f.length-1))]*(n-t)}:d}a(["ease",c(.25,.1,.25,1)]),a(["easeIn",f]),a(["ease-in",f]),a(["easeOut",d]),a(["ease-out",d]),a(["easeInOut",v]),a(["ease-in-out",v]),a(["easeInSine",c(.47,0,.745,.715)]),a(["easeOutSine",c(.39,.575,.565,1)]),a(["easeInOutSine",c(.445,.05,.55,.95)]),a(["easeInQuad",c(.55,.085,.68,.53)]),a(["easeOutQuad",c(.25,.46,.45,.94)]),a(["easeInOutQuad",c(.455,.03,.515,.955)]),a(["easeInCubic",c(.55,.055,.675,.19)]),a(["easeOutCubic",c(.215,.61,.355,1)]),a(["easeInOutCubic",c(.645,.045,.355,1)]),a(["easeInQuart",c(.895,.03,.685,.22)]),a(["easeOutQuart",c(.165,.84,.44,1)]),a(["easeInOutQuart",c(.77,0,.175,1)]),a(["easeInQuint",c(.755,.05,.855,.06)]),a(["easeOutQuint",c(.23,1,.32,1)]),a(["easeInOutQuint",c(.86,0,.07,1)]),a(["easeInExpo",c(.95,.05,.795,.035)]),a(["easeOutExpo",c(.19,1,.22,1)]),a(["easeInOutExpo",c(1,0,0,1)]),a(["easeInCirc",c(.6,.04,.98,.335)]),a(["easeOutCirc",c(.075,.82,.165,1)]),a(["easeInOutCirc",c(.785,.135,.15,.86)]);var p={};function x(e,t){return Y(e)?e:K(e)?o[e.toLowerCase()]||parseFloat(e.replace("ms","").replace("s","000")):null==t?void 0:x(t)}function O(e){if(M(e))return e;null!=e&&console.warn("VelocityJS: Trying to set 'cache' to an invalid value:",e)}function I(e){if(V(e))return e;null!=e&&console.warn("VelocityJS: Trying to set 'begin' to an invalid value:",e)}function j(e,t){if(V(e))return e;null==e||t||console.warn("VelocityJS: Trying to set 'complete' to an invalid value:",e)}function C(e){var t=x(e);if(!isNaN(t))return t;null!=e&&console.error("VelocityJS: Trying to set 'delay' to an invalid value:",e)}function te(e,t){var n=x(e);if(!isNaN(n)&&0<=n)return n;null==e||t||console.error("VelocityJS: Trying to set 'duration' to an invalid value:",e)}function ne(e,t,n){if(K(e))return h[e];if(V(e))return e;if(Array.isArray(e)){if(1===e.length)return r=e[0],p[r]||(p[r]=function(e,t,n){return 0===e?t:1===e?n:t+Math.round(e*r)*(1/r)*(n-t)});if(2===e.length)return m(e[0],e[1],t);if(4===e.length)return c.apply(null,e)||!1}var r;null==e||n||console.error("VelocityJS: Trying to set 'easing' to an invalid value:",e)}function E(e){if(!1===e)return 0;var t=parseInt(e,10);if(!isNaN(t)&&0<=t)return Math.min(t,60);null!=e&&console.warn("VelocityJS: Trying to set 'fpsLimit' to an invalid value:",e)}function F(e){switch(e){case!1:return 0;case!0:return!0;default:var t=parseInt(e,10);if(!isNaN(t)&&0<=t)return t}null!=e&&console.warn("VelocityJS: Trying to set 'loop' to an invalid value:",e)}function H(e,t){if(!1===e||K(e))return e;null==e||t||console.warn("VelocityJS: Trying to set 'queue' to an invalid value:",e)}function R(e){switch(e){case!1:return 0;case!0:return!0;default:var t=parseInt(e,10);if(!isNaN(t)&&0<=t)return t}null!=e&&console.warn("VelocityJS: Trying to set 'repeat' to an invalid value:",e)}function B(e){if(Y(e))return e;null!=e&&console.error("VelocityJS: Trying to set 'speed' to an invalid value:",e)}function G(e){if(M(e))return e;null!=e&&console.error("VelocityJS: Trying to set 'sync' to an invalid value:",e)}var k=void 0,_=void 0,T=void 0,Q=void 0,D=void 0,U=void 0,Z=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,le=void 0,se=void 0,ue=void 0,ce=void 0,fe=void 0,de=(t(ve,null,[{key:"reset",value:function(){k=!0,T=_=void 0,Q=0,U=ne("swing",D=ee),oe=980/(Z=60),le=ae=!(re=0),se="",ce=1,fe=!(ue=0)}},{key:"cache",get:function(){return k},set:function(e){void 0!==(e=O(e))&&(k=e)}},{key:"begin",get:function(){return _},set:function(e){void 0!==(e=I(e))&&(_=e)}},{key:"complete",get:function(){return T},set:function(e){void 0!==(e=j(e))&&(T=e)}},{key:"delay",get:function(){return Q},set:function(e){void 0!==(e=C(e))&&(Q=e)}},{key:"duration",get:function(){return D},set:function(e){void 0!==(e=te(e))&&(D=e)}},{key:"easing",get:function(){return U},set:function(e){void 0!==(e=ne(e,D))&&(U=e)}},{key:"fpsLimit",get:function(){return Z},set:function(e){void 0!==(e=E(e))&&(oe=980/(Z=e))}},{key:"loop",get:function(){return re},set:function(e){void 0!==(e=F(e))&&(re=e)}},{key:"mobileHA",get:function(){return ie},set:function(e){M(e)&&(ie=e)}},{key:"minFrameTime",get:function(){return oe}},{key:"promise",get:function(){return ae},set:function(e){void 0!==(e=function(e){if(M(e))return e;null!=e&&console.warn("VelocityJS: Trying to set 'promise' to an invalid value:",e)}(e))&&(ae=e)}},{key:"promiseRejectEmpty",get:function(){return le},set:function(e){void 0!==(e=function(e){if(M(e))return e;null!=e&&console.warn("VelocityJS: Trying to set 'promiseRejectEmpty' to an invalid value:",e)}(e))&&(le=e)}},{key:"queue",get:function(){return se},set:function(e){void 0!==(e=H(e))&&(se=e)}},{key:"repeat",get:function(){return ue},set:function(e){void 0!==(e=R(e))&&(ue=e)}},{key:"repeatAgain",get:function(){return ue}},{key:"speed",get:function(){return ce},set:function(e){void 0!==(e=B(e))&&(ce=e)}},{key:"sync",get:function(){return fe},set:function(e){void 0!==(e=G(e))&&(fe=e)}}]),ve);function ve(){e(this,ve)}Object.freeze(de),de.reset();var pe=[],ye={},ge=new Set,he=[],me=new Map,we="velocityData";function be(e){var t=e[we];if(t)return t;for(var n=e.ownerDocument.defaultView,r=0,i=0;i<he.length;i++){var o=he[i];K(o)?e instanceof n[o]&&(r|=1<<i):e instanceof o&&(r|=1<<i)}t={types:r,count:0,computedStyle:null,cache:{},queueList:{},lastAnimationList:{},lastFinishList:{},window:n};return Object.defineProperty(e,we,{value:t}),t}var v=window&&window===window.window,t=v&&void 0!==window.pageYOffset,Se={isClient:v,isMobile:v&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isGingerbread:v&&/Android 2\.3\.[3-7]/i.test(navigator.userAgent),prefixElement:v&&document.createElement("div"),windowScrollAnchor:t,scrollAnchor:t?window:!v||document.documentElement||document.body.parentNode||document.body,scrollPropertyLeft:t?"pageXOffset":"scrollLeft",scrollPropertyTop:t?"pageYOffset":"scrollTop",className:"velocity-animating",isTicking:!1,first:void 0,last:void 0,firstNew:void 0};function xe(e){var t=Se.last;e._prev=t,e._next=void 0,t?t._next=e:Se.first=e,Se.last=e,Se.firstNew||(Se.firstNew=e);t=e.element;be(t).count++||(e=t,t=Se.className,e instanceof Element&&(e.classList?e.classList.add(t):(u(e,t),e.className+=(e.className.length?" ":"")+t)))}function ke(e){var t=e._next,n=e._prev,r=(null==e.queue?e.options:e).queue;Se.firstNew===e&&(Se.firstNew=t),Se.first===e?Se.first=t:n&&(n._next=t),Se.last===e?Se.last=n:t&&(t._prev=n),r&&be(e.element)&&(e._next=e._prev=void 0)}var _e={};function Oe(e){var t,n,r,i=e.options,o=L(e.queue,i.queue),a=L(e.loop,i.loop,de.loop),l=L(e.repeat,i.repeat,de.repeat),s=8&e._flags;s||!a&&!l?(--(n=be(t=e.element)).count||s||u(t,Se.className),i&&++i._completed===i._total&&(!s&&i.complete&&(function(e){var t=e.complete||e.options.complete;if(t)try{var n=e.elements;t.call(n,n,e)}catch(e){setTimeout(function(){throw e},1)}}(e),i.complete=null),(r=i._resolver)&&(r(e.elements),delete i._resolver)),!1!==o&&(s||(n.lastFinishList[o]=e.timeStart+L(e.duration,i.duration,de.duration)),function(e,t,n){if(!1!==t){K(t)||(t="");var r=be(e),e=r.queueList[t];e?(r.queueList[t]=e._next||null,n||xe(e)):null===e&&delete r.queueList[t]}}(t,o)),ke(e)):(l&&!0!==l?e.repeat=l-1:a&&!0!==a&&(e.loop=a-1,e.repeat=L(e.repeatAgain,i.repeatAgain,de.repeatAgain)),a&&(e._flags^=64),!1!==o&&(be(e.element).lastFinishList[o]=e.timeStart+L(e.duration,i.duration,de.duration)),e.timeStart=e.ellapsedTime=e.percentComplete=0,e._flags&=-5)}function Ee(e){var t=e[0],n=e[1],r=e[2];if((!K(t)||window[t]instanceof Object)&&(K(t)||t instanceof Object))if(K(n))if(V(r)){var i,o=he.indexOf(t),a=3;if(o<0&&!K(t))if(me.has(t))o=he.indexOf(me.get(t));else for(var l in window)if(window[l]===t){(o=he.indexOf(l))<0&&(o=he.push(l)-1,pe[o]={},me.set(t,l));break}o<0&&(o=he.push(t)-1,pe[o]={}),pe[o][n]=r,K(e[a])&&(i=e[a++],(ye[i]||(ye[i]=[])).push(r)),!1===e[a]&&ge.add(n)}else console.warn("VelocityJS: Trying to set 'registerNormalization' callback to an invalid value:",n,r);else console.warn("VelocityJS: Trying to set 'registerNormalization' name to an invalid value:",n);else console.warn("VelocityJS: Trying to set 'registerNormalization' constructor to an invalid value:",t)}function Te(e){var t=e[0],e=e[1],n=he.indexOf(t);if(n<0&&!K(t))if(me.has(t))n=he.indexOf(me.get(t));else for(var r in window)if(window[r]===t){n=he.indexOf(r);break}return 0<=n&&pe[n].hasOwnProperty(e)}function Me(e,t){for(var e=be(e),n=void 0,r=he.length-1,i=e.types;!n&&0<=r;r--)i&1<<r&&(n=pe[r][t]);return n}function Ve(e,t,n,r){var i=ge.has(t),o=!i&&be(e);(i||o&&o.cache[t]!==n)&&(i||(o.cache[t]=n||void 0),(r=r||Me(e,t))&&r(e,n),2<=Dt.debug&&console.info('Set "'+t+'": "'+n+'"',e))}i(["registerNormalization",Ee]),i(["hasNormalization",Te]);var qe={};function Ne(e){var t=qe[e];return t||(qe[e]=e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}))}var Ae=/#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})/gi,Le=/#([a-f\d])([a-f\d])([a-f\d])/gi,Je=/(rgba?\(\s*)?(\b[a-z]+\b)/g,Ie=/rgb(a?)\(([^\)]+)\)/gi,je=/\s+/g,Ce={};function Pe(e,t,n,r){return"rgba("+parseInt(t,16)+","+parseInt(n,16)+","+parseInt(r,16)+",1)"}function ze(e){return e.replace(Ae,Pe).replace(Le,function(e,t,n,r){return Pe(0,t+t,n+n,r+r)}).replace(Je,function(e,t,n){return Ce[n]?(t||"rgba(")+Ce[n]+(t?"":",1)"):e}).replace(Ie,function(e,t,n){return"rgba("+n.replace(je,"")+(t?"":",1")+")"})}function Fe(e,t,n){if("border-box"===Be(e,"boxSizing").toString().toLowerCase()!==n)return 0;var t="width"===t?["Left","Right"]:["Top","Bottom"],r=["padding"+t[0],"padding"+t[1],"border"+t[0]+"Width","border"+t[1]+"Width"],i=0,o=!0,a=!1,l=void 0;try{for(var s=r[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var u=u.value,u=parseFloat(Be(e,u));isNaN(u)||(i+=u)}}catch(e){a=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(a)throw l}}return n?-i:i}function He(e,t){return e.getBoundingClientRect()[t]+Fe(e,t,!0)+"px"}function Re(e,t){var n=be(e),r=n.computedStyle||n.window.getComputedStyle(e,null),i=0;if(n.computedStyle||(n.computedStyle=r),"none"===r.display)switch(t){case"width":case"height":return Ve(e,"display","auto"),i=He(e,t),Ve(e,"display","none"),String(i)}if("auto"===(i=(i=r[t])||e.style[t]))switch(t){case"width":case"height":i=He(e,t);break;case"top":case"left":case"right":case"bottom":var o=Be(e,"position");if("fixed"===o||"absolute"===o){i=e.getBoundingClientRect[t]+"px";break}default:i="0px"}return i?String(i):""}function Be(e,t,n,r){var i=be(e),o=void 0;return ge.has(t)&&(r=!0),!r&&i&&null!=i.cache[t]?o=i.cache[t]:(n=n||Me(e,t))&&(o=n(e),i&&(i.cache[t]=o)),2<=Dt.debug&&console.info('Get "'+t+'": "'+o+'"',e),o}var We=/^#([A-f\d]{3}){1,2}$/i,$e={function:function(e,t,n,r,i,o){return e.call(t,r,n.length,i)},number:function(e,t,n,r,i,o){return String(e)+function(e){for(var t in ye)if(ye[t].includes(e))return t;return""}(o.fn)},string:ze,undefined:function(e,t,n,r,i,o){return ze(Be(t,i,o.fn)||"")}};function Ge(e,t){var n,r,i,o,a,l,s,u,c=e.tweens=Object.create(null),f=e.elements,d=e.element,v=f.indexOf(d),p=be(d),y=L(e.queue,e.options.queue),g=L(e.options.duration,de.duration);for(n in t)t.hasOwnProperty(n)&&(l=Me(d,r=Ne(n)),i=t[n],l||"tween"===r?null!=i?(u=s=void 0,(o=c[r]={}).fn=l,V(i)&&(i=i.call(d,v,f.length,f)),Array.isArray(i)?(a=i[1],l=i[2],s=i[0],u=K(a)&&(/^[\d-]/.test(a)||We.test(a))||V(a)||Y(a)?a:K(a)&&h[a]||Array.isArray(a)?(o.easing=ne(a,g),l):a||l):s=i,o.end=$e[void 0===s?"undefined":W(s)](s,d,f,v,r,o),null==u&&!1!==y&&void 0!==p.queueList[y]||(o.start=$e[void 0===u?"undefined":W(u)](u,d,f,v,r,o),Ze(r,o))):Dt.debug&&console.log('Skipping "'+n+'" due to no value supplied.'):Dt.debug&&console.log('Skipping "'+n+'" due to a lack of browser support.'))}var Qe=/((?:[+\-*/]=)?(?:[+-]?\d*\.\d+|[+-]?\d+)[a-z%]*|(?:.(?!$|[+-]?\d|[+\-*/]=[+-]?\d))+.|.)/g,De=/^([+\-*/]=)?([+-]?\d*\.\d+|[+-]?\d+)(.*)$/;function Ue(i,o){for(var a=i.length,e=[],t=[],l=void 0,n=0;n<a;n++){if(!K(i[n]))return;""===i[n]?e[n]=[""]:e[n]=P(i[n].match(Qe)),t[n]=0,l=l||1<e[n].length}for(var s=[],u=s.pattern=[],r=function(e){if(K(u[u.length-1]))u[u.length-1]+=e;else if(e){u.push(e);for(var t=0;t<a;t++)s[t].push(null)}},c=function(){if(!(l||1<u.length)){for(var e="display"===o,t="visibility"===o,n=0;n<a;n++){var r=i[n];s[n][0]=r,s[n].easing=ne(e&&"none"===r||t&&"hidden"===r||!e&&!t?"at-end":"at-start",400)}return u[0]=!1,s}},f=!0,d=0;d<a;d++)s[d]=[];for(;f;){for(var v=[],p=[],y=void 0,g=!1,h=!1,m=0;m<a;m++){var w=t[m]++,b=e[m][w];if(!b){if(m)return;for(;m<a;m++){var S=t[m]++;if(e[m][S])return c()}f=!1;break}var x=b.match(De);if(x){if(y)return c();var k=parseFloat(x[2]),_=x[3],w=x[1]?x[1][0]+_:void 0,x=w||_;k&&!p.includes(x)&&p.push(x),_||(k?h=!0:g=!0),v[m]=w?[k,x,!0]:[k,x]}else{if(v.length)return c();if(y){if(y!==b)return c()}else y=b}}if(y)r(y);else if(p.length)if(2===p.length&&g&&!h&&p.splice(p[0]?1:0,1),1===p.length){var O=p[0];switch(O[0]){case"+":case"-":case"*":case"/":return void(o&&console.error('Velocity: The first property must not contain a relative function "'+o+'":',i))}u.push(!1);for(var E=0;E<a;E++)s[E].push(v[E][0]);r(O)}else{r("calc(");for(var T=u.length-1,M=0;M<p.length;M++){var V=p[M],q=V[0],N="*"===q||"/"===q,A=N||"+"===q||"-"===q;N&&(u[T]+="(",r(")")),M&&r(" "+(A?q:"+")+" "),u.push(!1);for(var L=0;L<a;L++){var J=v[L],J=J[1]===V?J[0]:3===J.length?s[L-1][s[L-1].length-1]:N?1:0;s[L].push(J)}r(A?V.substring(1):V)}r(")")}}for(var I=0,j=0;I<u.length;I++){var C=u[I];K(C)?j&&0<=C.indexOf(",")?j++:0<=C.indexOf("rgb")&&(j=1):j&&(j<4?u[I]=!0:j=0)}return s}function Ze(e,t,n,r){var i=t.start,o=t.end;if(K(o)&&K(i)){var a,l,s,u=Ue([i,o],e);if(!u&&r&&(a=i.match(/\d\.?\d*/g)||["0"],l=a.length,s=0,u=Ue([o.replace(/\d+\.?\d*/g,function(){return a[s++%l]}),o],e)),u)switch(Dt.debug&&console.log("Velocity: Sequence found:",u),u[0].percent=0,u[1].percent=1,t.sequence=u,t.easing){case h["at-start"]:case h.during:case h["at-end"]:u[0].easing=u[1].easing=t.easing}}}function Ye(e){if(Se.firstNew===e&&(Se.firstNew=e._next),!(1&e._flags)){var t,n=e.element,r=e.tweens;L(e.options.duration,de.duration);for(t in r){var i,o=r[t];null==o.start&&(K(i=Be(e.element,t))?(o.start=ze(i),Ze(t,o,0,!0)):Array.isArray(i)||console.warn("bad type",o,t,i)),Dt.debug&&console.log('tweensContainer "'+t+'": '+JSON.stringify(o),n)}e._flags|=1}}function Xe(e){var t=e.begin||e.options.begin;if(t)try{var n=e.elements;t.call(n,n,e)}catch(e){setTimeout(function(){throw e},1)}}function Ke(){var e=!0,t=!1,n=void 0;try{for(var r,i=rt[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)!function(e){var t=e.progress||e.options.progress;if(t)try{var n=e.elements,r=e.percentComplete,i=e.options,o=e.tween;t.call(n,n,r,Math.max(0,e.timeStart+(null!=e.duration?e:null!=i.duration?i:de).duration-ut),void 0!==o?o:String(100*r),e)}catch(e){setTimeout(function(){throw e},1)}}(r.value)}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}rt.clear();var o=!0,a=!1,l=void 0;try{for(var s,u=nt[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)Oe(s.value)}catch(e){a=!0,l=e}finally{try{!o&&u.return&&u.return()}finally{if(a)throw l}}nt.clear()}var et,tt=1e3/60,nt=new Set,rt=new Set,it=("function"!=typeof(t=window.performance||{}).now&&(et=t.timing&&t.timing.navigationStart?t.timing.navigationStart:n(),t.now=function(){return n()-et}),t),ot=function(e){return setTimeout(e,Math.max(0,tt-(it.now()-ut)))},at=window.requestAnimationFrame||ot,lt=void 0,st=void 0,ut=0;try{(st=new Worker(URL.createObjectURL(new Blob(["("+function(){var t=this,n=void 0;this.onmessage=function(e){switch(e.data){case!0:n=n||setInterval(function(){t.postMessage(!0)},1e3/30);break;case!1:n&&(clearInterval(n),n=0);break;default:t.postMessage(e.data)}}}+")()"])))).onmessage=function(e){(!0===e.data?ct:Ke)()},Se.isMobile||void 0===document.hidden||document.addEventListener("visibilitychange",function(){st.postMessage(Se.isTicking&&document.hidden)})}catch(e){}function ct(e){if(!lt){if(!(lt=!0)!==e){var t=it.now(),n=ut?t-ut:tt,r=de.speed,i=de.easing,o=de.duration,a=void 0,l=void 0;if(n>=de.minFrameTime||!ut){for(ut=t;Se.firstNew;)Ye(Se.firstNew);for(a=Se.first;a&&a!==Se.firstNew;a=a._next){var s,u,c,f=a.element,d=be(f);f.parentNode&&d?(s=a.options,u=a._flags,(c=a.timeStart)||(c=t-n,!1!==(f=(null!=a.queue?a:s).queue)&&(c=Math.max(c,d.lastFinishList[f]||0)),a.timeStart=c),16&u?a.timeStart+=n:2&u||(a._flags|=2,s._ready++)):ke(a)}for(a=Se.first;a&&a!==Se.firstNew;a=l){var v=a._flags,l=a._next;if(2&v&&!(16&v)){var p=a.options;if(32&v&&p._ready<p._total)a.timeStart+=n;else{var y=null!=a.speed?a.speed:null!=p.speed?p.speed:r,g=a.timeStart;if(!(4&v)){var h=(null!=a.delay?a:p).delay;if(h){if(t<g+h/y)continue;a.timeStart=g+=h/(0<h?y:1)}a._flags|=4,0==p._started++&&(p._first=a,p.begin&&(Xe(a),p.begin=void 0))}1!==y&&(a.timeStart=g+=Math.min(n,t-g)*(1-y));var m,w=null!=a.easing?a.easing:null!=p.easing?p.easing:i,y=a.ellapsedTime=t-g,g=null!=a.duration?a.duration:null!=p.duration?p.duration:o,b=a.percentComplete=Dt.mock?1:Math.min(y/g,1),S=a.tweens,x=64&v;for(m in(a.progress||p._first===a&&p.progress)&&rt.add(a),1===b&&nt.add(a),S){var k=S[m],_=k.sequence,O=_.pattern,E="",T=0;if(O){for(var M=(k.easing||w)(b,0,1,m),V=0,q=0;q<_.length-1;q++)_[q].percent<M&&(V=q);for(var N=_[V],A=_[V+1]||N,L=(b-N.percent)/(A.percent-N.percent),J=x?1-L:L,I=A.easing||w||z;T<O.length;T++){var j,C=N[T];null==C?E+=O[T]:C===(j=A[T])?E+=C:(j=I(J,C,j,m),E+=!0!==O[T]?j:Math.round(j))}"tween"!==m?(1===b&&(E=function(e){if(0<=e.indexOf("calc(")){for(var t=e.split(/([\(\)])/),n=0,r=0;r<t.length;r++){var i=t[r];switch(i){case"(":n++;break;case")":n--;break;default:n&&"0"===i[0]&&(t[r]=i.replace(/^0[a-z%]+ \+ /,""))}}return t.join("").replace(/(?:calc)?\(([0-9\.]+[a-z%]+)\)/g,"$1")}return e}(E)),Ve(a.element,m,E,k.fn)):a.tween=E}else console.warn("VelocityJS: Missing pattern:",m,JSON.stringify(k[m])),delete S[m]}}}}(rt.size||nt.size)&&(document.hidden?st?st.postMessage(""):setTimeout(Ke,1):Ke())}}Se.first?(Se.isTicking=!0,document.hidden?st?!1===e&&st.postMessage(!0):ot(ct):at(ct)):(Se.isTicking=!1,ut=0,document.hidden&&st&&st.postMessage(!1)),lt=!1}}function ft(e,t,n){if(Ye(e),void 0===t||t===L(e.queue,e.options.queue,n)){for(var r in 4&e._flags||(0==(n=e.options)._started++&&(n._first=e,n.begin&&(Xe(e),n.begin=void 0)),e._flags|=4),e.tweens){var i=e.tweens[r],o=i.sequence,a=o.pattern,l="",s=0;if(a)for(var u=o[o.length-1];s<a.length;s++){var c=u[s];l+=null==c?a[s]:c}Ve(e.element,r,l,i.fn)}Oe(e)}}i(["finish",function(e,t,n){var r=H(e[0],!0),i=de.queue,o=!0===e[void 0===r?0:1];if($(t)&&t.velocity.animations){var a=!0,l=!1,s=void 0;try{for(var u,c=t.velocity.animations[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)ft(u.value,r,i)}catch(e){l=!0,s=e}finally{try{!a&&c.return&&c.return()}finally{if(l)throw s}}}else{for(;Se.firstNew;)Ye(Se.firstNew);for(var f,d=Se.first;d&&(o||d!==Se.firstNew);d=f||Se.firstNew)f=d._next,t&&!t.includes(d.element)||ft(d,r,i)}n&&($(t)&&t.velocity.animations&&t.then?t.then(n._resolver):n._resolver(t))}],!0);var dt={isExpanded:1,isReady:2,isStarted:4,isStopped:8,isPaused:16,isSync:32,isReverse:64};function vt(e,t,n,r){void 0!==t&&t!==L(e.queue,e.options.queue,n)||(r?e._flags|=16:e._flags&=-17)}function pt(e,t,n,r){var i=0===r.indexOf("pause"),o="false"!==(0<=r.indexOf(".")?r.replace(/^.*\./,""):void 0)&&H(e[0]),a=de.queue;if($(t)&&t.velocity.animations){var l=!0,s=!1,u=void 0;try{for(var c,f=t.velocity.animations[Symbol.iterator]();!(l=(c=f.next()).done);l=!0)vt(c.value,o,a,i)}catch(e){s=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(s)throw u}}}else for(var d=Se.first;d;)t&&!t.includes(d.element)||vt(d,o,a,i),d=d._next;n&&($(t)&&t.velocity.animations&&t.then?t.then(n._resolver):n._resolver(t))}function yt(e,t,n,r){var i=e[0],o=e[1];if(!i)return console.warn("VelocityJS: Cannot access a non-existant property!"),null;if(void 0===o&&!X(i)){if(Array.isArray(i)){if(1===t.length){var a={},l=!0,s=!1,u=void 0;try{for(var c=i[Symbol.iterator]();!(l=(f=c.next()).done);l=!0){var f=f.value;a[f]=ze(Be(t[0],f))}}catch(e){s=!0,u=e}finally{try{!l&&c.return&&c.return()}finally{if(s)throw u}}return a}var d=[],v=!0,p=!1,y=void 0;try{for(var g,h=t[Symbol.iterator]();!(v=(g=h.next()).done);v=!0){var m=g.value,w={},b=!0,S=!1,x=void 0;try{for(var k=i[Symbol.iterator]();!(b=(_=k.next()).done);b=!0){var _=_.value;w[_]=ze(Be(m,_))}}catch(e){S=!0,x=e}finally{try{!b&&k.return&&k.return()}finally{if(S)throw x}}d.push(w)}}catch(e){p=!0,y=e}finally{try{!v&&h.return&&h.return()}finally{if(p)throw y}}return d}if(1===t.length)return ze(Be(t[0],i));var O=[],E=!0,T=!1,M=void 0;try{for(var V=t[Symbol.iterator]();!(E=(q=V.next()).done);E=!0){var q=q.value;O.push(ze(Be(q,i)))}}catch(e){T=!0,M=e}finally{try{!E&&V.return&&V.return()}finally{if(T)throw M}}return O}var N=[];if(X(i)){for(var A in i)if(i.hasOwnProperty(A)){var L=!0,J=!1,I=void 0;try{for(var j=t[Symbol.iterator]();!(L=(P=j.next()).done);L=!0){var C=P.value,P=i[A];K(P)||Y(P)?Ve(C,A,i[A]):(N.push('Cannot set a property "'+A+'" to an unknown type: '+(void 0===P?"undefined":W(P))),console.warn('VelocityJS: Cannot set a property "'+A+'" to an unknown type:',P))}}catch(e){J=!0,I=e}finally{try{!L&&j.return&&j.return()}finally{if(J)throw I}}}}else if(K(o)||Y(o)){var z=!0,F=!1,H=void 0;try{for(var R,B=t[Symbol.iterator]();!(z=(R=B.next()).done);z=!0)Ve(R.value,i,String(o))}catch(e){F=!0,H=e}finally{try{!z&&B.return&&B.return()}finally{if(F)throw H}}}else N.push('Cannot set a property "'+i+'" to an unknown type: '+(void 0===o?"undefined":W(o))),console.warn('VelocityJS: Cannot set a property "'+i+'" to an unknown type:',o);n&&(N.length?n._rejecter(N.join(", ")):$(t)&&t.velocity.animations&&t.then?t.then(n._resolver):n._resolver(t))}function gt(e,t,n){Ye(e),void 0!==t&&t!==L(e.queue,e.options.queue,n)||(e._flags|=8,Oe(e))}i(["option",function(e,t,n,r){var i=e[0],o="false"!==(r=0<=r.indexOf(".")?r.replace(/^.*\./,""):void 0)&&H(r,!0),a=void 0,l=e[1];if(!i)return console.warn("VelocityJS: Cannot access a non-existant key!"),null;if($(t)&&t.velocity.animations)a=t.velocity.animations;else{a=[];for(var s=Se.first;s;s=s._next)0<=t.indexOf(s.element)&&L(s.queue,s.options.queue)===o&&a.push(s);if(1<t.length&&1<a.length){for(var u=1,c=a[0].options;u<a.length;)if(a[u++].options!==c){c=null;break}c&&(a=[a[0]])}}if(void 0===l){var f=[],d=dt[i],v=!0,p=!1,y=void 0;try{for(var g=a[Symbol.iterator]();!(v=(h=g.next()).done);v=!0){var h=h.value;void 0===d?f.push(L(h[i],h.options[i])):f.push(0==(h._flags&d))}}catch(e){p=!0,y=e}finally{try{!v&&g.return&&g.return()}finally{if(p)throw y}}return 1===t.length&&1===a.length?f[0]:f}var m=void 0;switch(i){case"cache":l=O(l);break;case"begin":l=I(l);break;case"complete":l=j(l);break;case"delay":l=C(l);break;case"duration":l=te(l);break;case"fpsLimit":l=E(l);break;case"loop":l=F(l);break;case"percentComplete":m=!0,l=parseFloat(l);break;case"repeat":case"repeatAgain":l=R(l);break;default:if("_"!==i[0]){var w=parseFloat(l);l===String(w)&&(l=w);break}case"queue":case"promise":case"promiseRejectEmpty":case"easing":case"started":return void console.warn("VelocityJS: Trying to set a read-only key:",i)}if(void 0===l||l!=l)return console.warn("VelocityJS: Trying to set an invalid value:"+i+"="+l+" ("+e[1]+")"),null;var b=!0,S=!1,x=void 0;try{for(var k=a[Symbol.iterator]();!(b=(_=k.next()).done);b=!0){var _=_.value;m?_.timeStart=ut-L(_.duration,_.options.duration,de.duration)*l:_[i]=l}}catch(e){S=!0,x=e}finally{try{!b&&k.return&&k.return()}finally{if(S)throw x}}n&&($(t)&&t.velocity.animations&&t.then?t.then(n._resolver):n._resolver(t))}],!0),i(["pause",pt],!0),i(["resume",pt],!0),i(["property",yt],!0),i(["reverse",function(e,t,n,r){throw new SyntaxError("VelocityJS: The 'reverse' action is built in and private.")}],!0),i(["stop",function(e,t,n,r){var i=H(e[0],!0),o=de.queue,a=!0===e[void 0===i?0:1];if($(t)&&t.velocity.animations){var l=!0,s=!1,u=void 0;try{for(var c,f=t.velocity.animations[Symbol.iterator]();!(l=(c=f.next()).done);l=!0)gt(c.value,i,o)}catch(e){s=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(s)throw u}}}else{for(;Se.firstNew;)Ye(Se.firstNew);for(var d,v=Se.first;v&&(a||v!==Se.firstNew);v=d||Se.firstNew)d=v._next,t&&!t.includes(v.element)||gt(v,i,o)}n&&($(t)&&t.velocity.animations&&t.then?t.then(n._resolver):n._resolver(t))}],!0),i(["style",yt],!0),i(["tween",function(e,t,n,r){var i=void 0;if(t){if(1!==t.length)throw new Error("VelocityJS: Cannot tween more than one element!")}else{if(!e.length)return console.info('Velocity(<element>, "tween", percentComplete, property, end | [end, <easing>, <start>], <easing>) => value\nVelocity(<element>, "tween", percentComplete, {property: end | [end, <easing>, <start>], ...}, <easing>) => {property: value, ...}'),null;t=[document.body],i=!0}var o,a,l=e[0],s={elements:t,element:t[0],queue:!1,options:{duration:1e3},tweens:null},u={},c=e[1],f=void 0,d=void 0,v=e[2],p=0;if(K(e[1])?v=_e&&_e[e[1]]?(d=_e[e[1]],c={},e[2]):(f=!0,o={},a=e[1],t=e[2],a in o?Object.defineProperty(o,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[a]=t,c=o,e[3]):Array.isArray(e[1])&&(f=!0,c={tween:e[1]},v=e[2]),!Y(l)||l<0||1<l)throw new Error("VelocityJS: Must tween a percentage from 0 to 1!");if(!X(c))throw new Error("VelocityJS: Cannot tween an invalid property!");if(i)for(var y in c)if(c.hasOwnProperty(y)&&(!Array.isArray(c[y])||c[y].length<2))throw new Error("VelocityJS: When not supplying an element you must force-feed values: "+y);var g,h=ne(L(v,de.easing),ee);for(g in d?Yt(s,d):Ge(s,c),s.tweens){var m=s.tweens[g],w=m.sequence,b=w.pattern,S="",x=0;if(p++,b){for(var k=(m.easing||h)(l,0,1,g),_=0,O=0;O<w.length-1;O++)w[O].percent<k&&(_=O);for(var E=w[_],T=w[_+1]||E,M=(l-E.percent)/(T.percent-E.percent),V=T.easing||z;x<b.length;x++){var q,N=E[x];null==N?S+=b[x]:N===(q=T[x])?S+=N:(q=V(M,N,q,g),S+=!0===b[x]?Math.round(q):q)}u[g]=S}}if(f&&1===p)for(var A in u)if(u.hasOwnProperty(A))return u[A];return u}],!0);var ht,mt,wt,bt,St,xt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};for(ht in xt)xt.hasOwnProperty(ht)&&(mt=xt[ht],Ce[ht]=Math.floor(mt/65536)+","+Math.floor(mt/256%256)+","+mt%256);function kt(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function _t(e){return 1-kt(1-e)}wt=1.7,a(["easeInBack",function(e,t,n){return 0===e?t:1===e?n:Math.pow(e,2)*((wt+1)*e-wt)*(n-t)}]),bt=1.7,a(["easeOutBack",function(e,t,n){return 0===e?t:1===e?n:(Math.pow(--e,2)*((bt+1)*e+bt)+1)*(n-t)}]),St=1.7,St*=1.525,a(["easeInOutBack",function(e,t,n){return 0===e?t:1===e?n:.5*((e*=2)<1?Math.pow(e,2)*((St+1)*e-St):Math.pow(e-2,2)*((St+1)*(e-2)+St)+2)*(n-t)}]),a(["easeInBounce",function(e,t,n){return 0===e?t:1===e?n:_t(e)*(n-t)}]),a(["easeOutBounce",function(e,t,n){return 0===e?t:1===e?n:kt(e)*(n-t)}]),a(["easeInOutBounce",function(e,t,n){return 0===e?t:1===e?n:(e<.5?.5*_t(2*e):.5*kt(2*e-1)+.5)*(n-t)}]);var Ot,Et,Tt,Mt,Vt,qt,Nt=2*Math.PI;function At(n,r){return function(e,t){if(void 0===t)return Fe(e,n,r)+"px";Ve(e,n,parseFloat(t)-Fe(e,n,r)+"px")}}Ot=1,Et=.3,a(["easeInElastic",function(e,t,n){return 0===e?t:1===e?n:-(Ot*Math.pow(2,10*--e)*Math.sin((e-Et/Nt*Math.asin(1/Ot))*Nt/Et))*(n-t)}]),Tt=1,Mt=.3,a(["easeOutElastic",function(e,t,n){return 0===e?t:1===e?n:(Tt*Math.pow(2,-10*e)*Math.sin((e-Mt/Nt*Math.asin(1/Tt))*Nt/Mt)+1)*(n-t)}]),Vt=1,qt=.3*1.5,a(["easeInOutElastic",function(e,t,n){if(0===e)return t;if(1===e)return n;var r=qt/Nt*Math.asin(1/Vt);return((e=2*e-1)<0?Vt*Math.pow(2,10*e)*Math.sin((e-r)*Nt/qt)*-.5:Vt*Math.pow(2,-10*e)*Math.sin((e-r)*Nt/qt)*.5+1)*(n-t)}]),a(["at-start",function(e,t,n){return 0===e?t:n}]),a(["during",function(e,t,n){return 0===e||1===e?t:n}]),a(["at-end",function(e,t,n){return 1===e?n:t}]),Ee(["Element","innerWidth",At("width",!0)]),Ee(["Element","innerHeight",At("height",!0)]),Ee(["Element","outerWidth",At("width",!1)]),Ee(["Element","outerHeight",At("height",!1)]);var Lt=/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|let|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i,Jt=/^(li)$/i,It=/^(tr)$/i,jt=/^(table)$/i,Ct=/^(tbody)$/i;function Pt(o,a){return function(e,t){if(null==t)return Be(e,"client"+o,null,!0),Be(e,"scroll"+o,null,!0),e["scroll"+a]+"px";var n=parseFloat(t);switch(t.replace(String(n),"")){case"":case"px":e["scroll"+a]=n;break;case"%":var r=parseFloat(Be(e,"client"+o)),i=parseFloat(Be(e,"scroll"+o));e["scroll"+a]=Math.max(0,i-r)*n/100}}}Ee(["Element","display",function(e,t){var n,r=e.style;if(void 0===t)return Re(e,"display");"auto"===t&&(n=e&&e.nodeName,e=be(e),t=Lt.test(n)?"inline":Jt.test(n)?"list-item":It.test(n)?"table-row":jt.test(n)?"table":Ct.test(n)?"table-row-group":"block",e.cache.display=t),r.display=t}]),Ee(["HTMLElement","scroll",Pt("Height","Top"),!1]),Ee(["HTMLElement","scrollTop",Pt("Height","Top"),!1]),Ee(["HTMLElement","scrollLeft",Pt("Width","Left"),!1]),Ee(["HTMLElement","scrollWidth",function(e,t){if(null==t)return e.scrollWidth+"px"}]),Ee(["HTMLElement","clientWidth",function(e,t){if(null==t)return e.clientWidth+"px"}]),Ee(["HTMLElement","scrollHeight",function(e,t){if(null==t)return e.scrollHeight+"px"}]),Ee(["HTMLElement","clientHeight",function(e,t){if(null==t)return e.clientHeight+"px"}]);var zt=/^(b(lockSize|o(rder(Bottom(LeftRadius|RightRadius|Width)|Image(Outset|Width)|LeftWidth|R(adius|ightWidth)|Spacing|Top(LeftRadius|RightRadius|Width)|Width)|ttom))|column(Gap|RuleWidth|Width)|f(lexBasis|ontSize)|grid(ColumnGap|Gap|RowGap)|height|inlineSize|le(ft|tterSpacing)|m(a(rgin(Bottom|Left|Right|Top)|x(BlockSize|Height|InlineSize|Width))|in(BlockSize|Height|InlineSize|Width))|o(bjectPosition|utline(Offset|Width))|p(adding(Bottom|Left|Right|Top)|erspective)|right|s(hapeMargin|troke(Dashoffset|Width))|t(extIndent|op|ransformOrigin)|w(idth|ordSpacing))$/;var Ft,Ht=/^(webkit|moz|ms|o)[A-Z]/,t=Se.prefixElement;if(t)for(var Rt in t.style)Ht.test(Rt)?Ee(["Element",Ft=Rt.replace(/^[a-z]+([A-Z])/,function(e,t){return t.toLowerCase()}),function(n,r){return function(e,t){if(void 0===t)return Re(e,n)||Re(e,r);e.style[n]=e.style[r]=t}}(Rt,Ft),zt.test(Ft)?"px":void 0]):Te(["Element",Rt])||Ee(["Element",Rt,function(n){return function(e,t){if(void 0===t)return Re(e,n);e.style[n]=t}}(Rt),zt.test(Rt)?"px":void 0]);var Bt=document.createElement("div"),Wt=/^SVG(.*)Element$/,$t=/Element$/;function Gt(n){return function(e,t){if(void 0===t)try{return e.getBBox()[n]+"px"}catch(e){return"0px"}e.setAttribute(n,t)}}Object.getOwnPropertyNames(window).forEach(function(t){var e=Wt.exec(t);if(e&&"SVG"!==e[1])try{var n,r=e[1]?document.createElementNS("http://www.w3.org/2000/svg",(e[1]||"svg").toLowerCase()):document.createElement("svg");for(n in r){var i=r[n];!K(n)||"o"===n[0]&&"n"===n[1]||n===n.toUpperCase()||$t.test(n)||n in Bt||V(i)||Ee([t,n,function(n){return function(e,t){if(void 0===t)return e.getAttribute(n);e.setAttribute(n,t)}}(n)])}}catch(e){console.error("VelocityJS: Error when trying to identify SVG attributes on "+t+".",e)}}),Ee(["SVGElement","width",Gt("width")]),Ee(["SVGElement","height",Gt("height")]),Ee(["Element","tween",function(e,t){if(void 0===t)return""}]);var Qt,Dt=tn;if((t=Qt=Qt||{}).Actions=J,t.Easings=h,t.Sequences=_e,t.State=Se,t.defaults=de,t.patch=nn,t.debug=!1,t.mock=!1,t.version="2.0.6",t.Velocity=tn,function(){if(document.documentMode)return document.documentMode;for(var e=7;4<e;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}}()<=8)throw new Error("VelocityJS cannot run on Internet Explorer 8 or earlier");window&&(an=window.jQuery,on=window.Zepto,nn(window,!0),nn(Element&&Element.prototype),nn(NodeList&&NodeList.prototype),nn(HTMLCollection&&HTMLCollection.prototype),nn(an,!0),nn(an&&an.fn),nn(on,!0),nn(on&&on.fn));for(var Ut in Qt)!function(t){if(Qt.hasOwnProperty(t))switch(void 0===t?"undefined":W(t)){case"number":case"boolean":A(Dt,t,{get:function(){return Qt[t]},set:function(e){Qt[t]=e}},!0);break;default:A(Dt,t,Qt[t],!0)}}(Ut);Object.freeze(Dt);var Zt=/(\d*\.\d+|\d+\.?|from|to)/g;function Yt(e,t){var n,r,i=e.tweens=Object.create(null),o=e.element;for(n in t.tweens)t.tweens.hasOwnProperty(n)&&((r=Me(o,n))||"tween"===n?i[n]={fn:r,sequence:t.tweens[n]}:Dt.debug&&console.log("Skipping ["+n+"] due to a lack of browser support."))}i(["registerSequence",function e(t){if(X(t[0]))for(var n in t[0])t[0].hasOwnProperty(n)&&e([n,t[0][n]]);else if(K(t[0])){var r=t[0],i=t[1];if(K(r))if(X(i)){_e[r]&&console.warn("VelocityJS: Replacing named sequence:",r);var o,a={},l=new Array(100),s=[],u=_e[r]={},c=te(i.duration);for(o in u.tweens={},Y(c)&&(u.duration=c),i)if(i.hasOwnProperty(o)){var f=String(o).match(Zt);if(f){var d=!0,v=!1,p=void 0;try{for(var y=f[Symbol.iterator]();!(d=(h=y.next()).done);d=!0){var g=h.value,h="from"===g?0:"to"===g?100:parseFloat(g);if(h<0||100<h)console.warn("VelocityJS: Trying to use an invalid value as a percentage (0 <= n <= 100):",r,h);else if(isNaN(h))console.warn("VelocityJS: Trying to use an invalid number as a percentage:",r,o,g);else for(var m in a[String(h)]||(a[String(h)]=[]),a[String(h)].push(o),i[o])s.includes(m)||s.push(m)}}catch(e){v=!0,p=e}finally{try{!d&&y.return&&y.return()}finally{if(v)throw p}}}}var w=Object.keys(a).sort(function(e,t){return e=parseFloat(e),(t=parseFloat(t))<e?1:e<t?-1:0});w.forEach(function(e){l.push.apply(a[e])});var b=!0,S=!1,x=void 0;try{for(var k=s[Symbol.iterator]();!(b=(_=k.next()).done);b=!0){var _=_.value,O=[],E=Ne(_),T=!0,M=!1,V=void 0;try{for(var q,N=w[Symbol.iterator]();!(T=(q=N.next()).done);T=!0){var A=q.value,L=!0,J=!1,I=void 0;try{for(var j=a[A][Symbol.iterator]();!(L=(C=j.next()).done);L=!0){var C=i[C.value];C[E]&&O.push(K(C[E])?C[E]:C[E][0])}}catch(e){J=!0,I=e}finally{try{!L&&j.return&&j.return()}finally{if(J)throw I}}}}catch(e){M=!0,V=e}finally{try{!T&&N.return&&N.return()}finally{if(M)throw V}}if(O.length){var P=Ue(O,E),z=0;if(P){var F=!0,H=!1,R=void 0;try{for(var B,W=w[Symbol.iterator]();!(F=(B=W.next()).done);F=!0){var $=B.value,G=!0,Q=!1,D=void 0;try{for(var U=a[$][Symbol.iterator]();!(G=(Z=U.next()).done);G=!0){var Z=i[Z.value][E];Z&&(Array.isArray(Z)&&1<Z.length&&(K(Z[1])||Array.isArray(Z[1]))&&(P[z].easing=ne(Z[1],u.duration||ee)),P[z++].percent=parseFloat($)/100)}}catch(e){Q=!0,D=e}finally{try{!G&&U.return&&U.return()}finally{if(Q)throw D}}}}catch(e){H=!0,R=e}finally{try{!F&&W.return&&W.return()}finally{if(H)throw R}}u.tweens[E]=P}}}}catch(e){S=!0,x=e}finally{try{!b&&k.return&&k.return()}finally{if(S)throw x}}}else console.warn("VelocityJS: Trying to set 'registerSequence' sequence to an invalid value:",r,i);else console.warn("VelocityJS: Trying to set 'registerSequence' name to an invalid value:",r)}}],!0);var Xt=void 0;try{Xt=Promise}catch(e){}var Kt=", if that is deliberate then pass `promiseRejectEmpty:false` as an option";function en(e,t){A(t,"promise",e),A(t,"then",e.then.bind(e)),A(t,"catch",e.catch.bind(e)),e.finally&&A(t,"finally",e.finally.bind(e))}function tn(){var e=de,t=arguments.length<=0?void 0:arguments[0],n=X(t)&&(t.p||X(t.properties)&&!t.properties.names||K(t.properties)),r=0,i=void 0,o=void 0,a=void 0,l=void 0,s=void 0,u=void 0,c=void 0;q(this)?i=[this]:N(this)?(i=P(this),$(this)&&(l=this.velocity.animations)):n?(i=P(t.elements||t.e),r++):q(t)?(i=P([t]),r++):N(t)&&(i=P(t),r++),i&&(A(i,"velocity",tn.bind(i)),l&&A(i.velocity,"animations",l));var f="reverse"===(o=n?L(t.properties,t.p):(p=r++,arguments.length<=p?void 0:arguments[p])),d=!f&&K(o),v=d&&_e[o],p=n?L(t.options,t.o):arguments.length<=r?void 0:arguments[r];if(X(p)&&(a=p),Xt&&L(a&&a.promise,e.promise)&&(s=new Xt(function(t,e){c=e,u=function(e){$(e)&&e.promise?(delete e.then,delete e.catch,delete e.finally,t(e),en(e.promise,e)):t(e)}}),i&&en(s,i)),s&&(p=L(t=a&&a.promiseRejectEmpty,e.promiseRejectEmpty),i||d?o||(p?c("Velocity: No properties supplied"+(M(t)?"":Kt)+". Aborting."):u()):p?c("Velocity: No elements supplied"+(M(t)?"":Kt)+". Aborting."):u()),!i&&!d||!o)return s;if(d){for(var y,g=[],h=s&&{_promise:s,_resolver:u,_rejecter:c};r<arguments.length;)g.push((y=r++,arguments.length<=y?void 0:arguments[y]));var m=o.replace(/\..*$/,""),w=J[m];if(w){var b=w(g,i,h,o);return void 0!==b?b:i||s}if(!v)return void console.error("VelocityJS: First argument ("+o+") was not a property map, a known action, or a registered redirect. Aborting.")}d=void 0;if(X(o)||f||v){var S,x={},m=e.sync;if(s&&(A(x,"_promise",s),A(x,"_rejecter",c),A(x,"_resolver",u)),A(x,"_ready",0),A(x,"_started",0),A(x,"_completed",0),A(x,"_total",0),X(a)?(d=void 0!==(S=te(a.duration)),x.duration=L(S,e.duration),x.delay=L(C(a.delay),e.delay),x.easing=ne(L(a.easing,e.easing),x.duration)||ne(e.easing,x.duration),x.loop=L(F(a.loop),e.loop),x.repeat=x.repeatAgain=L(R(a.repeat),e.repeat),null!=a.speed&&(x.speed=L(B(a.speed),1)),M(a.promise)&&(x.promise=a.promise),x.queue=L(H(a.queue),e.queue),a.mobileHA&&!Se.isGingerbread&&(x.mobileHA=!0),!0===a.drag&&(x.drag=!0),(Y(a.stagger)||V(a.stagger))&&(x.stagger=a.stagger),f||(null!=a.display&&(o.display=a.display,console.error('Deprecated "options.display" used, this is now a property:',a.display)),null!=a.visibility&&(o.visibility=a.visibility,console.error('Deprecated "options.visibility" used, this is now a property:',a.visibility))),w=I(a.begin),h=j(a.complete),b=function(e){if(V(e))return e;null!=e&&console.warn("VelocityJS: Trying to set 'progress' to an invalid value:",e)}(a.progress),S=G(a.sync),null!=w&&(x.begin=w),null!=h&&(x.complete=h),null!=b&&(x.progress=b),null!=S&&(m=S)):n||(S=0,x.duration=te(arguments.length<=r?void 0:arguments[r],!0),void 0===x.duration?x.duration=e.duration:(d=!0,S++),V(arguments.length<=r+S?void 0:arguments[r+S])||void 0!==(n=ne(arguments.length<=r+S?void 0:arguments[r+S],L(x&&te(x.duration),e.duration),!0))&&(S++,x.easing=n),void 0!==(S=j(arguments.length<=r+S?void 0:arguments[r+S],!0))&&(x.complete=S),x.delay=e.delay,x.loop=e.loop,x.repeat=x.repeatAgain=e.repeat),f&&!1===x.queue)throw new Error("VelocityJS: Cannot reverse a queue:false animation.");!d&&v&&v.duration&&(x.duration=v.duration);for(var k={options:x,elements:i,_prev:void 0,_next:void 0,_flags:m?32:0,percentComplete:0,ellapsedTime:0,timeStart:0},l=[],_=0;_<i.length;_++){var O=i[_],E=0;if(q(O)){if(f){var T=be(O).lastAnimationList[x.queue];if(!(o=T&&T.tweens)){console.error("VelocityJS: Attempting to reverse an animation on an element with no previous animation:",O);continue}E|=64&~(64&T._flags)}T=Object.assign({},k,{element:O,_flags:k._flags|E});x._total++,l.push(T),x.stagger&&(V(x.stagger)?Y(E=function(e,t,n,r,i,o){try{return e.call(t,n,r,i,o)}catch(e){console.error("VelocityJS: Exception when calling '"+o+"' callback:",e)}}(x.stagger,O,_,i.length,i,"stagger"))&&(T.delay=x.delay+E):T.delay=x.delay+x.stagger*_),x.drag&&(T.duration=x.duration-x.duration*Math.max(1-(_+1)/i.length,.75)),v?Yt(T,v):f?T.tweens=o:(T.tweens=Object.create(null),Ge(T,o)),function(e,t,n){if(e=be(e),!1!==n&&(e.lastAnimationList[n]=t),!1===n)xe(t);else{K(n)||(n="");var r=e.queueList[n];if(r){for(;r._next;)r=r._next;(r._next=t)._prev=r}else null===r?e.queueList[n]=t:(e.queueList[n]=null,xe(t))}}(O,T,x.queue)}}!1===Se.isTicking&&ct(!1),l&&A(i.velocity,"animations",l)}return i||s}function nn(e,t){try{A(e,(t?"V":"v")+"elocity",tn)}catch(e){console.warn("VelocityJS: Error when trying to add prototype.",e)}}var rn,on,an,ln=tn;if((an=rn=rn||{}).Actions=J,an.Easings=h,an.Sequences=_e,an.State=Se,an.defaults=de,an.patch=nn,an.debug=!1,an.mock=!1,an.version="2.0.6",an.Velocity=tn,function(){if(document.documentMode)return document.documentMode;for(var e=7;4<e;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}}()<=8)throw new Error("VelocityJS cannot run on Internet Explorer 8 or earlier");window&&(on=window.jQuery,an=window.Zepto,nn(window,!0),nn(Element&&Element.prototype),nn(NodeList&&NodeList.prototype),nn(HTMLCollection&&HTMLCollection.prototype),nn(on,!0),nn(on&&on.fn),nn(an,!0),nn(an&&an.fn));for(var sn in rn)!function(t){if(rn.hasOwnProperty(t))switch(void 0===t?"undefined":W(t)){case"number":case"boolean":A(ln,t,{get:function(){return rn[t]},set:function(e){rn[t]=e}},!0);break;default:A(ln,t,rn[t],!0)}}(sn);return Object.freeze(ln),ln});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlZlbG9jaXR5LmpzIl0sIm5hbWVzIjpbImZhY3RvcnkiLCJleHBvcnRzIiwiX3R5cGVvZjIiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJWZWxvY2l0eSIsIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm9iaiIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiY3JlYXRlQ2xhc3MiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJrZXkiLCJpc0Jvb2xlYW4iLCJ2YXJpYWJsZSIsImlzRnVuY3Rpb24iLCJPYmplY3QiLCJ0b1N0cmluZyIsImNhbGwiLCJub2RlVHlwZSIsImlzTnVtYmVyIiwiaXNQbGFpbk9iamVjdCIsInByb3RvIiwiaGFzT3duUHJvcGVydHkiLCJpc1N0cmluZyIsImdldFByb3RvdHlwZU9mIiwiaXNXcmFwcGVkIiwid2luZG93IiwiaXNOb2RlIiwiQXJyYXkiLCJzbGljZSIsImFycmF5TGlrZSIsImRlZmluZVByb3BlcnR5JDEiLCJuYW1lIiwidmFsdWUiLCJyZWFkb25seSIsImVsZW1lbnQiLCJkZWZpbmVQcm9wZXJ0eSIsIkVsZW1lbnQiLCJnZXRWYWx1ZSIsIl9sZW4iLCJhcmd1bWVudHMiLCJhcmdzIiwiX2tleSIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwidW5kZWZpbmVkIiwiX2l0ZXJhdG9yIiwiX3N0ZXAiLCJuZXh0IiwiZG9uZSIsImFyZyIsImVyciIsIm5vdyIsIkRhdGUiLCJyZW1vdmVDbGFzcyIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsInJlcGxhY2UiLCJSZWdFeHAiLCJBY3Rpb25zIiwicmVnaXN0ZXJBY3Rpb24iLCJpbnRlcm5hbCIsImNhbGxiYWNrIiwicHJvcGVydHkiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsImNvbnNvbGUiLCJ3YXJuIiwiREVGQVVMVF9EVVJBVElPTiIsImZhc3QiLCJzbG93IiwiRWFzaW5ncyIsInJlZ2lzdGVyRWFzaW5nIiwiRFVSQVRJT05fRkFTVCIsIkRVUkFUSU9OX05PUk1BTCIsIkZVWlpZX01TX1BFUl9TRUNPTkQiLCJERUZBVUxUX0RFTEFZIiwiREVGQVVMVF9GUFNMSU1JVCIsIkRFRkFVTFRfQ0FDSEUiLCJEVVJBVElPTl9TTE9XIiwiQ0xBU1NOQU1FIiwicGVyY2VudENvbXBsZXRlIiwic3RhcnRWYWx1ZSIsImVuZFZhbHVlIiwiRHVyYXRpb24iLCJmaXhSYW5nZSIsIk1hdGgiLCJtaW4iLCJtYXgiLCJudW0iLCJhQTEiLCJhQTIiLCJCIiwiY2FsY0JlemllciIsImFUIiwibGluZWFyRWFzaW5nIiwiZ2V0U2xvcGUiLCJBIiwiZ2VuZXJhdGVCZXppZXIiLCJORVdUT05fSVRFUkFUSU9OUyIsIlNVQkRJVklTSU9OX1BSRUNJU0lPTiIsIlNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TIiwia1NwbGluZVRhYmxlU2l6ZSIsImtTYW1wbGVTdGVwU2l6ZSIsImZsb2F0MzJBcnJheVN1cHBvcnRlZCIsInNwcmluZ0Vhc2luZyIsImlzTmFOIiwiaXNGaW5pdGUiLCJtWDEiLCJtWTEiLCJtWDIiLCJtWTIiLCJtU2FtcGxlVmFsdWVzIiwiRmxvYXQzMkFycmF5Iiwic3RyIiwiZiIsInByZWNvbXB1dGVkIiwiY3VycmVudFgiLCJnZXRURm9yWCIsImN1cnJlbnRUIiwiZ2V0Q29udHJvbFBvaW50cyIsImJpbmFyeVN1YmRpdmlkZSIsIngiLCJ5IiwiYVgiLCJpbnRlcnZhbFN0YXJ0IiwiY3VycmVudFNhbXBsZSIsImxhc3RTYW1wbGUiLCJndWVzc0ZvclQiLCJpbml0aWFsU2xvcGUiLCJhR3Vlc3NUIiwiX2kiLCJjdXJyZW50U2xvcGUiLCJuZXd0b25SYXBoc29uSXRlcmF0ZSIsImFBIiwiYUIiLCJORVdUT05fTUlOX1NMT1BFIiwicHJlY29tcHV0ZSIsIl9pMiIsIkRFRkFVTFRfUFJPTUlTRV9SRUpFQ1RfRU1QVFkiLCJjb3MiLCJQSSIsImV4cCIsImVhc2VJbiIsImVhc2VJbk91dCIsInNwcmluZ0FjY2VsZXJhdGlvbkZvclN0YXRlIiwic3RhdGUiLCJ0ZW5zaW9uIiwiZnJpY3Rpb24iLCJ2IiwiaW5pdGlhbFN0YXRlIiwiZHQiLCJkZXJpdmF0aXZlIiwiY2FsY1NhbXBsZVZhbHVlcyIsImR4IiwiZHYiLCJkdXJhdGlvbiIsImEiLCJiIiwiYyIsImR4ZHQiLCJpbml0U3RhdGUiLCJwYXJzZUZsb2F0IiwicGF0aCIsInRpbWVMYXBzZWQiLCJsYXN0U3RhdGUiLCJoYXZlRHVyYXRpb24iLCJnZW5lcmF0ZVNwcmluZ1JLNCIsImR2ZHQiLCJzcHJpbmdFdmFsdWF0ZVN0YXRlV2l0aERlcml2YXRpdmUiLCJkIiwiYWJzIiwiZWFzZU91dCIsInBhcnNlRHVyYXRpb24iLCJkZWYiLCJzcHJpbmdJbnRlZ3JhdGVTdGF0ZSIsInZhbGlkYXRlQ2FjaGUiLCJ2YWxpZGF0ZUJlZ2luIiwidG9sZXJhbmNlIiwibm9FcnJvciIsInZhbGlkYXRlRGVsYXkiLCJwYXJzZWQiLCJlcnJvciIsInZhbGlkYXRlRHVyYXRpb24iLCJ2YWxpZGF0ZUVhc2luZyIsImNhY2hlIiwiZm4iLCJzdGVwcyIsImFwcGx5IiwicGFyc2VJbnQiLCJ0b0xvd2VyQ2FzZSIsInZhbGlkYXRlUXVldWUiLCJ2YWxpZGF0ZVJlcGVhdCIsInZhbGlkYXRlU3BlZWQiLCJpc0FycmF5IiwiZ2VuZXJhdGVTdGVwIiwidmFsaWRhdGVTeW5jIiwiY2FjaGUkMSIsImNvbXBsZXRlIiwiZGVsYXkiLCJlYXNpbmciLCJmcHNMaW1pdCIsImxvb3AiLCJtb2JpbGVIQSIsIm1pbkZyYW1lVGltZSIsInZhbGlkYXRlRnBzTGltaXQiLCJwcm9taXNlIiwicHJvbWlzZVJlamVjdEVtcHR5IiwicXVldWUiLCJyZXBlYXQiLCJzcGVlZCIsInN5bmMiLCJkZWZhdWx0cyQxIiwiZGVmYXVsdHMkJDEiLCJiZWdpbiIsInZhbGlkYXRlTG9vcCIsImdldCIsInNldCIsInZhbGlkYXRlUHJvZ3Jlc3MiLCJ2YWxpZGF0ZUNvbXBsZXRlIiwidmFsaWRhdGVQcm9taXNlIiwidmFsaWRhdGVQcm9taXNlUmVqZWN0RW1wdHkiLCJERUZBVUxUX1BST01JU0UiLCJERUZBVUxUX1FVRVVFIiwidGhpcyIsImZyZWV6ZSIsInJlc2V0IiwiTm9ybWFsaXphdGlvbnMiLCJOb0NhY2hlTm9ybWFsaXphdGlvbnMiLCJTZXQiLCJzZXQkJDEiLCJjb25zdHJ1Y3RvckNhY2hlIiwiTWFwIiwiZGF0YSIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsInR5cGVzIiwiaW5kZXgiLCJnZXQkJDEiLCJjb25zdHJ1Y3RvcnMiLCJfY29uc3RydWN0b3IiLCJuZXdEYXRhIiwiY291bnQiLCJjb21wdXRlZFN0eWxlIiwibGFzdEFuaW1hdGlvbkxpc3QiLCJsYXN0RmluaXNoTGlzdCIsImRhdGFOYW1lIiwicGFnZVlPZmZzZXQiLCJTdGF0ZSIsImlzQ2xpZW50IiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImlzR2luZ2VyYnJlYWQiLCJwcmVmaXhFbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwid2luZG93U2Nyb2xsQW5jaG9yIiwiZG9jdW1lbnRFbGVtZW50IiwiYm9keSIsInBhcmVudE5vZGUiLCJzY3JvbGxQcm9wZXJ0eVRvcCIsImZpcnN0IiwiZmlyc3ROZXciLCJhbmltYXRlIiwiYW5pbWF0aW9uIiwicHJldiIsIl9uZXh0IiwibGFzdCIsImFkZCIsImZyZWVBbmltYXRpb25DYWxsIiwiX3ByZXYiLCJxdWV1ZU5hbWUiLCJvcHRpb25zIiwiTm9ybWFsaXphdGlvblVuaXRzIiwiRGF0YSIsIlNlcXVlbmNlc09iamVjdCIsImNvbXBsZXRlQ2FsbCIsImFjdGl2ZUNhbGwiLCJpc0xvb3AiLCJpc1N0b3BwZWQiLCJfZmxhZ3MiLCJpc1JlcGVhdCIsInNjcm9sbEFuY2hvciIsIl90b3RhbCIsInNjcm9sbFByb3BlcnR5TGVmdCIsImVsZW1lbnRzIiwic2V0VGltZW91dCIsImNhbGxDb21wbGV0ZSIsInJlc29sdmVyIiwiX3Jlc29sdmVyIiwidGltZVN0YXJ0Iiwic2tpcCIsInF1ZXVlTGlzdCIsImRlcXVldWUiLCJyZXBlYXRBZ2FpbiIsInJlZ2lzdGVyTm9ybWFsaXphdGlvbiIsInVuaXQiLCJpbmRleE9mIiwibmV4dEFyZyIsImhhcyIsInB1c2giLCJnZXROb3JtYWxpemF0aW9uIiwicHJvcGVydHlOYW1lIiwic2V0UHJvcGVydHlWYWx1ZSIsInByb3BlcnR5VmFsdWUiLCJub0NhY2hlIiwiVmVsb2NpdHkkJDEiLCJkZWJ1ZyIsImluZm8iLCJoYXNOb3JtYWxpemF0aW9uIiwiY2FjaGUkMiIsImZpeGVkIiwiJCIsImxldHRlciIsInJ4Q29sb3I2IiwicnhDb2xvck5hbWUiLCJyeFJHQiIsInJ4U3BhY2VzIiwiQ29sb3JOYW1lcyIsInIiLCJnIiwiZml4Q29sb3JzIiwicnhDb2xvcjMiLCIkMCIsIiQxIiwiJDIiLCJhdWdtZW50RGltZW5zaW9uIiwid2FudElubmVyIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInNpZGVzIiwiYXVnbWVudCIsImZpZWxkcyIsImZpZWxkIiwiZ2V0V2lkdGhIZWlnaHQiLCJjb21wdXRlUHJvcGVydHlWYWx1ZSIsImdldENvbXB1dGVkU3R5bGUiLCJjb21wdXRlZFZhbHVlIiwic3R5bGUiLCJwb3NpdGlvbiIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIlN0cmluZyIsInNraXBDYWNoZSIsInJ4SGV4IiwiZWxlbWVudEFycmF5SW5kZXgiLCJ0d2VlbiIsIm51bWJlciIsImluY2x1ZGVzIiwiZ2V0Tm9ybWFsaXphdGlvblVuaXQiLCJzdHJpbmciLCJleHBhbmRQcm9wZXJ0aWVzIiwicHJvcGVydGllcyIsInZhbHVlRGF0YSIsImFycjEiLCJhcnIyIiwidHdlZW5zIiwiY3JlYXRlIiwiY2FtZWxDYXNlIiwiZGVwdGgiLCJqb2luIiwiZW5kIiwiY29tbWFuZHMiLCJzdGFydCIsImV4cGxvZGVUd2VlbiIsInRva2VucyIsImxvZyIsInJlbW92ZU5lc3RlZENhbGMiLCJyeFRva2VuIiwicnhOdW1iZXIiLCJwYXJ0cyIsImluZGV4ZXMiLCJudW1iZXJzIiwicGFydCIsInBhcnRzTGVuZ3RoIiwiY2xvbmVBcnJheSIsIm1hdGNoIiwibWFrZVJHQkEiLCJpZ25vcmUiLCJzZXF1ZW5jZSIsInBhdHRlcm4iLCJhZGRTdHJpbmciLCJ0ZXh0IiwiX3BhcnQiLCJyZXR1cm5TdHJpbmdUeXBlIiwiaXNEaXNwbGF5IiwiaXNWaXNpYmlsaXR5IiwiX3BhcnQyIiwiaXNCb3JkZXJCb3giLCJfcGFydDMiLCJtb3JlIiwiYml0cyIsInVuaXRzIiwiaGFzTnVtYmVycyIsIl9wYXJ0NCIsInRva2VuIiwiaW5kZXgyIiwiZGlnaXRzIiwiY2hhbmdlIiwiY2hhbmdlT3JVbml0IiwiaXNVbml0bGVzcyIsIl91bml0IiwiX3BhcnQ1IiwicGF0dGVybkNhbGMiLCJfdW5pdDIiLCJfZmlyc3RMZXR0ZXIiLCJpc0NvbXBsZXgiLCJpc01hdGhzIiwiX3BhcnQ2IiwiYml0IiwiaW5SR0IiLCJfdGV4dCIsInN0YXJ0aW5nIiwic3RhcnROdW1iZXJzIiwiZmluZFBhdHRlcm4iLCJfZnVuY3Rpb24iLCJKU09OIiwic3RyaW5naWZ5IiwiYXN5bmNDYWxsYmFja3MiLCJwcm9ncmVzc2VkIiwicHJvZ3Jlc3MiLCJsYXN0VGljayIsInR3ZWVuVmFsdWUiLCJwcm9ncmVzc0NhbGwiLCJjbGVhciIsIl9kaWRJdGVyYXRvckVycm9yMiIsIl9pdGVyYXRvckVycm9yMiIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJjb21wbGV0ZWQiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiIsIkZSQU1FX1RJTUUiLCJwZXJmb3JtYW5jZSIsInBlcmYiLCJ0aW1pbmciLCJuYXZpZ2F0aW9uU3RhcnQiLCJub3dPZmZzZXQiLCJyQUZQcm94eSIsInJBRlNoaW0iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aWNraW5nIiwid29ya2VyIiwiV29ya2VyIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiQmxvYiIsIl90aGlzIiwiaW50ZXJ2YWwiLCJvbm1lc3NhZ2UiLCJlIiwic2V0SW50ZXJ2YWwiLCJwb3N0TWVzc2FnZSIsImNsZWFySW50ZXJ2YWwiLCJ0aWNrIiwiaGlkZGVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImlzVGlja2luZyIsInRpbWVzdGFtcCIsInRpbWVDdXJyZW50IiwiZGVmYXVsdFNwZWVkIiwiZGVmYXVsdEVhc2luZyIsImRlZmF1bHREdXJhdGlvbiIsIm5leHRDYWxsIiwidmFsaWRhdGVUd2VlbnMiLCJmbGFncyIsImRlbHRhVGltZSIsIl9yZWFkeSIsIl9vcHRpb25zIiwicGVyY2VudCIsIl90aW1lU3RhcnQiLCJfc3RhcnRlZCIsIl9maXJzdCIsImJlZ2luQ2FsbCIsImFjdGl2ZUVhc2luZyIsIm1pbGxpc2Vjb25kc0VsbGFwc2VkIiwiZWxsYXBzZWRUaW1lIiwibW9jayIsInJldmVyc2UiLCJjdXJyZW50VmFsdWUiLCJlYXNpbmdDb21wbGV0ZSIsImJlc3QiLCJqIiwidHdlZW5Gcm9tIiwidHdlZW5UbyIsInJhd1BlcmNlbnQiLCJ0d2VlblBlcmNlbnQiLCJyZXN1bHQiLCJyb3VuZCIsInNwbGl0Iiwic2l6ZSIsImNoZWNrQW5pbWF0aW9uU2hvdWxkQmVGaW5pc2hlZCIsImRlZmF1bHRRdWV1ZSIsImVuZFZhbHVlcyIsInByb21pc2VIYW5kbGVyIiwiZmluaXNoQWxsIiwiaXNWZWxvY2l0eVJlc3VsdCIsInZlbG9jaXR5IiwiYW5pbWF0aW9ucyIsInRoZW4iLCJhbmltYXRpb25GbGFncyIsImlzRXhwYW5kZWQiLCJpc1JlYWR5IiwiaXNTdGFydGVkIiwiaXNQYXVzZWQiLCJpc1N5bmMiLCJjaGVja0FuaW1hdGlvbiIsInBhdXNlUmVzdW1lIiwiYWN0aW9uIiwicHJvcCIsIl9yZXN1bHQiLCJyZXMiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyIsIl9kaWRJdGVyYXRvckVycm9yMyIsIl9pdGVyYXRvckVycm9yMyIsIl9pdGVyYXRvcjMiLCJfc3RlcDMiLCJfcHJvcCIsIl9yZXN1bHQyIiwiX2RpZEl0ZXJhdG9yRXJyb3I0IiwiX2l0ZXJhdG9yRXJyb3I0IiwiX2l0ZXJhdG9yNCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240IiwiX3N0ZXA0IiwiX2VsZW1lbnQiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSIsIl9kaWRJdGVyYXRvckVycm9yNSIsIl9pdGVyYXRvckVycm9yNSIsIl9pdGVyYXRvcjUiLCJfc3RlcDUiLCJfZWxlbWVudDIiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiIsIl9kaWRJdGVyYXRvckVycm9yNiIsIl9zdGVwNiIsIl9pdGVyYXRvcjYiLCJfaXRlcmF0b3JFcnJvcjYiLCJmaW5pc2giLCJjaGVja0FuaW1hdGlvblNob3VsZEJlU3RvcHBlZCIsImlzUmV2ZXJzZSIsImlzTW9iaWxlIiwiZmxhZyIsImlzUGVyY2VudENvbXBsZXRlIiwiX2FuaW1hdGlvbiIsInByb3BlcnR5QWN0aW9uIiwiU3ludGF4RXJyb3IiLCJFcnJvciIsInJlcXVpcmVGb3JjZWZlZWRpbmciLCJzaW5nbGVSZXN1bHQiLCJtYXliZVNlcXVlbmNlIiwiX3Byb3BlcnR5IiwiZXhwYW5kU2VxdWVuY2UiLCJmYWtlQW5pbWF0aW9uIiwicHJvcGVydHlUd2VlbiIsInR3ZWVuRWFzaW5nIiwiX3Byb3BlcnR5MiIsImNvbG9yIiwiYW1vdW50IiwiY29sb3JWYWx1ZXMiLCJhbGljZWJsdWUiLCJhbnRpcXVld2hpdGUiLCJhcXVhIiwiYXp1cmUiLCJiaXNxdWUiLCJibGFjayIsImJsYW5jaGVkYWxtb25kIiwiYmx1ZSIsImJyb3duIiwiYnVybHl3b29kIiwiY2FkZXRibHVlIiwiY2hhcnRyZXVzZSIsImNob2NvbGF0ZSIsImNvcmFsIiwiY29ybmZsb3dlcmJsdWUiLCJjb3Juc2lsayIsImN5YW4iLCJkYXJrYmx1ZSIsImRhcmtjeWFuIiwiZGFya2dyYXkiLCJkYXJrZ3JleSIsImRhcmtncmVlbiIsImRhcmtraGFraSIsImRhcmttYWdlbnRhIiwiZGFya29saXZlZ3JlZW4iLCJkYXJrb3JhbmdlIiwiZGFya29yY2hpZCIsImRhcmtyZWQiLCJkYXJrc2FsbW9uIiwiZGFya3NlYWdyZWVuIiwiZGFya3NsYXRlYmx1ZSIsImRhcmtzbGF0ZWdyYXkiLCJkYXJrc2xhdGVncmV5IiwiZGFya3R1cnF1b2lzZSIsImRhcmt2aW9sZXQiLCJkZWVwcGluayIsImRlZXBza3libHVlIiwiZGltZ3JheSIsImRpbWdyZXkiLCJkb2RnZXJibHVlIiwiZmlyZWJyaWNrIiwiZmxvcmFsd2hpdGUiLCJmb3Jlc3RncmVlbiIsImZ1Y2hzaWEiLCJnYWluc2Jvcm8iLCJnb2xkIiwiZ29sZGVucm9kIiwiZ3JlZW4iLCJncmVlbnllbGxvdyIsImhvbmV5ZGV3IiwiaW5kaWFucmVkIiwiaW5kaWdvIiwiaXZvcnkiLCJraGFraSIsImxhdmVuZGVyIiwibGF2ZW5kZXJibHVzaCIsImxhd25ncmVlbiIsImxlbW9uY2hpZmZvbiIsImxpZ2h0Ymx1ZSIsImxpZ2h0Y29yYWwiLCJsaWdodGN5YW4iLCJsaWdodGdvbGRlbnJvZHllbGxvdyIsImxpZ2h0Z3JleSIsImxpZ2h0Z3JlZW4iLCJsaWdodHNhbG1vbiIsImxpZ2h0c2VhZ3JlZW4iLCJsaWdodHNreWJsdWUiLCJsaWdodHNsYXRlZ3JheSIsImxpZ2h0c2xhdGVncmV5IiwibGlnaHR5ZWxsb3ciLCJsaW1lZ3JlZW4iLCJsaW5lbiIsIm1hZ2VudGEiLCJtYXJvb24iLCJtZWRpdW1vcmNoaWQiLCJtZWRpdW1wdXJwbGUiLCJtZWRpdW1zZWFncmVlbiIsIm1lZGl1bXNsYXRlYmx1ZSIsIm1lZGl1bXNwcmluZ2dyZWVuIiwibWVkaXVtdHVycXVvaXNlIiwibWVkaXVtdmlvbGV0cmVkIiwibWlkbmlnaHRibHVlIiwibWludGNyZWFtIiwibWlzdHlyb3NlIiwibW9jY2FzaW4iLCJuYXZham93aGl0ZSIsIm5hdnkiLCJvbGRsYWNlIiwib2xpdmUiLCJvbGl2ZWRyYWIiLCJvcmFuZ2UiLCJvcmFuZ2VyZWQiLCJvcmNoaWQiLCJwYWxlZ29sZGVucm9kIiwicGFsZWdyZWVuIiwicGFsZXZpb2xldHJlZCIsInBhcGF5YXdoaXAiLCJwZWFjaHB1ZmYiLCJwZXJ1IiwicGluayIsInBsdW0iLCJwb3dkZXJibHVlIiwicHVycGxlIiwicmViZWNjYXB1cnBsZSIsInJlZCIsInJvc3licm93biIsInJveWFsYmx1ZSIsInNhZGRsZWJyb3duIiwic2FsbW9uIiwic2FuZHlicm93biIsInNlYXNoZWxsIiwic2llbm5hIiwic2xhdGVibHVlIiwic2xhdGVncmF5Iiwic2xhdGVncmV5Iiwic3ByaW5nZ3JlZW4iLCJzdGVlbGJsdWUiLCJ0YW4iLCJ0ZWFsIiwidGhpc3RsZSIsInRvbWF0byIsInR1cnF1b2lzZSIsInZpb2xldCIsIndoZWF0Iiwid2hpdGUiLCJ3aGl0ZXNtb2tlIiwieWVsbG93IiwieWVsbG93Z3JlZW4iLCJmbG9vciIsImVhc2VPdXRCb3VuY2VQZXJjZW50IiwiZWFzZUluQm91bmNlUGVyY2VudCIsInBvdyIsImFtcGxpdHVkZSIsInBlcmlvZCIsIlBJMiIsImdldERpbWVuc2lvbiIsInNpbiIsImFzaW4iLCJzIiwiaW5saW5lUngiLCJ0YWJsZVJvd1J4IiwidGFibGVSeCIsInRhYmxlUm93R3JvdXBSeCIsInNjcm9sbCIsImRpcmVjdGlvbiIsImNsaWVudCIsInNjcm9sbFZhbHVlIiwibm9kZU5hbWUiLCJsaXN0SXRlbVJ4Iiwic2Nyb2xsV2lkdGgiLCJjbGllbnRXaWR0aCIsInNjcm9sbEhlaWdodCIsInJ4QWRkUHgiLCJ1bnByZWZpeGVkIiwicnhWZW5kb3JzIiwiZ2V0U2V0UHJlZml4ZWQiLCJnZXRTZXRTdHlsZSIsImJhc2UiLCJyeFN1YnR5cGUiLCJyeEVsZW1lbnQiLCJnZXRCQm94Iiwic2V0QXR0cmlidXRlIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImZvckVhY2giLCJzdWJ0eXBlIiwiZXhlYyIsImF0dHJpYnV0ZSIsImNyZWF0ZUVsZW1lbnROUyIsInRvVXBwZXJDYXNlIiwiZ2V0QXR0cmlidXRlIiwiZ2V0RGltZW5zaW9uJDEiLCJnaG9zdHdoaXRlIiwiVmVsb2NpdHkkMSIsIlZlbG9jaXR5U3RhdGljIiwiU2VxdWVuY2VzIiwibGlnaHRncmF5IiwiZGVmYXVsdHMiLCJwYXRjaCIsInZlcnNpb24iLCJkb2N1bWVudE1vZGUiLCJkaXYiLCJpbm5lckhUTUwiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNlYWdyZWVuIiwialF1ZXJ5IiwiWmVwdG8iLCJOb2RlTGlzdCIsIkhUTUxDb2xsZWN0aW9uIiwicmVnaXN0ZXJCYWNrSW4iLCJfbG9vcCIsInJ4UGVyY2VudHMiLCJyZWdpc3RlckJhY2tJbk91dCIsInJlZ2lzdGVyU2VxdWVuY2UiLCJfbmFtZSIsInBlcmNlbnRzIiwiZWFzZUluQm91bmNlIiwic2VxdWVuY2VMaXN0Iiwia2V5cyIsImVhc2VJbk91dEJvdW5jZSIsImExIiwiYjEiLCJyZWdpc3RlckVsYXN0aWNJbk91dCIsIm9yZGVyZWRQZXJjZW50cyIsInN0ZXBQcm9wZXJ0aWVzIiwicmVhbFNlcXVlbmNlIiwiX2tleTIiLCJvcmlnaW5hbFByb3BlcnR5IiwiZ2xvYmFsUHJvbWlzZSIsIl9hIiwibm9Qcm9taXNlT3B0aW9uIiwicHJvbWlzZU9iamVjdCIsImJpbmQiLCJhcmdzMCIsInN5bnRhY3RpY1N1Z2FyIiwicCIsIm5hbWVzIiwiYXJndW1lbnRJbmRleCIsInByb3BlcnRpZXNNYXAiLCJvcHRpb25zTWFwIiwicmVqZWN0ZXIiLCJfcmVmIiwiaXNBY3Rpb24iLCJvcHRzIiwibyIsInJlc29sdmUiLCJyZWplY3QiLCJwYXRjaFByb21pc2UiLCJvcHRpb25Qcm9taXNlUmVqZWN0RW1wdHkiLCJfcmVmMiIsImFjdGlvbkFyZ3MiLCJnZXRTZXRUd2VlbiIsInZhbGlkRHVyYXRpb24iLCJkcmFnIiwic3RhZ2dlciIsImRpc3BsYXkiLCJ2aXNpYmlsaXR5Iiwib3B0aW9uc0JlZ2luIiwib3B0aW9uc0NvbXBsZXRlIiwib3B0aW9uc1Byb2dyZXNzIiwib3B0aW9uc1N5bmMiLCJvZmZzZXQiLCJoYXNWYWxpZER1cmF0aW9uIiwiVkVSU0lPTiIsInJvb3RBbmltYXRpb24iLCJsYXN0QW5pbWF0aW9uIiwiYXNzaWduIiwib3B0aW9uIiwib3B0aW9uQ2FsbGJhY2siLCJxdWV1ZSQxIiwiZ2xvYmFsIiwiVmVsb2NpdHlTdGF0aWMkMSIsImpRdWVyeSQxIiwiWmVwdG8kMSIsIlZlbG9jaXR5JDIiLCJwcm9wZXJ0eSQxIl0sIm1hcHBpbmdzIjoiaVFBRUEsU0FBQUEsR0FDQSxZQUFBLG9CQUFBQyxRQUFBLFlBQUFDLFNBQUFELFdBQUEsb0JBQUFFLE9BQUFBLE9BQUFGLFFBQUFELElBQ0EsbUJBQUFJLFFBQUFBLE9BQUFDLElBQUFELE9BQUFKLFNBRkEsR0FJQ00sU0FBa0JOLElBSm5CLENBS0UsV0FHcUIsSUFBQU8sRUFBQSxtQkFBQUMsUUFBQSxXQUFBTixTQUFBTSxPQUFBQyxVQUFBLFNBQUFDLEdBR25CLE9BQUFSLFNBQWNRLElBRFpILFNBQVVHLEdBQ1osT0FBQUEsR0FBQSxtQkFBQUYsUUFBQUUsRUFBQUMsY0FBQUgsUUFBQUUsSUFBQUYsT0FBQUksVUFBQSxTQUFBVixTQUFBUSxJQURGRyxFQUFBLFNBQUFDLEVBQUFDLEdBT0UsS0FBTUQsYUFBb0JDLEdBRHhCRixNQUFBQSxJQUFBQSxVQUFpQixzQ0FBckJHLEVBZUcsU0FBQUQsRUFBQUUsRUFBQUMsR0FHQyxPQUFJRCxHQUFZRSxFQUFpQkosRUFBWUgsVUFBV0ssR0FEMURDLEdBQWlCSCxFQUFhRSxFQUFZQyxHQUNwQ0QsR0FYTixTQUFTRSxFQUFpQkMsRUFBUUMsR0FEaENMLElBQUFBLElBQUFBLEVBQVcsRUFBR00sRUFBQUQsRUFBWUUsT0FBQUQsSUFBQSxDQUM1QixJQUFBRSxFQUFTTCxFQUFpQkMsR0FDeEJJLEVBQWFDLFdBQWFGLEVBQTFCRSxhQUF1QyxFQUNyQ0QsRUFBSUEsY0FBSixFQUNBQSxVQUFXQyxJQUFhRCxFQUFXQyxVQUFjLEdBQ2pERCxPQUFBQSxlQUFXRSxFQUFY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SStDLEdBQWlCanhCLGVBQWUyQyxHQWhwQkosWUFBa0IsSUFBZHVyQixFQUFKLFlBQWtDandCLEVBQUEwRSxJQUM5QmlULElBQUFBLFNBQ0gsSUFBQSxVQUNKblYsRUFBQTJ3QixHQUFBenVCLEVBQUEsQ0FDSHdKLElBQU9ySyxXQUNMK2QsT0FBQUEsR0FBQWxkLElBVkp5SixJQVlVLFNBQUF6TCxHQUNGc3dCLEdBQUF0dUIsR0FBQWhDLEtBRUlvZixHQUNILE1BQ0osUUFDR3RmLEVBQUlvZixHQUFvQmxkLEVBQUFzdUIsR0FBQXR1QixJQUFBLElBT3BDK2IsQ0FBQUEsSUFJSSxPQUZQamYsT0FBQW1OLE9BbENEd2tCLElBb0NRQSIsImZpbGUiOiJWZWxvY2l0eS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIHZlbG9jaXR5LWFuaW1hdGUgKEMpIDIwMTQtMjAxNyBKdWxpYW4gU2hhcGlyby5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgZGV0YWlscy5cbiAqL1xuXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gIChnbG9iYWwuVmVsb2NpdHkgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgdmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgfTtcblxuICB2YXIgY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICAgIH07XG4gIH0oKTtcblxuICB2YXIgZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiAob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKGtleSBpbiBvYmopIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgdmFyaWFibGUgaXMgYSBib29sZWFuLlxuICAgKi9cbiAgZnVuY3Rpb24gaXNCb29sZWFuKHZhcmlhYmxlKSB7XG4gICAgICByZXR1cm4gdmFyaWFibGUgPT09IHRydWUgfHwgdmFyaWFibGUgPT09IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHZhcmlhYmxlIGlzIGEgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhcmlhYmxlKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhcmlhYmxlKSA9PT0gXCJbb2JqZWN0IEZ1bmN0aW9uXVwiO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHZhcmlhYmxlIGlzIGFuIEhUTUxFbGVtZW50IG9yIFNWR0VsZW1lbnQuXG4gICAqL1xuICBmdW5jdGlvbiBpc05vZGUodmFyaWFibGUpIHtcbiAgICAgIHJldHVybiAhISh2YXJpYWJsZSAmJiB2YXJpYWJsZS5ub2RlVHlwZSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgdmFyaWFibGUgaXMgYSBudW1iZXIuXG4gICAqL1xuICBmdW5jdGlvbiBpc051bWJlcih2YXJpYWJsZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YXJpYWJsZSA9PT0gXCJudW1iZXJcIjtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB2YXJpYWJsZSBpcyBhIHBsYWluIG9iamVjdCAoYW5kIG5vdCBhbiBpbnN0YW5jZSkuXG4gICAqL1xuICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhcmlhYmxlKSB7XG4gICAgICBpZiAoIXZhcmlhYmxlIHx8ICh0eXBlb2YgdmFyaWFibGUgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZih2YXJpYWJsZSkpICE9PSBcIm9iamVjdFwiIHx8IHZhcmlhYmxlLm5vZGVUeXBlIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YXJpYWJsZSkgIT09IFwiW29iamVjdCBPYmplY3RdXCIpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFyaWFibGUpO1xuICAgICAgcmV0dXJuICFwcm90byB8fCBwcm90by5oYXNPd25Qcm9wZXJ0eShcImNvbnN0cnVjdG9yXCIpICYmIHByb3RvLmNvbnN0cnVjdG9yID09PSBPYmplY3Q7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgdmFyaWFibGUgaXMgYSBzdHJpbmcuXG4gICAqL1xuICBmdW5jdGlvbiBpc1N0cmluZyh2YXJpYWJsZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YXJpYWJsZSA9PT0gXCJzdHJpbmdcIjtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB2YXJpYWJsZSBpcyB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgVmVsb2NpdHkuXG4gICAqL1xuICBmdW5jdGlvbiBpc1ZlbG9jaXR5UmVzdWx0KHZhcmlhYmxlKSB7XG4gICAgICByZXR1cm4gdmFyaWFibGUgJiYgaXNOdW1iZXIodmFyaWFibGUubGVuZ3RoKSAmJiBpc0Z1bmN0aW9uKHZhcmlhYmxlLnZlbG9jaXR5KTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB2YXJpYWJsZSBpcyBhbiBhcnJheS1saWtlIHdyYXBwZWQgalF1ZXJ5LCBaZXB0byBvciBzaW1pbGFyLCB3aGVyZVxuICAgKiBlYWNoIGluZGV4ZWQgdmFsdWUgaXMgYSBOb2RlLlxuICAgKi9cbiAgZnVuY3Rpb24gaXNXcmFwcGVkKHZhcmlhYmxlKSB7XG4gICAgICByZXR1cm4gdmFyaWFibGUgJiYgdmFyaWFibGUgIT09IHdpbmRvdyAmJiBpc051bWJlcih2YXJpYWJsZS5sZW5ndGgpICYmICFpc1N0cmluZyh2YXJpYWJsZSkgJiYgIWlzRnVuY3Rpb24odmFyaWFibGUpICYmICFpc05vZGUodmFyaWFibGUpICYmICh2YXJpYWJsZS5sZW5ndGggPT09IDAgfHwgaXNOb2RlKHZhcmlhYmxlWzBdKSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlzIGEgcHJvcGVydHkgaXMgYW4gZW51bWVyYWJsZSBtZW1iZXIgb2YgYW4gb2JqZWN0LlxuICAgKi9cbiAgZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUob2JqLCBwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmosIHByb3BlcnR5KTtcbiAgfVxuXG4gIC8vIFByb2plY3RcbiAgLyoqXG4gICAqIEFkZCBhIHNpbmdsZSBjbGFzc05hbWUgdG8gYW4gRWxlbWVudC5cbiAgICovXG4gIGZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lICs9IChlbGVtZW50LmNsYXNzTmFtZS5sZW5ndGggPyBcIiBcIiA6IFwiXCIpICsgY2xhc3NOYW1lO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2xvbmUgYW4gYXJyYXksIHdvcmtzIGZvciBhcnJheS1saWtlIHRvby5cbiAgICovXG4gIGZ1bmN0aW9uIGNsb25lQXJyYXkoYXJyYXlMaWtlKSB7XG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyYXlMaWtlLCAwKTtcbiAgfVxuICAvKipcbiAgICogVGhlIDxzdHJvbmc+PGNvZGU+ZGVmaW5lUHJvcGVydHkoKTwvY29kZT48L3N0cm9uZz4gZnVuY3Rpb24gcHJvdmlkZXMgYVxuICAgKiBzaG9ydGN1dCB0byBkZWZpbmluZyBhIHByb3BlcnR5IHRoYXQgY2Fubm90IGJlIGFjY2lkZW50YWxseSBpdGVyYXRlZCBhY3Jvc3MuXG4gICAqL1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eSQxKHByb3RvLCBuYW1lLCB2YWx1ZSwgcmVhZG9ubHkpIHtcbiAgICAgIGlmIChwcm90bykge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgbmFtZSwge1xuICAgICAgICAgICAgICBjb25maWd1cmFibGU6ICFyZWFkb25seSxcbiAgICAgICAgICAgICAgd3JpdGFibGU6ICFyZWFkb25seSxcbiAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIGxvY2F0aW9ucyBmb3IgYSB2YWx1ZSBwYXNzIHRoZW0gYWxsIGluLCB0aGVuIGdldCB0aGVcbiAgICogZmlyc3QgdmFsdWUgdGhhdCBpcyB2YWxpZC5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBhcmdzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICB2YXIgYXJnID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgaWYgKGFyZyAhPT0gdW5kZWZpbmVkICYmIGFyZyA9PT0gYXJnKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogU2hpbSB0byBnZXQgdGhlIGN1cnJlbnQgbWlsbGlzZWNvbmRzIC0gb24gYW55dGhpbmcgZXhjZXB0IG9sZCBJRSBpdCdsbCB1c2VcbiAgICogRGF0ZS5ub3coKSBhbmQgc2F2ZSBjcmVhdGluZyBhbiBvYmplY3QuIElmIHRoYXQgZG9lc24ndCBleGlzdCB0aGVuIGl0J2xsXG4gICAqIGNyZWF0ZSBvbmUgdGhhdCBnZXRzIEdDLlxuICAgKi9cbiAgdmFyIG5vdyA9IERhdGUubm93ID8gRGF0ZS5ub3cgOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH07XG4gIC8qKlxuICAgKiBSZW1vdmUgYSBzaW5nbGUgY2xhc3NOYW1lIGZyb20gYW4gRWxlbWVudC5cbiAgICovXG4gIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIFRPRE86IE5lZWQgc29tZSBqc3BlcmYgdGVzdHMgb24gcGVyZm9ybWFuY2UgLSBjYW4gd2UgZ2V0IHJpZCBvZiB0aGUgcmVnZXggYW5kIG1heWJlIHVzZSBzcGxpdCAvIGFycmF5IG1hbmlwdWxhdGlvbj9cbiAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoXnxcXFxccylcIiArIGNsYXNzTmFtZSArIFwiKFxcXFxzfCQpXCIsIFwiZ2lcIiksIFwiIFwiKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gIH1cblxuICAvLyBQcm9qZWN0XG4gIC8vIENvbnN0YW50c1xuICB2YXIgQWN0aW9ucyA9IHt9O1xuICAvKipcbiAgICogVXNlZCB0byByZWdpc3RlciBhbiBhY3Rpb24uIFRoaXMgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZCBieSB1c2Vyc1xuICAgKiBkaXJlY3RseSwgaW5zdGVhZCBpdCBzaG91bGQgYmUgY2FsbGVkIHZpYSAgYW4gYWN0aW9uOjxici8+XG4gICAqIDxjb2RlPlZlbG9jaXR5KFwicmVnaXN0ZXJBY3Rpb25cIiwgXCJuYW1lXCIsIFZlbG9jaXR5QWN0aW9uRm4pOzwvY29kZT5cbiAgICovXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyQWN0aW9uKGFyZ3MsIGludGVybmFsKSB7XG4gICAgICB2YXIgbmFtZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgY2FsbGJhY2sgPSBhcmdzWzFdO1xuICAgICAgaWYgKCFpc1N0cmluZyhuYW1lKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3JlZ2lzdGVyQWN0aW9uJyBuYW1lIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIG5hbWUpO1xuICAgICAgfSBlbHNlIGlmICghaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdyZWdpc3RlckFjdGlvbicgY2FsbGJhY2sgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgbmFtZSwgY2FsbGJhY2spO1xuICAgICAgfSBlbHNlIGlmIChBY3Rpb25zW25hbWVdICYmICFwcm9wZXJ0eUlzRW51bWVyYWJsZShBY3Rpb25zLCBuYW1lKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBvdmVycmlkZSBpbnRlcm5hbCAncmVnaXN0ZXJBY3Rpb24nIGNhbGxiYWNrXCIsIG5hbWUpO1xuICAgICAgfSBlbHNlIGlmIChpbnRlcm5hbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEoQWN0aW9ucywgbmFtZSwgY2FsbGJhY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBBY3Rpb25zW25hbWVdID0gY2FsbGJhY2s7XG4gICAgICB9XG4gIH1cbiAgcmVnaXN0ZXJBY3Rpb24oW1wicmVnaXN0ZXJBY3Rpb25cIiwgcmVnaXN0ZXJBY3Rpb25dLCB0cnVlKTtcblxuICAvKipcbiAgICogV2l0aG91dCB0aGlzIGl0IHdpbGwgb25seSB1bi1wcmVmaXggcHJvcGVydGllcyB0aGF0IGhhdmUgYSB2YWxpZCBcIm5vcm1hbFwiXG4gICAqIHZlcnNpb24uXG4gICAqL1xuICB2YXIgRFVSQVRJT05fRkFTVCA9IDIwMDtcbiAgdmFyIERVUkFUSU9OX05PUk1BTCA9IDQwMDtcbiAgdmFyIERVUkFUSU9OX1NMT1cgPSA2MDA7XG4gIHZhciBGVVpaWV9NU19QRVJfU0VDT05EID0gOTgwO1xuICB2YXIgREVGQVVMVF9DQUNIRSA9IHRydWU7XG4gIHZhciBERUZBVUxUX0RFTEFZID0gMDtcbiAgdmFyIERFRkFVTFRfRFVSQVRJT04gPSBEVVJBVElPTl9OT1JNQUw7XG4gIHZhciBERUZBVUxUX0VBU0lORyA9IFwic3dpbmdcIjtcbiAgdmFyIERFRkFVTFRfRlBTTElNSVQgPSA2MDtcbiAgdmFyIERFRkFVTFRfTE9PUCA9IDA7XG4gIHZhciBERUZBVUxUX1BST01JU0UgPSB0cnVlO1xuICB2YXIgREVGQVVMVF9QUk9NSVNFX1JFSkVDVF9FTVBUWSA9IHRydWU7XG4gIHZhciBERUZBVUxUX1FVRVVFID0gXCJcIjtcbiAgdmFyIERFRkFVTFRfUkVQRUFUID0gMDtcbiAgdmFyIERFRkFVTFRfU1BFRUQgPSAxO1xuICB2YXIgREVGQVVMVF9TWU5DID0gdHJ1ZTtcbiAgdmFyIENMQVNTTkFNRSA9IFwidmVsb2NpdHktYW5pbWF0aW5nXCI7XG4gIHZhciBEdXJhdGlvbiA9IHtcbiAgICBmYXN0OiBEVVJBVElPTl9GQVNULFxuICAgIG5vcm1hbDogRFVSQVRJT05fTk9STUFMLFxuICAgIHNsb3c6IERVUkFUSU9OX1NMT1dcbiAgfTtcblxuICAvLyBQcm9qZWN0XG4gIC8vIENvbnN0YW50c1xuICB2YXIgRWFzaW5ncyA9IHt9O1xuICAvKipcbiAgICogVXNlZCB0byByZWdpc3RlciBhIGVhc2luZy4gVGhpcyBzaG91bGQgbmV2ZXIgYmUgY2FsbGVkIGJ5IHVzZXJzXG4gICAqIGRpcmVjdGx5LCBpbnN0ZWFkIGl0IHNob3VsZCBiZSBjYWxsZWQgdmlhIGFuIGFjdGlvbjo8YnIvPlxuICAgKiA8Y29kZT5WZWxvY2l0eShcInJlZ2lzdGVyRWFzaW5nXCIsIFwibmFtZVwiLCBWZWxvY2l0eUVhc2luZ0ZuKTs8L2NvZGU+XG4gICAqL1xuICBmdW5jdGlvbiByZWdpc3RlckVhc2luZyhhcmdzKSB7XG4gICAgICB2YXIgbmFtZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgY2FsbGJhY2sgPSBhcmdzWzFdO1xuICAgICAgaWYgKCFpc1N0cmluZyhuYW1lKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3JlZ2lzdGVyRWFzaW5nJyBuYW1lIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIG5hbWUpO1xuICAgICAgfSBlbHNlIGlmICghaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdyZWdpc3RlckVhc2luZycgY2FsbGJhY2sgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgbmFtZSwgY2FsbGJhY2spO1xuICAgICAgfSBlbHNlIGlmIChFYXNpbmdzW25hbWVdKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIG92ZXJyaWRlICdyZWdpc3RlckVhc2luZycgY2FsbGJhY2tcIiwgbmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIEVhc2luZ3NbbmFtZV0gPSBjYWxsYmFjaztcbiAgICAgIH1cbiAgfVxuICByZWdpc3RlckFjdGlvbihbXCJyZWdpc3RlckVhc2luZ1wiLCByZWdpc3RlckVhc2luZ10sIHRydWUpO1xuICAvKipcbiAgICogTGluZWFyIGVhc2luZywgdXNlZCBmb3Igc2VxdWVuY2UgcGFydHMgdGhhdCBkb24ndCBoYXZlIGFuIGFjdHVhbCBlYXNpbmdcbiAgICogZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBsaW5lYXJFYXNpbmcocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSwgcHJvcGVydHkpIHtcbiAgICAgIHJldHVybiBzdGFydFZhbHVlICsgcGVyY2VudENvbXBsZXRlICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIFN3aW5nIGlzIHRoZSBkZWZhdWx0IGZvciBqUXVlcnkgYW5kIFZlbG9jaXR5LlxuICAgKi9cbiAgZnVuY3Rpb24gc3dpbmdFYXNpbmcocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHN0YXJ0VmFsdWUgKyAoMC41IC0gTWF0aC5jb3MocGVyY2VudENvbXBsZXRlICogTWF0aC5QSSkgLyAyKSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xuICB9XG4gIC8qKlxuICAgKiBBIGxlc3MgZXhhZ2dlcmF0ZWQgdmVyc2lvbiBvZiBlYXNlSW5PdXRFbGFzdGljLlxuICAgKi9cbiAgZnVuY3Rpb24gc3ByaW5nRWFzaW5nKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUpIHtcbiAgICAgIHJldHVybiBzdGFydFZhbHVlICsgKDEgLSBNYXRoLmNvcyhwZXJjZW50Q29tcGxldGUgKiA0LjUgKiBNYXRoLlBJKSAqIE1hdGguZXhwKC1wZXJjZW50Q29tcGxldGUgKiA2KSkgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcbiAgfVxuICByZWdpc3RlckVhc2luZyhbXCJsaW5lYXJcIiwgbGluZWFyRWFzaW5nXSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcInN3aW5nXCIsIHN3aW5nRWFzaW5nXSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcInNwcmluZ1wiLCBzcHJpbmdFYXNpbmddKTtcblxuICAvLyBQcm9qZWN0XG4gIC8qKlxuICAgKiBGaXggdG8gYSByYW5nZSBvZiA8Y29kZT4wIDw9IG51bSA8PSAxPC9jb2RlPi5cbiAgICovXG4gIGZ1bmN0aW9uIGZpeFJhbmdlKG51bSkge1xuICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG51bSwgMCksIDEpO1xuICB9XG4gIGZ1bmN0aW9uIEEoYUExLCBhQTIpIHtcbiAgICAgIHJldHVybiAxIC0gMyAqIGFBMiArIDMgKiBhQTE7XG4gIH1cbiAgZnVuY3Rpb24gQihhQTEsIGFBMikge1xuICAgICAgcmV0dXJuIDMgKiBhQTIgLSA2ICogYUExO1xuICB9XG4gIGZ1bmN0aW9uIEMoYUExKSB7XG4gICAgICByZXR1cm4gMyAqIGFBMTtcbiAgfVxuICBmdW5jdGlvbiBjYWxjQmV6aWVyKGFULCBhQTEsIGFBMikge1xuICAgICAgcmV0dXJuICgoQShhQTEsIGFBMikgKiBhVCArIEIoYUExLCBhQTIpKSAqIGFUICsgQyhhQTEpKSAqIGFUO1xuICB9XG4gIGZ1bmN0aW9uIGdldFNsb3BlKGFULCBhQTEsIGFBMikge1xuICAgICAgcmV0dXJuIDMgKiBBKGFBMSwgYUEyKSAqIGFUICogYVQgKyAyICogQihhQTEsIGFBMikgKiBhVCArIEMoYUExKTtcbiAgfVxuICBmdW5jdGlvbiBnZW5lcmF0ZUJlemllcigpIHtcbiAgICAgIHZhciBORVdUT05fSVRFUkFUSU9OUyA9IDQsXG4gICAgICAgICAgTkVXVE9OX01JTl9TTE9QRSA9IDAuMDAxLFxuICAgICAgICAgIFNVQkRJVklTSU9OX1BSRUNJU0lPTiA9IDAuMDAwMDAwMSxcbiAgICAgICAgICBTVUJESVZJU0lPTl9NQVhfSVRFUkFUSU9OUyA9IDEwLFxuICAgICAgICAgIGtTcGxpbmVUYWJsZVNpemUgPSAxMSxcbiAgICAgICAgICBrU2FtcGxlU3RlcFNpemUgPSAxIC8gKGtTcGxpbmVUYWJsZVNpemUgLSAxKSxcbiAgICAgICAgICBmbG9hdDMyQXJyYXlTdXBwb3J0ZWQgPSBcIkZsb2F0MzJBcnJheVwiIGluIHdpbmRvdztcbiAgICAgIC8qIE11c3QgY29udGFpbiBmb3VyIGFyZ3MuICovXG5cbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFyZ3MubGVuZ3RoICE9PSA0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLyogQXJncyBtdXN0IGJlIG51bWJlcnMuICovXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7ICsraSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgYXJnc1tpXSAhPT0gXCJudW1iZXJcIiB8fCBpc05hTihhcmdzW2ldKSB8fCAhaXNGaW5pdGUoYXJnc1tpXSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qIFggdmFsdWVzIG11c3QgYmUgaW4gdGhlIFswLCAxXSByYW5nZS4gKi9cbiAgICAgIHZhciBtWDEgPSBmaXhSYW5nZShhcmdzWzBdKTtcbiAgICAgIHZhciBtWTEgPSBhcmdzWzFdO1xuICAgICAgdmFyIG1YMiA9IGZpeFJhbmdlKGFyZ3NbMl0pO1xuICAgICAgdmFyIG1ZMiA9IGFyZ3NbM107XG4gICAgICB2YXIgbVNhbXBsZVZhbHVlcyA9IGZsb2F0MzJBcnJheVN1cHBvcnRlZCA/IG5ldyBGbG9hdDMyQXJyYXkoa1NwbGluZVRhYmxlU2l6ZSkgOiBuZXcgQXJyYXkoa1NwbGluZVRhYmxlU2l6ZSk7XG4gICAgICBmdW5jdGlvbiBuZXd0b25SYXBoc29uSXRlcmF0ZShhWCwgYUd1ZXNzVCkge1xuICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBORVdUT05fSVRFUkFUSU9OUzsgKytfaSkge1xuICAgICAgICAgICAgICB2YXIgY3VycmVudFNsb3BlID0gZ2V0U2xvcGUoYUd1ZXNzVCwgbVgxLCBtWDIpO1xuICAgICAgICAgICAgICBpZiAoY3VycmVudFNsb3BlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYUd1ZXNzVDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgY3VycmVudFggPSBjYWxjQmV6aWVyKGFHdWVzc1QsIG1YMSwgbVgyKSAtIGFYO1xuICAgICAgICAgICAgICBhR3Vlc3NUIC09IGN1cnJlbnRYIC8gY3VycmVudFNsb3BlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYUd1ZXNzVDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGNhbGNTYW1wbGVWYWx1ZXMoKSB7XG4gICAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwga1NwbGluZVRhYmxlU2l6ZTsgKytfaTIpIHtcbiAgICAgICAgICAgICAgbVNhbXBsZVZhbHVlc1tfaTJdID0gY2FsY0JlemllcihfaTIgKiBrU2FtcGxlU3RlcFNpemUsIG1YMSwgbVgyKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBiaW5hcnlTdWJkaXZpZGUoYVgsIGFBLCBhQikge1xuICAgICAgICAgIHZhciBjdXJyZW50WCA9IHZvaWQgMCxcbiAgICAgICAgICAgICAgY3VycmVudFQgPSB2b2lkIDAsXG4gICAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgY3VycmVudFQgPSBhQSArIChhQiAtIGFBKSAvIDI7XG4gICAgICAgICAgICAgIGN1cnJlbnRYID0gY2FsY0JlemllcihjdXJyZW50VCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgICAgICAgICAgIGlmIChjdXJyZW50WCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIGFCID0gY3VycmVudFQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBhQSA9IGN1cnJlbnRUO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSB3aGlsZSAoTWF0aC5hYnMoY3VycmVudFgpID4gU1VCRElWSVNJT05fUFJFQ0lTSU9OICYmICsraSA8IFNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TKTtcbiAgICAgICAgICByZXR1cm4gY3VycmVudFQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBnZXRURm9yWChhWCkge1xuICAgICAgICAgIHZhciBsYXN0U2FtcGxlID0ga1NwbGluZVRhYmxlU2l6ZSAtIDE7XG4gICAgICAgICAgdmFyIGludGVydmFsU3RhcnQgPSAwLFxuICAgICAgICAgICAgICBjdXJyZW50U2FtcGxlID0gMTtcbiAgICAgICAgICBmb3IgKDsgY3VycmVudFNhbXBsZSAhPT0gbGFzdFNhbXBsZSAmJiBtU2FtcGxlVmFsdWVzW2N1cnJlbnRTYW1wbGVdIDw9IGFYOyArK2N1cnJlbnRTYW1wbGUpIHtcbiAgICAgICAgICAgICAgaW50ZXJ2YWxTdGFydCArPSBrU2FtcGxlU3RlcFNpemU7XG4gICAgICAgICAgfVxuICAgICAgICAgIC0tY3VycmVudFNhbXBsZTtcbiAgICAgICAgICB2YXIgZGlzdCA9IChhWCAtIG1TYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pIC8gKG1TYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZSArIDFdIC0gbVNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSksXG4gICAgICAgICAgICAgIGd1ZXNzRm9yVCA9IGludGVydmFsU3RhcnQgKyBkaXN0ICoga1NhbXBsZVN0ZXBTaXplLFxuICAgICAgICAgICAgICBpbml0aWFsU2xvcGUgPSBnZXRTbG9wZShndWVzc0ZvclQsIG1YMSwgbVgyKTtcbiAgICAgICAgICBpZiAoaW5pdGlhbFNsb3BlID49IE5FV1RPTl9NSU5fU0xPUEUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG5ld3RvblJhcGhzb25JdGVyYXRlKGFYLCBndWVzc0ZvclQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaW5pdGlhbFNsb3BlID09PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBndWVzc0ZvclQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGJpbmFyeVN1YmRpdmlkZShhWCwgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxTdGFydCArIGtTYW1wbGVTdGVwU2l6ZSk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHByZWNvbXB1dGVkID0gZmFsc2U7XG4gICAgICBmdW5jdGlvbiBwcmVjb21wdXRlKCkge1xuICAgICAgICAgIHByZWNvbXB1dGVkID0gdHJ1ZTtcbiAgICAgICAgICBpZiAobVgxICE9PSBtWTEgfHwgbVgyICE9PSBtWTIpIHtcbiAgICAgICAgICAgICAgY2FsY1NhbXBsZVZhbHVlcygpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBzdHIgPSBcImdlbmVyYXRlQmV6aWVyKFwiICsgW21YMSwgbVkxLCBtWDIsIG1ZMl0gKyBcIilcIixcbiAgICAgICAgICBmID0gZnVuY3Rpb24gZihwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBwcm9wZXJ0eSkge1xuICAgICAgICAgIGlmICghcHJlY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgcHJlY29tcHV0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzdGFydFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlbmRWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1YMSA9PT0gbVkxICYmIG1YMiA9PT0gbVkyKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzdGFydFZhbHVlICsgcGVyY2VudENvbXBsZXRlICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzdGFydFZhbHVlICsgY2FsY0JlemllcihnZXRURm9yWChwZXJjZW50Q29tcGxldGUpLCBtWTEsIG1ZMikgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcbiAgICAgIH07XG4gICAgICBmLmdldENvbnRyb2xQb2ludHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIFt7IHg6IG1YMSwgeTogbVkxIH0sIHsgeDogbVgyLCB5OiBtWTIgfV07XG4gICAgICB9O1xuICAgICAgZi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBmO1xuICB9XG4gIC8qIENvbW1vbiBlYXNpbmdzICovXG4gIHZhciBlYXNlSW4gPSBnZW5lcmF0ZUJlemllcigwLjQyLCAwLCAxLCAxKSxcbiAgICAgIGVhc2VPdXQgPSBnZW5lcmF0ZUJlemllcigwLCAwLCAwLjU4LCAxKSxcbiAgICAgIGVhc2VJbk91dCA9IGdlbmVyYXRlQmV6aWVyKDAuNDIsIDAsIDAuNTgsIDEpO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlXCIsIGdlbmVyYXRlQmV6aWVyKDAuMjUsIDAuMSwgMC4yNSwgMSldKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluXCIsIGVhc2VJbl0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlLWluXCIsIGVhc2VJbl0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlT3V0XCIsIGVhc2VPdXRdKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZS1vdXRcIiwgZWFzZU91dF0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5PdXRcIiwgZWFzZUluT3V0XSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2UtaW4tb3V0XCIsIGVhc2VJbk91dF0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5TaW5lXCIsIGdlbmVyYXRlQmV6aWVyKDAuNDcsIDAsIDAuNzQ1LCAwLjcxNSldKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZU91dFNpbmVcIiwgZ2VuZXJhdGVCZXppZXIoMC4zOSwgMC41NzUsIDAuNTY1LCAxKV0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5PdXRTaW5lXCIsIGdlbmVyYXRlQmV6aWVyKDAuNDQ1LCAwLjA1LCAwLjU1LCAwLjk1KV0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5RdWFkXCIsIGdlbmVyYXRlQmV6aWVyKDAuNTUsIDAuMDg1LCAwLjY4LCAwLjUzKV0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlT3V0UXVhZFwiLCBnZW5lcmF0ZUJlemllcigwLjI1LCAwLjQ2LCAwLjQ1LCAwLjk0KV0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5PdXRRdWFkXCIsIGdlbmVyYXRlQmV6aWVyKDAuNDU1LCAwLjAzLCAwLjUxNSwgMC45NTUpXSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJbkN1YmljXCIsIGdlbmVyYXRlQmV6aWVyKDAuNTUsIDAuMDU1LCAwLjY3NSwgMC4xOSldKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZU91dEN1YmljXCIsIGdlbmVyYXRlQmV6aWVyKDAuMjE1LCAwLjYxLCAwLjM1NSwgMSldKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluT3V0Q3ViaWNcIiwgZ2VuZXJhdGVCZXppZXIoMC42NDUsIDAuMDQ1LCAwLjM1NSwgMSldKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluUXVhcnRcIiwgZ2VuZXJhdGVCZXppZXIoMC44OTUsIDAuMDMsIDAuNjg1LCAwLjIyKV0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlT3V0UXVhcnRcIiwgZ2VuZXJhdGVCZXppZXIoMC4xNjUsIDAuODQsIDAuNDQsIDEpXSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJbk91dFF1YXJ0XCIsIGdlbmVyYXRlQmV6aWVyKDAuNzcsIDAsIDAuMTc1LCAxKV0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5RdWludFwiLCBnZW5lcmF0ZUJlemllcigwLjc1NSwgMC4wNSwgMC44NTUsIDAuMDYpXSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VPdXRRdWludFwiLCBnZW5lcmF0ZUJlemllcigwLjIzLCAxLCAwLjMyLCAxKV0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5PdXRRdWludFwiLCBnZW5lcmF0ZUJlemllcigwLjg2LCAwLCAwLjA3LCAxKV0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5FeHBvXCIsIGdlbmVyYXRlQmV6aWVyKDAuOTUsIDAuMDUsIDAuNzk1LCAwLjAzNSldKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZU91dEV4cG9cIiwgZ2VuZXJhdGVCZXppZXIoMC4xOSwgMSwgMC4yMiwgMSldKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluT3V0RXhwb1wiLCBnZW5lcmF0ZUJlemllcigxLCAwLCAwLCAxKV0pO1xuICByZWdpc3RlckVhc2luZyhbXCJlYXNlSW5DaXJjXCIsIGdlbmVyYXRlQmV6aWVyKDAuNiwgMC4wNCwgMC45OCwgMC4zMzUpXSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VPdXRDaXJjXCIsIGdlbmVyYXRlQmV6aWVyKDAuMDc1LCAwLjgyLCAwLjE2NSwgMSldKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZUluT3V0Q2lyY1wiLCBnZW5lcmF0ZUJlemllcigwLjc4NSwgMC4xMzUsIDAuMTUsIDAuODYpXSk7XG5cbiAgLyogUnVuZ2UtS3V0dGEgc3ByaW5nIHBoeXNpY3MgZnVuY3Rpb24gZ2VuZXJhdG9yLiBBZGFwdGVkIGZyb20gRnJhbWVyLmpzLCBjb3B5cmlnaHQgS29lbiBCb2suIE1JVCBMaWNlbnNlOiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01JVF9MaWNlbnNlICovXG4gIC8qIEdpdmVuIGEgdGVuc2lvbiwgZnJpY3Rpb24sIGFuZCBkdXJhdGlvbiwgYSBzaW11bGF0aW9uIGF0IDYwRlBTIHdpbGwgZmlyc3QgcnVuIHdpdGhvdXQgYSBkZWZpbmVkIGR1cmF0aW9uIGluIG9yZGVyIHRvIGNhbGN1bGF0ZSB0aGUgZnVsbCBwYXRoLiBBIHNlY29uZCBwYXNzXG4gICB0aGVuIGFkanVzdHMgdGhlIHRpbWUgZGVsdGEgLS0gdXNpbmcgdGhlIHJlbGF0aW9uIGJldHdlZW4gYWN0dWFsIHRpbWUgYW5kIGR1cmF0aW9uIC0tIHRvIGNhbGN1bGF0ZSB0aGUgcGF0aCBmb3IgdGhlIGR1cmF0aW9uLWNvbnN0cmFpbmVkIGFuaW1hdGlvbi4gKi9cbiAgZnVuY3Rpb24gc3ByaW5nQWNjZWxlcmF0aW9uRm9yU3RhdGUoc3RhdGUpIHtcbiAgICAgIHJldHVybiAtc3RhdGUudGVuc2lvbiAqIHN0YXRlLnggLSBzdGF0ZS5mcmljdGlvbiAqIHN0YXRlLnY7XG4gIH1cbiAgZnVuY3Rpb24gc3ByaW5nRXZhbHVhdGVTdGF0ZVdpdGhEZXJpdmF0aXZlKGluaXRpYWxTdGF0ZSwgZHQsIGRlcml2YXRpdmUpIHtcbiAgICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgICAgICB4OiBpbml0aWFsU3RhdGUueCArIGRlcml2YXRpdmUuZHggKiBkdCxcbiAgICAgICAgICB2OiBpbml0aWFsU3RhdGUudiArIGRlcml2YXRpdmUuZHYgKiBkdCxcbiAgICAgICAgICB0ZW5zaW9uOiBpbml0aWFsU3RhdGUudGVuc2lvbixcbiAgICAgICAgICBmcmljdGlvbjogaW5pdGlhbFN0YXRlLmZyaWN0aW9uXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkeDogc3RhdGUudixcbiAgICAgICAgICBkdjogc3ByaW5nQWNjZWxlcmF0aW9uRm9yU3RhdGUoc3RhdGUpXG4gICAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHNwcmluZ0ludGVncmF0ZVN0YXRlKHN0YXRlLCBkdCkge1xuICAgICAgdmFyIGEgPSB7XG4gICAgICAgICAgZHg6IHN0YXRlLnYsXG4gICAgICAgICAgZHY6IHNwcmluZ0FjY2VsZXJhdGlvbkZvclN0YXRlKHN0YXRlKVxuICAgICAgfSxcbiAgICAgICAgICBiID0gc3ByaW5nRXZhbHVhdGVTdGF0ZVdpdGhEZXJpdmF0aXZlKHN0YXRlLCBkdCAqIDAuNSwgYSksXG4gICAgICAgICAgYyA9IHNwcmluZ0V2YWx1YXRlU3RhdGVXaXRoRGVyaXZhdGl2ZShzdGF0ZSwgZHQgKiAwLjUsIGIpLFxuICAgICAgICAgIGQgPSBzcHJpbmdFdmFsdWF0ZVN0YXRlV2l0aERlcml2YXRpdmUoc3RhdGUsIGR0LCBjKSxcbiAgICAgICAgICBkeGR0ID0gMSAvIDYgKiAoYS5keCArIDIgKiAoYi5keCArIGMuZHgpICsgZC5keCksXG4gICAgICAgICAgZHZkdCA9IDEgLyA2ICogKGEuZHYgKyAyICogKGIuZHYgKyBjLmR2KSArIGQuZHYpO1xuICAgICAgc3RhdGUueCA9IHN0YXRlLnggKyBkeGR0ICogZHQ7XG4gICAgICBzdGF0ZS52ID0gc3RhdGUudiArIGR2ZHQgKiBkdDtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuICBmdW5jdGlvbiBnZW5lcmF0ZVNwcmluZ1JLNCh0ZW5zaW9uLCBmcmljdGlvbiwgZHVyYXRpb24pIHtcbiAgICAgIHZhciBpbml0U3RhdGUgPSB7XG4gICAgICAgICAgeDogLTEsXG4gICAgICAgICAgdjogMCxcbiAgICAgICAgICB0ZW5zaW9uOiBwYXJzZUZsb2F0KHRlbnNpb24pIHx8IDUwMCxcbiAgICAgICAgICBmcmljdGlvbjogcGFyc2VGbG9hdChmcmljdGlvbikgfHwgMjBcbiAgICAgIH0sXG4gICAgICAgICAgcGF0aCA9IFswXSxcbiAgICAgICAgICB0b2xlcmFuY2UgPSAxIC8gMTAwMDAsXG4gICAgICAgICAgRFQgPSAxNiAvIDEwMDAsXG4gICAgICAgICAgaGF2ZUR1cmF0aW9uID0gZHVyYXRpb24gIT0gbnVsbDsgLy8gZGVsaWJlcmF0ZSBcIj09XCIsIGFzIHVuZGVmaW5lZCA9PSBudWxsICE9IDBcbiAgICAgIHZhciB0aW1lTGFwc2VkID0gMCxcbiAgICAgICAgICBkdCA9IHZvaWQgMCxcbiAgICAgICAgICBsYXN0U3RhdGUgPSB2b2lkIDA7XG4gICAgICAvKiBDYWxjdWxhdGUgdGhlIGFjdHVhbCB0aW1lIGl0IHRha2VzIGZvciB0aGlzIGFuaW1hdGlvbiB0byBjb21wbGV0ZSB3aXRoIHRoZSBwcm92aWRlZCBjb25kaXRpb25zLiAqL1xuICAgICAgaWYgKGhhdmVEdXJhdGlvbikge1xuICAgICAgICAgIC8qIFJ1biB0aGUgc2ltdWxhdGlvbiB3aXRob3V0IGEgZHVyYXRpb24uICovXG4gICAgICAgICAgdGltZUxhcHNlZCA9IGdlbmVyYXRlU3ByaW5nUks0KGluaXRTdGF0ZS50ZW5zaW9uLCBpbml0U3RhdGUuZnJpY3Rpb24pO1xuICAgICAgICAgIC8qIENvbXB1dGUgdGhlIGFkanVzdGVkIHRpbWUgZGVsdGEuICovXG4gICAgICAgICAgZHQgPSB0aW1lTGFwc2VkIC8gZHVyYXRpb24gKiBEVDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZHQgPSBEVDtcbiAgICAgIH1cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgLyogTmV4dC9zdGVwIGZ1bmN0aW9uIC4qL1xuICAgICAgICAgIGxhc3RTdGF0ZSA9IHNwcmluZ0ludGVncmF0ZVN0YXRlKGxhc3RTdGF0ZSB8fCBpbml0U3RhdGUsIGR0KTtcbiAgICAgICAgICAvKiBTdG9yZSB0aGUgcG9zaXRpb24uICovXG4gICAgICAgICAgcGF0aC5wdXNoKDEgKyBsYXN0U3RhdGUueCk7XG4gICAgICAgICAgdGltZUxhcHNlZCArPSAxNjtcbiAgICAgICAgICAvKiBJZiB0aGUgY2hhbmdlIHRocmVzaG9sZCBpcyByZWFjaGVkLCBicmVhay4gKi9cbiAgICAgICAgICBpZiAoIShNYXRoLmFicyhsYXN0U3RhdGUueCkgPiB0b2xlcmFuY2UgJiYgTWF0aC5hYnMobGFzdFN0YXRlLnYpID4gdG9sZXJhbmNlKSkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKiBJZiBkdXJhdGlvbiBpcyBub3QgZGVmaW5lZCwgcmV0dXJuIHRoZSBhY3R1YWwgdGltZSByZXF1aXJlZCBmb3IgY29tcGxldGluZyB0aGlzIGFuaW1hdGlvbi4gT3RoZXJ3aXNlLCByZXR1cm4gYSBjbG9zdXJlIHRoYXQgaG9sZHMgdGhlXG4gICAgICAgY29tcHV0ZWQgcGF0aCBhbmQgcmV0dXJucyBhIHNuYXBzaG90IG9mIHRoZSBwb3NpdGlvbiBhY2NvcmRpbmcgdG8gYSBnaXZlbiBwZXJjZW50Q29tcGxldGUuICovXG4gICAgICByZXR1cm4gIWhhdmVEdXJhdGlvbiA/IHRpbWVMYXBzZWQgOiBmdW5jdGlvbiAocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xuICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZSArIHBhdGhbTWF0aC5mbG9vcihwZXJjZW50Q29tcGxldGUgKiAocGF0aC5sZW5ndGggLSAxKSldICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XG4gICAgICB9O1xuICB9XG5cbiAgLy8gQ29uc3RhbnRzXG4gIHZhciBjYWNoZSA9IHt9O1xuICBmdW5jdGlvbiBnZW5lcmF0ZVN0ZXAoc3RlcHMpIHtcbiAgICAgIHZhciBmbiA9IGNhY2hlW3N0ZXBzXTtcbiAgICAgIGlmIChmbikge1xuICAgICAgICAgIHJldHVybiBmbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjYWNoZVtzdGVwc10gPSBmdW5jdGlvbiAocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xuICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZSArIE1hdGgucm91bmQocGVyY2VudENvbXBsZXRlICogc3RlcHMpICogKDEgLyBzdGVwcykgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcbiAgICAgIH07XG4gIH1cblxuICAvLyBQcm9qZWN0XG4gIC8qKlxuICAgKiBQYXJzZSBhIGR1cmF0aW9uIHZhbHVlIGFuZCByZXR1cm4gYW4gbXMgbnVtYmVyLiBPcHRpb25hbGx5IHJldHVybiBhXG4gICAqIGRlZmF1bHQgdmFsdWUgaWYgdGhlIG51bWJlciBpcyBub3QgdmFsaWQuXG4gICAqL1xuICBmdW5jdGlvbiBwYXJzZUR1cmF0aW9uKGR1cmF0aW9uLCBkZWYpIHtcbiAgICAgIGlmIChpc051bWJlcihkdXJhdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gZHVyYXRpb247XG4gICAgICB9XG4gICAgICBpZiAoaXNTdHJpbmcoZHVyYXRpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIER1cmF0aW9uW2R1cmF0aW9uLnRvTG93ZXJDYXNlKCldIHx8IHBhcnNlRmxvYXQoZHVyYXRpb24ucmVwbGFjZShcIm1zXCIsIFwiXCIpLnJlcGxhY2UoXCJzXCIsIFwiMDAwXCIpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWYgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHBhcnNlRHVyYXRpb24oZGVmKTtcbiAgfVxuICAvKipcbiAgICogVmFsaWRhdGUgYSA8Y29kZT5jYWNoZTwvY29kZT4gb3B0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gdmFsaWRhdGVDYWNoZSh2YWx1ZSkge1xuICAgICAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ2NhY2hlJyB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCB2YWx1ZSk7XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFZhbGlkYXRlIGEgPGNvZGU+YmVnaW48L2NvZGU+IG9wdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIHZhbGlkYXRlQmVnaW4odmFsdWUpIHtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAnYmVnaW4nIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogVmFsaWRhdGUgYSA8Y29kZT5jb21wbGV0ZTwvY29kZT4gb3B0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gdmFsaWRhdGVDb21wbGV0ZSh2YWx1ZSwgbm9FcnJvcikge1xuICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgIW5vRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdjb21wbGV0ZScgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPmRlbGF5PC9jb2RlPiBvcHRpb24uXG4gICAqL1xuICBmdW5jdGlvbiB2YWxpZGF0ZURlbGF5KHZhbHVlKSB7XG4gICAgICB2YXIgcGFyc2VkID0gcGFyc2VEdXJhdGlvbih2YWx1ZSk7XG4gICAgICBpZiAoIWlzTmFOKHBhcnNlZCkpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAnZGVsYXknIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogVmFsaWRhdGUgYSA8Y29kZT5kdXJhdGlvbjwvY29kZT4gb3B0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gdmFsaWRhdGVEdXJhdGlvbih2YWx1ZSwgbm9FcnJvcikge1xuICAgICAgdmFyIHBhcnNlZCA9IHBhcnNlRHVyYXRpb24odmFsdWUpO1xuICAgICAgaWYgKCFpc05hTihwYXJzZWQpICYmIHBhcnNlZCA+PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmICFub0Vycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ2R1cmF0aW9uJyB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCB2YWx1ZSk7XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFZhbGlkYXRlIGEgPGNvZGU+ZWFzaW5nPC9jb2RlPiBvcHRpb24uXG4gICAqL1xuICBmdW5jdGlvbiB2YWxpZGF0ZUVhc2luZyh2YWx1ZSwgZHVyYXRpb24sIG5vRXJyb3IpIHtcbiAgICAgIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgICAvLyBOYW1lZCBlYXNpbmdcbiAgICAgICAgICByZXR1cm4gRWFzaW5nc1t2YWx1ZV07XG4gICAgICB9XG4gICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICAvLyBUT0RPOiBXZSBzaG91bGQgb25seSBkbyB0aGVzZSBpZiB0aGUgY29ycmVjdCBmdW5jdGlvbiBleGlzdHMgLSBkb24ndCBmb3JjZSBsb2FkaW5nLlxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAvLyBTdGVwc1xuICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVTdGVwKHZhbHVlWzBdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAvLyBzcHJpbmdSSzQgbXVzdCBiZSBwYXNzZWQgdGhlIGFuaW1hdGlvbidzIGR1cmF0aW9uLlxuICAgICAgICAgICAgICAvLyBOb3RlOiBJZiB0aGUgc3ByaW5nUks0IGFycmF5IGNvbnRhaW5zIG5vbi1udW1iZXJzLFxuICAgICAgICAgICAgICAvLyBnZW5lcmF0ZVNwcmluZ1JLNCgpIHJldHVybnMgYW4gZWFzaW5nIGZ1bmN0aW9uIGdlbmVyYXRlZCB3aXRoXG4gICAgICAgICAgICAgIC8vIGRlZmF1bHQgdGVuc2lvbiBhbmQgZnJpY3Rpb24gdmFsdWVzLlxuICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVTcHJpbmdSSzQodmFsdWVbMF0sIHZhbHVlWzFdLCBkdXJhdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICAgICAgLy8gTm90ZTogSWYgdGhlIGJlemllciBhcnJheSBjb250YWlucyBub24tbnVtYmVycywgZ2VuZXJhdGVCZXppZXIoKVxuICAgICAgICAgICAgICAvLyByZXR1cm5zIHVuZGVmaW5lZC5cbiAgICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlQmV6aWVyLmFwcGx5KG51bGwsIHZhbHVlKSB8fCBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiAhbm9FcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdlYXNpbmcnIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogVmFsaWRhdGUgYSA8Y29kZT5mcHNMaW1pdDwvY29kZT4gb3B0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gdmFsaWRhdGVGcHNMaW1pdCh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZCkgJiYgcGFyc2VkID49IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKHBhcnNlZCwgNjApO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAnZnBzTGltaXQnIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogVmFsaWRhdGUgYSA8Y29kZT5sb29wPC9jb2RlPiBvcHRpb24uXG4gICAqL1xuICBmdW5jdGlvbiB2YWxpZGF0ZUxvb3AodmFsdWUpIHtcbiAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICBjYXNlIGZhbHNlOlxuICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICBjYXNlIHRydWU6XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHZhciBwYXJzZWQgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZCkgJiYgcGFyc2VkID49IDApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ2xvb3AnIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogVmFsaWRhdGUgYSA8Y29kZT5wcm9ncmVzczwvY29kZT4gb3B0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gdmFsaWRhdGVQcm9ncmVzcyh2YWx1ZSkge1xuICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdwcm9ncmVzcycgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPnByb21pc2U8L2NvZGU+IG9wdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIHZhbGlkYXRlUHJvbWlzZSh2YWx1ZSkge1xuICAgICAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3Byb21pc2UnIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogVmFsaWRhdGUgYSA8Y29kZT5wcm9taXNlUmVqZWN0RW1wdHk8L2NvZGU+IG9wdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIHZhbGlkYXRlUHJvbWlzZVJlamVjdEVtcHR5KHZhbHVlKSB7XG4gICAgICBpZiAoaXNCb29sZWFuKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncHJvbWlzZVJlamVjdEVtcHR5JyB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCB2YWx1ZSk7XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFZhbGlkYXRlIGEgPGNvZGU+cXVldWU8L2NvZGU+IG9wdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIHZhbGlkYXRlUXVldWUodmFsdWUsIG5vRXJyb3IpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgIW5vRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0ICdxdWV1ZScgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPnJlcGVhdDwvY29kZT4gb3B0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gdmFsaWRhdGVSZXBlYXQodmFsdWUpIHtcbiAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICBjYXNlIGZhbHNlOlxuICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICBjYXNlIHRydWU6XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHZhciBwYXJzZWQgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZCkgJiYgcGFyc2VkID49IDApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3JlcGVhdCcgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBhIDxjb2RlPnNwZWVkPC9jb2RlPiBvcHRpb24uXG4gICAqL1xuICBmdW5jdGlvbiB2YWxpZGF0ZVNwZWVkKHZhbHVlKSB7XG4gICAgICBpZiAoaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAnc3BlZWQnIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIHZhbHVlKTtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogVmFsaWRhdGUgYSA8Y29kZT5zeW5jPC9jb2RlPiBvcHRpb24uXG4gICAqL1xuICBmdW5jdGlvbiB2YWxpZGF0ZVN5bmModmFsdWUpIHtcbiAgICAgIGlmIChpc0Jvb2xlYW4odmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAnc3luYycgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgdmFsdWUpO1xuICAgICAgfVxuICB9XG5cbiAgLy8gUHJvamVjdFxuICAvLyBOT1RFOiBBZGQgdGhlIHZhcmlhYmxlIGhlcmUsIHRoZW4gYWRkIHRoZSBkZWZhdWx0IHN0YXRlIGluIFwicmVzZXRcIiBiZWxvdy5cbiAgdmFyIGNhY2hlJDEgPSB2b2lkIDAsXG4gICAgICBiZWdpbiA9IHZvaWQgMCxcbiAgICAgIGNvbXBsZXRlID0gdm9pZCAwLFxuICAgICAgZGVsYXkgPSB2b2lkIDAsXG4gICAgICBkdXJhdGlvbiA9IHZvaWQgMCxcbiAgICAgIGVhc2luZyA9IHZvaWQgMCxcbiAgICAgIGZwc0xpbWl0ID0gdm9pZCAwLFxuICAgICAgbG9vcCA9IHZvaWQgMCxcbiAgICAgIG1vYmlsZUhBID0gdm9pZCAwLFxuICAgICAgbWluRnJhbWVUaW1lID0gdm9pZCAwLFxuICAgICAgcHJvbWlzZSA9IHZvaWQgMCxcbiAgICAgIHByb21pc2VSZWplY3RFbXB0eSA9IHZvaWQgMCxcbiAgICAgIHF1ZXVlID0gdm9pZCAwLFxuICAgICAgcmVwZWF0ID0gdm9pZCAwLFxuICAgICAgc3BlZWQgPSB2b2lkIDAsXG4gICAgICBzeW5jID0gdm9pZCAwO1xuICB2YXIgZGVmYXVsdHMkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGRlZmF1bHRzJCQxKCkge1xuICAgICAgICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIGRlZmF1bHRzJCQxKTtcbiAgICAgIH1cblxuICAgICAgY3JlYXRlQ2xhc3MoZGVmYXVsdHMkJDEsIG51bGwsIFt7XG4gICAgICAgICAga2V5OiBcInJlc2V0XCIsXG4gICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICAgICAgICBjYWNoZSQxID0gREVGQVVMVF9DQUNIRTtcbiAgICAgICAgICAgICAgYmVnaW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIGNvbXBsZXRlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICBkZWxheSA9IERFRkFVTFRfREVMQVk7XG4gICAgICAgICAgICAgIGR1cmF0aW9uID0gREVGQVVMVF9EVVJBVElPTjtcbiAgICAgICAgICAgICAgZWFzaW5nID0gdmFsaWRhdGVFYXNpbmcoREVGQVVMVF9FQVNJTkcsIERFRkFVTFRfRFVSQVRJT04pO1xuICAgICAgICAgICAgICBmcHNMaW1pdCA9IERFRkFVTFRfRlBTTElNSVQ7XG4gICAgICAgICAgICAgIGxvb3AgPSBERUZBVUxUX0xPT1A7XG4gICAgICAgICAgICAgIG1pbkZyYW1lVGltZSA9IEZVWlpZX01TX1BFUl9TRUNPTkQgLyBERUZBVUxUX0ZQU0xJTUlUO1xuICAgICAgICAgICAgICBwcm9taXNlID0gREVGQVVMVF9QUk9NSVNFO1xuICAgICAgICAgICAgICBwcm9taXNlUmVqZWN0RW1wdHkgPSBERUZBVUxUX1BST01JU0VfUkVKRUNUX0VNUFRZO1xuICAgICAgICAgICAgICBxdWV1ZSA9IERFRkFVTFRfUVVFVUU7XG4gICAgICAgICAgICAgIHJlcGVhdCA9IERFRkFVTFRfUkVQRUFUO1xuICAgICAgICAgICAgICBzcGVlZCA9IERFRkFVTFRfU1BFRUQ7XG4gICAgICAgICAgICAgIHN5bmMgPSBERUZBVUxUX1NZTkM7XG4gICAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAgIGtleTogXCJjYWNoZVwiLFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgICByZXR1cm4gY2FjaGUkMTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVDYWNoZSh2YWx1ZSk7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICBjYWNoZSQxID0gdmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICAga2V5OiBcImJlZ2luXCIsXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBiZWdpbjtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVCZWdpbih2YWx1ZSk7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICBiZWdpbiA9IHZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAgIGtleTogXCJjb21wbGV0ZVwiLFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgICByZXR1cm4gY29tcGxldGU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlQ29tcGxldGUodmFsdWUpO1xuICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgY29tcGxldGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgICBrZXk6IFwiZGVsYXlcIixcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRlbGF5O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZURlbGF5KHZhbHVlKTtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIGRlbGF5ID0gdmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICAga2V5OiBcImR1cmF0aW9uXCIsXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkdXJhdGlvbjtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVEdXJhdGlvbih2YWx1ZSk7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAgIGtleTogXCJlYXNpbmdcIixcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVhc2luZztcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVFYXNpbmcodmFsdWUsIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIGVhc2luZyA9IHZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAgIGtleTogXCJmcHNMaW1pdFwiLFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgICByZXR1cm4gZnBzTGltaXQ7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlRnBzTGltaXQodmFsdWUpO1xuICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgZnBzTGltaXQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgIG1pbkZyYW1lVGltZSA9IEZVWlpZX01TX1BFUl9TRUNPTkQgLyB2YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgICBrZXk6IFwibG9vcFwiLFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgICByZXR1cm4gbG9vcDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVMb29wKHZhbHVlKTtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIGxvb3AgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgICBrZXk6IFwibW9iaWxlSEFcIixcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1vYmlsZUhBO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgICAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgIG1vYmlsZUhBID0gdmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICAga2V5OiBcIm1pbkZyYW1lVGltZVwiLFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgICByZXR1cm4gbWluRnJhbWVUaW1lO1xuICAgICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgICBrZXk6IFwicHJvbWlzZVwiLFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0JCQxKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVQcm9taXNlKHZhbHVlKTtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIHByb21pc2UgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgICBrZXk6IFwicHJvbWlzZVJlamVjdEVtcHR5XCIsXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0RW1wdHk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlUHJvbWlzZVJlamVjdEVtcHR5KHZhbHVlKTtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIHByb21pc2VSZWplY3RFbXB0eSA9IHZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAgIGtleTogXCJxdWV1ZVwiLFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgICByZXR1cm4gcXVldWU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlUXVldWUodmFsdWUpO1xuICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgcXVldWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgICBrZXk6IFwicmVwZWF0XCIsXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXBlYXQ7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlUmVwZWF0KHZhbHVlKTtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIHJlcGVhdCA9IHZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAgIGtleTogXCJyZXBlYXRBZ2FpblwiLFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgICByZXR1cm4gcmVwZWF0O1xuICAgICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgICBrZXk6IFwic3BlZWRcIixcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNwZWVkO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZVNwZWVkKHZhbHVlKTtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIHNwZWVkID0gdmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICAga2V5OiBcInN5bmNcIixcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN5bmM7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCQkMSh2YWx1ZSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlU3luYyh2YWx1ZSk7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICBzeW5jID0gdmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XSk7XG4gICAgICByZXR1cm4gZGVmYXVsdHMkJDE7XG4gIH0oKTtcbiAgT2JqZWN0LmZyZWV6ZShkZWZhdWx0cyQxKTtcbiAgLy8gUmVzZXQgdG8gb3VyIGRlZmF1bHQgdmFsdWVzLCBjdXJyZW50bHkgZXZlcnl0aGluZyBpcyB1bmRlZmluZWQuXG4gIGRlZmF1bHRzJDEucmVzZXQoKTtcblxuICAvKipcbiAgICogVGhlIGhpZ2hlc3QgdHlwZSBpbmRleCBmb3IgZmluZGluZyB0aGUgYmVzdCBub3JtYWxpemF0aW9uIGZvciBhIHByb3BlcnR5LlxuICAgKi9cbiAgLyoqXG4gICAqIFVubGlrZSBcImFjdGlvbnNcIiwgbm9ybWFsaXphdGlvbnMgY2FuIGFsd2F5cyBiZSByZXBsYWNlZCBieSB1c2Vycy5cbiAgICovXG4gIHZhciBOb3JtYWxpemF0aW9ucyA9IFtdO1xuICAvKipcbiAgICogU3RvcmUgYSBjcm9zcy1yZWZlcmVuY2UgdG8gdW5pdHMgdG8gYmUgYWRkZWQgdG8gc3BlY2lmaWMgbm9ybWFsaXphdGlvblxuICAgKiBmdW5jdGlvbnMgaWYgdGhlIHVzZXIgc3VwcGxpZXMgYSB1bml0LWxlc3MgbnVtYmVyLlxuICAgKlxuICAgKiBUaGlzIGlzIHByZXR0eSBtdWNoIGNvbmZpbmVkIHRvIGFkZGluZyBcInB4XCIgdG8gc2V2ZXJhbCBjc3MgcHJvcGVydGllcy5cbiAgICovXG4gIHZhciBOb3JtYWxpemF0aW9uVW5pdHMgPSB7fTtcbiAgLyoqXG4gICAqIEFueSBub3JtYWxpc2F0aW9ucyB0aGF0IHNob3VsZCBuZXZlciBiZSBjYWNoZWQgYXJlIGxpc3RlZCBoZXJlLlxuICAgKiBGYXN0ZXIgdGhhbiBhbiBhcnJheSAtIGh0dHBzOi8vanNwZXJmLmNvbS9hcnJheS1pbmNsdWRlcy1hbmQtZmluZC1tZXRob2RzLXZzLXNldC1oYXNcbiAgICovXG4gIHZhciBOb0NhY2hlTm9ybWFsaXphdGlvbnMgPSBuZXcgU2V0KCk7XG4gIC8qKlxuICAgKiBBbiBhcnJheSBvZiBjbGFzc2VzIHVzZWQgZm9yIHRoZSBwZXItY2xhc3Mgbm9ybWFsaXphdGlvbnMuIFRoaXNcbiAgICogdHJhbnNsYXRlcyBpbnRvIGEgYml0d2lzZSBlbnVtIGZvciBxdWljayBjcm9zcy1yZWZlcmVuY2UsIGFuZCBzbyB0aGF0XG4gICAqIHRoZSBlbGVtZW50IGRvZXNuJ3QgbmVlZCBtdWx0aXBsZSA8Y29kZT5pbnN0YW5jZW9mPC9jb2RlPiBjYWxscyBldmVyeVxuICAgKiBmcmFtZS5cbiAgICovXG4gIHZhciBjb25zdHJ1Y3RvcnMgPSBbXTtcbiAgLyoqXG4gICAqIEEgY2FjaGUgb2YgdGhlIHZhcmlvdXMgY29uc3RydWN0b3JzIHdlJ3ZlIGZvdW5kIGFuZCBtYXBwaW5nIHRvIHRoZWlyIHJlYWxcbiAgICogbmFtZSAtIHNhdmVzIGV4cGVuc2l2ZSBsb29rdXBzLlxuICAgKi9cbiAgdmFyIGNvbnN0cnVjdG9yQ2FjaGUgPSBuZXcgTWFwKCk7XG5cbiAgLy8gUHJvamVjdFxuICAvLyBDb25zdGFudHNcbiAgdmFyIGRhdGFOYW1lID0gXCJ2ZWxvY2l0eURhdGFcIjtcbiAgLyoqXG4gICAqIEdldCAoYW5kIGNyZWF0ZSkgdGhlIGludGVybmFsIGRhdGEgc3RvcmUgZm9yIGFuIGVsZW1lbnQuXG4gICAqL1xuICBmdW5jdGlvbiBEYXRhKGVsZW1lbnQpIHtcbiAgICAgIC8vIFVzZSBhIHN0cmluZyBtZW1iZXIgc28gVWdsaWZ5IGRvZXNuJ3QgbWFuZ2xlIGl0LlxuICAgICAgdmFyIGRhdGEgPSBlbGVtZW50W2RhdGFOYW1lXTtcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9XG4gICAgICB2YXIgd2luZG93ID0gZWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuICAgICAgdmFyIHR5cGVzID0gMDtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBjb25zdHJ1Y3RvcnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgdmFyIF9jb25zdHJ1Y3RvciA9IGNvbnN0cnVjdG9yc1tpbmRleF07XG4gICAgICAgICAgaWYgKGlzU3RyaW5nKF9jb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiB3aW5kb3dbX2NvbnN0cnVjdG9yXSkge1xuICAgICAgICAgICAgICAgICAgdHlwZXMgfD0gMSA8PCBpbmRleDsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBfY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgdHlwZXMgfD0gMSA8PCBpbmRleDsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gVXNlIGFuIGludGVybWVkaWF0ZSBvYmplY3Qgc28gaXQgZXJyb3JzIG9uIGluY29ycmVjdCBkYXRhLlxuICAgICAgdmFyIG5ld0RhdGEgPSB7XG4gICAgICAgICAgdHlwZXM6IHR5cGVzLFxuICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgIGNvbXB1dGVkU3R5bGU6IG51bGwsXG4gICAgICAgICAgY2FjaGU6IHt9LFxuICAgICAgICAgIHF1ZXVlTGlzdDoge30sXG4gICAgICAgICAgbGFzdEFuaW1hdGlvbkxpc3Q6IHt9LFxuICAgICAgICAgIGxhc3RGaW5pc2hMaXN0OiB7fSxcbiAgICAgICAgICB3aW5kb3c6IHdpbmRvd1xuICAgICAgfTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCBkYXRhTmFtZSwge1xuICAgICAgICAgIHZhbHVlOiBuZXdEYXRhXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXdEYXRhO1xuICB9XG5cbiAgLy8gQ29uc3RhbnRzXG4gIHZhciBpc0NsaWVudCA9IHdpbmRvdyAmJiB3aW5kb3cgPT09IHdpbmRvdy53aW5kb3csXG4gICAgICB3aW5kb3dTY3JvbGxBbmNob3IgPSBpc0NsaWVudCAmJiB3aW5kb3cucGFnZVlPZmZzZXQgIT09IHVuZGVmaW5lZDtcbiAgdmFyIFN0YXRlID0ge1xuICAgICAgaXNDbGllbnQ6IGlzQ2xpZW50LFxuICAgICAgaXNNb2JpbGU6IGlzQ2xpZW50ICYmIC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxcbiAgICAgIGlzR2luZ2VyYnJlYWQ6IGlzQ2xpZW50ICYmIC9BbmRyb2lkIDJcXC4zXFwuWzMtN10vaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFxuICAgICAgcHJlZml4RWxlbWVudDogaXNDbGllbnQgJiYgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgIHdpbmRvd1Njcm9sbEFuY2hvcjogd2luZG93U2Nyb2xsQW5jaG9yLFxuICAgICAgc2Nyb2xsQW5jaG9yOiB3aW5kb3dTY3JvbGxBbmNob3IgPyB3aW5kb3cgOiAhaXNDbGllbnQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZSB8fCBkb2N1bWVudC5ib2R5LFxuICAgICAgc2Nyb2xsUHJvcGVydHlMZWZ0OiB3aW5kb3dTY3JvbGxBbmNob3IgPyBcInBhZ2VYT2Zmc2V0XCIgOiBcInNjcm9sbExlZnRcIixcbiAgICAgIHNjcm9sbFByb3BlcnR5VG9wOiB3aW5kb3dTY3JvbGxBbmNob3IgPyBcInBhZ2VZT2Zmc2V0XCIgOiBcInNjcm9sbFRvcFwiLFxuICAgICAgY2xhc3NOYW1lOiBDTEFTU05BTUUsXG4gICAgICBpc1RpY2tpbmc6IGZhbHNlLFxuICAgICAgZmlyc3Q6IHVuZGVmaW5lZCxcbiAgICAgIGxhc3Q6IHVuZGVmaW5lZCxcbiAgICAgIGZpcnN0TmV3OiB1bmRlZmluZWRcbiAgfTtcblxuICAvLyBQcm9qZWN0XG4gIC8qKlxuICAgKiBTaW1wbGUgcXVldWUgbWFuYWdlbWVudC4gVW4tbmFtZWQgcXVldWUgaXMgZGlyZWN0bHkgd2l0aGluIHRoZSBlbGVtZW50IGRhdGEsXG4gICAqIG5hbWVkIHF1ZXVlIGlzIHdpdGhpbiBhbiBvYmplY3Qgd2l0aGluIGl0LlxuICAgKi9cbiAgZnVuY3Rpb24gYW5pbWF0ZShhbmltYXRpb24pIHtcbiAgICAgIHZhciBwcmV2ID0gU3RhdGUubGFzdDtcbiAgICAgIGFuaW1hdGlvbi5fcHJldiA9IHByZXY7XG4gICAgICBhbmltYXRpb24uX25leHQgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAocHJldikge1xuICAgICAgICAgIHByZXYuX25leHQgPSBhbmltYXRpb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIFN0YXRlLmZpcnN0ID0gYW5pbWF0aW9uO1xuICAgICAgfVxuICAgICAgU3RhdGUubGFzdCA9IGFuaW1hdGlvbjtcbiAgICAgIGlmICghU3RhdGUuZmlyc3ROZXcpIHtcbiAgICAgICAgICBTdGF0ZS5maXJzdE5ldyA9IGFuaW1hdGlvbjtcbiAgICAgIH1cbiAgICAgIHZhciBlbGVtZW50ID0gYW5pbWF0aW9uLmVsZW1lbnQsXG4gICAgICAgICAgZGF0YSA9IERhdGEoZWxlbWVudCk7XG4gICAgICBpZiAoIWRhdGEuY291bnQrKykge1xuICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgIC8vIEZlYXR1cmU6IENsYXNzbmFtZSAvL1xuICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIFN0YXRlLmNsYXNzTmFtZSk7XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBhbiBpdGVtIHRvIGFuIGFuaW1hdGlvbiBxdWV1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHF1ZXVlJDEoZWxlbWVudCwgYW5pbWF0aW9uLCBxdWV1ZU5hbWUpIHtcbiAgICAgIHZhciBkYXRhID0gRGF0YShlbGVtZW50KTtcbiAgICAgIGlmIChxdWV1ZU5hbWUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgLy8gU3RvcmUgdGhlIGxhc3QgYW5pbWF0aW9uIGFkZGVkIHNvIHdlIGNhbiB1c2UgaXQgZm9yIHRoZVxuICAgICAgICAgIC8vIGJlZ2lubmluZyBvZiB0aGUgbmV4dCBvbmUuXG4gICAgICAgICAgZGF0YS5sYXN0QW5pbWF0aW9uTGlzdFtxdWV1ZU5hbWVdID0gYW5pbWF0aW9uO1xuICAgICAgfVxuICAgICAgaWYgKHF1ZXVlTmFtZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBhbmltYXRlKGFuaW1hdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghaXNTdHJpbmcocXVldWVOYW1lKSkge1xuICAgICAgICAgICAgICBxdWV1ZU5hbWUgPSBcIlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgbGFzdCA9IGRhdGEucXVldWVMaXN0W3F1ZXVlTmFtZV07XG4gICAgICAgICAgaWYgKCFsYXN0KSB7XG4gICAgICAgICAgICAgIGlmIChsYXN0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBkYXRhLnF1ZXVlTGlzdFtxdWV1ZU5hbWVdID0gYW5pbWF0aW9uO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZGF0YS5xdWV1ZUxpc3RbcXVldWVOYW1lXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICBhbmltYXRlKGFuaW1hdGlvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB3aGlsZSAobGFzdC5fbmV4dCkge1xuICAgICAgICAgICAgICAgICAgbGFzdCA9IGxhc3QuX25leHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGFzdC5fbmV4dCA9IGFuaW1hdGlvbjtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uLl9wcmV2ID0gbGFzdDtcbiAgICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFN0YXJ0IHRoZSBuZXh0IGFuaW1hdGlvbiBvbiB0aGlzIGVsZW1lbnQncyBxdWV1ZSAobmFtZWQgb3IgZGVmYXVsdCkuXG4gICAqXG4gICAqIEByZXR1cm5zIHRoZSBuZXh0IGFuaW1hdGlvbiB0aGF0IGlzIHN0YXJ0aW5nLlxuICAgKi9cbiAgZnVuY3Rpb24gZGVxdWV1ZShlbGVtZW50LCBxdWV1ZU5hbWUsIHNraXApIHtcbiAgICAgIGlmIChxdWV1ZU5hbWUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgaWYgKCFpc1N0cmluZyhxdWV1ZU5hbWUpKSB7XG4gICAgICAgICAgICAgIHF1ZXVlTmFtZSA9IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBkYXRhID0gRGF0YShlbGVtZW50KSxcbiAgICAgICAgICAgICAgYW5pbWF0aW9uID0gZGF0YS5xdWV1ZUxpc3RbcXVldWVOYW1lXTtcbiAgICAgICAgICBpZiAoYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgIGRhdGEucXVldWVMaXN0W3F1ZXVlTmFtZV0gPSBhbmltYXRpb24uX25leHQgfHwgbnVsbDtcbiAgICAgICAgICAgICAgaWYgKCFza2lwKSB7XG4gICAgICAgICAgICAgICAgICBhbmltYXRlKGFuaW1hdGlvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGFuaW1hdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICBkZWxldGUgZGF0YS5xdWV1ZUxpc3RbcXVldWVOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGFuaW1hdGlvbjtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIGFuIGFuaW1hdGlvbiBmcm9tIHRoZSBhY3RpdmUgYW5pbWF0aW9uIGxpc3QuIElmIGl0IGhhcyBhIHF1ZXVlIHNldFxuICAgKiB0aGVuIHJlbWVtYmVyIGl0IGFzIHRoZSBsYXN0IGFuaW1hdGlvbiBmb3IgdGhhdCBxdWV1ZSwgYW5kIGZyZWUgdGhlIG9uZVxuICAgKiB0aGF0IHdhcyBwcmV2aW91c2x5IHRoZXJlLiBJZiB0aGUgYW5pbWF0aW9uIGxpc3QgaXMgY29tcGxldGVseSBlbXB0eSB0aGVuXG4gICAqIG1hcmsgdXMgYXMgZmluaXNoZWQuXG4gICAqL1xuICBmdW5jdGlvbiBmcmVlQW5pbWF0aW9uQ2FsbChhbmltYXRpb24pIHtcbiAgICAgIHZhciBuZXh0ID0gYW5pbWF0aW9uLl9uZXh0LFxuICAgICAgICAgIHByZXYgPSBhbmltYXRpb24uX3ByZXYsXG4gICAgICAgICAgcXVldWVOYW1lID0gYW5pbWF0aW9uLnF1ZXVlID09IG51bGwgPyBhbmltYXRpb24ub3B0aW9ucy5xdWV1ZSA6IGFuaW1hdGlvbi5xdWV1ZTtcbiAgICAgIGlmIChTdGF0ZS5maXJzdE5ldyA9PT0gYW5pbWF0aW9uKSB7XG4gICAgICAgICAgU3RhdGUuZmlyc3ROZXcgPSBuZXh0O1xuICAgICAgfVxuICAgICAgaWYgKFN0YXRlLmZpcnN0ID09PSBhbmltYXRpb24pIHtcbiAgICAgICAgICBTdGF0ZS5maXJzdCA9IG5leHQ7XG4gICAgICB9IGVsc2UgaWYgKHByZXYpIHtcbiAgICAgICAgICBwcmV2Ll9uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICAgIGlmIChTdGF0ZS5sYXN0ID09PSBhbmltYXRpb24pIHtcbiAgICAgICAgICBTdGF0ZS5sYXN0ID0gcHJldjtcbiAgICAgIH0gZWxzZSBpZiAobmV4dCkge1xuICAgICAgICAgIG5leHQuX3ByZXYgPSBwcmV2O1xuICAgICAgfVxuICAgICAgaWYgKHF1ZXVlTmFtZSkge1xuICAgICAgICAgIHZhciBkYXRhID0gRGF0YShhbmltYXRpb24uZWxlbWVudCk7XG4gICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uLl9uZXh0ID0gYW5pbWF0aW9uLl9wcmV2ID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuXG4gIHZhciBTZXF1ZW5jZXNPYmplY3QgPSB7fTtcblxuICAvLyBQcm9qZWN0XG4gIC8qKlxuICAgKiBDYWxsIHRoZSBjb21wbGV0ZSBtZXRob2Qgb2YgYW4gYW5pbWF0aW9uIGluIGEgc2VwYXJhdGUgZnVuY3Rpb24gc28gaXQgY2FuXG4gICAqIGJlbmVmaXQgZnJvbSBKSVQgY29tcGlsaW5nIHdoaWxlIHN0aWxsIGhhdmluZyBhIHRyeS9jYXRjaCBibG9jay5cbiAgICovXG4gIGZ1bmN0aW9uIGNhbGxDb21wbGV0ZShhY3RpdmVDYWxsKSB7XG4gICAgICB2YXIgY2FsbGJhY2sgPSBhY3RpdmVDYWxsLmNvbXBsZXRlIHx8IGFjdGl2ZUNhbGwub3B0aW9ucy5jb21wbGV0ZTtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IGFjdGl2ZUNhbGwuZWxlbWVudHM7XG4gICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoZWxlbWVudHMsIGVsZW1lbnRzLCBhY3RpdmVDYWxsKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENvbXBsZXRlIGFuIGFuaW1hdGlvbi4gVGhpcyBtaWdodCBpbnZvbHZlIHJlc3RhcnRpbmcgKGZvciBsb29wIG9yIHJlcGVhdFxuICAgKiBvcHRpb25zKS4gT25jZSBpdCBpcyBmaW5pc2hlZCB3ZSBhbHNvIGNoZWNrIGZvciBhbnkgY2FsbGJhY2tzIG9yIFByb21pc2VzXG4gICAqIHRoYXQgbmVlZCB1cGRhdGluZy5cbiAgICovXG4gIGZ1bmN0aW9uIGNvbXBsZXRlQ2FsbChhY3RpdmVDYWxsKSB7XG4gICAgICAvLyBUT0RPOiBDaGVjayBpZiBpdCdzIG5vdCBiZWVuIGNvbXBsZXRlZCBhbHJlYWR5XG4gICAgICB2YXIgb3B0aW9ucyA9IGFjdGl2ZUNhbGwub3B0aW9ucyxcbiAgICAgICAgICBxdWV1ZSA9IGdldFZhbHVlKGFjdGl2ZUNhbGwucXVldWUsIG9wdGlvbnMucXVldWUpLFxuICAgICAgICAgIGlzTG9vcCA9IGdldFZhbHVlKGFjdGl2ZUNhbGwubG9vcCwgb3B0aW9ucy5sb29wLCBkZWZhdWx0cyQxLmxvb3ApLFxuICAgICAgICAgIGlzUmVwZWF0ID0gZ2V0VmFsdWUoYWN0aXZlQ2FsbC5yZXBlYXQsIG9wdGlvbnMucmVwZWF0LCBkZWZhdWx0cyQxLnJlcGVhdCksXG4gICAgICAgICAgaXNTdG9wcGVkID0gYWN0aXZlQ2FsbC5fZmxhZ3MgJiA4IC8qIFNUT1BQRUQgKi87IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgaWYgKCFpc1N0b3BwZWQgJiYgKGlzTG9vcCB8fCBpc1JlcGVhdCkpIHtcbiAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgIC8vIE9wdGlvbjogTG9vcCAgIC8vXG4gICAgICAgICAgLy8gT3B0aW9uOiBSZXBlYXQgLy9cbiAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgIGlmIChpc1JlcGVhdCAmJiBpc1JlcGVhdCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBhY3RpdmVDYWxsLnJlcGVhdCA9IGlzUmVwZWF0IC0gMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTG9vcCAmJiBpc0xvb3AgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgYWN0aXZlQ2FsbC5sb29wID0gaXNMb29wIC0gMTtcbiAgICAgICAgICAgICAgYWN0aXZlQ2FsbC5yZXBlYXQgPSBnZXRWYWx1ZShhY3RpdmVDYWxsLnJlcGVhdEFnYWluLCBvcHRpb25zLnJlcGVhdEFnYWluLCBkZWZhdWx0cyQxLnJlcGVhdEFnYWluKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzTG9vcCkge1xuICAgICAgICAgICAgICBhY3RpdmVDYWxsLl9mbGFncyBePSA2NCAvKiBSRVZFUlNFICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHF1ZXVlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAvLyBDYW4ndCBiZSBjYWxsZWQgd2hlbiBzdG9wcGVkIHNvIG5vIG5lZWQgZm9yIGFuIGV4dHJhIGNoZWNrLlxuICAgICAgICAgICAgICBEYXRhKGFjdGl2ZUNhbGwuZWxlbWVudCkubGFzdEZpbmlzaExpc3RbcXVldWVdID0gYWN0aXZlQ2FsbC50aW1lU3RhcnQgKyBnZXRWYWx1ZShhY3RpdmVDYWxsLmR1cmF0aW9uLCBvcHRpb25zLmR1cmF0aW9uLCBkZWZhdWx0cyQxLmR1cmF0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWN0aXZlQ2FsbC50aW1lU3RhcnQgPSBhY3RpdmVDYWxsLmVsbGFwc2VkVGltZSA9IGFjdGl2ZUNhbGwucGVyY2VudENvbXBsZXRlID0gMDtcbiAgICAgICAgICBhY3RpdmVDYWxsLl9mbGFncyAmPSB+NCAvKiBTVEFSVEVEICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGVsZW1lbnQgPSBhY3RpdmVDYWxsLmVsZW1lbnQsXG4gICAgICAgICAgICAgIGRhdGEgPSBEYXRhKGVsZW1lbnQpO1xuICAgICAgICAgIGlmICghIC0tZGF0YS5jb3VudCAmJiAhaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAvLyBGZWF0dXJlOiBDbGFzc25hbWUgLy9cbiAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIFN0YXRlLmNsYXNzTmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAvLyBPcHRpb246IENvbXBsZXRlIC8vXG4gICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGxhc3QgYW5pbWF0aW9uIGluIHRoaXMgbGlzdCB0aGVuIHdlIGNhbiBjaGVjayBmb3JcbiAgICAgICAgICAvLyBhbmQgY29tcGxldGUgY2FsbHMgb3IgUHJvbWlzZXMuXG4gICAgICAgICAgLy8gVE9ETzogV2hlbiBkZWxldGluZyBhbiBlbGVtZW50IHdlIG5lZWQgdG8gYWRqdXN0IHRoZXNlIHZhbHVlcy5cbiAgICAgICAgICBpZiAob3B0aW9ucyAmJiArK29wdGlvbnMuX2NvbXBsZXRlZCA9PT0gb3B0aW9ucy5fdG90YWwpIHtcbiAgICAgICAgICAgICAgaWYgKCFpc1N0b3BwZWQgJiYgb3B0aW9ucy5jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgY2FsbCB0aGUgY29tcGxldGUgaWYgdGhlIGFuaW1hdGlvbiBpcyBzdG9wcGVkLFxuICAgICAgICAgICAgICAgICAgLy8gYW5kIHdlIGNsZWFyIHRoZSBrZXkgdG8gcHJldmVudCBpdCBiZWluZyBjYWxsZWQgYWdhaW4uXG4gICAgICAgICAgICAgICAgICBjYWxsQ29tcGxldGUoYWN0aXZlQ2FsbCk7XG4gICAgICAgICAgICAgICAgICBvcHRpb25zLmNvbXBsZXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgcmVzb2x2ZXIgPSBvcHRpb25zLl9yZXNvbHZlcjtcbiAgICAgICAgICAgICAgaWYgKHJlc29sdmVyKSB7XG4gICAgICAgICAgICAgICAgICAvLyBGdWxmaWwgdGhlIFByb21pc2VcbiAgICAgICAgICAgICAgICAgIHJlc29sdmVyKGFjdGl2ZUNhbGwuZWxlbWVudHMpO1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuX3Jlc29sdmVyO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAvLyBPcHRpb246IFF1ZXVlIC8vXG4gICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgIGlmIChxdWV1ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgLy8gV2Ugb25seSBkbyBjbGV2ZXIgdGhpbmdzIHdpdGggcXVldWVzLi4uXG4gICAgICAgICAgICAgIGlmICghaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgICAvLyBJZiB3ZSdyZSBub3Qgc3RvcHBpbmcgYW4gYW5pbWF0aW9uLCB3ZSBuZWVkIHRvIHJlbWVtYmVyXG4gICAgICAgICAgICAgICAgICAvLyB3aGF0IHRpbWUgaXQgZmluaXNoZWQgc28gdGhhdCB0aGUgbmV4dCBhbmltYXRpb24gaW5cbiAgICAgICAgICAgICAgICAgIC8vIHNlcXVlbmNlIGdldHMgdGhlIGNvcnJlY3Qgc3RhcnQgdGltZS5cbiAgICAgICAgICAgICAgICAgIGRhdGEubGFzdEZpbmlzaExpc3RbcXVldWVdID0gYWN0aXZlQ2FsbC50aW1lU3RhcnQgKyBnZXRWYWx1ZShhY3RpdmVDYWxsLmR1cmF0aW9uLCBvcHRpb25zLmR1cmF0aW9uLCBkZWZhdWx0cyQxLmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyBTdGFydCB0aGUgbmV4dCBhbmltYXRpb24gaW4gc2VxdWVuY2UsIG9yIGRlbGV0ZSB0aGUgcXVldWUgaWZcbiAgICAgICAgICAgICAgLy8gdGhpcyB3YXMgdGhlIGxhc3Qgb25lLlxuICAgICAgICAgICAgICBkZXF1ZXVlKGVsZW1lbnQsIHF1ZXVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQ2xlYW51cCBhbnkgcG9pbnRlcnMsIGFuZCByZW1lbWJlciB0aGUgbGFzdCBhbmltYXRpb24gZXRjLlxuICAgICAgICAgIGZyZWVBbmltYXRpb25DYWxsKGFjdGl2ZUNhbGwpO1xuICAgICAgfVxuICB9XG5cbiAgLy8gUHJvamVjdFxuICAvKipcbiAgICogVXNlZCB0byByZWdpc3RlciBhIG5vcm1hbGl6YXRpb24uIFRoaXMgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZCBieSB1c2Vyc1xuICAgKiBkaXJlY3RseSwgaW5zdGVhZCBpdCBzaG91bGQgYmUgY2FsbGVkIHZpYSBhbiBhY3Rpb246PGJyLz5cbiAgICogPGNvZGU+VmVsb2NpdHkoXCJyZWdpc3Rlck5vcm1hbGl6YXRpb25cIiwgXCJFbGVtZW50XCIsIFwibmFtZVwiLCBWZWxvY2l0eU5vcm1hbGl6YXRpb25zRm5bLCBmYWxzZV0pOzwvY29kZT5cbiAgICpcbiAgICogVGhlIHNlY29uZCBhcmd1bWVudCBpcyB0aGUgY2xhc3Mgb2YgdGhlIGFuaW1hdGFibGUgb2JqZWN0LiBJZiB0aGlzIGlzIHBhc3NlZFxuICAgKiBhcyBhIGNsYXNzIG5hbWUgKGllLCBgXCJFbGVtZW50XCJgIC0+IGB3aW5kb3dbXCJFbGVtZW50XCJdYCkgdGhlbiB0aGlzIHdpbGwgd29ya1xuICAgKiBjcm9zcy1pZnJhbWUuIElmIHBhc3NlZCBhcyBhbiBhY3R1YWwgY2xhc3MgKGllIGBFbGVtZW50YCkgdGhlbiBpdCB3aWxsXG4gICAqIGF0dGVtcHQgdG8gZmluZCB0aGUgY2xhc3Mgb24gdGhlIHdpbmRvdyBhbmQgdXNlIHRoYXQgbmFtZSBpbnN0ZWFkLiBJZiBpdFxuICAgKiBjYW4ndCBmaW5kIGl0IHRoZW4gaXQgd2lsbCB1c2UgdGhlIGNsYXNzIHBhc3NlZCwgd2hpY2ggYWxsb3dzIGZvciBjdXN0b21cbiAgICogYW5pbWF0aW9uIHRhcmdldHMsIGJ1dCB3aWxsIG5vdCB3b3JrIGNyb3NzLWlmcmFtZSBib3VuZGFyeS5cbiAgICpcbiAgICogVGhlIGZvdXJ0aCBhcmd1bWVudCBjYW4gYmUgYW4gZXhwbGljaXQgPGNvZGU+ZmFsc2U8L2NvZGU+LCB3aGljaCBwcmV2ZW50c1xuICAgKiB0aGUgcHJvcGVydHkgZnJvbSBiZWluZyBjYWNoZWQuIFBsZWFzZSBub3RlIHRoYXQgdGhpcyBjYW4gYmUgZGFuZ2Vyb3VzXG4gICAqIGZvciBwZXJmb3JtYW5jZSFcbiAgICovXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyTm9ybWFsaXphdGlvbihhcmdzKSB7XG4gICAgICB2YXIgY29uc3RydWN0b3IgPSBhcmdzWzBdLFxuICAgICAgICAgIG5hbWUgPSBhcmdzWzFdLFxuICAgICAgICAgIGNhbGxiYWNrID0gYXJnc1syXTtcbiAgICAgIGlmIChpc1N0cmluZyhjb25zdHJ1Y3RvcikgJiYgISh3aW5kb3dbY29uc3RydWN0b3JdIGluc3RhbmNlb2YgT2JqZWN0KSB8fCAhaXNTdHJpbmcoY29uc3RydWN0b3IpICYmICEoY29uc3RydWN0b3IgaW5zdGFuY2VvZiBPYmplY3QpKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncmVnaXN0ZXJOb3JtYWxpemF0aW9uJyBjb25zdHJ1Y3RvciB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCBjb25zdHJ1Y3Rvcik7XG4gICAgICB9IGVsc2UgaWYgKCFpc1N0cmluZyhuYW1lKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3JlZ2lzdGVyTm9ybWFsaXphdGlvbicgbmFtZSB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCBuYW1lKTtcbiAgICAgIH0gZWxzZSBpZiAoIWlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCAncmVnaXN0ZXJOb3JtYWxpemF0aW9uJyBjYWxsYmFjayB0byBhbiBpbnZhbGlkIHZhbHVlOlwiLCBuYW1lLCBjYWxsYmFjayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBpbmRleCA9IGNvbnN0cnVjdG9ycy5pbmRleE9mKGNvbnN0cnVjdG9yKSxcbiAgICAgICAgICAgICAgbmV4dEFyZyA9IDM7XG4gICAgICAgICAgaWYgKGluZGV4IDwgMCAmJiAhaXNTdHJpbmcoY29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgICAgIGlmIChjb25zdHJ1Y3RvckNhY2hlLmhhcyhjb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgICAgICAgIGluZGV4ID0gY29uc3RydWN0b3JzLmluZGV4T2YoY29uc3RydWN0b3JDYWNoZS5nZXQoY29uc3RydWN0b3IpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIHdpbmRvdykge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3dbcHJvcGVydHldID09PSBjb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGNvbnN0cnVjdG9ycy5pbmRleE9mKHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBjb25zdHJ1Y3RvcnMucHVzaChwcm9wZXJ0eSkgLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTm9ybWFsaXphdGlvbnNbaW5kZXhdID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvckNhY2hlLnNldChjb25zdHJ1Y3RvciwgcHJvcGVydHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgIGluZGV4ID0gY29uc3RydWN0b3JzLnB1c2goY29uc3RydWN0b3IpIC0gMTtcbiAgICAgICAgICAgICAgTm9ybWFsaXphdGlvbnNbaW5kZXhdID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgIE5vcm1hbGl6YXRpb25zW2luZGV4XVtuYW1lXSA9IGNhbGxiYWNrO1xuICAgICAgICAgIGlmIChpc1N0cmluZyhhcmdzW25leHRBcmddKSkge1xuICAgICAgICAgICAgICB2YXIgdW5pdCA9IGFyZ3NbbmV4dEFyZysrXTtcbiAgICAgICAgICAgICAgdmFyIHVuaXRzID0gTm9ybWFsaXphdGlvblVuaXRzW3VuaXRdO1xuICAgICAgICAgICAgICBpZiAoIXVuaXRzKSB7XG4gICAgICAgICAgICAgICAgICB1bml0cyA9IE5vcm1hbGl6YXRpb25Vbml0c1t1bml0XSA9IFtdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHVuaXRzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYXJnc1tuZXh0QXJnXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgTm9DYWNoZU5vcm1hbGl6YXRpb25zLmFkZChuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVzZWQgdG8gY2hlY2sgaWYgYSBub3JtYWxpc2F0aW9uIGV4aXN0cyBvbiBhIHNwZWNpZmljIGNsYXNzLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzTm9ybWFsaXphdGlvbihhcmdzKSB7XG4gICAgICB2YXIgY29uc3RydWN0b3IgPSBhcmdzWzBdLFxuICAgICAgICAgIG5hbWUgPSBhcmdzWzFdO1xuICAgICAgdmFyIGluZGV4ID0gY29uc3RydWN0b3JzLmluZGV4T2YoY29uc3RydWN0b3IpO1xuICAgICAgaWYgKGluZGV4IDwgMCAmJiAhaXNTdHJpbmcoY29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgaWYgKGNvbnN0cnVjdG9yQ2FjaGUuaGFzKGNvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgICBpbmRleCA9IGNvbnN0cnVjdG9ycy5pbmRleE9mKGNvbnN0cnVjdG9yQ2FjaGUuZ2V0KGNvbnN0cnVjdG9yKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gd2luZG93KSB7XG4gICAgICAgICAgICAgICAgICBpZiAod2luZG93W3Byb3BlcnR5XSA9PT0gY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGNvbnN0cnVjdG9ycy5pbmRleE9mKHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmRleCA+PSAwICYmIE5vcm1hbGl6YXRpb25zW2luZGV4XS5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSB1bml0IHRvIGFkZCB0byBhIHVuaXRsZXNzIG51bWJlciBiYXNlZCBvbiB0aGUgbm9ybWFsaXphdGlvbiB1c2VkLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0Tm9ybWFsaXphdGlvblVuaXQoZm4pIHtcbiAgICAgIGZvciAodmFyIHVuaXQgaW4gTm9ybWFsaXphdGlvblVuaXRzKSB7XG4gICAgICAgICAgaWYgKE5vcm1hbGl6YXRpb25Vbml0c1t1bml0XS5pbmNsdWRlcyhmbikpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVuaXQ7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgbm9ybWFsaXphdGlvbiBmb3IgYW4gZWxlbWVudCBhbmQgcHJvcGVydHlOYW1lIGNvbWJpbmF0aW9uLiBUaGlzXG4gICAqIHZhbHVlIHNob3VsZCBiZSBjYWNoZWQgYXQgYXNraW5nIHRpbWUsIGFzIGl0IG1heSBjaGFuZ2UgaWYgdGhlIHVzZXIgYWRkc1xuICAgKiBtb3JlIG5vcm1hbGl6YXRpb25zLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0Tm9ybWFsaXphdGlvbihlbGVtZW50LCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgIHZhciBkYXRhID0gRGF0YShlbGVtZW50KTtcbiAgICAgIHZhciBmbiA9IHZvaWQgMDtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gY29uc3RydWN0b3JzLmxlbmd0aCAtIDEsIHR5cGVzID0gZGF0YS50eXBlczsgIWZuICYmIGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgICAgICBpZiAodHlwZXMgJiAxIDw8IGluZGV4KSB7XG4gICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgICAgICBmbiA9IE5vcm1hbGl6YXRpb25zW2luZGV4XVtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmbjtcbiAgfVxuICByZWdpc3RlckFjdGlvbihbXCJyZWdpc3Rlck5vcm1hbGl6YXRpb25cIiwgcmVnaXN0ZXJOb3JtYWxpemF0aW9uXSk7XG4gIHJlZ2lzdGVyQWN0aW9uKFtcImhhc05vcm1hbGl6YXRpb25cIiwgaGFzTm9ybWFsaXphdGlvbl0pO1xuXG4gIC8vIFByb2plY3RcbiAgLyoqXG4gICAqIFRoZSBzaW5ndWxhciBzZXRQcm9wZXJ0eVZhbHVlLCB3aGljaCByb3V0ZXMgdGhlIGxvZ2ljIGZvciBhbGxcbiAgICogbm9ybWFsaXphdGlvbnMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZSwgZm4pIHtcbiAgICAgIHZhciBub0NhY2hlID0gTm9DYWNoZU5vcm1hbGl6YXRpb25zLmhhcyhwcm9wZXJ0eU5hbWUpLFxuICAgICAgICAgIGRhdGEgPSAhbm9DYWNoZSAmJiBEYXRhKGVsZW1lbnQpO1xuICAgICAgaWYgKG5vQ2FjaGUgfHwgZGF0YSAmJiBkYXRhLmNhY2hlW3Byb3BlcnR5TmFtZV0gIT09IHByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgICAvLyBCeSBzZXR0aW5nIGl0IHRvIHVuZGVmaW5lZCB3ZSBmb3JjZSBhIHRydWUgXCJnZXRcIiBsYXRlclxuICAgICAgICAgIGlmICghbm9DYWNoZSkge1xuICAgICAgICAgICAgICBkYXRhLmNhY2hlW3Byb3BlcnR5TmFtZV0gPSBwcm9wZXJ0eVZhbHVlIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm4gPSBmbiB8fCBnZXROb3JtYWxpemF0aW9uKGVsZW1lbnQsIHByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICAgIGZuKGVsZW1lbnQsIHByb3BlcnR5VmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoVmVsb2NpdHkkJDEuZGVidWcgPj0gMikge1xuICAgICAgICAgICAgICBjb25zb2xlLmluZm8oXCJTZXQgXFxcIlwiICsgcHJvcGVydHlOYW1lICsgXCJcXFwiOiBcXFwiXCIgKyBwcm9wZXJ0eVZhbHVlICsgXCJcXFwiXCIsIGVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgbmVzdGVkIGBjYWxjKDBweCArICopYCBvciBgY2FsYygqICsgKDBweCArICopKWAgY29ycmVjdGx5LlxuICAgKi9cbiAgZnVuY3Rpb24gcmVtb3ZlTmVzdGVkQ2FsYyh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlLmluZGV4T2YoXCJjYWxjKFwiKSA+PSAwKSB7XG4gICAgICAgICAgdmFyIHRva2VucyA9IHZhbHVlLnNwbGl0KC8oW1xcKFxcKV0pLyk7XG4gICAgICAgICAgdmFyIGRlcHRoID0gMDtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCIoXCI6XG4gICAgICAgICAgICAgICAgICAgICAgZGVwdGgrKztcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCIpXCI6XG4gICAgICAgICAgICAgICAgICAgICAgZGVwdGgtLTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcHRoICYmIHRva2VuWzBdID09PSBcIjBcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnNbaV0gPSB0b2tlbi5yZXBsYWNlKC9eMFthLXolXSsgXFwrIC8sIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdG9rZW5zLmpvaW4oXCJcIikucmVwbGFjZSgvKD86Y2FsYyk/XFwoKFswLTlcXC5dK1thLXolXSspXFwpL2csIFwiJDFcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQ2FjaGUgZXZlcnkgY2FtZWxDYXNlIG1hdGNoIHRvIGF2b2lkIHJlcGVhdGluZyBsb29rdXBzLlxuICAgKi9cbiAgdmFyIGNhY2hlJDIgPSB7fTtcbiAgLyoqXG4gICAqIENhbWVsY2FzZSBhIHByb3BlcnR5IG5hbWUgaW50byBpdHMgSmF2YVNjcmlwdCBub3RhdGlvbiAoZS5nLlxuICAgKiBcImJhY2tncm91bmQtY29sb3JcIiA9PT4gXCJiYWNrZ3JvdW5kQ29sb3JcIikuIENhbWVsY2FzaW5nIGlzIHVzZWQgdG9cbiAgICogbm9ybWFsaXplIHByb3BlcnR5IG5hbWVzIGJldHdlZW4gYW5kIGFjcm9zcyBjYWxscy5cbiAgICovXG4gIGZ1bmN0aW9uIGNhbWVsQ2FzZShwcm9wZXJ0eSkge1xuICAgIHZhciBmaXhlZCA9IGNhY2hlJDJbcHJvcGVydHldO1xuICAgIGlmIChmaXhlZCkge1xuICAgICAgcmV0dXJuIGZpeGVkO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGUkMltwcm9wZXJ0eV0gPSBwcm9wZXJ0eS5yZXBsYWNlKC8tKFthLXpdKS9nLCBmdW5jdGlvbiAoJCwgbGV0dGVyKSB7XG4gICAgICByZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBDb25zdGFudHNcbiAgdmFyIHJ4Q29sb3I2ID0gLyMoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkvZ2ksXG4gICAgICByeENvbG9yMyA9IC8jKFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pL2dpLFxuICAgICAgcnhDb2xvck5hbWUgPSAvKHJnYmE/XFwoXFxzKik/KFxcYlthLXpdK1xcYikvZyxcbiAgICAgIHJ4UkdCID0gL3JnYihhPylcXCgoW15cXCldKylcXCkvZ2ksXG4gICAgICByeFNwYWNlcyA9IC9cXHMrL2c7XG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBsaXN0IG9mIGNvbG9yIG5hbWVzIC0+IHJnYiB2YWx1ZXMuIFRoZSBvYmplY3QgaXMgaW4gaGVyZSBzb1xuICAgKiB0aGF0IHRoZSBhY3R1YWwgbmFtZSBjb252ZXJzaW9uIGNhbiBiZSBpbiBhIHNlcGFyYXRlIGZpbGUgYW5kIG5vdFxuICAgKiBpbmNsdWRlZCBmb3IgY3VzdG9tIGJ1aWxkcy5cbiAgICovXG4gIHZhciBDb2xvck5hbWVzID0ge307XG4gIC8qKlxuICAgKiBDb252ZXJ0IGEgaGV4IGxpc3QgdG8gYW4gcmdiYSB2YWx1ZS4gRGVzaWduZWQgdG8gYmUgdXNlZCBpbiByZXBsYWNlLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFrZVJHQkEoaWdub3JlLCByLCBnLCBiKSB7XG4gICAgICByZXR1cm4gXCJyZ2JhKFwiICsgcGFyc2VJbnQociwgMTYpICsgXCIsXCIgKyBwYXJzZUludChnLCAxNikgKyBcIixcIiArIHBhcnNlSW50KGIsIDE2KSArIFwiLDEpXCI7XG4gIH1cbiAgLyoqXG4gICAqIFJlcGxhY2UgYW55IGNzcyBjb2xvdXIgbmFtZSB3aXRoIGl0cyByZ2JhKCkgdmFsdWUuIEl0IGlzIHBvc3NpYmxlIHRvIHVzZVxuICAgKiB0aGUgbmFtZSB3aXRoaW4gYW4gXCJyZ2JhKGJsdWUsIDAuNClcIiBzdHJpbmcgdGhpcyB3YXkuXG4gICAqL1xuICBmdW5jdGlvbiBmaXhDb2xvcnMoc3RyKSB7XG4gICAgICByZXR1cm4gc3RyLnJlcGxhY2UocnhDb2xvcjYsIG1ha2VSR0JBKS5yZXBsYWNlKHJ4Q29sb3IzLCBmdW5jdGlvbiAoJDAsIHIsIGcsIGIpIHtcbiAgICAgICAgICByZXR1cm4gbWFrZVJHQkEoJDAsIHIgKyByLCBnICsgZywgYiArIGIpO1xuICAgICAgfSkucmVwbGFjZShyeENvbG9yTmFtZSwgZnVuY3Rpb24gKCQwLCAkMSwgJDIpIHtcbiAgICAgICAgICBpZiAoQ29sb3JOYW1lc1skMl0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuICgkMSA/ICQxIDogXCJyZ2JhKFwiKSArIENvbG9yTmFtZXNbJDJdICsgKCQxID8gXCJcIiA6IFwiLDEpXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gJDA7XG4gICAgICB9KS5yZXBsYWNlKHJ4UkdCLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgICAgICAgIHJldHVybiBcInJnYmEoXCIgKyAoJDIucmVwbGFjZShyeFNwYWNlcywgXCJcIikgKyAoJDEgPyBcIlwiIDogXCIsMVwiKSkgKyBcIilcIjtcbiAgICAgIH0pO1xuICB9XG5cbiAgLy8gUHJvamVjdFxuICAvKipcbiAgICogRmlndXJlIG91dCB0aGUgZGltZW5zaW9ucyBmb3IgdGhpcyB3aWR0aCAvIGhlaWdodCBiYXNlZCBvbiB0aGVcbiAgICogcG90ZW50aWFsIGJvcmRlcnMgYW5kIHdoZXRoZXIgd2UgY2FyZSBhYm91dCB0aGVtLlxuICAgKi9cbiAgZnVuY3Rpb24gYXVnbWVudERpbWVuc2lvbihlbGVtZW50LCBuYW1lLCB3YW50SW5uZXIpIHtcbiAgICAgIHZhciBpc0JvcmRlckJveCA9IGdldFByb3BlcnR5VmFsdWUoZWxlbWVudCwgXCJib3hTaXppbmdcIikudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpID09PSBcImJvcmRlci1ib3hcIjtcbiAgICAgIGlmIChpc0JvcmRlckJveCA9PT0gd2FudElubmVyKSB7XG4gICAgICAgICAgLy8gaW4gYm94LXNpemluZyBtb2RlLCB0aGUgQ1NTIHdpZHRoIC8gaGVpZ2h0IGFjY2Vzc29ycyBhbHJlYWR5XG4gICAgICAgICAgLy8gZ2l2ZSB0aGUgb3V0ZXJXaWR0aCAvIG91dGVySGVpZ2h0LlxuICAgICAgICAgIHZhciBzaWRlcyA9IG5hbWUgPT09IFwid2lkdGhcIiA/IFtcIkxlZnRcIiwgXCJSaWdodFwiXSA6IFtcIlRvcFwiLCBcIkJvdHRvbVwiXSxcbiAgICAgICAgICAgICAgZmllbGRzID0gW1wicGFkZGluZ1wiICsgc2lkZXNbMF0sIFwicGFkZGluZ1wiICsgc2lkZXNbMV0sIFwiYm9yZGVyXCIgKyBzaWRlc1swXSArIFwiV2lkdGhcIiwgXCJib3JkZXJcIiArIHNpZGVzWzFdICsgXCJXaWR0aFwiXTtcbiAgICAgICAgICB2YXIgYXVnbWVudCA9IDA7XG4gICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGZpZWxkc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBmaWVsZCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBwYXJzZUZsb2F0KGdldFByb3BlcnR5VmFsdWUoZWxlbWVudCwgZmllbGQpKTtcbiAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXVnbWVudCArPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHdhbnRJbm5lciA/IC1hdWdtZW50IDogYXVnbWVudDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICB9XG5cbiAgLy8gUHJvamVjdFxuICAvKipcbiAgICogR2V0IHRoZSB3aWR0aCBvciBoZWlnaHQgb2YgYW4gZWxlbWVudCwgcHVsbGVkIG91dCBhcyBpdCBjYW4gYmUgdXNlZCB3aGVuIHRoZVxuICAgKiBpbiB0d28gbG9jYXRpb25zIHNvIGRvbid0IHdhbnQgdG8gcmVwZWF0IGl0LlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0V2lkdGhIZWlnaHQoZWxlbWVudCwgcHJvcGVydHkpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3Byb3BlcnR5XSArIGF1Z21lbnREaW1lbnNpb24oZWxlbWVudCwgcHJvcGVydHksIHRydWUpICsgXCJweFwiO1xuICB9XG4gIC8vIFRPRE86IFRoaXMgaXMgc3RpbGwgYSBjb21wbGV0ZSBtZXNzXG4gIGZ1bmN0aW9uIGNvbXB1dGVQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5KSB7XG4gICAgICB2YXIgZGF0YSA9IERhdGEoZWxlbWVudCksXG5cbiAgICAgIC8vIElmIGNvbXB1dGVkU3R5bGUgaXMgY2FjaGVkLCB1c2UgaXQuIElmIG5vdCB0aGVuIGdldCB0aGUgY29ycmVjdCBvbmVcbiAgICAgIC8vIGZvciB0aGUgZWxlbWVudCB0byBzdXBwb3J0IGNyb3NzLWlmcmFtZSBib3VuZGFyaWVzLlxuICAgICAgY29tcHV0ZWRTdHlsZSA9IGRhdGEuY29tcHV0ZWRTdHlsZSA/IGRhdGEuY29tcHV0ZWRTdHlsZSA6IGRhdGEud2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCk7XG4gICAgICB2YXIgY29tcHV0ZWRWYWx1ZSA9IDA7XG4gICAgICBpZiAoIWRhdGEuY29tcHV0ZWRTdHlsZSkge1xuICAgICAgICAgIGRhdGEuY29tcHV0ZWRTdHlsZSA9IGNvbXB1dGVkU3R5bGU7XG4gICAgICB9XG4gICAgICBpZiAoY29tcHV0ZWRTdHlsZVtcImRpc3BsYXlcIl0gPT09IFwibm9uZVwiKSB7XG4gICAgICAgICAgc3dpdGNoIChwcm9wZXJ0eSkge1xuICAgICAgICAgICAgICBjYXNlIFwid2lkdGhcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImhlaWdodFwiOlxuICAgICAgICAgICAgICAgICAgLy8gQnJvd3NlcnMgZG8gbm90IHJldHVybiBoZWlnaHQgYW5kIHdpZHRoIHZhbHVlcyBmb3IgZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgIC8vIHRoYXQgYXJlIHNldCB0byBkaXNwbGF5Olwibm9uZVwiLiBUaHVzLCB3ZSB0ZW1wb3JhcmlseSB0b2dnbGVcbiAgICAgICAgICAgICAgICAgIC8vIGRpc3BsYXkgdG8gdGhlIGVsZW1lbnQgdHlwZSdzIGRlZmF1bHQgdmFsdWUuXG4gICAgICAgICAgICAgICAgICBzZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIFwiZGlzcGxheVwiLCBcImF1dG9cIik7XG4gICAgICAgICAgICAgICAgICBjb21wdXRlZFZhbHVlID0gZ2V0V2lkdGhIZWlnaHQoZWxlbWVudCwgcHJvcGVydHkpO1xuICAgICAgICAgICAgICAgICAgc2V0UHJvcGVydHlWYWx1ZShlbGVtZW50LCBcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhjb21wdXRlZFZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKiBJRSBhbmQgRmlyZWZveCBkbyBub3QgcmV0dXJuIGEgdmFsdWUgZm9yIHRoZSBnZW5lcmljIGJvcmRlckNvbG9yIC0tIHRoZXkgb25seSByZXR1cm4gaW5kaXZpZHVhbCB2YWx1ZXMgZm9yIGVhY2ggYm9yZGVyIHNpZGUncyBjb2xvci5cbiAgICAgICBBbHNvLCBpbiBhbGwgYnJvd3NlcnMsIHdoZW4gYm9yZGVyIGNvbG9ycyBhcmVuJ3QgYWxsIHRoZSBzYW1lLCBhIGNvbXBvdW5kIHZhbHVlIGlzIHJldHVybmVkIHRoYXQgVmVsb2NpdHkgaXNuJ3Qgc2V0dXAgdG8gcGFyc2UuXG4gICAgICAgU28sIGFzIGEgcG9seWZpbGwgZm9yIHF1ZXJ5aW5nIGluZGl2aWR1YWwgYm9yZGVyIHNpZGUgY29sb3JzLCB3ZSBqdXN0IHJldHVybiB0aGUgdG9wIGJvcmRlcidzIGNvbG9yIGFuZCBhbmltYXRlIGFsbCBib3JkZXJzIGZyb20gdGhhdCB2YWx1ZS4gKi9cbiAgICAgIC8qIFRPRE86IFRoZXJlIGlzIGEgYm9yZGVyQ29sb3Igbm9ybWFsaXNhdGlvbiBpbiBsZWdhY3kvIC0gZmlndXJlIG91dCB3aGVyZSB0aGlzIGlzIG5lZWRlZC4uLiAqL1xuICAgICAgY29tcHV0ZWRWYWx1ZSA9IGNvbXB1dGVkU3R5bGVbcHJvcGVydHldO1xuICAgICAgLyogRmFsbCBiYWNrIHRvIHRoZSBwcm9wZXJ0eSdzIHN0eWxlIHZhbHVlIChpZiBkZWZpbmVkKSB3aGVuIGNvbXB1dGVkVmFsdWUgcmV0dXJucyBub3RoaW5nLFxuICAgICAgIHdoaWNoIGNhbiBoYXBwZW4gd2hlbiB0aGUgZWxlbWVudCBoYXNuJ3QgYmVlbiBwYWludGVkLiAqL1xuICAgICAgaWYgKCFjb21wdXRlZFZhbHVlKSB7XG4gICAgICAgICAgY29tcHV0ZWRWYWx1ZSA9IGVsZW1lbnQuc3R5bGVbcHJvcGVydHldO1xuICAgICAgfVxuICAgICAgLyogRm9yIHRvcCwgcmlnaHQsIGJvdHRvbSwgYW5kIGxlZnQgKFRSQkwpIHZhbHVlcyB0aGF0IGFyZSBzZXQgdG8gXCJhdXRvXCIgb24gZWxlbWVudHMgb2YgXCJmaXhlZFwiIG9yIFwiYWJzb2x1dGVcIiBwb3NpdGlvbixcbiAgICAgICBkZWZlciB0byBqUXVlcnkgZm9yIGNvbnZlcnRpbmcgXCJhdXRvXCIgdG8gYSBudW1lcmljIHZhbHVlLiAoRm9yIGVsZW1lbnRzIHdpdGggYSBcInN0YXRpY1wiIG9yIFwicmVsYXRpdmVcIiBwb3NpdGlvbiwgXCJhdXRvXCIgaGFzIHRoZSBzYW1lXG4gICAgICAgZWZmZWN0IGFzIGJlaW5nIHNldCB0byAwLCBzbyBubyBjb252ZXJzaW9uIGlzIG5lY2Vzc2FyeS4pICovXG4gICAgICAvKiBBbiBleGFtcGxlIG9mIHdoeSBudW1lcmljIGNvbnZlcnNpb24gaXMgbmVjZXNzYXJ5OiBXaGVuIGFuIGVsZW1lbnQgd2l0aCBcInBvc2l0aW9uOmFic29sdXRlXCIgaGFzIGFuIHVudG91Y2hlZCBcImxlZnRcIlxuICAgICAgIHByb3BlcnR5LCB3aGljaCByZXZlcnRzIHRvIFwiYXV0b1wiLCBsZWZ0J3MgdmFsdWUgaXMgMCByZWxhdGl2ZSB0byBpdHMgcGFyZW50IGVsZW1lbnQsIGJ1dCBpcyBvZnRlbiBub24temVybyByZWxhdGl2ZVxuICAgICAgIHRvIGl0cyAqY29udGFpbmluZyogKG5vdCBwYXJlbnQpIGVsZW1lbnQsIHdoaWNoIGlzIHRoZSBuZWFyZXN0IFwicG9zaXRpb246cmVsYXRpdmVcIiBhbmNlc3RvciBvciB0aGUgdmlld3BvcnQgKGFuZCBhbHdheXMgdGhlIHZpZXdwb3J0IGluIHRoZSBjYXNlIG9mIFwicG9zaXRpb246Zml4ZWRcIikuICovXG4gICAgICBpZiAoY29tcHV0ZWRWYWx1ZSA9PT0gXCJhdXRvXCIpIHtcbiAgICAgICAgICBzd2l0Y2ggKHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJ3aWR0aFwiOlxuICAgICAgICAgICAgICBjYXNlIFwiaGVpZ2h0XCI6XG4gICAgICAgICAgICAgICAgICBjb21wdXRlZFZhbHVlID0gZ2V0V2lkdGhIZWlnaHQoZWxlbWVudCwgcHJvcGVydHkpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJ0b3BcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImxlZnRcIjpcblxuICAgICAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImJvdHRvbVwiOlxuICAgICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gZ2V0UHJvcGVydHlWYWx1ZShlbGVtZW50LCBcInBvc2l0aW9uXCIpO1xuICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBcImZpeGVkXCIgfHwgcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIikge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IHRoaXMgaGFzIG5vIHBpeGVsIHVuaXQgb24gaXRzIHJldHVybmVkIHZhbHVlcyxcbiAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSByZS1hZGQgaXQgaGVyZSB0byBjb25mb3JtIHdpdGhcbiAgICAgICAgICAgICAgICAgICAgICAvLyBjb21wdXRlUHJvcGVydHlWYWx1ZSdzIGJlaGF2aW9yLlxuICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkVmFsdWUgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdFtwcm9wZXJ0eV0gKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIERlbGliZXJhdGUgZmFsbHRocm91Z2ghXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBjb21wdXRlZFZhbHVlID0gXCIwcHhcIjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjb21wdXRlZFZhbHVlID8gU3RyaW5nKGNvbXB1dGVkVmFsdWUpIDogXCJcIjtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgcHJvcGVydHkgdmFsdWUuIFRoaXMgd2lsbCBncmFiIHZpYSB0aGUgY2FjaGUgaWYgaXQgZXhpc3RzLCB0aGVuXG4gICAqIHZpYSBhbnkgbm9ybWFsaXNhdGlvbnMuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5TmFtZSwgZm4sIHNraXBDYWNoZSkge1xuICAgICAgdmFyIGRhdGEgPSBEYXRhKGVsZW1lbnQpO1xuICAgICAgdmFyIHByb3BlcnR5VmFsdWUgPSB2b2lkIDA7XG4gICAgICBpZiAoTm9DYWNoZU5vcm1hbGl6YXRpb25zLmhhcyhwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgc2tpcENhY2hlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICghc2tpcENhY2hlICYmIGRhdGEgJiYgZGF0YS5jYWNoZVtwcm9wZXJ0eU5hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICBwcm9wZXJ0eVZhbHVlID0gZGF0YS5jYWNoZVtwcm9wZXJ0eU5hbWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmbiA9IGZuIHx8IGdldE5vcm1hbGl6YXRpb24oZWxlbWVudCwgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IGZuKGVsZW1lbnQpO1xuICAgICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgZGF0YS5jYWNoZVtwcm9wZXJ0eU5hbWVdID0gcHJvcGVydHlWYWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChWZWxvY2l0eSQkMS5kZWJ1ZyA+PSAyKSB7XG4gICAgICAgICAgY29uc29sZS5pbmZvKFwiR2V0IFxcXCJcIiArIHByb3BlcnR5TmFtZSArIFwiXFxcIjogXFxcIlwiICsgcHJvcGVydHlWYWx1ZSArIFwiXFxcIlwiLCBlbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9wZXJ0eVZhbHVlO1xuICB9XG5cbiAgLy8gUHJvamVjdFxuICAvLyBDb25zdGFudHNcbiAgdmFyIHJ4SGV4ID0gL14jKFtBLWZcXGRdezN9KXsxLDJ9JC9pLFxuICAgICAgY29tbWFuZHMgPSB7XG4gICAgICBmdW5jdGlvbjogZnVuY3Rpb24gX2Z1bmN0aW9uKHZhbHVlLCBlbGVtZW50LCBlbGVtZW50cywgZWxlbWVudEFycmF5SW5kZXgsIHByb3BlcnR5TmFtZSwgdHdlZW4pIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUuY2FsbChlbGVtZW50LCBlbGVtZW50QXJyYXlJbmRleCwgZWxlbWVudHMubGVuZ3RoLCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgfSxcbiAgICAgIG51bWJlcjogZnVuY3Rpb24gbnVtYmVyKHZhbHVlLCBlbGVtZW50LCBlbGVtZW50cywgZWxlbWVudEFycmF5SW5kZXgsIHByb3BlcnR5TmFtZSwgdHdlZW4pIHtcbiAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKSArIGdldE5vcm1hbGl6YXRpb25Vbml0KHR3ZWVuLmZuKTtcbiAgICAgIH0sXG4gICAgICBzdHJpbmc6IGZ1bmN0aW9uIHN0cmluZyh2YWx1ZSwgZWxlbWVudCwgZWxlbWVudHMsIGVsZW1lbnRBcnJheUluZGV4LCBwcm9wZXJ0eU5hbWUsIHR3ZWVuKSB7XG4gICAgICAgICAgcmV0dXJuIGZpeENvbG9ycyh2YWx1ZSk7XG4gICAgICB9LFxuICAgICAgdW5kZWZpbmVkOiBmdW5jdGlvbiB1bmRlZmluZWQodmFsdWUsIGVsZW1lbnQsIGVsZW1lbnRzLCBlbGVtZW50QXJyYXlJbmRleCwgcHJvcGVydHlOYW1lLCB0d2Vlbikge1xuICAgICAgICAgIHJldHVybiBmaXhDb2xvcnMoZ2V0UHJvcGVydHlWYWx1ZShlbGVtZW50LCBwcm9wZXJ0eU5hbWUsIHR3ZWVuLmZuKSB8fCBcIlwiKTtcbiAgICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEV4cGFuZCBhIFZlbG9jaXR5UHJvcGVydHkgYXJndW1lbnQgaW50byBhIHZhbGlkIHNwYXJzZSBUd2VlbiBhcnJheS4gVGhpc1xuICAgKiBwcmUtYWxsb2NhdGVzIHRoZSBhcnJheSBhcyBpdCBpcyB0aGVuIHRoZSBjb3JyZWN0IHNpemUgYW5kIHNsaWdodGx5XG4gICAqIGZhc3RlciB0byBhY2Nlc3MuXG4gICAqL1xuICBmdW5jdGlvbiBleHBhbmRQcm9wZXJ0aWVzKGFuaW1hdGlvbiwgcHJvcGVydGllcykge1xuICAgICAgdmFyIHR3ZWVucyA9IGFuaW1hdGlvbi50d2VlbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAgICAgIGVsZW1lbnRzID0gYW5pbWF0aW9uLmVsZW1lbnRzLFxuICAgICAgICAgIGVsZW1lbnQgPSBhbmltYXRpb24uZWxlbWVudCxcbiAgICAgICAgICBlbGVtZW50QXJyYXlJbmRleCA9IGVsZW1lbnRzLmluZGV4T2YoZWxlbWVudCksXG4gICAgICAgICAgZGF0YSA9IERhdGEoZWxlbWVudCksXG4gICAgICAgICAgcXVldWUgPSBnZXRWYWx1ZShhbmltYXRpb24ucXVldWUsIGFuaW1hdGlvbi5vcHRpb25zLnF1ZXVlKSxcbiAgICAgICAgICBkdXJhdGlvbiA9IGdldFZhbHVlKGFuaW1hdGlvbi5vcHRpb25zLmR1cmF0aW9uLCBkZWZhdWx0cyQxLmR1cmF0aW9uKTtcbiAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHtcbiAgICAgICAgICBpZiAocHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgdmFyIHByb3BlcnR5TmFtZSA9IGNhbWVsQ2FzZShwcm9wZXJ0eSksXG4gICAgICAgICAgICAgICAgICBmbiA9IGdldE5vcm1hbGl6YXRpb24oZWxlbWVudCwgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgICAgdmFyIHZhbHVlRGF0YSA9IHByb3BlcnRpZXNbcHJvcGVydHldO1xuICAgICAgICAgICAgICBpZiAoIWZuICYmIHByb3BlcnR5TmFtZSAhPT0gXCJ0d2VlblwiKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoVmVsb2NpdHkkJDEuZGVidWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNraXBwaW5nIFxcXCJcIiArIHByb3BlcnR5ICsgXCJcXFwiIGR1ZSB0byBhIGxhY2sgb2YgYnJvd3NlciBzdXBwb3J0LlwiKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh2YWx1ZURhdGEgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgaWYgKFZlbG9jaXR5JCQxLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTa2lwcGluZyBcXFwiXCIgKyBwcm9wZXJ0eSArIFwiXFxcIiBkdWUgdG8gbm8gdmFsdWUgc3VwcGxpZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIHR3ZWVuID0gdHdlZW5zW3Byb3BlcnR5TmFtZV0gPSB7fTtcbiAgICAgICAgICAgICAgdmFyIGVuZFZhbHVlID0gdm9pZCAwLFxuICAgICAgICAgICAgICAgICAgc3RhcnRWYWx1ZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgdHdlZW4uZm4gPSBmbjtcbiAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWVEYXRhKSkge1xuICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIGZ1bmN0aW9uIGFzIHRoZSBtYWluIGFyZ3VtZW50IHRoZW4gcmVzb2x2ZVxuICAgICAgICAgICAgICAgICAgLy8gaXQgZmlyc3QsIGluIGNhc2UgaXQgcmV0dXJucyBhbiBhcnJheSB0aGF0IG5lZWRzIHRvIGJlXG4gICAgICAgICAgICAgICAgICAvLyBzcGxpdC5cbiAgICAgICAgICAgICAgICAgIHZhbHVlRGF0YSA9IHZhbHVlRGF0YS5jYWxsKGVsZW1lbnQsIGVsZW1lbnRBcnJheUluZGV4LCBlbGVtZW50cy5sZW5ndGgsIGVsZW1lbnRzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZURhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAvLyB2YWx1ZURhdGEgaXMgYW4gYXJyYXkgaW4gdGhlIGZvcm0gb2ZcbiAgICAgICAgICAgICAgICAgIC8vIFsgZW5kVmFsdWUsIFssIGVhc2luZ10gWywgc3RhcnRWYWx1ZV0gXVxuICAgICAgICAgICAgICAgICAgdmFyIGFycjEgPSB2YWx1ZURhdGFbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgYXJyMiA9IHZhbHVlRGF0YVsyXTtcbiAgICAgICAgICAgICAgICAgIGVuZFZhbHVlID0gdmFsdWVEYXRhWzBdO1xuICAgICAgICAgICAgICAgICAgaWYgKGlzU3RyaW5nKGFycjEpICYmICgvXltcXGQtXS8udGVzdChhcnIxKSB8fCByeEhleC50ZXN0KGFycjEpKSB8fCBpc0Z1bmN0aW9uKGFycjEpIHx8IGlzTnVtYmVyKGFycjEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RhcnRWYWx1ZSA9IGFycjE7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKGFycjEpICYmIEVhc2luZ3NbYXJyMV0gfHwgQXJyYXkuaXNBcnJheShhcnIxKSkge1xuICAgICAgICAgICAgICAgICAgICAgIHR3ZWVuLmVhc2luZyA9IHZhbGlkYXRlRWFzaW5nKGFycjEsIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICBzdGFydFZhbHVlID0gYXJyMjtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RhcnRWYWx1ZSA9IGFycjEgfHwgYXJyMjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGVuZFZhbHVlID0gdmFsdWVEYXRhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHR3ZWVuLmVuZCA9IGNvbW1hbmRzW3R5cGVvZiBlbmRWYWx1ZSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGVuZFZhbHVlKV0oZW5kVmFsdWUsIGVsZW1lbnQsIGVsZW1lbnRzLCBlbGVtZW50QXJyYXlJbmRleCwgcHJvcGVydHlOYW1lLCB0d2Vlbik7XG4gICAgICAgICAgICAgIGlmIChzdGFydFZhbHVlICE9IG51bGwgfHwgcXVldWUgPT09IGZhbHNlIHx8IGRhdGEucXVldWVMaXN0W3F1ZXVlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICB0d2Vlbi5zdGFydCA9IGNvbW1hbmRzW3R5cGVvZiBzdGFydFZhbHVlID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yoc3RhcnRWYWx1ZSldKHN0YXJ0VmFsdWUsIGVsZW1lbnQsIGVsZW1lbnRzLCBlbGVtZW50QXJyYXlJbmRleCwgcHJvcGVydHlOYW1lLCB0d2Vlbik7XG4gICAgICAgICAgICAgICAgICBleHBsb2RlVHdlZW4ocHJvcGVydHlOYW1lLCB0d2VlbiwgZHVyYXRpb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIC8vIFRPRE86IE5lZWRzIGEgYmV0dGVyIG1hdGNoIGZvciBcInRyYW5zbGF0ZTNkXCIgZXRjIC0gYSBudW1iZXIgbXVzdCBiZSBwcmVjZWRlZCBieSBzb21lIGZvcm0gb2YgYnJlYWsuLi5cbiAgdmFyIHJ4VG9rZW4gPSAvKCg/OlsrXFwtKi9dPSk/KD86WystXT9cXGQqXFwuXFxkK3xbKy1dP1xcZCspW2EteiVdKnwoPzouKD8hJHxbKy1dP1xcZHxbK1xcLSovXT1bKy1dP1xcZCkpKy58LikvZyxcbiAgICAgIHJ4TnVtYmVyID0gL14oWytcXC0qL109KT8oWystXT9cXGQqXFwuXFxkK3xbKy1dP1xcZCspKC4qKSQvO1xuICAvKipcbiAgICogRmluZCBhIHBhdHRlcm4gYmV0d2VlbiBtdWx0aXBsZSBzdHJpbmdzLCByZXR1cm4gYSBWZWxvY2l0eVNlcXVlbmNlIHdpdGhcbiAgICogdGhlIHBhdHRlcm4gYW5kIHRoZSB0b2tlbmlzZWQgdmFsdWVzLlxuICAgKlxuICAgKiBJZiBudW1iZXIgdGhlbiBhbmltYXRlLlxuICAgKiBJZiBhIHN0cmluZyB0aGVuIG11c3QgbWF0Y2guXG4gICAqIElmIHVuaXRzIHRoZW4gY29udmVydCBiZXR3ZWVuIHRoZW0gYnkgd3JhcHBpbmcgaW4gYSBjYWxjKCkuXG4gICAqIC0gSWYgYWxyZWFkeSBpbiBhIGNhbGMgdGhlbiBuZXN0IGFub3RoZXIgbGF5ZXIuXG4gICAqIElmIGluIGFuIHJnYmEoKSB0aGVuIHRoZSBmaXJzdCB0aHJlZSBudW1iZXJzIGFyZSByb3VuZGVkLlxuICAgKi9cbiAgZnVuY3Rpb24gZmluZFBhdHRlcm4ocGFydHMsIHByb3BlcnR5TmFtZSkge1xuICAgICAgdmFyIHBhcnRzTGVuZ3RoID0gcGFydHMubGVuZ3RoLFxuICAgICAgICAgIHRva2VucyA9IFtdLFxuICAgICAgICAgIGluZGV4ZXMgPSBbXTtcbiAgICAgIHZhciBudW1iZXJzID0gdm9pZCAwO1xuICAgICAgLy8gRmlyc3QgdG9rZW5pc2UgdGhlIHN0cmluZ3MgLSB0aGVzZSBoYXZlIGFsbCB2YWx1ZXMsIHdlIHdpbGwgcHVsbFxuICAgICAgLy8gbnVtYmVycyBsYXRlci5cbiAgICAgIGZvciAodmFyIHBhcnQgPSAwOyBwYXJ0IDwgcGFydHNMZW5ndGg7IHBhcnQrKykge1xuICAgICAgICAgIGlmIChpc1N0cmluZyhwYXJ0c1twYXJ0XSkpIHtcbiAgICAgICAgICAgICAgaWYgKHBhcnRzW3BhcnRdID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICB0b2tlbnNbcGFydF0gPSBbXCJcIl07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0b2tlbnNbcGFydF0gPSBjbG9uZUFycmF5KHBhcnRzW3BhcnRdLm1hdGNoKHJ4VG9rZW4pKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpbmRleGVzW3BhcnRdID0gMDtcbiAgICAgICAgICAgICAgLy8gSWYgaXQgbWF0Y2hlcyBtb3JlIHRoYW4gb25lIHRoaW5nIHRoZW4gd2UndmUgZ290IGEgbnVtYmVyLlxuICAgICAgICAgICAgICBudW1iZXJzID0gbnVtYmVycyB8fCB0b2tlbnNbcGFydF0ubGVuZ3RoID4gMTtcbiAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhgdG9rZW5zOmAsIHBhcnRzW3BhcnRdLCB0b2tlbnNbcGFydF0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBhbiBpbmNvbXBsZXRlIGxpbmV1cCwgaXQgd2lsbCBnZXQgdHJpZWQgYWdhaW4gbGF0ZXIuLi5cbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBzZXF1ZW5jZSA9IFtdLFxuICAgICAgICAgIHBhdHRlcm4gPSBzZXF1ZW5jZS5wYXR0ZXJuID0gW10sXG4gICAgICAgICAgYWRkU3RyaW5nID0gZnVuY3Rpb24gYWRkU3RyaW5nKHRleHQpIHtcbiAgICAgICAgICBpZiAoaXNTdHJpbmcocGF0dGVybltwYXR0ZXJuLmxlbmd0aCAtIDFdKSkge1xuICAgICAgICAgICAgICBwYXR0ZXJuW3BhdHRlcm4ubGVuZ3RoIC0gMV0gKz0gdGV4dDtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRleHQpIHtcbiAgICAgICAgICAgICAgcGF0dGVybi5wdXNoKHRleHQpO1xuICAgICAgICAgICAgICBmb3IgKHZhciBfcGFydCA9IDA7IF9wYXJ0IDwgcGFydHNMZW5ndGg7IF9wYXJ0KyspIHtcbiAgICAgICAgICAgICAgICAgIHNlcXVlbmNlW19wYXJ0XS5wdXNoKG51bGwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfSxcbiAgICAgICAgICByZXR1cm5TdHJpbmdUeXBlID0gZnVuY3Rpb24gcmV0dXJuU3RyaW5nVHlwZSgpIHtcbiAgICAgICAgICBpZiAobnVtYmVycyB8fCBwYXR0ZXJuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgLy9jb25zb2xlLmVycm9yKGBWZWxvY2l0eTogVHJ5aW5nIHRvIHBhdHRlcm4gbWF0Y2ggbWlzLW1hdGNoZWQgc3RyaW5ncyBcIiR7cHJvcGVydHlOYW1lfVwiOmAsIHBhcnRzKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaXNEaXNwbGF5ID0gcHJvcGVydHlOYW1lID09PSBcImRpc3BsYXlcIixcbiAgICAgICAgICAgICAgaXNWaXNpYmlsaXR5ID0gcHJvcGVydHlOYW1lID09PSBcInZpc2liaWxpdHlcIjtcbiAgICAgICAgICBmb3IgKHZhciBfcGFydDIgPSAwOyBfcGFydDIgPCBwYXJ0c0xlbmd0aDsgX3BhcnQyKyspIHtcbiAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFydHNbX3BhcnQyXTtcbiAgICAgICAgICAgICAgc2VxdWVuY2VbX3BhcnQyXVswXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAvLyBEb24ndCBjYXJlIGFib3V0IGR1cmF0aW9uLi4uXG4gICAgICAgICAgICAgIHNlcXVlbmNlW19wYXJ0Ml0uZWFzaW5nID0gdmFsaWRhdGVFYXNpbmcoaXNEaXNwbGF5ICYmIHZhbHVlID09PSBcIm5vbmVcIiB8fCBpc1Zpc2liaWxpdHkgJiYgdmFsdWUgPT09IFwiaGlkZGVuXCIgfHwgIWlzRGlzcGxheSAmJiAhaXNWaXNpYmlsaXR5ID8gXCJhdC1lbmRcIiA6IFwiYXQtc3RhcnRcIiwgNDAwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGF0dGVyblswXSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBzZXF1ZW5jZTtcbiAgICAgIH07XG4gICAgICB2YXIgbW9yZSA9IHRydWU7XG4gICAgICBmb3IgKHZhciBfcGFydDMgPSAwOyBfcGFydDMgPCBwYXJ0c0xlbmd0aDsgX3BhcnQzKyspIHtcbiAgICAgICAgICBzZXF1ZW5jZVtfcGFydDNdID0gW107XG4gICAgICB9XG4gICAgICB3aGlsZSAobW9yZSkge1xuICAgICAgICAgIHZhciBiaXRzID0gW10sXG4gICAgICAgICAgICAgIHVuaXRzID0gW107XG4gICAgICAgICAgdmFyIHRleHQgPSB2b2lkIDAsXG4gICAgICAgICAgICAgIGlzVW5pdGxlc3MgPSBmYWxzZSxcbiAgICAgICAgICAgICAgaGFzTnVtYmVycyA9IGZhbHNlO1xuICAgICAgICAgIGZvciAodmFyIF9wYXJ0NCA9IDA7IF9wYXJ0NCA8IHBhcnRzTGVuZ3RoOyBfcGFydDQrKykge1xuICAgICAgICAgICAgICB2YXIgaW5kZXggPSBpbmRleGVzW19wYXJ0NF0rKyxcbiAgICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5zW19wYXJ0NF1baW5kZXhdO1xuICAgICAgICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgIHZhciBudW0gPSB0b2tlbi5tYXRjaChyeE51bWJlcik7IC8vIFtpZ25vcmUsIGNoYW5nZSwgbnVtYmVyLCB1bml0XVxuICAgICAgICAgICAgICAgICAgaWYgKG51bSkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIEl0J3MgYSBudW1iZXIsIHBvc3NpYmx5IHdpdGggYSArPSBjaGFuZ2UgYW5kIHVuaXQuXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblN0cmluZ1R5cGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGRpZ2l0cyA9IHBhcnNlRmxvYXQobnVtWzJdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdCA9IG51bVszXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlID0gbnVtWzFdID8gbnVtWzFdWzBdICsgdW5pdCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlT3JVbml0ID0gY2hhbmdlIHx8IHVuaXQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGRpZ2l0cyAmJiAhdW5pdHMuaW5jbHVkZXMoY2hhbmdlT3JVbml0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaWxsIGJlIGFuIGVtcHR5IHN0cmluZyBhdCB0aGUgbGVhc3QuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRzLnB1c2goY2hhbmdlT3JVbml0KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCF1bml0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWdpdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc051bWJlcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNVbml0bGVzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgYml0c1tfcGFydDRdID0gY2hhbmdlID8gW2RpZ2l0cywgY2hhbmdlT3JVbml0LCB0cnVlXSA6IFtkaWdpdHMsIGNoYW5nZU9yVW5pdF07XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJpdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblN0cmluZ1R5cGUoKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gSXQncyBhIHN0cmluZy5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dCAhPT0gdG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblN0cmluZ1R5cGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoIV9wYXJ0NCkge1xuICAgICAgICAgICAgICAgICAgZm9yICg7IF9wYXJ0NCA8IHBhcnRzTGVuZ3RoOyBfcGFydDQrKykge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleDIgPSBpbmRleGVzW19wYXJ0NF0rKztcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5zW19wYXJ0NF1baW5kZXgyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuU3RyaW5nVHlwZSgpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIC8vIElNUE9SVEFOVDogVGhpcyBpcyB0aGUgZXhpdCBwb2ludC5cbiAgICAgICAgICAgICAgICAgIG1vcmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gRGlmZmVyZW50XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICAgICAgYWRkU3RyaW5nKHRleHQpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodW5pdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGlmICh1bml0cy5sZW5ndGggPT09IDIgJiYgaXNVbml0bGVzcyAmJiAhaGFzTnVtYmVycykge1xuICAgICAgICAgICAgICAgICAgLy8gSWYgd2Ugb25seSBoYXZlIHR3byB1bml0cywgYW5kIG9uZSBpcyBlbXB0eSwgYW5kIGl0J3Mgb25seSBlbXB0eSBvbiBcIjBcIiwgdGhlbiB0cmVhdCB1cyBhcyBoYXZpbmcgb25lIHVuaXRcbiAgICAgICAgICAgICAgICAgIHVuaXRzLnNwbGljZSh1bml0c1swXSA/IDEgOiAwLCAxKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAodW5pdHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAvLyBBbGwgdGhlIHNhbWUgdW5pdHMsIHNvIGFwcGVuZCBudW1iZXIgdGhlbiB1bml0LlxuICAgICAgICAgICAgICAgICAgdmFyIF91bml0ID0gdW5pdHNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgZmlyc3RMZXR0ZXIgPSBfdW5pdFswXTtcbiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZmlyc3RMZXR0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiK1wiOlxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCItXCI6XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIipcIjpcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiL1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydHlOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVmVsb2NpdHk6IFRoZSBmaXJzdCBwcm9wZXJ0eSBtdXN0IG5vdCBjb250YWluIGEgcmVsYXRpdmUgZnVuY3Rpb24gXFxcIlwiICsgcHJvcGVydHlOYW1lICsgXCJcXFwiOlwiLCBwYXJ0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcGF0dGVybi5wdXNoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9wYXJ0NSA9IDA7IF9wYXJ0NSA8IHBhcnRzTGVuZ3RoOyBfcGFydDUrKykge1xuICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlW19wYXJ0NV0ucHVzaChiaXRzW19wYXJ0NV1bMF0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgYWRkU3RyaW5nKF91bml0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIE11bHRpcGxlIHVuaXRzLCBzbyBtdXN0IGJlIGluc2lkZSBhIGNhbGMuXG4gICAgICAgICAgICAgICAgICBhZGRTdHJpbmcoXCJjYWxjKFwiKTtcbiAgICAgICAgICAgICAgICAgIHZhciBwYXR0ZXJuQ2FsYyA9IHBhdHRlcm4ubGVuZ3RoIC0gMTsgLy8gU3RvcmUgdGhlIGJlZ2lubmluZyBvZiBvdXIgY2FsYy5cbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdW5pdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgX3VuaXQyID0gdW5pdHNbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9maXJzdExldHRlciA9IF91bml0MlswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21wbGV4ID0gX2ZpcnN0TGV0dGVyID09PSBcIipcIiB8fCBfZmlyc3RMZXR0ZXIgPT09IFwiL1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpc01hdGhzID0gaXNDb21wbGV4IHx8IF9maXJzdExldHRlciA9PT0gXCIrXCIgfHwgX2ZpcnN0TGV0dGVyID09PSBcIi1cIjtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDb21wbGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IE5vdCBzdXJlIHRoaXMgc2hvdWxkIGJlIGRvbmUgYXV0b21hdGljYWxseSFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybltwYXR0ZXJuQ2FsY10gKz0gXCIoXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFN0cmluZyhcIilcIik7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFN0cmluZyhcIiBcIiArIChpc01hdGhzID8gX2ZpcnN0TGV0dGVyIDogXCIrXCIpICsgXCIgXCIpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLnB1c2goZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9wYXJ0NiA9IDA7IF9wYXJ0NiA8IHBhcnRzTGVuZ3RoOyBfcGFydDYrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYml0ID0gYml0c1tfcGFydDZdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBiaXRbMV0gPT09IF91bml0MiA/IGJpdFswXSA6IGJpdC5sZW5ndGggPT09IDMgPyBzZXF1ZW5jZVtfcGFydDYgLSAxXVtzZXF1ZW5jZVtfcGFydDYgLSAxXS5sZW5ndGggLSAxXSA6IGlzQ29tcGxleCA/IDEgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZVtfcGFydDZdLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBhZGRTdHJpbmcoaXNNYXRocyA/IF91bml0Mi5zdWJzdHJpbmcoMSkgOiBfdW5pdDIpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgYWRkU3RyaW5nKFwiKVwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIFdlJ3ZlIGdvdCBoZXJlLCBzbyBhIHZhbGlkIHNlcXVlbmNlIC0gbm93IGNoZWNrIGFuZCBmaXggUkdCIHJvdW5kaW5nXG4gICAgICAvLyBhbmQgY2FsYygpIG5lc3RpbmcuLi5cbiAgICAgIC8vIFRPRE86IE5lc3RlZCBjYWxjKGEgKyBjYWxjKGIgKyBjKSkgLT4gY2FsYyhhICsgKGIgKyBjKSlcbiAgICAgIGZvciAodmFyIF9pID0gMCwgaW5SR0IgPSAwOyBfaSA8IHBhdHRlcm4ubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgdmFyIF90ZXh0ID0gcGF0dGVybltfaV07XG4gICAgICAgICAgaWYgKGlzU3RyaW5nKF90ZXh0KSkge1xuICAgICAgICAgICAgICBpZiAoaW5SR0IgJiYgX3RleHQuaW5kZXhPZihcIixcIikgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgaW5SR0IrKztcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGV4dC5pbmRleE9mKFwicmdiXCIpID49IDApIHtcbiAgICAgICAgICAgICAgICAgIGluUkdCID0gMTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaW5SR0IpIHtcbiAgICAgICAgICAgICAgaWYgKGluUkdCIDwgNCkge1xuICAgICAgICAgICAgICAgICAgcGF0dGVybltfaV0gPSB0cnVlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgaW5SR0IgPSAwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNlcXVlbmNlO1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0IGEgc3RyaW5nLWJhc2VkIHR3ZWVuIHdpdGggc3RhcnQgYW5kIGVuZCBzdHJpbmdzLCBpbnRvIGEgcGF0dGVyblxuICAgKiBiYXNlZCB0d2VlbiB3aXRoIGFycmF5cy5cbiAgICovXG4gIGZ1bmN0aW9uIGV4cGxvZGVUd2Vlbihwcm9wZXJ0eU5hbWUsIHR3ZWVuLCBkdXJhdGlvbiwgc3RhcnRpbmcpIHtcbiAgICAgIHZhciBzdGFydFZhbHVlID0gdHdlZW4uc3RhcnQsXG4gICAgICAgICAgZW5kVmFsdWUgPSB0d2Vlbi5lbmQ7XG4gICAgICBpZiAoIWlzU3RyaW5nKGVuZFZhbHVlKSB8fCAhaXNTdHJpbmcoc3RhcnRWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgc2VxdWVuY2UgPSBmaW5kUGF0dGVybihbc3RhcnRWYWx1ZSwgZW5kVmFsdWVdLCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgaWYgKCFzZXF1ZW5jZSAmJiBzdGFydGluZykge1xuICAgICAgICAgIC8vIFRoaXMgbGl0dGxlIHBpZWNlIHdpbGwgdGFrZSBhIHN0YXJ0VmFsdWUsIHNwbGl0IG91dCB0aGVcbiAgICAgICAgICAvLyB2YXJpb3VzIG51bWJlcnMgaW4gaXQsIHRoZW4gY29weSB0aGUgZW5kVmFsdWUgaW50byB0aGVcbiAgICAgICAgICAvLyBzdGFydFZhbHVlIHdoaWxlIHJlcGxhY2luZyB0aGUgbnVtYmVycyBpbiBpdCB0byBtYXRjaCB0aGVcbiAgICAgICAgICAvLyBvcmlnaW5hbCBzdGFydCBudW1iZXJzIGFzIGEgcmVwZWF0aW5nIHNlcXVlbmNlLlxuICAgICAgICAgIC8vIEZpbmFsbHkgdGhpcyBmdW5jdGlvbiB3aWxsIHJ1biBhZ2FpbiB3aXRoIHRoZSBuZXdcbiAgICAgICAgICAvLyBzdGFydFZhbHVlIGFuZCBhIG5vdyBtYXRjaGluZyBwYXR0ZXJuLlxuICAgICAgICAgIHZhciBzdGFydE51bWJlcnMgPSBzdGFydFZhbHVlLm1hdGNoKC9cXGRcXC4/XFxkKi9nKSB8fCBbXCIwXCJdLFxuICAgICAgICAgICAgICBjb3VudCA9IHN0YXJ0TnVtYmVycy5sZW5ndGg7XG4gICAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgICBzZXF1ZW5jZSA9IGZpbmRQYXR0ZXJuKFtlbmRWYWx1ZS5yZXBsYWNlKC9cXGQrXFwuP1xcZCovZywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gc3RhcnROdW1iZXJzW2luZGV4KysgJSBjb3VudF07XG4gICAgICAgICAgfSksIGVuZFZhbHVlXSwgcHJvcGVydHlOYW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChzZXF1ZW5jZSkge1xuICAgICAgICAgIGlmIChWZWxvY2l0eSQkMS5kZWJ1Zykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlZlbG9jaXR5OiBTZXF1ZW5jZSBmb3VuZDpcIiwgc2VxdWVuY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXF1ZW5jZVswXS5wZXJjZW50ID0gMDtcbiAgICAgICAgICBzZXF1ZW5jZVsxXS5wZXJjZW50ID0gMTtcbiAgICAgICAgICB0d2Vlbi5zZXF1ZW5jZSA9IHNlcXVlbmNlO1xuICAgICAgICAgIHN3aXRjaCAodHdlZW4uZWFzaW5nKSB7XG4gICAgICAgICAgICAgIGNhc2UgRWFzaW5nc1tcImF0LXN0YXJ0XCJdOlxuICAgICAgICAgICAgICBjYXNlIEVhc2luZ3NbXCJkdXJpbmdcIl06XG4gICAgICAgICAgICAgIGNhc2UgRWFzaW5nc1tcImF0LWVuZFwiXTpcbiAgICAgICAgICAgICAgICAgIHNlcXVlbmNlWzBdLmVhc2luZyA9IHNlcXVlbmNlWzFdLmVhc2luZyA9IHR3ZWVuLmVhc2luZztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogRXhwYW5kIGFsbCBxdWV1ZWQgYW5pbWF0aW9ucyB0aGF0IGhhdmVuJ3QgZ29uZSB5ZXRcbiAgICpcbiAgICogVGhpcyB3aWxsIGF1dG9tYXRpY2FsbHkgZXhwYW5kIHRoZSBwcm9wZXJ0aWVzIG1hcCBmb3IgYW55IHJlY2VudGx5IGFkZGVkXG4gICAqIGFuaW1hdGlvbnMgc28gdGhhdCB0aGUgc3RhcnQgYW5kIGVuZCB2YWx1ZXMgYXJlIGNvcnJlY3QuXG4gICAqL1xuICBmdW5jdGlvbiB2YWxpZGF0ZVR3ZWVucyhhY3RpdmVDYWxsKSB7XG4gICAgICAvLyBUaGlzIG1pZ2h0IGJlIGNhbGxlZCBvbiBhbiBhbHJlYWR5LXJlYWR5IGFuaW1hdGlvblxuICAgICAgaWYgKFN0YXRlLmZpcnN0TmV3ID09PSBhY3RpdmVDYWxsKSB7XG4gICAgICAgICAgU3RhdGUuZmlyc3ROZXcgPSBhY3RpdmVDYWxsLl9uZXh0O1xuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgaWYgd2UncmUgYWN0dWFsbHkgYWxyZWFkeSByZWFkeVxuICAgICAgaWYgKGFjdGl2ZUNhbGwuX2ZsYWdzICYgMSAvKiBFWFBBTkRFRCAqLykge1xuICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgIHZhciBlbGVtZW50ID0gYWN0aXZlQ2FsbC5lbGVtZW50LFxuICAgICAgICAgIHR3ZWVucyA9IGFjdGl2ZUNhbGwudHdlZW5zLFxuICAgICAgICAgIGR1cmF0aW9uID0gZ2V0VmFsdWUoYWN0aXZlQ2FsbC5vcHRpb25zLmR1cmF0aW9uLCBkZWZhdWx0cyQxLmR1cmF0aW9uKTtcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpmb3JpblxuICAgICAgZm9yICh2YXIgcHJvcGVydHlOYW1lIGluIHR3ZWVucykge1xuICAgICAgICAgIHZhciB0d2VlbiA9IHR3ZWVuc1twcm9wZXJ0eU5hbWVdO1xuICAgICAgICAgIGlmICh0d2Vlbi5zdGFydCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIC8vIEdldCB0aGUgc3RhcnQgdmFsdWUgYXMgaXQncyBub3QgYmVlbiBwYXNzZWQgaW5cbiAgICAgICAgICAgICAgdmFyIHN0YXJ0VmFsdWUgPSBnZXRQcm9wZXJ0eVZhbHVlKGFjdGl2ZUNhbGwuZWxlbWVudCwgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgICAgaWYgKGlzU3RyaW5nKHN0YXJ0VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICB0d2Vlbi5zdGFydCA9IGZpeENvbG9ycyhzdGFydFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIGV4cGxvZGVUd2Vlbihwcm9wZXJ0eU5hbWUsIHR3ZWVuLCBkdXJhdGlvbiwgdHJ1ZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoc3RhcnRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcImJhZCB0eXBlXCIsIHR3ZWVuLCBwcm9wZXJ0eU5hbWUsIHN0YXJ0VmFsdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChWZWxvY2l0eSQkMS5kZWJ1Zykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInR3ZWVuc0NvbnRhaW5lciBcXFwiXCIgKyBwcm9wZXJ0eU5hbWUgKyBcIlxcXCI6IFwiICsgSlNPTi5zdHJpbmdpZnkodHdlZW4pLCBlbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBhY3RpdmVDYWxsLl9mbGFncyB8PSAxIC8qIEVYUEFOREVEICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgfVxuXG4gIC8vIFByb2plY3RcbiAgLyoqXG4gICAqIENhbGwgdGhlIGJlZ2luIG1ldGhvZCBvZiBhbiBhbmltYXRpb24gaW4gYSBzZXBhcmF0ZSBmdW5jdGlvbiBzbyBpdCBjYW5cbiAgICogYmVuZWZpdCBmcm9tIEpJVCBjb21waWxpbmcgd2hpbGUgc3RpbGwgaGF2aW5nIGEgdHJ5L2NhdGNoIGJsb2NrLlxuICAgKi9cbiAgZnVuY3Rpb24gYmVnaW5DYWxsKGFjdGl2ZUNhbGwpIHtcbiAgICAgIHZhciBjYWxsYmFjayA9IGFjdGl2ZUNhbGwuYmVnaW4gfHwgYWN0aXZlQ2FsbC5vcHRpb25zLmJlZ2luO1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gYWN0aXZlQ2FsbC5lbGVtZW50cztcbiAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChlbGVtZW50cywgZWxlbWVudHMsIGFjdGl2ZUNhbGwpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2FsbCB0aGUgcHJvZ3Jlc3MgbWV0aG9kIG9mIGFuIGFuaW1hdGlvbiBpbiBhIHNlcGFyYXRlIGZ1bmN0aW9uIHNvIGl0IGNhblxuICAgKiBiZW5lZml0IGZyb20gSklUIGNvbXBpbGluZyB3aGlsZSBzdGlsbCBoYXZpbmcgYSB0cnkvY2F0Y2ggYmxvY2suXG4gICAqL1xuICBmdW5jdGlvbiBwcm9ncmVzc0NhbGwoYWN0aXZlQ2FsbCkge1xuICAgICAgdmFyIGNhbGxiYWNrID0gYWN0aXZlQ2FsbC5wcm9ncmVzcyB8fCBhY3RpdmVDYWxsLm9wdGlvbnMucHJvZ3Jlc3M7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBhY3RpdmVDYWxsLmVsZW1lbnRzLFxuICAgICAgICAgICAgICAgICAgcGVyY2VudENvbXBsZXRlID0gYWN0aXZlQ2FsbC5wZXJjZW50Q29tcGxldGUsXG4gICAgICAgICAgICAgICAgICBvcHRpb25zID0gYWN0aXZlQ2FsbC5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgdHdlZW5WYWx1ZSA9IGFjdGl2ZUNhbGwudHdlZW47XG4gICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoZWxlbWVudHMsIGVsZW1lbnRzLCBwZXJjZW50Q29tcGxldGUsIE1hdGgubWF4KDAsIGFjdGl2ZUNhbGwudGltZVN0YXJ0ICsgKGFjdGl2ZUNhbGwuZHVyYXRpb24gIT0gbnVsbCA/IGFjdGl2ZUNhbGwuZHVyYXRpb24gOiBvcHRpb25zLmR1cmF0aW9uICE9IG51bGwgPyBvcHRpb25zLmR1cmF0aW9uIDogZGVmYXVsdHMkMS5kdXJhdGlvbikgLSBsYXN0VGljayksIHR3ZWVuVmFsdWUgIT09IHVuZGVmaW5lZCA/IHR3ZWVuVmFsdWUgOiBTdHJpbmcocGVyY2VudENvbXBsZXRlICogMTAwKSwgYWN0aXZlQ2FsbCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBDYWxsIGNhbGxiYWNrcywgcG90ZW50aWFsbHkgcnVuIGFzeW5jIHdpdGggdGhlIG1haW4gYW5pbWF0aW9uIHRocmVhZC5cbiAgICovXG4gIGZ1bmN0aW9uIGFzeW5jQ2FsbGJhY2tzKCkge1xuICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gcHJvZ3Jlc3NlZFtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgdmFyIGFjdGl2ZUNhbGwgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICBwcm9ncmVzc0NhbGwoYWN0aXZlQ2FsbCk7XG4gICAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcHJvZ3Jlc3NlZC5jbGVhcigpO1xuICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IGNvbXBsZXRlZFtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICB2YXIgX2FjdGl2ZUNhbGwgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgY29tcGxldGVDYWxsKF9hY3RpdmVDYWxsKTtcbiAgICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29tcGxldGVkLmNsZWFyKCk7XG4gIH1cbiAgLyoqKioqKioqKioqKioqXG4gICBUaW1pbmdcbiAgICoqKioqKioqKioqKioqL1xuICB2YXIgRlJBTUVfVElNRSA9IDEwMDAgLyA2MCxcblxuICAvKipcbiAgICogQW5pbWF0aW9ucyB3aXRoIGEgQ29tcGxldGUgY2FsbGJhY2suXG4gICAqL1xuICBjb21wbGV0ZWQgPSBuZXcgU2V0KCksXG5cbiAgLyoqXG4gICAqIEFuaW1hdGlvbnMgd2l0aCBhIFByb2dyZXNzIGNhbGxiYWNrLlxuICAgKi9cbiAgcHJvZ3Jlc3NlZCA9IG5ldyBTZXQoKSxcblxuICAvKipcbiAgICogU2hpbSBmb3Igd2luZG93LnBlcmZvcm1hbmNlIGluIGNhc2UgaXQgZG9lc24ndCBleGlzdFxuICAgKi9cbiAgcGVyZm9ybWFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGVyZiA9IHdpbmRvdy5wZXJmb3JtYW5jZSB8fCB7fTtcbiAgICAgIGlmICh0eXBlb2YgcGVyZi5ub3cgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHZhciBub3dPZmZzZXQgPSBwZXJmLnRpbWluZyAmJiBwZXJmLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQgPyBwZXJmLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQgOiBub3coKTtcbiAgICAgICAgICBwZXJmLm5vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG5vdygpIC0gbm93T2Zmc2V0O1xuICAgICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gcGVyZjtcbiAgfSgpLFxuXG4gIC8qKlxuICAgKiBQcm94eSBmdW5jdGlvbiBmb3Igd2hlbiByQUYgaXMgbm90IGF2YWlsYWJsZS5cbiAgICpcbiAgICogVGhpcyBzaG91bGQgaG9wZWZ1bGx5IG5ldmVyIGJlIHVzZWQgYXMgdGhlIGJyb3dzZXJzIG9mdGVuIHRocm90dGxlXG4gICAqIHRoaXMgdG8gbGVzcyB0aGFuIG9uZSBmcmFtZSBwZXIgc2Vjb25kIGluIHRoZSBiYWNrZ3JvdW5kLCBtYWtpbmcgaXRcbiAgICogY29tcGxldGVseSB1bnVzYWJsZS5cbiAgICovXG4gIHJBRlByb3h5ID0gZnVuY3Rpb24gckFGUHJveHkoY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLCBNYXRoLm1heCgwLCBGUkFNRV9USU1FIC0gKHBlcmZvcm1hbmNlLm5vdygpIC0gbGFzdFRpY2spKSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEVpdGhlciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUsIG9yIGEgc2hpbSBmb3IgaXQuXG4gICAqL1xuICByQUZTaGltID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCByQUZQcm94eTtcbiAgLyoqXG4gICAqIFNldCBpZiB3ZSBhcmUgY3VycmVudGx5IGluc2lkZSBhIHRpY2soKSB0byBwcmV2ZW50IGRvdWJsZS1jYWxsaW5nLlxuICAgKi9cbiAgdmFyIHRpY2tpbmcgPSB2b2lkIDAsXG5cbiAgLyoqXG4gICAqIEEgYmFja2dyb3VuZCBXZWJXb3JrZXIgdGhhdCBzZW5kcyB1cyBmcmFtZXJhdGUgbWVzc2FnZXMgd2hlbiB3ZSdyZSBpblxuICAgKiB0aGUgYmFja2dyb3VuZC4gV2l0aG91dCB0aGlzIHdlIGNhbm5vdCBtYWludGFpbiBmcmFtZSBhY2N1cmFjeS5cbiAgICovXG4gIHdvcmtlciA9IHZvaWQgMDtcbiAgLyoqXG4gICAqIFRoZSB0aW1lIHRoYXQgdGhlIGxhc3QgYW5pbWF0aW9uIGZyYW1lIHJhbiBhdC4gU2V0IGZyb20gdGljaygpLCBhbmQgdXNlZFxuICAgKiBmb3IgbWlzc2luZyByQUYgKGllLCB3aGVuIG5vdCBpbiBmb2N1cyBldGMpLlxuICAgKi9cbiAgdmFyIGxhc3RUaWNrID0gMDtcbiAgLyoqXG4gICAqIFdlYldvcmtlciBiYWNrZ3JvdW5kIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBXaGVuIHdlJ3JlIGluIHRoZSBiYWNrZ3JvdW5kIHRoaXMgd2lsbCBzZW5kIHVzIGEgbXNnIGV2ZXJ5IHRpY2ssIHdoZW4gaW5cbiAgICogdGhlIGZvcmVncm91bmQgaXQgd29uJ3QuXG4gICAqXG4gICAqIFdoZW4gcnVubmluZyBpbiB0aGUgYmFja2dyb3VuZCB0aGUgYnJvd3NlciByZWR1Y2VzIGFsbG93ZWQgQ1BVIGV0Yywgc29cbiAgICogd2UgcmF1biBhdCAzMGZwcyBpbnN0ZWFkIG9mIDYwZnBzLlxuICAgKi9cbiAgZnVuY3Rpb24gd29ya2VyRm4oKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgaW50ZXJ2YWwgPSB2b2lkIDA7XG4gICAgICB0aGlzLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgc3dpdGNoIChlLmRhdGEpIHtcbiAgICAgICAgICAgICAgY2FzZSB0cnVlOlxuICAgICAgICAgICAgICAgICAgaWYgKCFpbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3N0TWVzc2FnZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwIC8gMzApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgZmFsc2U6XG4gICAgICAgICAgICAgICAgICBpZiAoaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbCA9IDA7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIF90aGlzLnBvc3RNZXNzYWdlKGUuZGF0YSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICB9O1xuICB9XG4gIHRyeSB7XG4gICAgICAvLyBDcmVhdGUgdGhlIHdvcmtlciAtIHRoaXMgbWlnaHQgbm90IGJlIHN1cHBvcnRlZCwgaGVuY2UgdGhlIHRyeS9jYXRjaC5cbiAgICAgIHdvcmtlciA9IG5ldyBXb3JrZXIoVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbXCIoXCIgKyB3b3JrZXJGbiArIFwiKSgpXCJdKSkpO1xuICAgICAgLy8gV2hlbmV2ZXIgdGhlIHdvcmtlciBzZW5kcyBhIG1lc3NhZ2Ugd2UgdGljaygpXG4gICAgICB3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBpZiAoZS5kYXRhID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgIHRpY2soKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhc3luY0NhbGxiYWNrcygpO1xuICAgICAgICAgIH1cbiAgICAgIH07XG4gICAgICAvLyBBbmQgd2F0Y2ggZm9yIGdvaW5nIHRvIHRoZSBiYWNrZ3JvdW5kIHRvIHN0YXJ0IHRoZSBXZWJXb3JrZXIgcnVubmluZy5cbiAgICAgIGlmICghU3RhdGUuaXNNb2JpbGUgJiYgZG9jdW1lbnQuaGlkZGVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZShTdGF0ZS5pc1RpY2tpbmcgJiYgZG9jdW1lbnQuaGlkZGVuKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgfSBjYXRjaCAoZSkge31cbiAgLypcbiAgICogV2ViV29ya2VycyBhcmUgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGZvcm1hdC4gVGhpcyBjYW4gaGFwcGVuIGluIElFMTBcbiAgICogd2hlcmUgaXQgY2FuJ3QgY3JlYXRlIG9uZSBmcm9tIGEgYmxvYiB0aGlzIHdheS4gV2UgZmFsbGJhY2ssIGJ1dCBtYWtlXG4gICAqIG5vIGd1YXJhbnRlZXMgdG93YXJkcyBhY2N1cmFjeSBpbiB0aGlzIGNhc2UuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgb24gZXZlcnkgdGljaywgcHJlZmVyYWJseSB0aHJvdWdoIHJBRi4gVGhpcyBpcyByZXBvbnNpYmxlIGZvclxuICAgKiBpbml0aWFsaXNpbmcgYW55IG5ldyBhbmltYXRpb25zLCB0aGVuIHN0YXJ0aW5nIGFueSB0aGF0IG5lZWQgc3RhcnRpbmcuXG4gICAqIEZpbmFsbHkgaXQgd2lsbCBleHBhbmQgYW55IHR3ZWVucyBhbmQgc2V0IHRoZSBwcm9wZXJ0aWVzIHJlbGF0aW5nIHRvXG4gICAqIHRoZW0uIElmIHRoZXJlIGFyZSBhbnkgY2FsbGJhY2tzIHJlbGF0aW5nIHRvIHRoZSBhbmltYXRpb25zIHRoZW4gdGhleVxuICAgKiB3aWxsIGF0dGVtcHQgdG8gY2FsbCBhdCB0aGUgZW5kICh3aXRoIHRoZSBleGNlcHRpb24gb2YgXCJiZWdpblwiKS5cbiAgICovXG4gIGZ1bmN0aW9uIHRpY2sodGltZXN0YW1wKSB7XG4gICAgICBpZiAodGlja2luZykge1xuICAgICAgICAgIC8vIFNob3VsZCBuZXZlciBoYXBwZW4gLSBidXQgaWYgd2UndmUgc3dhcHBlZCBiYWNrIGZyb20gaGlkZGVuIHRvXG4gICAgICAgICAgLy8gdmlzaWJpbGUgdGhlbiB3ZSB3YW50IHRvIG1ha2Ugc3VyZVxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRpY2tpbmcgPSB0cnVlO1xuICAgICAgLyogQW4gZW1wdHkgdGltZXN0YW1wIGFyZ3VtZW50IGluZGljYXRlcyB0aGF0IHRoaXMgaXMgdGhlIGZpcnN0IHRpY2sgb2NjdXJlbmNlIHNpbmNlIHRpY2tpbmcgd2FzIHR1cm5lZCBvbi5cbiAgICAgICBXZSBsZXZlcmFnZSB0aGlzIG1ldGFkYXRhIHRvIGZ1bGx5IGlnbm9yZSB0aGUgZmlyc3QgdGljayBwYXNzIHNpbmNlIFJBRidzIGluaXRpYWwgcGFzcyBpcyBmaXJlZCB3aGVuZXZlclxuICAgICAgIHRoZSBicm93c2VyJ3MgbmV4dCB0aWNrIHN5bmMgdGltZSBvY2N1cnMsIHdoaWNoIHJlc3VsdHMgaW4gdGhlIGZpcnN0IGVsZW1lbnRzIHN1YmplY3RlZCB0byBWZWxvY2l0eVxuICAgICAgIGNhbGxzIGJlaW5nIGFuaW1hdGVkIG91dCBvZiBzeW5jIHdpdGggYW55IGVsZW1lbnRzIGFuaW1hdGVkIGltbWVkaWF0ZWx5IHRoZXJlYWZ0ZXIuIEluIHNob3J0LCB3ZSBpZ25vcmVcbiAgICAgICB0aGUgZmlyc3QgUkFGIHRpY2sgcGFzcyBzbyB0aGF0IGVsZW1lbnRzIGJlaW5nIGltbWVkaWF0ZWx5IGNvbnNlY3V0aXZlbHkgYW5pbWF0ZWQgLS0gaW5zdGVhZCBvZiBzaW11bHRhbmVvdXNseSBhbmltYXRlZFxuICAgICAgIGJ5IHRoZSBzYW1lIFZlbG9jaXR5IGNhbGwgLS0gYXJlIHByb3Blcmx5IGJhdGNoZWQgaW50byB0aGUgc2FtZSBpbml0aWFsIFJBRiB0aWNrIGFuZCBjb25zZXF1ZW50bHkgcmVtYWluIGluIHN5bmMgdGhlcmVhZnRlci4gKi9cbiAgICAgIGlmICh0aW1lc3RhbXAgIT09IGZhbHNlKSB7XG4gICAgICAgICAgdmFyIHRpbWVDdXJyZW50ID0gcGVyZm9ybWFuY2Uubm93KCksXG4gICAgICAgICAgICAgIGRlbHRhVGltZSA9IGxhc3RUaWNrID8gdGltZUN1cnJlbnQgLSBsYXN0VGljayA6IEZSQU1FX1RJTUUsXG4gICAgICAgICAgICAgIGRlZmF1bHRTcGVlZCA9IGRlZmF1bHRzJDEuc3BlZWQsXG4gICAgICAgICAgICAgIGRlZmF1bHRFYXNpbmcgPSBkZWZhdWx0cyQxLmVhc2luZyxcbiAgICAgICAgICAgICAgZGVmYXVsdER1cmF0aW9uID0gZGVmYXVsdHMkMS5kdXJhdGlvbjtcbiAgICAgICAgICB2YXIgYWN0aXZlQ2FsbCA9IHZvaWQgMCxcbiAgICAgICAgICAgICAgbmV4dENhbGwgPSB2b2lkIDA7XG4gICAgICAgICAgaWYgKGRlbHRhVGltZSA+PSBkZWZhdWx0cyQxLm1pbkZyYW1lVGltZSB8fCAhbGFzdFRpY2spIHtcbiAgICAgICAgICAgICAgbGFzdFRpY2sgPSB0aW1lQ3VycmVudDtcbiAgICAgICAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqXG4gICAgICAgICAgICAgICBDYWxsIEl0ZXJhdGlvblxuICAgICAgICAgICAgICAgKioqKioqKioqKioqKioqKioqKiovXG4gICAgICAgICAgICAgIC8vIEV4cGFuZCBhbnkgdHdlZW5zIHRoYXQgbWlnaHQgbmVlZCBpdC5cbiAgICAgICAgICAgICAgd2hpbGUgKFN0YXRlLmZpcnN0TmV3KSB7XG4gICAgICAgICAgICAgICAgICB2YWxpZGF0ZVR3ZWVucyhTdGF0ZS5maXJzdE5ldyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGVhY2ggYWN0aXZlIGNhbGwuXG4gICAgICAgICAgICAgIGZvciAoYWN0aXZlQ2FsbCA9IFN0YXRlLmZpcnN0OyBhY3RpdmVDYWxsICYmIGFjdGl2ZUNhbGwgIT09IFN0YXRlLmZpcnN0TmV3OyBhY3RpdmVDYWxsID0gYWN0aXZlQ2FsbC5fbmV4dCkge1xuICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhY3RpdmVDYWxsLmVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IERhdGEoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhpcyBlbGVtZW50IGhhcyBiZWVuIGRlbGV0ZWQgbWlkd2F5XG4gICAgICAgICAgICAgICAgICAvLyB0aHJvdWdoIHRoZSBhbmltYXRpb24uIElmIGl0J3MgZ29uZSB0aGVuIGVuZCB0aGlzXG4gICAgICAgICAgICAgICAgICAvLyBhbmltYXRpb24uXG4gICAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQucGFyZW50Tm9kZSB8fCAhZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSBzYWZlbHkgLSBkZWNyZWFzZSBjb3VudCwgZGVsZXRlIGRhdGEsIHJlbW92ZSBmcm9tIGFycmF5c1xuICAgICAgICAgICAgICAgICAgICAgIGZyZWVBbmltYXRpb25DYWxsKGFjdGl2ZUNhbGwpO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgYm90aGVyIGdldHRpbmcgdW50aWwgd2UgY2FuIHVzZSB0aGVzZS5cbiAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gYWN0aXZlQ2FsbC5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgIGZsYWdzID0gYWN0aXZlQ2FsbC5fZmxhZ3M7XG4gICAgICAgICAgICAgICAgICB2YXIgdGltZVN0YXJ0ID0gYWN0aXZlQ2FsbC50aW1lU3RhcnQ7XG4gICAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHRoYXQgdGhpcyBjYWxsIGhhcyBiZWVuXG4gICAgICAgICAgICAgICAgICAvLyBwcm9jZXNzZWQgYnkgdGljaygpIHRoZW4gd2UgYXNzaWduIHRpbWVTdGFydCBub3cgc28gdGhhdFxuICAgICAgICAgICAgICAgICAgLy8gaXQncyB2YWx1ZSBpcyBhcyBjbG9zZSB0byB0aGUgcmVhbCBhbmltYXRpb24gc3RhcnQgdGltZVxuICAgICAgICAgICAgICAgICAgLy8gYXMgcG9zc2libGUuXG4gICAgICAgICAgICAgICAgICBpZiAoIXRpbWVTdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBxdWV1ZSA9IGFjdGl2ZUNhbGwucXVldWUgIT0gbnVsbCA/IGFjdGl2ZUNhbGwucXVldWUgOiBvcHRpb25zLnF1ZXVlO1xuICAgICAgICAgICAgICAgICAgICAgIHRpbWVTdGFydCA9IHRpbWVDdXJyZW50IC0gZGVsdGFUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChxdWV1ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZVN0YXJ0ID0gTWF0aC5tYXgodGltZVN0YXJ0LCBkYXRhLmxhc3RGaW5pc2hMaXN0W3F1ZXVlXSB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2FsbC50aW1lU3RhcnQgPSB0aW1lU3RhcnQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGFuaW1hdGlvbiBpcyBwYXVzZWQgdGhlbiBza2lwIHByb2Nlc3NpbmcgdW5sZXNzXG4gICAgICAgICAgICAgICAgICAvLyBpdCBoYXMgYmVlbiBzZXQgdG8gcmVzdW1lLlxuICAgICAgICAgICAgICAgICAgaWYgKGZsYWdzICYgMTYgLyogUEFVU0VEICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHRpbWUgc3RhcnQgdG8gYWNjb21vZGF0ZSB0aGUgcGF1c2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbXBsZXRpb24gYW1vdW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVDYWxsLnRpbWVTdGFydCArPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgYW5pbWF0aW9uIGlzIHJlYWR5IC0gaWYgaXQncyBzeW5jZWQgdGhlbiBpdFxuICAgICAgICAgICAgICAgICAgLy8gbmVlZHMgdG8gd2FpdCBmb3IgYWxsIG90aGVyIGFuaW1hdGlvbnMgaW4gdGhlIHN5bmNcbiAgICAgICAgICAgICAgICAgIGlmICghKGZsYWdzICYgMiAvKiBSRUFEWSAqLykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVDYWxsLl9mbGFncyB8PSAyIC8qIFJFQURZICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLl9yZWFkeSsrO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIE5lZWQgdG8gc3BsaXQgdGhlIGxvb3AsIGFzIHJlYWR5IHN5bmMgYW5pbWF0aW9ucyBtdXN0IGFsbCBnZXRcbiAgICAgICAgICAgICAgLy8gdGhlIHNhbWUgc3RhcnQgdGltZS5cbiAgICAgICAgICAgICAgZm9yIChhY3RpdmVDYWxsID0gU3RhdGUuZmlyc3Q7IGFjdGl2ZUNhbGwgJiYgYWN0aXZlQ2FsbCAhPT0gU3RhdGUuZmlyc3ROZXc7IGFjdGl2ZUNhbGwgPSBuZXh0Q2FsbCkge1xuICAgICAgICAgICAgICAgICAgdmFyIF9mbGFncyA9IGFjdGl2ZUNhbGwuX2ZsYWdzO1xuICAgICAgICAgICAgICAgICAgbmV4dENhbGwgPSBhY3RpdmVDYWxsLl9uZXh0O1xuICAgICAgICAgICAgICAgICAgaWYgKCEoX2ZsYWdzICYgMiAvKiBSRUFEWSAqLykgfHwgX2ZsYWdzICYgMTYgLyogUEFVU0VEICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB2YXIgX29wdGlvbnMgPSBhY3RpdmVDYWxsLm9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICBpZiAoX2ZsYWdzICYgMzIgLyogU1lOQyAqLyAmJiBfb3B0aW9ucy5fcmVhZHkgPCBfb3B0aW9ucy5fdG90YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVDYWxsLnRpbWVTdGFydCArPSBkZWx0YVRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB2YXIgc3BlZWQgPSBhY3RpdmVDYWxsLnNwZWVkICE9IG51bGwgPyBhY3RpdmVDYWxsLnNwZWVkIDogX29wdGlvbnMuc3BlZWQgIT0gbnVsbCA/IF9vcHRpb25zLnNwZWVkIDogZGVmYXVsdFNwZWVkO1xuICAgICAgICAgICAgICAgICAgdmFyIF90aW1lU3RhcnQgPSBhY3RpdmVDYWxsLnRpbWVTdGFydDtcbiAgICAgICAgICAgICAgICAgIC8vIERvbid0IGJvdGhlciBnZXR0aW5nIHVudGlsIHdlIGNhbiB1c2UgdGhlc2UuXG4gICAgICAgICAgICAgICAgICBpZiAoIShfZmxhZ3MgJiA0IC8qIFNUQVJURUQgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbGF5ID0gYWN0aXZlQ2FsbC5kZWxheSAhPSBudWxsID8gYWN0aXZlQ2FsbC5kZWxheSA6IF9vcHRpb25zLmRlbGF5O1xuICAgICAgICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBhbnl0aGluZyB3ZSd2ZSBkZWxheWVkIGRvZXNuJ3Qgc3RhcnRcbiAgICAgICAgICAgICAgICAgICAgICAvLyBhbmltYXRpbmcgeWV0LCB0aGVyZSBtaWdodCBzdGlsbCBiZSBhbiBhY3RpdmUgZGVsYXlcbiAgICAgICAgICAgICAgICAgICAgICAvLyBhZnRlciBzb21ldGhpbmcgaGFzIGJlZW4gdW4tcGF1c2VkXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGltZVN0YXJ0ICsgZGVsYXkgLyBzcGVlZCA+IHRpbWVDdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVDYWxsLnRpbWVTdGFydCA9IF90aW1lU3RhcnQgKz0gZGVsYXkgLyAoZGVsYXkgPiAwID8gc3BlZWQgOiAxKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2FsbC5fZmxhZ3MgfD0gNCAvKiBTVEFSVEVEICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgYmVnaW4gY2FsbGJhY2sgaXMgZmlyZWQgb25jZSBwZXIgY2FsbCwgbm90IG9uY2VcbiAgICAgICAgICAgICAgICAgICAgICAvLyBwZXIgZWxlbWVudCwgYW5kIGlzIHBhc3NlZCB0aGUgZnVsbCByYXcgRE9NIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgYXMgYm90aCBpdHMgY29udGV4dCBhbmQgaXRzIGZpcnN0IGFyZ3VtZW50LlxuICAgICAgICAgICAgICAgICAgICAgIGlmIChfb3B0aW9ucy5fc3RhcnRlZCsrID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9vcHRpb25zLl9maXJzdCA9IGFjdGl2ZUNhbGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfb3B0aW9ucy5iZWdpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGFzcyB0byBhbiBleHRlcm5hbCBmbiB3aXRoIGEgdHJ5L2NhdGNoIGJsb2NrIGZvciBvcHRpbWlzYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZ2luQ2FsbChhY3RpdmVDYWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgY2FsbGVkIG9uY2UsIGV2ZW4gaWYgcmV2ZXJzZWQgb3IgcmVwZWF0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vcHRpb25zLmJlZ2luID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHNwZWVkICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gT24gdGhlIGZpcnN0IGZyYW1lIHdlIG1heSBoYXZlIGEgc2hvcnRlciBkZWx0YVxuICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGRlbHRhID0gTWF0aC5taW4oZGVsdGFUaW1lLCB0aW1lQ3VycmVudCAtIHRpbWVTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2FsbC50aW1lU3RhcnQgPSBfdGltZVN0YXJ0ICs9IE1hdGgubWluKGRlbHRhVGltZSwgdGltZUN1cnJlbnQgLSBfdGltZVN0YXJ0KSAqICgxIC0gc3BlZWQpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUVhc2luZyA9IGFjdGl2ZUNhbGwuZWFzaW5nICE9IG51bGwgPyBhY3RpdmVDYWxsLmVhc2luZyA6IF9vcHRpb25zLmVhc2luZyAhPSBudWxsID8gX29wdGlvbnMuZWFzaW5nIDogZGVmYXVsdEVhc2luZyxcbiAgICAgICAgICAgICAgICAgICAgICBtaWxsaXNlY29uZHNFbGxhcHNlZCA9IGFjdGl2ZUNhbGwuZWxsYXBzZWRUaW1lID0gdGltZUN1cnJlbnQgLSBfdGltZVN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gYWN0aXZlQ2FsbC5kdXJhdGlvbiAhPSBudWxsID8gYWN0aXZlQ2FsbC5kdXJhdGlvbiA6IF9vcHRpb25zLmR1cmF0aW9uICE9IG51bGwgPyBfb3B0aW9ucy5kdXJhdGlvbiA6IGRlZmF1bHREdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50Q29tcGxldGUgPSBhY3RpdmVDYWxsLnBlcmNlbnRDb21wbGV0ZSA9IFZlbG9jaXR5JCQxLm1vY2sgPyAxIDogTWF0aC5taW4obWlsbGlzZWNvbmRzRWxsYXBzZWQgLyBkdXJhdGlvbiwgMSksXG4gICAgICAgICAgICAgICAgICAgICAgdHdlZW5zID0gYWN0aXZlQ2FsbC50d2VlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZSA9IF9mbGFncyAmIDY0IC8qIFJFVkVSU0UgKi87IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUNhbGwucHJvZ3Jlc3MgfHwgX29wdGlvbnMuX2ZpcnN0ID09PSBhY3RpdmVDYWxsICYmIF9vcHRpb25zLnByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NlZC5hZGQoYWN0aXZlQ2FsbCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkLmFkZChhY3RpdmVDYWxsKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpmb3JpblxuICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gdHdlZW5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGV2ZXJ5IGVsZW1lbnQsIGl0ZXJhdGUgdGhyb3VnaCBlYWNoIHByb3BlcnR5LlxuICAgICAgICAgICAgICAgICAgICAgIHZhciB0d2VlbiA9IHR3ZWVuc1twcm9wZXJ0eV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlID0gdHdlZW4uc2VxdWVuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBzZXF1ZW5jZS5wYXR0ZXJuO1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0dGVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWFzaW5nQ29tcGxldGUgPSAodHdlZW4uZWFzaW5nIHx8IGFjdGl2ZUVhc2luZykocGVyY2VudENvbXBsZXRlLCAwLCAxLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZXN0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzZXF1ZW5jZS5sZW5ndGggLSAxOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZVtqXS5wZXJjZW50IDwgZWFzaW5nQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZXN0ID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHdlZW5Gcm9tID0gc2VxdWVuY2VbYmVzdF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0d2VlblRvID0gc2VxdWVuY2VbYmVzdCArIDFdIHx8IHR3ZWVuRnJvbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhd1BlcmNlbnQgPSAocGVyY2VudENvbXBsZXRlIC0gdHdlZW5Gcm9tLnBlcmNlbnQpIC8gKHR3ZWVuVG8ucGVyY2VudCAtIHR3ZWVuRnJvbS5wZXJjZW50KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR3ZWVuUGVyY2VudCA9IHJldmVyc2UgPyAxIC0gcmF3UGVyY2VudCA6IHJhd1BlcmNlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmcgPSB0d2VlblRvLmVhc2luZyB8fCBhY3RpdmVFYXNpbmcgfHwgbGluZWFyRWFzaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IHBhdHRlcm4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydFZhbHVlID0gdHdlZW5Gcm9tW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0VmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSArPSBwYXR0ZXJuW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kVmFsdWUgPSB0d2VlblRvW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFydFZhbHVlID09PSBlbmRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgKz0gc3RhcnRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGwgZWFzaW5ncyBtdXN0IGRlYWwgd2l0aCBudW1iZXJzIGV4Y2VwdCBmb3Igb3VyIGludGVybmFsIG9uZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBlYXNpbmcodHdlZW5QZXJjZW50LCBzdGFydFZhbHVlLCBlbmRWYWx1ZSwgcHJvcGVydHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgKz0gcGF0dGVybltpXSAhPT0gdHJ1ZSA/IHJlc3VsdCA6IE1hdGgucm91bmQocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5ICE9PSBcInR3ZWVuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgPSByZW1vdmVOZXN0ZWRDYWxjKGN1cnJlbnRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBUbyBzb2x2ZSBhbiBJRTw9OCBwb3NpdGlvbmluZyBidWcsIHRoZSB1bml0IHR5cGUgbXVzdCBiZSBkcm9wcGVkIHdoZW4gc2V0dGluZyBhIHByb3BlcnR5IHZhbHVlIG9mIDAgLSBhZGQgbm9ybWFsaXNhdGlvbnMgdG8gbGVnYWN5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQcm9wZXJ0eVZhbHVlKGFjdGl2ZUNhbGwuZWxlbWVudCwgcHJvcGVydHksIGN1cnJlbnRWYWx1ZSwgdHdlZW4uZm4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCB0aGUgZmFrZSAndHdlZW4nIHByb3BlcnR5IGFzIHRoYXQgaXMgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGFzc2VkIGludG8gdGhlIHByb2dyZXNzIGNhbGxiYWNrLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2FsbC50d2VlbiA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IE1pc3NpbmcgcGF0dGVybjpcIiwgcHJvcGVydHksIEpTT04uc3RyaW5naWZ5KHR3ZWVuW3Byb3BlcnR5XSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdHdlZW5zW3Byb3BlcnR5XTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHByb2dyZXNzZWQuc2l6ZSB8fCBjb21wbGV0ZWQuc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICBhc3luY0NhbGxiYWNrcygpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3b3JrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2UoXCJcIik7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoYXN5bmNDYWxsYmFja3MsIDEpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKFN0YXRlLmZpcnN0KSB7XG4gICAgICAgICAgU3RhdGUuaXNUaWNraW5nID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoIWRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICAgICAgICByQUZTaGltKHRpY2spO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXdvcmtlcikge1xuICAgICAgICAgICAgICByQUZQcm94eSh0aWNrKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRpbWVzdGFtcCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIHR1cm4gb24gdGhlIG1lc3NhZ2VzLlxuICAgICAgICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2UodHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBTdGF0ZS5pc1RpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgICBsYXN0VGljayA9IDA7XG4gICAgICAgICAgaWYgKGRvY3VtZW50LmhpZGRlbiAmJiB3b3JrZXIpIHtcbiAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIHR1cm4gb2ZmIHRoZSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aWNraW5nID0gZmFsc2U7XG4gIH1cblxuICAvLyBQcm9qZWN0XG4gIC8qKlxuICAgKiBDaGVjayBpZiBhbiBhbmltYXRpb24gc2hvdWxkIGJlIGZpbmlzaGVkLCBhbmQgaWYgc28gd2Ugc2V0IHRoZSB0d2VlbnMgdG9cbiAgICogdGhlIGZpbmFsIHZhbHVlIGZvciBpdCwgdGhlbiBjYWxsIGNvbXBsZXRlLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hlY2tBbmltYXRpb25TaG91bGRCZUZpbmlzaGVkKGFuaW1hdGlvbiwgcXVldWVOYW1lLCBkZWZhdWx0UXVldWUpIHtcbiAgICAgIHZhbGlkYXRlVHdlZW5zKGFuaW1hdGlvbik7XG4gICAgICBpZiAocXVldWVOYW1lID09PSB1bmRlZmluZWQgfHwgcXVldWVOYW1lID09PSBnZXRWYWx1ZShhbmltYXRpb24ucXVldWUsIGFuaW1hdGlvbi5vcHRpb25zLnF1ZXVlLCBkZWZhdWx0UXVldWUpKSB7XG4gICAgICAgICAgaWYgKCEoYW5pbWF0aW9uLl9mbGFncyAmIDQgLyogU1RBUlRFRCAqLykpIHtcbiAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgICAgICAgIC8vIENvcGllZCBmcm9tIHRpY2sudHMgLSBlbnN1cmUgdGhhdCB0aGUgYW5pbWF0aW9uIGlzIGNvbXBsZXRlbHlcbiAgICAgICAgICAgICAgLy8gdmFsaWQgYW5kIHJ1biBiZWdpbigpIGJlZm9yZSBjb21wbGV0ZSgpLlxuICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGFuaW1hdGlvbi5vcHRpb25zO1xuICAgICAgICAgICAgICAvLyBUaGUgYmVnaW4gY2FsbGJhY2sgaXMgZmlyZWQgb25jZSBwZXIgY2FsbCwgbm90IG9uY2UgcGVyXG4gICAgICAgICAgICAgIC8vIGVsZW1lbnQsIGFuZCBpcyBwYXNzZWQgdGhlIGZ1bGwgcmF3IERPTSBlbGVtZW50IHNldCBhcyBib3RoXG4gICAgICAgICAgICAgIC8vIGl0cyBjb250ZXh0IGFuZCBpdHMgZmlyc3QgYXJndW1lbnQuXG4gICAgICAgICAgICAgIGlmIChvcHRpb25zLl9zdGFydGVkKysgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMuX2ZpcnN0ID0gYW5pbWF0aW9uO1xuICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYmVnaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBQYXNzIHRvIGFuIGV4dGVybmFsIGZuIHdpdGggYSB0cnkvY2F0Y2ggYmxvY2sgZm9yIG9wdGltaXNhdGlvblxuICAgICAgICAgICAgICAgICAgICAgIGJlZ2luQ2FsbChhbmltYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgY2FsbGVkIG9uY2UsIGV2ZW4gaWYgcmV2ZXJzZWQgb3IgcmVwZWF0ZWRcbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmJlZ2luID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGFuaW1hdGlvbi5fZmxhZ3MgfD0gNCAvKiBTVEFSVEVEICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmZvcmluXG4gICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gYW5pbWF0aW9uLnR3ZWVucykge1xuICAgICAgICAgICAgICB2YXIgdHdlZW4gPSBhbmltYXRpb24udHdlZW5zW3Byb3BlcnR5XSxcbiAgICAgICAgICAgICAgICAgIHNlcXVlbmNlID0gdHdlZW4uc2VxdWVuY2UsXG4gICAgICAgICAgICAgICAgICBwYXR0ZXJuID0gc2VxdWVuY2UucGF0dGVybjtcbiAgICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IFwiXCIsXG4gICAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgICAgaWYgKHBhdHRlcm4pIHtcbiAgICAgICAgICAgICAgICAgIHZhciBlbmRWYWx1ZXMgPSBzZXF1ZW5jZVtzZXF1ZW5jZS5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgcGF0dGVybi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRWYWx1ZSA9IGVuZFZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgKz0gZW5kVmFsdWUgPT0gbnVsbCA/IHBhdHRlcm5baV0gOiBlbmRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZXRQcm9wZXJ0eVZhbHVlKGFuaW1hdGlvbi5lbGVtZW50LCBwcm9wZXJ0eSwgY3VycmVudFZhbHVlLCB0d2Vlbi5mbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbXBsZXRlQ2FsbChhbmltYXRpb24pO1xuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBXaGVuIHRoZSBmaW5pc2ggYWN0aW9uIGlzIHRyaWdnZXJlZCwgdGhlIGVsZW1lbnRzJyBjdXJyZW50bHkgYWN0aXZlIGNhbGwgaXNcbiAgICogaW1tZWRpYXRlbHkgZmluaXNoZWQuIFdoZW4gYW4gZWxlbWVudCBpcyBmaW5pc2hlZCwgdGhlIG5leHQgaXRlbSBpbiBpdHNcbiAgICogYW5pbWF0aW9uIHF1ZXVlIGlzIGltbWVkaWF0ZWx5IHRyaWdnZXJlZC4gSWYgcGFzc2VkIHZpYSBhIGNoYWluZWQgY2FsbFxuICAgKiB0aGVuIHRoaXMgd2lsbCBvbmx5IHRhcmdldCB0aGUgYW5pbWF0aW9ucyBpbiB0aGF0IGNhbGwsIGFuZCBub3QgdGhlXG4gICAqIGVsZW1lbnRzIGxpbmtlZCB0byBpdC5cbiAgICpcbiAgICogQSBxdWV1ZSBuYW1lIG1heSBiZSBwYXNzZWQgaW4gdG8gc3BlY2lmeSB0aGF0IG9ubHkgYW5pbWF0aW9ucyBvbiB0aGVcbiAgICogbmFtZWQgcXVldWUgYXJlIGZpbmlzaGVkLiBUaGUgZGVmYXVsdCBxdWV1ZSBpcyBuYW1lZCBcIlwiLiBJbiBhZGRpdGlvbiB0aGVcbiAgICogdmFsdWUgb2YgYGZhbHNlYCBpcyBhbGxvd2VkIGZvciB0aGUgcXVldWUgbmFtZS5cbiAgICpcbiAgICogQW4gZmluYWwgYXJndW1lbnQgbWF5IGJlIHBhc3NlZCBpbiB0byBjbGVhciBhbiBlbGVtZW50J3MgcmVtYWluaW5nIHF1ZXVlZFxuICAgKiBjYWxscy4gVGhpcyBtYXkgb25seSBiZSB0aGUgdmFsdWUgYHRydWVgLlxuICAgKi9cbiAgZnVuY3Rpb24gZmluaXNoKGFyZ3MsIGVsZW1lbnRzLCBwcm9taXNlSGFuZGxlcikge1xuICAgICAgdmFyIHF1ZXVlTmFtZSA9IHZhbGlkYXRlUXVldWUoYXJnc1swXSwgdHJ1ZSksXG4gICAgICAgICAgZGVmYXVsdFF1ZXVlID0gZGVmYXVsdHMkMS5xdWV1ZSxcbiAgICAgICAgICBmaW5pc2hBbGwgPSBhcmdzW3F1ZXVlTmFtZSA9PT0gdW5kZWZpbmVkID8gMCA6IDFdID09PSB0cnVlO1xuICAgICAgaWYgKGlzVmVsb2NpdHlSZXN1bHQoZWxlbWVudHMpICYmIGVsZW1lbnRzLnZlbG9jaXR5LmFuaW1hdGlvbnMpIHtcbiAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgY2hlY2tBbmltYXRpb25TaG91bGRCZUZpbmlzaGVkKGFuaW1hdGlvbiwgcXVldWVOYW1lLCBkZWZhdWx0UXVldWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdoaWxlIChTdGF0ZS5maXJzdE5ldykge1xuICAgICAgICAgICAgICB2YWxpZGF0ZVR3ZWVucyhTdGF0ZS5maXJzdE5ldyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAodmFyIGFjdGl2ZUNhbGwgPSBTdGF0ZS5maXJzdCwgbmV4dENhbGw7IGFjdGl2ZUNhbGwgJiYgKGZpbmlzaEFsbCB8fCBhY3RpdmVDYWxsICE9PSBTdGF0ZS5maXJzdE5ldyk7IGFjdGl2ZUNhbGwgPSBuZXh0Q2FsbCB8fCBTdGF0ZS5maXJzdE5ldykge1xuICAgICAgICAgICAgICBuZXh0Q2FsbCA9IGFjdGl2ZUNhbGwuX25leHQ7XG4gICAgICAgICAgICAgIGlmICghZWxlbWVudHMgfHwgZWxlbWVudHMuaW5jbHVkZXMoYWN0aXZlQ2FsbC5lbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgY2hlY2tBbmltYXRpb25TaG91bGRCZUZpbmlzaGVkKGFjdGl2ZUNhbGwsIHF1ZXVlTmFtZSwgZGVmYXVsdFF1ZXVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9taXNlSGFuZGxlcikge1xuICAgICAgICAgIGlmIChpc1ZlbG9jaXR5UmVzdWx0KGVsZW1lbnRzKSAmJiBlbGVtZW50cy52ZWxvY2l0eS5hbmltYXRpb25zICYmIGVsZW1lbnRzLnRoZW4pIHtcbiAgICAgICAgICAgICAgZWxlbWVudHMudGhlbihwcm9taXNlSGFuZGxlci5fcmVzb2x2ZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByb21pc2VIYW5kbGVyLl9yZXNvbHZlcihlbGVtZW50cyk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIHJlZ2lzdGVyQWN0aW9uKFtcImZpbmlzaFwiLCBmaW5pc2hdLCB0cnVlKTtcblxuICAvKipcbiAgICogVXNlZCB0byBtYXAgZ2V0dGVycyBmb3IgdGhlIHZhcmlvdXMgQW5pbWF0aW9uRmxhZ3MuXG4gICAqL1xuICB2YXIgYW5pbWF0aW9uRmxhZ3MgPSB7XG4gICAgICBpc0V4cGFuZGVkOiAxIC8qIEVYUEFOREVEICovXG4gICAgICAsIGlzUmVhZHk6IDIgLyogUkVBRFkgKi9cbiAgICAgICwgaXNTdGFydGVkOiA0IC8qIFNUQVJURUQgKi9cbiAgICAgICwgaXNTdG9wcGVkOiA4IC8qIFNUT1BQRUQgKi9cbiAgICAgICwgaXNQYXVzZWQ6IDE2IC8qIFBBVVNFRCAqL1xuICAgICAgLCBpc1N5bmM6IDMyIC8qIFNZTkMgKi9cbiAgICAgICwgaXNSZXZlcnNlOiA2NCAvKiBSRVZFUlNFICovXG4gIH07XG4gIC8qKlxuICAgKiBHZXQgb3Igc2V0IGFuIG9wdGlvbiBvciBydW5uaW5nIEFuaW1hdGlvbkNhbGwgZGF0YSB2YWx1ZS4gSWYgdGhlcmUgaXMgbm9cbiAgICogdmFsdWUgcGFzc2VkIHRoZW4gaXQgd2lsbCBnZXQsIG90aGVyd2lzZSB3ZSB3aWxsIHNldC5cbiAgICpcbiAgICogTk9URTogV2hlbiB1c2luZyBcImdldFwiIHRoaXMgd2lsbCBub3QgdG91Y2ggdGhlIFByb21pc2UgYXMgaXQgaXMgbmV2ZXJcbiAgICogcmV0dXJuZWQgdG8gdGhlIHVzZXIuXG4gICAqL1xuICBmdW5jdGlvbiBvcHRpb24oYXJncywgZWxlbWVudHMsIHByb21pc2VIYW5kbGVyLCBhY3Rpb24pIHtcbiAgICAgIHZhciBrZXkgPSBhcmdzWzBdLFxuICAgICAgICAgIHF1ZXVlID0gYWN0aW9uLmluZGV4T2YoXCIuXCIpID49IDAgPyBhY3Rpb24ucmVwbGFjZSgvXi4qXFwuLywgXCJcIikgOiB1bmRlZmluZWQsXG4gICAgICAgICAgcXVldWVOYW1lID0gcXVldWUgPT09IFwiZmFsc2VcIiA/IGZhbHNlIDogdmFsaWRhdGVRdWV1ZShxdWV1ZSwgdHJ1ZSk7XG4gICAgICB2YXIgYW5pbWF0aW9ucyA9IHZvaWQgMCxcbiAgICAgICAgICB2YWx1ZSA9IGFyZ3NbMV07XG4gICAgICBpZiAoIWtleSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IENhbm5vdCBhY2Nlc3MgYSBub24tZXhpc3RhbnQga2V5IVwiKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIElmIHdlJ3JlIGNoYWluaW5nIHRoZSByZXR1cm4gdmFsdWUgZnJvbSBWZWxvY2l0eSB0aGVuIHdlIGFyZSBvbmx5XG4gICAgICAvLyBpbnRlcmVzdGVkIGluIHRoZSB2YWx1ZXMgcmVsYXRlZCB0byB0aGF0IGNhbGxcbiAgICAgIGlmIChpc1ZlbG9jaXR5UmVzdWx0KGVsZW1lbnRzKSAmJiBlbGVtZW50cy52ZWxvY2l0eS5hbmltYXRpb25zKSB7XG4gICAgICAgICAgYW5pbWF0aW9ucyA9IGVsZW1lbnRzLnZlbG9jaXR5LmFuaW1hdGlvbnM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFuaW1hdGlvbnMgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBhY3RpdmVDYWxsID0gU3RhdGUuZmlyc3Q7IGFjdGl2ZUNhbGw7IGFjdGl2ZUNhbGwgPSBhY3RpdmVDYWxsLl9uZXh0KSB7XG4gICAgICAgICAgICAgIGlmIChlbGVtZW50cy5pbmRleE9mKGFjdGl2ZUNhbGwuZWxlbWVudCkgPj0gMCAmJiBnZXRWYWx1ZShhY3RpdmVDYWxsLnF1ZXVlLCBhY3RpdmVDYWxsLm9wdGlvbnMucXVldWUpID09PSBxdWV1ZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMucHVzaChhY3RpdmVDYWxsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBJZiB3ZSdyZSBkZWFsaW5nIHdpdGggbXVsdGlwbGUgZWxlbWVudHMgdGhhdCBhcmUgcG9pbnRpbmcgYXQgYVxuICAgICAgICAgIC8vIHNpbmdsZSBydW5uaW5nIGFuaW1hdGlvbiwgdGhlbiBpbnN0ZWFkIHRyZWF0IHRoZW0gYXMgYSBzaW5nbGVcbiAgICAgICAgICAvLyBhbmltYXRpb24uXG4gICAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA+IDEgJiYgYW5pbWF0aW9ucy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgIHZhciBpID0gMSxcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBhbmltYXRpb25zWzBdLm9wdGlvbnM7XG4gICAgICAgICAgICAgIHdoaWxlIChpIDwgYW5pbWF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25zW2krK10ub3B0aW9ucyAhPT0gb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIFRPRE86IHRoaXMgbmVlZHMgdG8gY2hlY2sgdGhhdCB0aGV5J3JlIGFjdHVhbGx5IGEgc3luYzp0cnVlIGFuaW1hdGlvbiB0byBtZXJnZSB0aGUgcmVzdWx0cywgb3RoZXJ3aXNlIHRoZSBpbmRpdmlkdWFsIHZhbHVlcyBtYXkgYmUgZGlmZmVyZW50XG4gICAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICBhbmltYXRpb25zID0gW2FuaW1hdGlvbnNbMF1dO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gR0VUXG4gICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBbXSxcbiAgICAgICAgICAgICAgZmxhZyA9IGFuaW1hdGlvbkZsYWdzW2tleV07XG4gICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGFuaW1hdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChmbGFnID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBBIG5vcm1hbCBrZXkgdG8gZ2V0LlxuICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGdldFZhbHVlKGFuaW1hdGlvbltrZXldLCBhbmltYXRpb24ub3B0aW9uc1trZXldKSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIEEgZmxhZyB0aGF0IHdlJ3JlIGNoZWNraW5nIGFnYWluc3QuXG4gICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goKGFuaW1hdGlvbi5fZmxhZ3MgJiBmbGFnKSA9PT0gMCk7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAxICYmIGFuaW1hdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgIC8vIElmIG9ubHkgYSBzaW5nbGUgYW5pbWF0aW9uIGlzIGZvdW5kIGFuZCB3ZSdyZSBvbmx5IHRhcmdldHRpbmcgYVxuICAgICAgICAgICAgICAvLyBzaW5nbGUgZWxlbWVudCwgdGhlbiByZXR1cm4gdGhlIHZhbHVlIGRpcmVjdGx5XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHRbMF07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICAvLyBTRVRcbiAgICAgIHZhciBpc1BlcmNlbnRDb21wbGV0ZSA9IHZvaWQgMDtcbiAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgY2FzZSBcImNhY2hlXCI6XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVDYWNoZSh2YWx1ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJiZWdpblwiOlxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlQmVnaW4odmFsdWUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiY29tcGxldGVcIjpcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZUNvbXBsZXRlKHZhbHVlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImRlbGF5XCI6XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsaWRhdGVEZWxheSh2YWx1ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkdXJhdGlvblwiOlxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlRHVyYXRpb24odmFsdWUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiZnBzTGltaXRcIjpcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZUZwc0xpbWl0KHZhbHVlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImxvb3BcIjpcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWxpZGF0ZUxvb3AodmFsdWUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwicGVyY2VudENvbXBsZXRlXCI6XG4gICAgICAgICAgICAgIGlzUGVyY2VudENvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInJlcGVhdFwiOlxuICAgICAgICAgIGNhc2UgXCJyZXBlYXRBZ2FpblwiOlxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbGlkYXRlUmVwZWF0KHZhbHVlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgaWYgKGtleVswXSAhPT0gXCJfXCIpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBudW0gPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gU3RyaW5nKG51bSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgLy8gZGVsaWJlcmF0ZSBmYWxsdGhyb3VnaFxuICAgICAgICAgIGNhc2UgXCJxdWV1ZVwiOlxuICAgICAgICAgIGNhc2UgXCJwcm9taXNlXCI6XG4gICAgICAgICAgY2FzZSBcInByb21pc2VSZWplY3RFbXB0eVwiOlxuICAgICAgICAgIGNhc2UgXCJlYXNpbmdcIjpcbiAgICAgICAgICBjYXNlIFwic3RhcnRlZFwiOlxuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gc2V0IGEgcmVhZC1vbmx5IGtleTpcIiwga2V5KTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHNldCBhbiBpbnZhbGlkIHZhbHVlOlwiICsga2V5ICsgXCI9XCIgKyB2YWx1ZSArIFwiIChcIiArIGFyZ3NbMV0gKyBcIilcIik7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gYW5pbWF0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICB2YXIgX2FuaW1hdGlvbiA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICBpZiAoaXNQZXJjZW50Q29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgIF9hbmltYXRpb24udGltZVN0YXJ0ID0gbGFzdFRpY2sgLSBnZXRWYWx1ZShfYW5pbWF0aW9uLmR1cmF0aW9uLCBfYW5pbWF0aW9uLm9wdGlvbnMuZHVyYXRpb24sIGRlZmF1bHRzJDEuZHVyYXRpb24pICogdmFsdWU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBfYW5pbWF0aW9uW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocHJvbWlzZUhhbmRsZXIpIHtcbiAgICAgICAgICBpZiAoaXNWZWxvY2l0eVJlc3VsdChlbGVtZW50cykgJiYgZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9ucyAmJiBlbGVtZW50cy50aGVuKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnRzLnRoZW4ocHJvbWlzZUhhbmRsZXIuX3Jlc29sdmVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcm9taXNlSGFuZGxlci5fcmVzb2x2ZXIoZWxlbWVudHMpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuICByZWdpc3RlckFjdGlvbihbXCJvcHRpb25cIiwgb3B0aW9uXSwgdHJ1ZSk7XG5cbiAgLy8gUHJvamVjdFxuICAvKipcbiAgICogQ2hlY2sgaWYgYW4gYW5pbWF0aW9uIHNob3VsZCBiZSBwYXVzZWQgLyByZXN1bWVkLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hlY2tBbmltYXRpb24oYW5pbWF0aW9uLCBxdWV1ZU5hbWUsIGRlZmF1bHRRdWV1ZSwgaXNQYXVzZWQpIHtcbiAgICAgIGlmIChxdWV1ZU5hbWUgPT09IHVuZGVmaW5lZCB8fCBxdWV1ZU5hbWUgPT09IGdldFZhbHVlKGFuaW1hdGlvbi5xdWV1ZSwgYW5pbWF0aW9uLm9wdGlvbnMucXVldWUsIGRlZmF1bHRRdWV1ZSkpIHtcbiAgICAgICAgICBpZiAoaXNQYXVzZWQpIHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uLl9mbGFncyB8PSAxNiAvKiBQQVVTRUQgKi87IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFuaW1hdGlvbi5fZmxhZ3MgJj0gfjE2IC8qIFBBVVNFRCAqLzsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBQYXVzZSBhbmQgUmVzdW1lIGFyZSBjYWxsLXdpZGUgKG5vdCBvbiBhIHBlciBlbGVtZW50IGJhc2lzKS4gVGh1cywgY2FsbGluZyBwYXVzZSBvciByZXN1bWUgb24gYVxuICAgKiBzaW5nbGUgZWxlbWVudCB3aWxsIGNhdXNlIGFueSBjYWxscyB0aGF0IGNvbnRhaW4gdHdlZW5zIGZvciB0aGF0IGVsZW1lbnQgdG8gYmUgcGF1c2VkL3Jlc3VtZWRcbiAgICogYXMgd2VsbC5cbiAgICovXG4gIGZ1bmN0aW9uIHBhdXNlUmVzdW1lKGFyZ3MsIGVsZW1lbnRzLCBwcm9taXNlSGFuZGxlciwgYWN0aW9uKSB7XG4gICAgICB2YXIgaXNQYXVzZWQgPSBhY3Rpb24uaW5kZXhPZihcInBhdXNlXCIpID09PSAwLFxuICAgICAgICAgIHF1ZXVlID0gYWN0aW9uLmluZGV4T2YoXCIuXCIpID49IDAgPyBhY3Rpb24ucmVwbGFjZSgvXi4qXFwuLywgXCJcIikgOiB1bmRlZmluZWQsXG4gICAgICAgICAgcXVldWVOYW1lID0gcXVldWUgPT09IFwiZmFsc2VcIiA/IGZhbHNlIDogdmFsaWRhdGVRdWV1ZShhcmdzWzBdKSxcbiAgICAgICAgICBkZWZhdWx0UXVldWUgPSBkZWZhdWx0cyQxLnF1ZXVlO1xuICAgICAgaWYgKGlzVmVsb2NpdHlSZXN1bHQoZWxlbWVudHMpICYmIGVsZW1lbnRzLnZlbG9jaXR5LmFuaW1hdGlvbnMpIHtcbiAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgY2hlY2tBbmltYXRpb24oYW5pbWF0aW9uLCBxdWV1ZU5hbWUsIGRlZmF1bHRRdWV1ZSwgaXNQYXVzZWQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBhY3RpdmVDYWxsID0gU3RhdGUuZmlyc3Q7XG4gICAgICAgICAgd2hpbGUgKGFjdGl2ZUNhbGwpIHtcbiAgICAgICAgICAgICAgaWYgKCFlbGVtZW50cyB8fCBlbGVtZW50cy5pbmNsdWRlcyhhY3RpdmVDYWxsLmVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICBjaGVja0FuaW1hdGlvbihhY3RpdmVDYWxsLCBxdWV1ZU5hbWUsIGRlZmF1bHRRdWV1ZSwgaXNQYXVzZWQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGFjdGl2ZUNhbGwgPSBhY3RpdmVDYWxsLl9uZXh0O1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9taXNlSGFuZGxlcikge1xuICAgICAgICAgIGlmIChpc1ZlbG9jaXR5UmVzdWx0KGVsZW1lbnRzKSAmJiBlbGVtZW50cy52ZWxvY2l0eS5hbmltYXRpb25zICYmIGVsZW1lbnRzLnRoZW4pIHtcbiAgICAgICAgICAgICAgZWxlbWVudHMudGhlbihwcm9taXNlSGFuZGxlci5fcmVzb2x2ZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByb21pc2VIYW5kbGVyLl9yZXNvbHZlcihlbGVtZW50cyk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIHJlZ2lzdGVyQWN0aW9uKFtcInBhdXNlXCIsIHBhdXNlUmVzdW1lXSwgdHJ1ZSk7XG4gIHJlZ2lzdGVyQWN0aW9uKFtcInJlc3VtZVwiLCBwYXVzZVJlc3VtZV0sIHRydWUpO1xuXG4gIC8vIFByb2plY3RcbiAgLyoqXG4gICAqIEdldCBvciBzZXQgYSBzdHlsZSBvZiBOb21yYWxpc2VkIHByb3BlcnR5IHZhbHVlIG9uIG9uZSBvciBtb3JlIGVsZW1lbnRzLlxuICAgKiBJZiB0aGVyZSBpcyBubyB2YWx1ZSBwYXNzZWQgdGhlbiBpdCB3aWxsIGdldCwgb3RoZXJ3aXNlIHdlIHdpbGwgc2V0LlxuICAgKlxuICAgKiBOT1RFOiBXaGVuIHVzaW5nIFwiZ2V0XCIgdGhpcyB3aWxsIG5vdCB0b3VjaCB0aGUgUHJvbWlzZSBhcyBpdCBpcyBuZXZlclxuICAgKiByZXR1cm5lZCB0byB0aGUgdXNlci5cbiAgICpcbiAgICogVGhpcyBjYW4gZmFpbCB0byBzZXQsIGFuZCB3aWxsIHJlamVjdCB0aGUgUHJvbWlzZSBpZiBpdCBkb2VzIHNvLlxuICAgKlxuICAgKiBWZWxvY2l0eShlbGVtZW50cywgXCJzdHlsZVwiLCBcInByb3BlcnR5XCIsIFwidmFsdWVcIikgPT4gZWxlbWVudHM7XG4gICAqIFZlbG9jaXR5KGVsZW1lbnRzLCBcInN0eWxlXCIsIHtcInByb3BlcnR5XCI6IFwidmFsdWVcIiwgLi4ufSkgPT4gZWxlbWVudHM7XG4gICAqIFZlbG9jaXR5KGVsZW1lbnQsIFwic3R5bGVcIiwgXCJwcm9wZXJ0eVwiKSA9PiBcInZhbHVlXCI7XG4gICAqIFZlbG9jaXR5KGVsZW1lbnRzLCBcInN0eWxlXCIsIFwicHJvcGVydHlcIikgPT4gW1widmFsdWVcIiwgLi4uXTtcbiAgICovXG4gIGZ1bmN0aW9uIHByb3BlcnR5QWN0aW9uKGFyZ3MsIGVsZW1lbnRzLCBwcm9taXNlSGFuZGxlciwgYWN0aW9uKSB7XG4gICAgICB2YXIgcHJvcGVydHkgPSBhcmdzWzBdLFxuICAgICAgICAgIHZhbHVlID0gYXJnc1sxXTtcbiAgICAgIGlmICghcHJvcGVydHkpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBDYW5ub3QgYWNjZXNzIGEgbm9uLWV4aXN0YW50IHByb3BlcnR5IVwiKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIEdFVFxuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIWlzUGxhaW5PYmplY3QocHJvcGVydHkpKSB7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcGVydHkpKSB7XG4gICAgICAgICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHByb3BlcnR5W1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtwcm9wXSA9IGZpeENvbG9ycyhnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnRzWzBdLCBwcm9wKSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHZhciBfcmVzdWx0ID0gW107XG4gICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gZWxlbWVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSBwcm9wZXJ0eVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcHJvcCA9IF9zdGVwMy52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc1tfcHJvcF0gPSBmaXhDb2xvcnMoZ2V0UHJvcGVydHlWYWx1ZShlbGVtZW50LCBfcHJvcCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXN1bHQucHVzaChyZXMpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gX3Jlc3VsdDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIElmIG9ubHkgYSBzaW5nbGUgYW5pbWF0aW9uIGlzIGZvdW5kIGFuZCB3ZSdyZSBvbmx5IHRhcmdldHRpbmcgYVxuICAgICAgICAgICAgICAvLyBzaW5nbGUgZWxlbWVudCwgdGhlbiByZXR1cm4gdGhlIHZhbHVlIGRpcmVjdGx5XG4gICAgICAgICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmaXhDb2xvcnMoZ2V0UHJvcGVydHlWYWx1ZShlbGVtZW50c1swXSwgcHJvcGVydHkpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgX3Jlc3VsdDIgPSBbXTtcbiAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlO1xuICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gZWxlbWVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDQ7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSAoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgX2VsZW1lbnQgPSBfc3RlcDQudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICBfcmVzdWx0Mi5wdXNoKGZpeENvbG9ycyhnZXRQcm9wZXJ0eVZhbHVlKF9lbGVtZW50LCBwcm9wZXJ0eSkpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3I0ID0gZXJyO1xuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ICYmIF9pdGVyYXRvcjQucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gX3Jlc3VsdDI7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gU0VUXG4gICAgICB2YXIgZXJyb3IgPSBbXTtcbiAgICAgIGlmIChpc1BsYWluT2JqZWN0KHByb3BlcnR5KSkge1xuICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5TmFtZSBpbiBwcm9wZXJ0eSkge1xuICAgICAgICAgICAgICBpZiAocHJvcGVydHkuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjUgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNSA9IGVsZW1lbnRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA1OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gKF9zdGVwNSA9IF9pdGVyYXRvcjUubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZWxlbWVudDIgPSBfc3RlcDUudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5VmFsdWUgPSBwcm9wZXJ0eVtwcm9wZXJ0eU5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTdHJpbmcocHJvcGVydHlWYWx1ZSkgfHwgaXNOdW1iZXIocHJvcGVydHlWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFByb3BlcnR5VmFsdWUoX2VsZW1lbnQyLCBwcm9wZXJ0eU5hbWUsIHByb3BlcnR5W3Byb3BlcnR5TmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IucHVzaChcIkNhbm5vdCBzZXQgYSBwcm9wZXJ0eSBcXFwiXCIgKyBwcm9wZXJ0eU5hbWUgKyBcIlxcXCIgdG8gYW4gdW5rbm93biB0eXBlOiBcIiArICh0eXBlb2YgcHJvcGVydHlWYWx1ZSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHByb3BlcnR5VmFsdWUpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBDYW5ub3Qgc2V0IGEgcHJvcGVydHkgXFxcIlwiICsgcHJvcGVydHlOYW1lICsgXCJcXFwiIHRvIGFuIHVua25vd24gdHlwZTpcIiwgcHJvcGVydHlWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNSA9IGVycjtcbiAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSAmJiBfaXRlcmF0b3I1LnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNS5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcodmFsdWUpIHx8IGlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IHRydWU7XG4gICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNiA9IGZhbHNlO1xuICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjYgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I2ID0gZWxlbWVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDY7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgPSAoX3N0ZXA2ID0gX2l0ZXJhdG9yNi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBfZWxlbWVudDMgPSBfc3RlcDYudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgIHNldFByb3BlcnR5VmFsdWUoX2VsZW1lbnQzLCBwcm9wZXJ0eSwgU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I2ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3I2ID0gZXJyO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ICYmIF9pdGVyYXRvcjYucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjY7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVycm9yLnB1c2goXCJDYW5ub3Qgc2V0IGEgcHJvcGVydHkgXFxcIlwiICsgcHJvcGVydHkgKyBcIlxcXCIgdG8gYW4gdW5rbm93biB0eXBlOiBcIiArICh0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZih2YWx1ZSkpKTtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBDYW5ub3Qgc2V0IGEgcHJvcGVydHkgXFxcIlwiICsgcHJvcGVydHkgKyBcIlxcXCIgdG8gYW4gdW5rbm93biB0eXBlOlwiLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAocHJvbWlzZUhhbmRsZXIpIHtcbiAgICAgICAgICBpZiAoZXJyb3IubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHByb21pc2VIYW5kbGVyLl9yZWplY3RlcihlcnJvci5qb2luKFwiLCBcIikpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNWZWxvY2l0eVJlc3VsdChlbGVtZW50cykgJiYgZWxlbWVudHMudmVsb2NpdHkuYW5pbWF0aW9ucyAmJiBlbGVtZW50cy50aGVuKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnRzLnRoZW4ocHJvbWlzZUhhbmRsZXIuX3Jlc29sdmVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcm9taXNlSGFuZGxlci5fcmVzb2x2ZXIoZWxlbWVudHMpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuICByZWdpc3RlckFjdGlvbihbXCJwcm9wZXJ0eVwiLCBwcm9wZXJ0eUFjdGlvbl0sIHRydWUpO1xuXG4gIC8vIFByb2plY3RcbiAgcmVnaXN0ZXJBY3Rpb24oW1wicmV2ZXJzZVwiLCBmdW5jdGlvbiAoYXJncywgZWxlbWVudHMsIHByb21pc2VIYW5kbGVyLCBhY3Rpb24pIHtcbiAgICAgICAgICAvLyBOT1RFOiBDb2RlIG5lZWRzIHRvIHNwbGl0IG91dCBiZWZvcmUgaGVyZSAtIGJ1dCB0aGlzIGlzIG5lZWRlZCB0byBwcmV2ZW50IGl0IGJlaW5nIG92ZXJyaWRkZW5cbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJWZWxvY2l0eUpTOiBUaGUgJ3JldmVyc2UnIGFjdGlvbiBpcyBidWlsdCBpbiBhbmQgcHJpdmF0ZS5cIik7XG4gIH1dLCB0cnVlKTtcblxuICAvLyBQcm9qZWN0XG4gIC8qKlxuICAgKiBDaGVjayBpZiBhbiBhbmltYXRpb24gc2hvdWxkIGJlIHN0b3BwZWQsIGFuZCBpZiBzbyB0aGVuIHNldCB0aGUgU1RPUFBFRFxuICAgKiBmbGFnIG9uIGl0LCB0aGVuIGNhbGwgY29tcGxldGUuXG4gICAqL1xuICBmdW5jdGlvbiBjaGVja0FuaW1hdGlvblNob3VsZEJlU3RvcHBlZChhbmltYXRpb24sIHF1ZXVlTmFtZSwgZGVmYXVsdFF1ZXVlKSB7XG4gICAgICB2YWxpZGF0ZVR3ZWVucyhhbmltYXRpb24pO1xuICAgICAgaWYgKHF1ZXVlTmFtZSA9PT0gdW5kZWZpbmVkIHx8IHF1ZXVlTmFtZSA9PT0gZ2V0VmFsdWUoYW5pbWF0aW9uLnF1ZXVlLCBhbmltYXRpb24ub3B0aW9ucy5xdWV1ZSwgZGVmYXVsdFF1ZXVlKSkge1xuICAgICAgICAgIGFuaW1hdGlvbi5fZmxhZ3MgfD0gOCAvKiBTVE9QUEVEICovOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICBjb21wbGV0ZUNhbGwoYW5pbWF0aW9uKTtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogV2hlbiB0aGUgc3RvcCBhY3Rpb24gaXMgdHJpZ2dlcmVkLCB0aGUgZWxlbWVudHMnIGN1cnJlbnRseSBhY3RpdmUgY2FsbCBpc1xuICAgKiBpbW1lZGlhdGVseSBzdG9wcGVkLiBXaGVuIGFuIGVsZW1lbnQgaXMgc3RvcHBlZCwgdGhlIG5leHQgaXRlbSBpbiBpdHNcbiAgICogYW5pbWF0aW9uIHF1ZXVlIGlzIGltbWVkaWF0ZWx5IHRyaWdnZXJlZC4gSWYgcGFzc2VkIHZpYSBhIGNoYWluZWQgY2FsbFxuICAgKiB0aGVuIHRoaXMgd2lsbCBvbmx5IHRhcmdldCB0aGUgYW5pbWF0aW9ucyBpbiB0aGF0IGNhbGwsIGFuZCBub3QgdGhlXG4gICAqIGVsZW1lbnRzIGxpbmtlZCB0byBpdC5cbiAgICpcbiAgICogQSBxdWV1ZSBuYW1lIG1heSBiZSBwYXNzZWQgaW4gdG8gc3BlY2lmeSB0aGF0IG9ubHkgYW5pbWF0aW9ucyBvbiB0aGVcbiAgICogbmFtZWQgcXVldWUgYXJlIHN0b3BwZWQuIFRoZSBkZWZhdWx0IHF1ZXVlIGlzIG5hbWVkIFwiXCIuIEluIGFkZGl0aW9uIHRoZVxuICAgKiB2YWx1ZSBvZiBgZmFsc2VgIGlzIGFsbG93ZWQgZm9yIHRoZSBxdWV1ZSBuYW1lLlxuICAgKlxuICAgKiBBbiBmaW5hbCBhcmd1bWVudCBtYXkgYmUgcGFzc2VkIGluIHRvIGNsZWFyIGFuIGVsZW1lbnQncyByZW1haW5pbmcgcXVldWVkXG4gICAqIGNhbGxzLiBUaGlzIG1heSBvbmx5IGJlIHRoZSB2YWx1ZSBgdHJ1ZWAuXG4gICAqXG4gICAqIE5vdGU6IFRoZSBzdG9wIGNvbW1hbmQgcnVucyBwcmlvciB0byBWZWxvY2l0eSdzIFF1ZXVlaW5nIHBoYXNlIHNpbmNlIGl0c1xuICAgKiBiZWhhdmlvciBpcyBpbnRlbmRlZCB0byB0YWtlIGVmZmVjdCAqaW1tZWRpYXRlbHkqLCByZWdhcmRsZXNzIG9mIHRoZVxuICAgKiBlbGVtZW50J3MgY3VycmVudCBxdWV1ZSBzdGF0ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0b3AoYXJncywgZWxlbWVudHMsIHByb21pc2VIYW5kbGVyLCBhY3Rpb24pIHtcbiAgICAgIHZhciBxdWV1ZU5hbWUgPSB2YWxpZGF0ZVF1ZXVlKGFyZ3NbMF0sIHRydWUpLFxuICAgICAgICAgIGRlZmF1bHRRdWV1ZSA9IGRlZmF1bHRzJDEucXVldWUsXG4gICAgICAgICAgZmluaXNoQWxsID0gYXJnc1txdWV1ZU5hbWUgPT09IHVuZGVmaW5lZCA/IDAgOiAxXSA9PT0gdHJ1ZTtcbiAgICAgIGlmIChpc1ZlbG9jaXR5UmVzdWx0KGVsZW1lbnRzKSAmJiBlbGVtZW50cy52ZWxvY2l0eS5hbmltYXRpb25zKSB7XG4gICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGVsZW1lbnRzLnZlbG9jaXR5LmFuaW1hdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgIGNoZWNrQW5pbWF0aW9uU2hvdWxkQmVTdG9wcGVkKGFuaW1hdGlvbiwgcXVldWVOYW1lLCBkZWZhdWx0UXVldWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdoaWxlIChTdGF0ZS5maXJzdE5ldykge1xuICAgICAgICAgICAgICB2YWxpZGF0ZVR3ZWVucyhTdGF0ZS5maXJzdE5ldyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAodmFyIGFjdGl2ZUNhbGwgPSBTdGF0ZS5maXJzdCwgbmV4dENhbGw7IGFjdGl2ZUNhbGwgJiYgKGZpbmlzaEFsbCB8fCBhY3RpdmVDYWxsICE9PSBTdGF0ZS5maXJzdE5ldyk7IGFjdGl2ZUNhbGwgPSBuZXh0Q2FsbCB8fCBTdGF0ZS5maXJzdE5ldykge1xuICAgICAgICAgICAgICBuZXh0Q2FsbCA9IGFjdGl2ZUNhbGwuX25leHQ7XG4gICAgICAgICAgICAgIGlmICghZWxlbWVudHMgfHwgZWxlbWVudHMuaW5jbHVkZXMoYWN0aXZlQ2FsbC5lbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgY2hlY2tBbmltYXRpb25TaG91bGRCZVN0b3BwZWQoYWN0aXZlQ2FsbCwgcXVldWVOYW1lLCBkZWZhdWx0UXVldWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb21pc2VIYW5kbGVyKSB7XG4gICAgICAgICAgaWYgKGlzVmVsb2NpdHlSZXN1bHQoZWxlbWVudHMpICYmIGVsZW1lbnRzLnZlbG9jaXR5LmFuaW1hdGlvbnMgJiYgZWxlbWVudHMudGhlbikge1xuICAgICAgICAgICAgICBlbGVtZW50cy50aGVuKHByb21pc2VIYW5kbGVyLl9yZXNvbHZlcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHJvbWlzZUhhbmRsZXIuX3Jlc29sdmVyKGVsZW1lbnRzKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgcmVnaXN0ZXJBY3Rpb24oW1wic3RvcFwiLCBzdG9wXSwgdHJ1ZSk7XG5cbiAgLy8gUHJvamVjdFxuICByZWdpc3RlckFjdGlvbihbXCJzdHlsZVwiLCBwcm9wZXJ0eUFjdGlvbl0sIHRydWUpO1xuXG4gIC8vIFByb2plY3RcbiAgLyoqXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiB0d2VlbkFjdGlvbihhcmdzLCBlbGVtZW50cywgcHJvbWlzZUhhbmRsZXIsIGFjdGlvbikge1xuICAgICAgdmFyIHJlcXVpcmVGb3JjZWZlZWRpbmcgPSB2b2lkIDA7XG4gICAgICBpZiAoIWVsZW1lbnRzKSB7XG4gICAgICAgICAgaWYgKCFhcmdzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmluZm8oXCJWZWxvY2l0eSg8ZWxlbWVudD4sIFxcXCJ0d2VlblxcXCIsIHBlcmNlbnRDb21wbGV0ZSwgcHJvcGVydHksIGVuZCB8IFtlbmQsIDxlYXNpbmc+LCA8c3RhcnQ+XSwgPGVhc2luZz4pID0+IHZhbHVlXFxuVmVsb2NpdHkoPGVsZW1lbnQ+LCBcXFwidHdlZW5cXFwiLCBwZXJjZW50Q29tcGxldGUsIHtwcm9wZXJ0eTogZW5kIHwgW2VuZCwgPGVhc2luZz4sIDxzdGFydD5dLCAuLi59LCA8ZWFzaW5nPikgPT4ge3Byb3BlcnR5OiB2YWx1ZSwgLi4ufVwiKTtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnRzID0gW2RvY3VtZW50LmJvZHldO1xuICAgICAgICAgIHJlcXVpcmVGb3JjZWZlZWRpbmcgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChlbGVtZW50cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAvLyBUT0RPOiBBbGxvdyBtb3JlIHRoYW4gYSBzaW5nbGUgZWxlbWVudCB0byByZXR1cm4gYW4gYXJyYXkgb2YgcmVzdWx0c1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZlbG9jaXR5SlM6IENhbm5vdCB0d2VlbiBtb3JlIHRoYW4gb25lIGVsZW1lbnQhXCIpO1xuICAgICAgfVxuICAgICAgdmFyIHBlcmNlbnRDb21wbGV0ZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgZmFrZUFuaW1hdGlvbiA9IHtcbiAgICAgICAgICBlbGVtZW50czogZWxlbWVudHMsXG4gICAgICAgICAgZWxlbWVudDogZWxlbWVudHNbMF0sXG4gICAgICAgICAgcXVldWU6IGZhbHNlLFxuICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIHR3ZWVuczogbnVsbFxuICAgICAgfSxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcbiAgICAgIHZhciBwcm9wZXJ0aWVzID0gYXJnc1sxXSxcbiAgICAgICAgICBzaW5nbGVSZXN1bHQgPSB2b2lkIDAsXG4gICAgICAgICAgbWF5YmVTZXF1ZW5jZSA9IHZvaWQgMCxcbiAgICAgICAgICBlYXNpbmcgPSBhcmdzWzJdLFxuICAgICAgICAgIGNvdW50ID0gMDtcbiAgICAgIGlmIChpc1N0cmluZyhhcmdzWzFdKSkge1xuICAgICAgICAgIGlmIChTZXF1ZW5jZXNPYmplY3QgJiYgU2VxdWVuY2VzT2JqZWN0W2FyZ3NbMV1dKSB7XG4gICAgICAgICAgICAgIG1heWJlU2VxdWVuY2UgPSBTZXF1ZW5jZXNPYmplY3RbYXJnc1sxXV07XG4gICAgICAgICAgICAgIHByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgICAgICAgZWFzaW5nID0gYXJnc1syXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzaW5nbGVSZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICBwcm9wZXJ0aWVzID0gZGVmaW5lUHJvcGVydHkoe30sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgICBlYXNpbmcgPSBhcmdzWzNdO1xuICAgICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmdzWzFdKSkge1xuICAgICAgICAgIHNpbmdsZVJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgcHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgICAgdHdlZW46IGFyZ3NbMV1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGVhc2luZyA9IGFyZ3NbMl07XG4gICAgICB9XG4gICAgICBpZiAoIWlzTnVtYmVyKHBlcmNlbnRDb21wbGV0ZSkgfHwgcGVyY2VudENvbXBsZXRlIDwgMCB8fCBwZXJjZW50Q29tcGxldGUgPiAxKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmVsb2NpdHlKUzogTXVzdCB0d2VlbiBhIHBlcmNlbnRhZ2UgZnJvbSAwIHRvIDEhXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFpc1BsYWluT2JqZWN0KHByb3BlcnRpZXMpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmVsb2NpdHlKUzogQ2Fubm90IHR3ZWVuIGFuIGludmFsaWQgcHJvcGVydHkhXCIpO1xuICAgICAgfVxuICAgICAgaWYgKHJlcXVpcmVGb3JjZWZlZWRpbmcpIHtcbiAgICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSAmJiAoIUFycmF5LmlzQXJyYXkocHJvcGVydGllc1twcm9wZXJ0eV0pIHx8IHByb3BlcnRpZXNbcHJvcGVydHldLmxlbmd0aCA8IDIpKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWZWxvY2l0eUpTOiBXaGVuIG5vdCBzdXBwbHlpbmcgYW4gZWxlbWVudCB5b3UgbXVzdCBmb3JjZS1mZWVkIHZhbHVlczogXCIgKyBwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgYWN0aXZlRWFzaW5nID0gdmFsaWRhdGVFYXNpbmcoZ2V0VmFsdWUoZWFzaW5nLCBkZWZhdWx0cyQxLmVhc2luZyksIERFRkFVTFRfRFVSQVRJT04pO1xuICAgICAgaWYgKG1heWJlU2VxdWVuY2UpIHtcbiAgICAgICAgICBleHBhbmRTZXF1ZW5jZShmYWtlQW5pbWF0aW9uLCBtYXliZVNlcXVlbmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXhwYW5kUHJvcGVydGllcyhmYWtlQW5pbWF0aW9uLCBwcm9wZXJ0aWVzKTtcbiAgICAgIH1cbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpmb3JpblxuICAgICAgZm9yICh2YXIgX3Byb3BlcnR5IGluIGZha2VBbmltYXRpb24udHdlZW5zKSB7XG4gICAgICAgICAgLy8gRm9yIGV2ZXJ5IGVsZW1lbnQsIGl0ZXJhdGUgdGhyb3VnaCBlYWNoIHByb3BlcnR5LlxuICAgICAgICAgIHZhciBwcm9wZXJ0eVR3ZWVuID0gZmFrZUFuaW1hdGlvbi50d2VlbnNbX3Byb3BlcnR5XSxcbiAgICAgICAgICAgICAgc2VxdWVuY2UgPSBwcm9wZXJ0eVR3ZWVuLnNlcXVlbmNlLFxuICAgICAgICAgICAgICBwYXR0ZXJuID0gc2VxdWVuY2UucGF0dGVybjtcbiAgICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gXCJcIixcbiAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgY291bnQrKztcbiAgICAgICAgICBpZiAocGF0dGVybikge1xuICAgICAgICAgICAgICB2YXIgZWFzaW5nQ29tcGxldGUgPSAocHJvcGVydHlUd2Vlbi5lYXNpbmcgfHwgYWN0aXZlRWFzaW5nKShwZXJjZW50Q29tcGxldGUsIDAsIDEsIF9wcm9wZXJ0eSk7XG4gICAgICAgICAgICAgIHZhciBiZXN0ID0gMDtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzZXF1ZW5jZS5sZW5ndGggLSAxOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgIGlmIChzZXF1ZW5jZVtqXS5wZXJjZW50IDwgZWFzaW5nQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBiZXN0ID0gajtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgdHdlZW5Gcm9tID0gc2VxdWVuY2VbYmVzdF0sXG4gICAgICAgICAgICAgICAgICB0d2VlblRvID0gc2VxdWVuY2VbYmVzdCArIDFdIHx8IHR3ZWVuRnJvbSxcbiAgICAgICAgICAgICAgICAgIHR3ZWVuUGVyY2VudCA9IChwZXJjZW50Q29tcGxldGUgLSB0d2VlbkZyb20ucGVyY2VudCkgLyAodHdlZW5Uby5wZXJjZW50IC0gdHdlZW5Gcm9tLnBlcmNlbnQpLFxuICAgICAgICAgICAgICAgICAgdHdlZW5FYXNpbmcgPSB0d2VlblRvLmVhc2luZyB8fCBsaW5lYXJFYXNpbmc7XG4gICAgICAgICAgICAgIGZvciAoOyBpIDwgcGF0dGVybi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0VmFsdWUgPSB0d2VlbkZyb21baV07XG4gICAgICAgICAgICAgICAgICBpZiAoc3RhcnRWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlICs9IHBhdHRlcm5baV07XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRWYWx1ZSA9IHR3ZWVuVG9baV07XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0VmFsdWUgPT09IGVuZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSArPSBzdGFydFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsbCBlYXNpbmdzIG11c3QgZGVhbCB3aXRoIG51bWJlcnMgZXhjZXB0IGZvciBvdXIgaW50ZXJuYWwgb25lcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdHdlZW5FYXNpbmcodHdlZW5QZXJjZW50LCBzdGFydFZhbHVlLCBlbmRWYWx1ZSwgX3Byb3BlcnR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlICs9IHBhdHRlcm5baV0gPT09IHRydWUgPyBNYXRoLnJvdW5kKHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXN1bHRbX3Byb3BlcnR5XSA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc2luZ2xlUmVzdWx0ICYmIGNvdW50ID09PSAxKSB7XG4gICAgICAgICAgZm9yICh2YXIgX3Byb3BlcnR5MiBpbiByZXN1bHQpIHtcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5oYXNPd25Qcm9wZXJ0eShfcHJvcGVydHkyKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFtfcHJvcGVydHkyXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgcmVnaXN0ZXJBY3Rpb24oW1widHdlZW5cIiwgdHdlZW5BY3Rpb25dLCB0cnVlKTtcblxuICAvLyBQcm9qZWN0XG4gIC8qKlxuICAgKiBDb252ZXJ0aW5nIGZyb20gaGV4IGFzIGl0IG1ha2VzIGZvciBhIHNtYWxsZXIgZmlsZS5cbiAgICovXG4gIHZhciBjb2xvclZhbHVlcyA9IHtcbiAgICAgIGFsaWNlYmx1ZTogMHhGMEY4RkYsXG4gICAgICBhbnRpcXVld2hpdGU6IDB4RkFFQkQ3LFxuICAgICAgYXF1YTogMHgwMEZGRkYsXG4gICAgICBhcXVhbWFyaW5lOiAweDdGRkZENCxcbiAgICAgIGF6dXJlOiAweEYwRkZGRixcbiAgICAgIGJlaWdlOiAweEY1RjVEQyxcbiAgICAgIGJpc3F1ZTogMHhGRkU0QzQsXG4gICAgICBibGFjazogMHgwMDAwMDAsXG4gICAgICBibGFuY2hlZGFsbW9uZDogMHhGRkVCQ0QsXG4gICAgICBibHVlOiAweDAwMDBGRixcbiAgICAgIGJsdWV2aW9sZXQ6IDB4OEEyQkUyLFxuICAgICAgYnJvd246IDB4QTUyQTJBLFxuICAgICAgYnVybHl3b29kOiAweERFQjg4NyxcbiAgICAgIGNhZGV0Ymx1ZTogMHg1RjlFQTAsXG4gICAgICBjaGFydHJldXNlOiAweDdGRkYwMCxcbiAgICAgIGNob2NvbGF0ZTogMHhEMjY5MUUsXG4gICAgICBjb3JhbDogMHhGRjdGNTAsXG4gICAgICBjb3JuZmxvd2VyYmx1ZTogMHg2NDk1RUQsXG4gICAgICBjb3Juc2lsazogMHhGRkY4REMsXG4gICAgICBjcmltc29uOiAweERDMTQzQyxcbiAgICAgIGN5YW46IDB4MDBGRkZGLFxuICAgICAgZGFya2JsdWU6IDB4MDAwMDhCLFxuICAgICAgZGFya2N5YW46IDB4MDA4QjhCLFxuICAgICAgZGFya2dvbGRlbnJvZDogMHhCODg2MEIsXG4gICAgICBkYXJrZ3JheTogMHhBOUE5QTksXG4gICAgICBkYXJrZ3JleTogMHhBOUE5QTksXG4gICAgICBkYXJrZ3JlZW46IDB4MDA2NDAwLFxuICAgICAgZGFya2toYWtpOiAweEJEQjc2QixcbiAgICAgIGRhcmttYWdlbnRhOiAweDhCMDA4QixcbiAgICAgIGRhcmtvbGl2ZWdyZWVuOiAweDU1NkIyRixcbiAgICAgIGRhcmtvcmFuZ2U6IDB4RkY4QzAwLFxuICAgICAgZGFya29yY2hpZDogMHg5OTMyQ0MsXG4gICAgICBkYXJrcmVkOiAweDhCMDAwMCxcbiAgICAgIGRhcmtzYWxtb246IDB4RTk5NjdBLFxuICAgICAgZGFya3NlYWdyZWVuOiAweDhGQkM4RixcbiAgICAgIGRhcmtzbGF0ZWJsdWU6IDB4NDgzRDhCLFxuICAgICAgZGFya3NsYXRlZ3JheTogMHgyRjRGNEYsXG4gICAgICBkYXJrc2xhdGVncmV5OiAweDJGNEY0RixcbiAgICAgIGRhcmt0dXJxdW9pc2U6IDB4MDBDRUQxLFxuICAgICAgZGFya3Zpb2xldDogMHg5NDAwRDMsXG4gICAgICBkZWVwcGluazogMHhGRjE0OTMsXG4gICAgICBkZWVwc2t5Ymx1ZTogMHgwMEJGRkYsXG4gICAgICBkaW1ncmF5OiAweDY5Njk2OSxcbiAgICAgIGRpbWdyZXk6IDB4Njk2OTY5LFxuICAgICAgZG9kZ2VyYmx1ZTogMHgxRTkwRkYsXG4gICAgICBmaXJlYnJpY2s6IDB4QjIyMjIyLFxuICAgICAgZmxvcmFsd2hpdGU6IDB4RkZGQUYwLFxuICAgICAgZm9yZXN0Z3JlZW46IDB4MjI4QjIyLFxuICAgICAgZnVjaHNpYTogMHhGRjAwRkYsXG4gICAgICBnYWluc2Jvcm86IDB4RENEQ0RDLFxuICAgICAgZ2hvc3R3aGl0ZTogMHhGOEY4RkYsXG4gICAgICBnb2xkOiAweEZGRDcwMCxcbiAgICAgIGdvbGRlbnJvZDogMHhEQUE1MjAsXG4gICAgICBncmF5OiAweDgwODA4MCxcbiAgICAgIGdyZXk6IDB4ODA4MDgwLFxuICAgICAgZ3JlZW46IDB4MDA4MDAwLFxuICAgICAgZ3JlZW55ZWxsb3c6IDB4QURGRjJGLFxuICAgICAgaG9uZXlkZXc6IDB4RjBGRkYwLFxuICAgICAgaG90cGluazogMHhGRjY5QjQsXG4gICAgICBpbmRpYW5yZWQ6IDB4Q0Q1QzVDLFxuICAgICAgaW5kaWdvOiAweDRCMDA4MixcbiAgICAgIGl2b3J5OiAweEZGRkZGMCxcbiAgICAgIGtoYWtpOiAweEYwRTY4QyxcbiAgICAgIGxhdmVuZGVyOiAweEU2RTZGQSxcbiAgICAgIGxhdmVuZGVyYmx1c2g6IDB4RkZGMEY1LFxuICAgICAgbGF3bmdyZWVuOiAweDdDRkMwMCxcbiAgICAgIGxlbW9uY2hpZmZvbjogMHhGRkZBQ0QsXG4gICAgICBsaWdodGJsdWU6IDB4QUREOEU2LFxuICAgICAgbGlnaHRjb3JhbDogMHhGMDgwODAsXG4gICAgICBsaWdodGN5YW46IDB4RTBGRkZGLFxuICAgICAgbGlnaHRnb2xkZW5yb2R5ZWxsb3c6IDB4RkFGQUQyLFxuICAgICAgbGlnaHRncmF5OiAweEQzRDNEMyxcbiAgICAgIGxpZ2h0Z3JleTogMHhEM0QzRDMsXG4gICAgICBsaWdodGdyZWVuOiAweDkwRUU5MCxcbiAgICAgIGxpZ2h0cGluazogMHhGRkI2QzEsXG4gICAgICBsaWdodHNhbG1vbjogMHhGRkEwN0EsXG4gICAgICBsaWdodHNlYWdyZWVuOiAweDIwQjJBQSxcbiAgICAgIGxpZ2h0c2t5Ymx1ZTogMHg4N0NFRkEsXG4gICAgICBsaWdodHNsYXRlZ3JheTogMHg3Nzg4OTksXG4gICAgICBsaWdodHNsYXRlZ3JleTogMHg3Nzg4OTksXG4gICAgICBsaWdodHN0ZWVsYmx1ZTogMHhCMEM0REUsXG4gICAgICBsaWdodHllbGxvdzogMHhGRkZGRTAsXG4gICAgICBsaW1lOiAweDAwRkYwMCxcbiAgICAgIGxpbWVncmVlbjogMHgzMkNEMzIsXG4gICAgICBsaW5lbjogMHhGQUYwRTYsXG4gICAgICBtYWdlbnRhOiAweEZGMDBGRixcbiAgICAgIG1hcm9vbjogMHg4MDAwMDAsXG4gICAgICBtZWRpdW1hcXVhbWFyaW5lOiAweDY2Q0RBQSxcbiAgICAgIG1lZGl1bWJsdWU6IDB4MDAwMENELFxuICAgICAgbWVkaXVtb3JjaGlkOiAweEJBNTVEMyxcbiAgICAgIG1lZGl1bXB1cnBsZTogMHg5MzcwREIsXG4gICAgICBtZWRpdW1zZWFncmVlbjogMHgzQ0IzNzEsXG4gICAgICBtZWRpdW1zbGF0ZWJsdWU6IDB4N0I2OEVFLFxuICAgICAgbWVkaXVtc3ByaW5nZ3JlZW46IDB4MDBGQTlBLFxuICAgICAgbWVkaXVtdHVycXVvaXNlOiAweDQ4RDFDQyxcbiAgICAgIG1lZGl1bXZpb2xldHJlZDogMHhDNzE1ODUsXG4gICAgICBtaWRuaWdodGJsdWU6IDB4MTkxOTcwLFxuICAgICAgbWludGNyZWFtOiAweEY1RkZGQSxcbiAgICAgIG1pc3R5cm9zZTogMHhGRkU0RTEsXG4gICAgICBtb2NjYXNpbjogMHhGRkU0QjUsXG4gICAgICBuYXZham93aGl0ZTogMHhGRkRFQUQsXG4gICAgICBuYXZ5OiAweDAwMDA4MCxcbiAgICAgIG9sZGxhY2U6IDB4RkRGNUU2LFxuICAgICAgb2xpdmU6IDB4ODA4MDAwLFxuICAgICAgb2xpdmVkcmFiOiAweDZCOEUyMyxcbiAgICAgIG9yYW5nZTogMHhGRkE1MDAsXG4gICAgICBvcmFuZ2VyZWQ6IDB4RkY0NTAwLFxuICAgICAgb3JjaGlkOiAweERBNzBENixcbiAgICAgIHBhbGVnb2xkZW5yb2Q6IDB4RUVFOEFBLFxuICAgICAgcGFsZWdyZWVuOiAweDk4RkI5OCxcbiAgICAgIHBhbGV0dXJxdW9pc2U6IDB4QUZFRUVFLFxuICAgICAgcGFsZXZpb2xldHJlZDogMHhEQjcwOTMsXG4gICAgICBwYXBheWF3aGlwOiAweEZGRUZENSxcbiAgICAgIHBlYWNocHVmZjogMHhGRkRBQjksXG4gICAgICBwZXJ1OiAweENEODUzRixcbiAgICAgIHBpbms6IDB4RkZDMENCLFxuICAgICAgcGx1bTogMHhEREEwREQsXG4gICAgICBwb3dkZXJibHVlOiAweEIwRTBFNixcbiAgICAgIHB1cnBsZTogMHg4MDAwODAsXG4gICAgICByZWJlY2NhcHVycGxlOiAweDY2MzM5OSxcbiAgICAgIHJlZDogMHhGRjAwMDAsXG4gICAgICByb3N5YnJvd246IDB4QkM4RjhGLFxuICAgICAgcm95YWxibHVlOiAweDQxNjlFMSxcbiAgICAgIHNhZGRsZWJyb3duOiAweDhCNDUxMyxcbiAgICAgIHNhbG1vbjogMHhGQTgwNzIsXG4gICAgICBzYW5keWJyb3duOiAweEY0QTQ2MCxcbiAgICAgIHNlYWdyZWVuOiAweDJFOEI1NyxcbiAgICAgIHNlYXNoZWxsOiAweEZGRjVFRSxcbiAgICAgIHNpZW5uYTogMHhBMDUyMkQsXG4gICAgICBzaWx2ZXI6IDB4QzBDMEMwLFxuICAgICAgc2t5Ymx1ZTogMHg4N0NFRUIsXG4gICAgICBzbGF0ZWJsdWU6IDB4NkE1QUNELFxuICAgICAgc2xhdGVncmF5OiAweDcwODA5MCxcbiAgICAgIHNsYXRlZ3JleTogMHg3MDgwOTAsXG4gICAgICBzbm93OiAweEZGRkFGQSxcbiAgICAgIHNwcmluZ2dyZWVuOiAweDAwRkY3RixcbiAgICAgIHN0ZWVsYmx1ZTogMHg0NjgyQjQsXG4gICAgICB0YW46IDB4RDJCNDhDLFxuICAgICAgdGVhbDogMHgwMDgwODAsXG4gICAgICB0aGlzdGxlOiAweEQ4QkZEOCxcbiAgICAgIHRvbWF0bzogMHhGRjYzNDcsXG4gICAgICB0dXJxdW9pc2U6IDB4NDBFMEQwLFxuICAgICAgdmlvbGV0OiAweEVFODJFRSxcbiAgICAgIHdoZWF0OiAweEY1REVCMyxcbiAgICAgIHdoaXRlOiAweEZGRkZGRixcbiAgICAgIHdoaXRlc21va2U6IDB4RjVGNUY1LFxuICAgICAgeWVsbG93OiAweEZGRkYwMCxcbiAgICAgIHllbGxvd2dyZWVuOiAweDlBQ0QzMlxuICB9O1xuICBmb3IgKHZhciBuYW1lIGluIGNvbG9yVmFsdWVzKSB7XG4gICAgICBpZiAoY29sb3JWYWx1ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICB2YXIgY29sb3IgPSBjb2xvclZhbHVlc1tuYW1lXTtcbiAgICAgICAgICBDb2xvck5hbWVzW25hbWVdID0gTWF0aC5mbG9vcihjb2xvciAvIDY1NTM2KSArIFwiLFwiICsgTWF0aC5mbG9vcihjb2xvciAvIDI1NiAlIDI1NikgKyBcIixcIiArIGNvbG9yICUgMjU2O1xuICAgICAgfVxuICB9XG5cbiAgLy8gUHJvamVjdFxuICBmdW5jdGlvbiByZWdpc3RlckJhY2tJbihuYW1lLCBhbW91bnQpIHtcbiAgICAgIHJlZ2lzdGVyRWFzaW5nKFtuYW1lLCBmdW5jdGlvbiAocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xuICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gTWF0aC5wb3cocGVyY2VudENvbXBsZXRlLCAyKSAqICgoYW1vdW50ICsgMSkgKiBwZXJjZW50Q29tcGxldGUgLSBhbW91bnQpICogKGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSk7XG4gICAgICB9XSk7XG4gIH1cbiAgZnVuY3Rpb24gcmVnaXN0ZXJCYWNrT3V0KG5hbWUsIGFtb3VudCkge1xuICAgICAgcmVnaXN0ZXJFYXNpbmcoW25hbWUsIGZ1bmN0aW9uIChwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XG4gICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMSkge1xuICAgICAgICAgICAgICByZXR1cm4gZW5kVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAoTWF0aC5wb3coLS1wZXJjZW50Q29tcGxldGUsIDIpICogKChhbW91bnQgKyAxKSAqIHBlcmNlbnRDb21wbGV0ZSArIGFtb3VudCkgKyAxKSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xuICAgICAgfV0pO1xuICB9XG4gIGZ1bmN0aW9uIHJlZ2lzdGVyQmFja0luT3V0KG5hbWUsIGFtb3VudCkge1xuICAgICAgYW1vdW50ICo9IDEuNTI1O1xuICAgICAgcmVnaXN0ZXJFYXNpbmcoW25hbWUsIGZ1bmN0aW9uIChwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XG4gICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMSkge1xuICAgICAgICAgICAgICByZXR1cm4gZW5kVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBlcmNlbnRDb21wbGV0ZSAqPSAyO1xuICAgICAgICAgIHJldHVybiAocGVyY2VudENvbXBsZXRlIDwgMSA/IE1hdGgucG93KHBlcmNlbnRDb21wbGV0ZSwgMikgKiAoKGFtb3VudCArIDEpICogcGVyY2VudENvbXBsZXRlIC0gYW1vdW50KSA6IE1hdGgucG93KHBlcmNlbnRDb21wbGV0ZSAtIDIsIDIpICogKChhbW91bnQgKyAxKSAqIChwZXJjZW50Q29tcGxldGUgLSAyKSArIGFtb3VudCkgKyAyKSAqIDAuNSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xuICAgICAgfV0pO1xuICB9XG4gIHJlZ2lzdGVyQmFja0luKFwiZWFzZUluQmFja1wiLCAxLjcpO1xuICByZWdpc3RlckJhY2tPdXQoXCJlYXNlT3V0QmFja1wiLCAxLjcpO1xuICByZWdpc3RlckJhY2tJbk91dChcImVhc2VJbk91dEJhY2tcIiwgMS43KTtcbiAgLy8gVE9ETzogRXhwb3NlIHRoZXNlIGFzIGFjdGlvbnMgdG8gcmVnaXN0ZXIgY3VzdG9tIGVhc2luZ3M/XG5cbiAgLy8gUHJvamVjdFxuICBmdW5jdGlvbiBlYXNlT3V0Qm91bmNlUGVyY2VudChwZXJjZW50Q29tcGxldGUpIHtcbiAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPCAxIC8gMi43NSkge1xuICAgICAgICAgIHJldHVybiA3LjU2MjUgKiBwZXJjZW50Q29tcGxldGUgKiBwZXJjZW50Q29tcGxldGU7XG4gICAgICB9XG4gICAgICBpZiAocGVyY2VudENvbXBsZXRlIDwgMiAvIDIuNzUpIHtcbiAgICAgICAgICByZXR1cm4gNy41NjI1ICogKHBlcmNlbnRDb21wbGV0ZSAtPSAxLjUgLyAyLjc1KSAqIHBlcmNlbnRDb21wbGV0ZSArIDAuNzU7XG4gICAgICB9XG4gICAgICBpZiAocGVyY2VudENvbXBsZXRlIDwgMi41IC8gMi43NSkge1xuICAgICAgICAgIHJldHVybiA3LjU2MjUgKiAocGVyY2VudENvbXBsZXRlIC09IDIuMjUgLyAyLjc1KSAqIHBlcmNlbnRDb21wbGV0ZSArIDAuOTM3NTtcbiAgICAgIH1cbiAgICAgIHJldHVybiA3LjU2MjUgKiAocGVyY2VudENvbXBsZXRlIC09IDIuNjI1IC8gMi43NSkgKiBwZXJjZW50Q29tcGxldGUgKyAwLjk4NDM3NTtcbiAgfVxuICBmdW5jdGlvbiBlYXNlSW5Cb3VuY2VQZXJjZW50KHBlcmNlbnRDb21wbGV0ZSkge1xuICAgICAgcmV0dXJuIDEgLSBlYXNlT3V0Qm91bmNlUGVyY2VudCgxIC0gcGVyY2VudENvbXBsZXRlKTtcbiAgfVxuICBmdW5jdGlvbiBlYXNlSW5Cb3VuY2UocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xuICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBzdGFydFZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHBlcmNlbnRDb21wbGV0ZSA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiBlbmRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlYXNlSW5Cb3VuY2VQZXJjZW50KHBlcmNlbnRDb21wbGV0ZSkgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcbiAgfVxuICBmdW5jdGlvbiBlYXNlT3V0Qm91bmNlKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUpIHtcbiAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gc3RhcnRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDEpIHtcbiAgICAgICAgICByZXR1cm4gZW5kVmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWFzZU91dEJvdW5jZVBlcmNlbnQocGVyY2VudENvbXBsZXRlKSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xuICB9XG4gIGZ1bmN0aW9uIGVhc2VJbk91dEJvdW5jZShwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XG4gICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChwZXJjZW50Q29tcGxldGUgPCAwLjUgPyBlYXNlSW5Cb3VuY2VQZXJjZW50KHBlcmNlbnRDb21wbGV0ZSAqIDIpICogMC41IDogZWFzZU91dEJvdW5jZVBlcmNlbnQocGVyY2VudENvbXBsZXRlICogMiAtIDEpICogMC41ICsgMC41KSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xuICB9XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJbkJvdW5jZVwiLCBlYXNlSW5Cb3VuY2VdKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiZWFzZU91dEJvdW5jZVwiLCBlYXNlT3V0Qm91bmNlXSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImVhc2VJbk91dEJvdW5jZVwiLCBlYXNlSW5PdXRCb3VuY2VdKTtcblxuICAvLyBQcm9qZWN0XG4gIC8vIENvbnN0YW50c1xuICB2YXIgUEkyID0gTWF0aC5QSSAqIDI7XG4gIGZ1bmN0aW9uIHJlZ2lzdGVyRWxhc3RpY0luKG5hbWUsIGFtcGxpdHVkZSwgcGVyaW9kKSB7XG4gICAgICByZWdpc3RlckVhc2luZyhbbmFtZSwgZnVuY3Rpb24gKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUpIHtcbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzdGFydFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlbmRWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIC0oYW1wbGl0dWRlICogTWF0aC5wb3coMiwgMTAgKiAocGVyY2VudENvbXBsZXRlIC09IDEpKSAqIE1hdGguc2luKChwZXJjZW50Q29tcGxldGUgLSBwZXJpb2QgLyBQSTIgKiBNYXRoLmFzaW4oMSAvIGFtcGxpdHVkZSkpICogUEkyIC8gcGVyaW9kKSkgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcbiAgICAgIH1dKTtcbiAgfVxuICBmdW5jdGlvbiByZWdpc3RlckVsYXN0aWNPdXQobmFtZSwgYW1wbGl0dWRlLCBwZXJpb2QpIHtcbiAgICAgIHJlZ2lzdGVyRWFzaW5nKFtuYW1lLCBmdW5jdGlvbiAocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xuICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0VmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwZXJjZW50Q29tcGxldGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVuZFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gKGFtcGxpdHVkZSAqIE1hdGgucG93KDIsIC0xMCAqIHBlcmNlbnRDb21wbGV0ZSkgKiBNYXRoLnNpbigocGVyY2VudENvbXBsZXRlIC0gcGVyaW9kIC8gUEkyICogTWF0aC5hc2luKDEgLyBhbXBsaXR1ZGUpKSAqIFBJMiAvIHBlcmlvZCkgKyAxKSAqIChlbmRWYWx1ZSAtIHN0YXJ0VmFsdWUpO1xuICAgICAgfV0pO1xuICB9XG4gIGZ1bmN0aW9uIHJlZ2lzdGVyRWxhc3RpY0luT3V0KG5hbWUsIGFtcGxpdHVkZSwgcGVyaW9kKSB7XG4gICAgICByZWdpc3RlckVhc2luZyhbbmFtZSwgZnVuY3Rpb24gKHBlcmNlbnRDb21wbGV0ZSwgc3RhcnRWYWx1ZSwgZW5kVmFsdWUpIHtcbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzdGFydFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGVyY2VudENvbXBsZXRlID09PSAxKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlbmRWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHMgPSBwZXJpb2QgLyBQSTIgKiBNYXRoLmFzaW4oMSAvIGFtcGxpdHVkZSk7XG4gICAgICAgICAgcGVyY2VudENvbXBsZXRlID0gcGVyY2VudENvbXBsZXRlICogMiAtIDE7XG4gICAgICAgICAgcmV0dXJuIChwZXJjZW50Q29tcGxldGUgPCAwID8gLTAuNSAqIChhbXBsaXR1ZGUgKiBNYXRoLnBvdygyLCAxMCAqIHBlcmNlbnRDb21wbGV0ZSkgKiBNYXRoLnNpbigocGVyY2VudENvbXBsZXRlIC0gcykgKiBQSTIgLyBwZXJpb2QpKSA6IGFtcGxpdHVkZSAqIE1hdGgucG93KDIsIC0xMCAqIHBlcmNlbnRDb21wbGV0ZSkgKiBNYXRoLnNpbigocGVyY2VudENvbXBsZXRlIC0gcykgKiBQSTIgLyBwZXJpb2QpICogMC41ICsgMSkgKiAoZW5kVmFsdWUgLSBzdGFydFZhbHVlKTtcbiAgICAgIH1dKTtcbiAgfVxuICByZWdpc3RlckVsYXN0aWNJbihcImVhc2VJbkVsYXN0aWNcIiwgMSwgMC4zKTtcbiAgcmVnaXN0ZXJFbGFzdGljT3V0KFwiZWFzZU91dEVsYXN0aWNcIiwgMSwgMC4zKTtcbiAgcmVnaXN0ZXJFbGFzdGljSW5PdXQoXCJlYXNlSW5PdXRFbGFzdGljXCIsIDEsIDAuMyAqIDEuNSk7XG4gIC8vIFRPRE86IEV4cG9zZSB0aGVzZSBhcyBhY3Rpb25zIHRvIHJlZ2lzdGVyIGN1c3RvbSBlYXNpbmdzP1xuXG4gIC8vIFByb2plY3RcbiAgLyoqXG4gICAqIEVhc2luZyBmdW5jdGlvbiB0aGF0IHNldHMgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZSBpbW1lZGlhdGVseSBhZnRlciB0aGVcbiAgICogYW5pbWF0aW9uIHN0YXJ0cy5cbiAgICovXG4gIGZ1bmN0aW9uIGF0U3RhcnQocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xuICAgIHJldHVybiBwZXJjZW50Q29tcGxldGUgPT09IDAgPyBzdGFydFZhbHVlIDogZW5kVmFsdWU7XG4gIH1cbiAgLyoqXG4gICAqIEVhc2luZyBmdW5jdGlvbiB0aGF0IHNldHMgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZSB3aGlsZSB0aGUgYW5pbWF0aW9uIGlzXG4gICAqIHJ1bm5pbmcuXG4gICAqL1xuICBmdW5jdGlvbiBkdXJpbmcocGVyY2VudENvbXBsZXRlLCBzdGFydFZhbHVlLCBlbmRWYWx1ZSkge1xuICAgIHJldHVybiBwZXJjZW50Q29tcGxldGUgPT09IDAgfHwgcGVyY2VudENvbXBsZXRlID09PSAxID8gc3RhcnRWYWx1ZSA6IGVuZFZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBFYXNpbmcgZnVuY3Rpb24gdGhhdCBzZXRzIHRvIHRoZSBzcGVjaWZpZWQgdmFsdWUgd2hlbiB0aGUgYW5pbWF0aW9uIGVuZHMuXG4gICAqL1xuICBmdW5jdGlvbiBhdEVuZChwZXJjZW50Q29tcGxldGUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XG4gICAgcmV0dXJuIHBlcmNlbnRDb21wbGV0ZSA9PT0gMSA/IGVuZFZhbHVlIDogc3RhcnRWYWx1ZTtcbiAgfVxuICByZWdpc3RlckVhc2luZyhbXCJhdC1zdGFydFwiLCBhdFN0YXJ0XSk7XG4gIHJlZ2lzdGVyRWFzaW5nKFtcImR1cmluZ1wiLCBkdXJpbmddKTtcbiAgcmVnaXN0ZXJFYXNpbmcoW1wiYXQtZW5kXCIsIGF0RW5kXSk7XG5cbiAgLy8gUHJvamVjdFxuICAvKipcbiAgICogR2V0L3NldCB0aGUgaW5uZXIvb3V0ZXIgZGltZW5zaW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0RGltZW5zaW9uKG5hbWUsIHdhbnRJbm5lcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKSB7XG4gICAgICAgICAgaWYgKHByb3BlcnR5VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICByZXR1cm4gYXVnbWVudERpbWVuc2lvbihlbGVtZW50LCBuYW1lLCB3YW50SW5uZXIpICsgXCJweFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIG5hbWUsIHBhcnNlRmxvYXQocHJvcGVydHlWYWx1ZSkgLSBhdWdtZW50RGltZW5zaW9uKGVsZW1lbnQsIG5hbWUsIHdhbnRJbm5lcikgKyBcInB4XCIpO1xuICAgICAgfTtcbiAgfVxuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiRWxlbWVudFwiLCBcImlubmVyV2lkdGhcIiwgZ2V0RGltZW5zaW9uKFwid2lkdGhcIiwgdHJ1ZSldKTtcbiAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkVsZW1lbnRcIiwgXCJpbm5lckhlaWdodFwiLCBnZXREaW1lbnNpb24oXCJoZWlnaHRcIiwgdHJ1ZSldKTtcbiAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkVsZW1lbnRcIiwgXCJvdXRlcldpZHRoXCIsIGdldERpbWVuc2lvbihcIndpZHRoXCIsIGZhbHNlKV0pO1xuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiRWxlbWVudFwiLCBcIm91dGVySGVpZ2h0XCIsIGdldERpbWVuc2lvbihcImhlaWdodFwiLCBmYWxzZSldKTtcblxuICAvLyBQcm9qZWN0XG4gIC8vIENvbnN0YW50c1xuICB2YXIgaW5saW5lUnggPSAvXihifGJpZ3xpfHNtYWxsfHR0fGFiYnJ8YWNyb255bXxjaXRlfGNvZGV8ZGZufGVtfGtiZHxzdHJvbmd8c2FtcHxsZXR8YXxiZG98YnJ8aW1nfG1hcHxvYmplY3R8cXxzY3JpcHR8c3BhbnxzdWJ8c3VwfGJ1dHRvbnxpbnB1dHxsYWJlbHxzZWxlY3R8dGV4dGFyZWEpJC9pLFxuICAgICAgbGlzdEl0ZW1SeCA9IC9eKGxpKSQvaSxcbiAgICAgIHRhYmxlUm93UnggPSAvXih0cikkL2ksXG4gICAgICB0YWJsZVJ4ID0gL14odGFibGUpJC9pLFxuICAgICAgdGFibGVSb3dHcm91cFJ4ID0gL14odGJvZHkpJC9pO1xuICBmdW5jdGlvbiBkaXNwbGF5KGVsZW1lbnQsIHByb3BlcnR5VmFsdWUpIHtcbiAgICAgIHZhciBzdHlsZSA9IGVsZW1lbnQuc3R5bGU7XG4gICAgICBpZiAocHJvcGVydHlWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbXB1dGVQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIFwiZGlzcGxheVwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wZXJ0eVZhbHVlID09PSBcImF1dG9cIikge1xuICAgICAgICAgIHZhciBub2RlTmFtZSA9IGVsZW1lbnQgJiYgZWxlbWVudC5ub2RlTmFtZSxcbiAgICAgICAgICAgICAgZGF0YSA9IERhdGEoZWxlbWVudCk7XG4gICAgICAgICAgaWYgKGlubGluZVJ4LnRlc3Qobm9kZU5hbWUpKSB7XG4gICAgICAgICAgICAgIHByb3BlcnR5VmFsdWUgPSBcImlubGluZVwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGlzdEl0ZW1SeC50ZXN0KG5vZGVOYW1lKSkge1xuICAgICAgICAgICAgICBwcm9wZXJ0eVZhbHVlID0gXCJsaXN0LWl0ZW1cIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRhYmxlUm93UngudGVzdChub2RlTmFtZSkpIHtcbiAgICAgICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IFwidGFibGUtcm93XCI7XG4gICAgICAgICAgfSBlbHNlIGlmICh0YWJsZVJ4LnRlc3Qobm9kZU5hbWUpKSB7XG4gICAgICAgICAgICAgIHByb3BlcnR5VmFsdWUgPSBcInRhYmxlXCI7XG4gICAgICAgICAgfSBlbHNlIGlmICh0YWJsZVJvd0dyb3VwUngudGVzdChub2RlTmFtZSkpIHtcbiAgICAgICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IFwidGFibGUtcm93LWdyb3VwXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gRGVmYXVsdCB0byBcImJsb2NrXCIgd2hlbiBubyBtYXRjaCBpcyBmb3VuZC5cbiAgICAgICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSU1QT1JUQU5UOiBXZSBuZWVkIHRvIGRvIHRoaXMgYXMgZ2V0UHJvcGVydHlWYWx1ZSBieXBhc3NlcyB0aGVcbiAgICAgICAgICAvLyBOb3JtYWxpc2F0aW9uIHdoZW4gaXQgZXhpc3RzIGluIHRoZSBjYWNoZS5cbiAgICAgICAgICBkYXRhLmNhY2hlW1wiZGlzcGxheVwiXSA9IHByb3BlcnR5VmFsdWU7XG4gICAgICB9XG4gICAgICBzdHlsZS5kaXNwbGF5ID0gcHJvcGVydHlWYWx1ZTtcbiAgfVxuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiRWxlbWVudFwiLCBcImRpc3BsYXlcIiwgZGlzcGxheV0pO1xuXG4gIC8vIFByb2plY3RcbiAgZnVuY3Rpb24gY2xpZW50V2lkdGgoZWxlbWVudCwgcHJvcGVydHlWYWx1ZSkge1xuICAgICAgaWYgKHByb3BlcnR5VmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50LmNsaWVudFdpZHRoICsgXCJweFwiO1xuICAgICAgfVxuICB9XG4gIGZ1bmN0aW9uIHNjcm9sbFdpZHRoKGVsZW1lbnQsIHByb3BlcnR5VmFsdWUpIHtcbiAgICAgIGlmIChwcm9wZXJ0eVZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudC5zY3JvbGxXaWR0aCArIFwicHhcIjtcbiAgICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjbGllbnRIZWlnaHQoZWxlbWVudCwgcHJvcGVydHlWYWx1ZSkge1xuICAgICAgaWYgKHByb3BlcnR5VmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50LmNsaWVudEhlaWdodCArIFwicHhcIjtcbiAgICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzY3JvbGxIZWlnaHQoZWxlbWVudCwgcHJvcGVydHlWYWx1ZSkge1xuICAgICAgaWYgKHByb3BlcnR5VmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50LnNjcm9sbEhlaWdodCArIFwicHhcIjtcbiAgICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzY3JvbGwoZGlyZWN0aW9uLCBlbmQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCwgcHJvcGVydHlWYWx1ZSkge1xuICAgICAgICAgIGlmIChwcm9wZXJ0eVZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGhhdmUgdGhlc2UgdmFsdWVzIGNhY2hlZC5cbiAgICAgICAgICAgICAgZ2V0UHJvcGVydHlWYWx1ZShlbGVtZW50LCBcImNsaWVudFwiICsgZGlyZWN0aW9uLCBudWxsLCB0cnVlKTtcbiAgICAgICAgICAgICAgZ2V0UHJvcGVydHlWYWx1ZShlbGVtZW50LCBcInNjcm9sbFwiICsgZGlyZWN0aW9uLCBudWxsLCB0cnVlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRbXCJzY3JvbGxcIiArIGVuZF0gKyBcInB4XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlRmxvYXQocHJvcGVydHlWYWx1ZSksXG4gICAgICAgICAgICAgIHVuaXQgPSBwcm9wZXJ0eVZhbHVlLnJlcGxhY2UoU3RyaW5nKHZhbHVlKSwgXCJcIik7XG4gICAgICAgICAgc3dpdGNoICh1bml0KSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInB4XCI6XG4gICAgICAgICAgICAgICAgICBlbGVtZW50W1wic2Nyb2xsXCIgKyBlbmRdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcIiVcIjpcbiAgICAgICAgICAgICAgICAgIHZhciBjbGllbnQgPSBwYXJzZUZsb2F0KGdldFByb3BlcnR5VmFsdWUoZWxlbWVudCwgXCJjbGllbnRcIiArIGRpcmVjdGlvbikpLFxuICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFZhbHVlID0gcGFyc2VGbG9hdChnZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIFwic2Nyb2xsXCIgKyBkaXJlY3Rpb24pKTtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnRbXCJzY3JvbGxcIiArIGVuZF0gPSBNYXRoLm1heCgwLCBzY3JvbGxWYWx1ZSAtIGNsaWVudCkgKiB2YWx1ZSAvIDEwMDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgIH07XG4gIH1cbiAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkhUTUxFbGVtZW50XCIsIFwic2Nyb2xsXCIsIHNjcm9sbChcIkhlaWdodFwiLCBcIlRvcFwiKSwgZmFsc2VdKTtcbiAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkhUTUxFbGVtZW50XCIsIFwic2Nyb2xsVG9wXCIsIHNjcm9sbChcIkhlaWdodFwiLCBcIlRvcFwiKSwgZmFsc2VdKTtcbiAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkhUTUxFbGVtZW50XCIsIFwic2Nyb2xsTGVmdFwiLCBzY3JvbGwoXCJXaWR0aFwiLCBcIkxlZnRcIiksIGZhbHNlXSk7XG4gIHJlZ2lzdGVyTm9ybWFsaXphdGlvbihbXCJIVE1MRWxlbWVudFwiLCBcInNjcm9sbFdpZHRoXCIsIHNjcm9sbFdpZHRoXSk7XG4gIHJlZ2lzdGVyTm9ybWFsaXphdGlvbihbXCJIVE1MRWxlbWVudFwiLCBcImNsaWVudFdpZHRoXCIsIGNsaWVudFdpZHRoXSk7XG4gIHJlZ2lzdGVyTm9ybWFsaXphdGlvbihbXCJIVE1MRWxlbWVudFwiLCBcInNjcm9sbEhlaWdodFwiLCBzY3JvbGxIZWlnaHRdKTtcbiAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkhUTUxFbGVtZW50XCIsIFwiY2xpZW50SGVpZ2h0XCIsIGNsaWVudEhlaWdodF0pO1xuXG4gIC8vIFByb2plY3RcbiAgLyoqXG4gICAqIEFuIFJlZ0V4cCBwYXR0ZXJuIGZvciB0aGUgZm9sbG93aW5nIGxpc3Qgb2YgY3NzIHdvcmRzIHVzaW5nXG4gICAqIGh0dHA6Ly9rZW1pby5jb20uYXIvdG9vbHMvbHN0LXRyaWUtcmUucGhwIHRvIGdlbmVyYXRlOlxuICAgKlxuICAgKiBibG9ja1NpemVcbiAgICogYm9yZGVyQm90dG9tTGVmdFJhZGl1c1xuICAgKiBib3JkZXJCb3R0b21SaWdodFJhZGl1c1xuICAgKiBib3JkZXJCb3R0b21XaWR0aFxuICAgKiBib3JkZXJJbWFnZU91dHNldFxuICAgKiBib3JkZXJJbWFnZVdpZHRoXG4gICAqIGJvcmRlckxlZnRXaWR0aFxuICAgKiBib3JkZXJSYWRpdXNcbiAgICogYm9yZGVyUmlnaHRXaWR0aFxuICAgKiBib3JkZXJTcGFjaW5nXG4gICAqIGJvcmRlclRvcExlZnRSYWRpdXNcbiAgICogYm9yZGVyVG9wUmlnaHRSYWRpdXNcbiAgICogYm9yZGVyVG9wV2lkdGhcbiAgICogYm9yZGVyV2lkdGhcbiAgICogYm90dG9tXG4gICAqIGNvbHVtbkdhcFxuICAgKiBjb2x1bW5SdWxlV2lkdGhcbiAgICogY29sdW1uV2lkdGhcbiAgICogZmxleEJhc2lzXG4gICAqIGZvbnRTaXplXG4gICAqIGdyaWRDb2x1bW5HYXBcbiAgICogZ3JpZEdhcFxuICAgKiBncmlkUm93R2FwXG4gICAqIGhlaWdodFxuICAgKiBpbmxpbmVTaXplXG4gICAqIGxlZnRcbiAgICogbGV0dGVyU3BhY2luZ1xuICAgKiBtYXJnaW5cbiAgICogbWFyZ2luQm90dG9tXG4gICAqIG1hcmdpbkxlZnRcbiAgICogbWFyZ2luUmlnaHRcbiAgICogbWFyZ2luVG9wXG4gICAqIG1heEJsb2NrU2l6ZVxuICAgKiBtYXhIZWlnaHRcbiAgICogbWF4SW5saW5lU2l6ZVxuICAgKiBtYXhXaWR0aFxuICAgKiBtaW5CbG9ja1NpemVcbiAgICogbWluSGVpZ2h0XG4gICAqIG1pbklubGluZVNpemVcbiAgICogbWluV2lkdGhcbiAgICogb2JqZWN0UG9zaXRpb25cbiAgICogb3V0bGluZU9mZnNldFxuICAgKiBvdXRsaW5lV2lkdGhcbiAgICogcGFkZGluZ1xuICAgKiBwYWRkaW5nQm90dG9tXG4gICAqIHBhZGRpbmdMZWZ0XG4gICAqIHBhZGRpbmdSaWdodFxuICAgKiBwYWRkaW5nVG9wXG4gICAqIHBlcnNwZWN0aXZlXG4gICAqIHJpZ2h0XG4gICAqIHNoYXBlTWFyZ2luXG4gICAqIHN0cm9rZURhc2hvZmZzZXRcbiAgICogc3Ryb2tlV2lkdGhcbiAgICogdGV4dEluZGVudFxuICAgKiB0b3BcbiAgICogdHJhbnNmb3JtT3JpZ2luXG4gICAqIHdpZHRoXG4gICAqIHdvcmRTcGFjaW5nXG4gICAqL1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gIHZhciByeEFkZFB4ID0gL14oYihsb2NrU2l6ZXxvKHJkZXIoQm90dG9tKExlZnRSYWRpdXN8UmlnaHRSYWRpdXN8V2lkdGgpfEltYWdlKE91dHNldHxXaWR0aCl8TGVmdFdpZHRofFIoYWRpdXN8aWdodFdpZHRoKXxTcGFjaW5nfFRvcChMZWZ0UmFkaXVzfFJpZ2h0UmFkaXVzfFdpZHRoKXxXaWR0aCl8dHRvbSkpfGNvbHVtbihHYXB8UnVsZVdpZHRofFdpZHRoKXxmKGxleEJhc2lzfG9udFNpemUpfGdyaWQoQ29sdW1uR2FwfEdhcHxSb3dHYXApfGhlaWdodHxpbmxpbmVTaXplfGxlKGZ0fHR0ZXJTcGFjaW5nKXxtKGEocmdpbihCb3R0b218TGVmdHxSaWdodHxUb3ApfHgoQmxvY2tTaXplfEhlaWdodHxJbmxpbmVTaXplfFdpZHRoKSl8aW4oQmxvY2tTaXplfEhlaWdodHxJbmxpbmVTaXplfFdpZHRoKSl8byhiamVjdFBvc2l0aW9ufHV0bGluZShPZmZzZXR8V2lkdGgpKXxwKGFkZGluZyhCb3R0b218TGVmdHxSaWdodHxUb3ApfGVyc3BlY3RpdmUpfHJpZ2h0fHMoaGFwZU1hcmdpbnx0cm9rZShEYXNob2Zmc2V0fFdpZHRoKSl8dChleHRJbmRlbnR8b3B8cmFuc2Zvcm1PcmlnaW4pfHcoaWR0aHxvcmRTcGFjaW5nKSkkLztcbiAgLyoqXG4gICAqIFJldHVybiBhIE5vcm1hbGlzYXRpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBzZXQgLyBnZXQgYSBwcmVmaXhlZCBzdHlsZVxuICAgKiBwcm9wZXJ0eS5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFNldFByZWZpeGVkKHByb3BlcnR5TmFtZSwgdW5wcmVmaXhlZCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKSB7XG4gICAgICAgICAgaWYgKHByb3BlcnR5VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICByZXR1cm4gY29tcHV0ZVByb3BlcnR5VmFsdWUoZWxlbWVudCwgcHJvcGVydHlOYW1lKSB8fCBjb21wdXRlUHJvcGVydHlWYWx1ZShlbGVtZW50LCB1bnByZWZpeGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wZXJ0eU5hbWVdID0gZWxlbWVudC5zdHlsZVt1bnByZWZpeGVkXSA9IHByb3BlcnR5VmFsdWU7XG4gICAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYSBOb3JtYWxpc2F0aW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gc2V0IC8gZ2V0IGEgc3R5bGUgcHJvcGVydHkuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRTZXRTdHlsZShwcm9wZXJ0eU5hbWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCwgcHJvcGVydHlWYWx1ZSkge1xuICAgICAgICAgIGlmIChwcm9wZXJ0eVZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGVQcm9wZXJ0eVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcGVydHlOYW1lXSA9IHByb3BlcnR5VmFsdWU7XG4gICAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBWZW5kb3IgcHJlZml4ZXMuIENocm9tZSAvIFNhZmFyaSwgRmlyZWZveCwgSUUgLyBFZGdlLCBPcGVyYS5cbiAgICovXG4gIHZhciByeFZlbmRvcnMgPSAvXih3ZWJraXR8bW96fG1zfG8pW0EtWl0vLFxuICAgICAgcHJlZml4RWxlbWVudCA9IFN0YXRlLnByZWZpeEVsZW1lbnQ7XG4gIGlmIChwcmVmaXhFbGVtZW50KSB7XG4gICAgICBmb3IgKHZhciBwcm9wZXJ0eU5hbWUgaW4gcHJlZml4RWxlbWVudC5zdHlsZSkge1xuICAgICAgICAgIGlmIChyeFZlbmRvcnMudGVzdChwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgICAgIHZhciB1bnByZWZpeGVkID0gcHJvcGVydHlOYW1lLnJlcGxhY2UoL15bYS16XSsoW0EtWl0pLywgZnVuY3Rpb24gKCQsIGxldHRlcikge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdmFyIGFkZFVuaXQgPSByeEFkZFB4LnRlc3QodW5wcmVmaXhlZCkgPyBcInB4XCIgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiRWxlbWVudFwiLCB1bnByZWZpeGVkLCBnZXRTZXRQcmVmaXhlZChwcm9wZXJ0eU5hbWUsIHVucHJlZml4ZWQpLCBhZGRVbml0XSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKCFoYXNOb3JtYWxpemF0aW9uKFtcIkVsZW1lbnRcIiwgcHJvcGVydHlOYW1lXSkpIHtcbiAgICAgICAgICAgICAgdmFyIF9hZGRVbml0ID0gcnhBZGRQeC50ZXN0KHByb3BlcnR5TmFtZSkgPyBcInB4XCIgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIHJlZ2lzdGVyTm9ybWFsaXphdGlvbihbXCJFbGVtZW50XCIsIHByb3BlcnR5TmFtZSwgZ2V0U2V0U3R5bGUocHJvcGVydHlOYW1lKSwgX2FkZFVuaXRdKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gIH1cblxuICAvLyBQcm9qZWN0XG4gIC8qKlxuICAgKiBHZXQvc2V0IGFuIGF0dHJpYnV0ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGdldEF0dHJpYnV0ZShuYW1lKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW1lbnQsIHByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgICBpZiAocHJvcGVydHlWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgcHJvcGVydHlWYWx1ZSk7XG4gICAgICB9O1xuICB9XG4gIHZhciBiYXNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgIHJ4U3VidHlwZSA9IC9eU1ZHKC4qKUVsZW1lbnQkLyxcbiAgICAgIHJ4RWxlbWVudCA9IC9FbGVtZW50JC87XG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgIHZhciBzdWJ0eXBlID0gcnhTdWJ0eXBlLmV4ZWMocHJvcGVydHkpO1xuICAgICAgaWYgKHN1YnR5cGUgJiYgc3VidHlwZVsxXSAhPT0gXCJTVkdcIikge1xuICAgICAgICAgIC8vIERvbid0IGRvIFNWR1NWR0VsZW1lbnQuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBzdWJ0eXBlWzFdID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgKHN1YnR5cGVbMV0gfHwgXCJzdmdcIikudG9Mb3dlckNhc2UoKSkgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3ZnXCIpO1xuICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6Zm9yaW5cbiAgICAgICAgICAgICAgZm9yICh2YXIgYXR0cmlidXRlIGluIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgIC8vIEFsdGhvdWdoIHRoaXMgaXNuJ3QgYSB0d2VlbiB3aXRob3V0IHByb3RvdHlwZXMsIHdlIGRvXG4gICAgICAgICAgICAgICAgICAvLyB3YW50IHRvIGdldCBob2xkIG9mIGFsbCBhdHRyaWJ1dGVzIGFuZCBub3QganVzdCBvd24gb25lcy5cbiAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnRbYXR0cmlidXRlXTtcbiAgICAgICAgICAgICAgICAgIGlmIChpc1N0cmluZyhhdHRyaWJ1dGUpICYmICEoYXR0cmlidXRlWzBdID09PSBcIm9cIiAmJiBhdHRyaWJ1dGVbMV0gPT09IFwiblwiKSAmJiBhdHRyaWJ1dGUgIT09IGF0dHJpYnV0ZS50b1VwcGVyQ2FzZSgpICYmICFyeEVsZW1lbnQudGVzdChhdHRyaWJ1dGUpICYmICEoYXR0cmlidXRlIGluIGJhc2UpICYmICFpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFNob3VsZCB0aGlzIGFsbCBiZSBzZXQgb24gdGhlIGdlbmVyaWMgU1ZHRWxlbWVudCwgaXQgd291bGQgc2F2ZSBzcGFjZSBhbmQgdGltZSwgYnV0IG5vdCBhcyBwb3dlcmZ1bFxuICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyTm9ybWFsaXphdGlvbihbcHJvcGVydHksIGF0dHJpYnV0ZSwgZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSldKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlZlbG9jaXR5SlM6IEVycm9yIHdoZW4gdHJ5aW5nIHRvIGlkZW50aWZ5IFNWRyBhdHRyaWJ1dGVzIG9uIFwiICsgcHJvcGVydHkgKyBcIi5cIiwgZSk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9KTtcblxuICAvLyBQcm9qZWN0XG4gIC8qKlxuICAgKiBHZXQvc2V0IHRoZSB3aWR0aCBvciBoZWlnaHQuXG4gICAqL1xuICBmdW5jdGlvbiBnZXREaW1lbnNpb24kMShuYW1lKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW1lbnQsIHByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgICBpZiAocHJvcGVydHlWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIC8vIEZpcmVmb3ggdGhyb3dzIGFuIGVycm9yIGlmIC5nZXRCQm94KCkgaXMgY2FsbGVkIG9uIGFuIFNWRyB0aGF0IGlzbid0IGF0dGFjaGVkIHRvIHRoZSBET00uXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5nZXRCQm94KClbbmFtZV0gKyBcInB4XCI7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBcIjBweFwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHByb3BlcnR5VmFsdWUpO1xuICAgICAgfTtcbiAgfVxuICByZWdpc3Rlck5vcm1hbGl6YXRpb24oW1wiU1ZHRWxlbWVudFwiLCBcIndpZHRoXCIsIGdldERpbWVuc2lvbiQxKFwid2lkdGhcIildKTtcbiAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIlNWR0VsZW1lbnRcIiwgXCJoZWlnaHRcIiwgZ2V0RGltZW5zaW9uJDEoXCJoZWlnaHRcIildKTtcblxuICAvLyBQcm9qZWN0XG4gIC8qKlxuICAgKiBBIGZha2Ugbm9ybWFsaXphdGlvbiB1c2VkIHRvIGFsbG93IHRoZSBcInR3ZWVuXCIgcHJvcGVydHkgZWFzeSBhY2Nlc3MuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRTZXRUd2VlbihlbGVtZW50LCBwcm9wZXJ0eVZhbHVlKSB7XG4gICAgICBpZiAocHJvcGVydHlWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9XG4gIH1cbiAgcmVnaXN0ZXJOb3JtYWxpemF0aW9uKFtcIkVsZW1lbnRcIiwgXCJ0d2VlblwiLCBnZXRTZXRUd2Vlbl0pO1xuXG4gIC8vIEF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkXG4gIHZhciBWRVJTSU9OID0gXCIyLjAuNlwiO1xuXG4gIC8vIFByb2plY3RcbiAgdmFyIFZlbG9jaXR5JCQxID0gVmVsb2NpdHkkMTtcbiAgLyoqXG4gICAqIFRoZXNlIHBhcnRzIG9mIFZlbG9jaXR5IGFic29sdXRlbHkgbXVzdCBiZSBpbmNsdWRlZCwgZXZlbiBpZiB0aGV5J3JlIHVudXNlZCFcbiAgICovXG4gIHZhciBWZWxvY2l0eVN0YXRpYztcbiAgKGZ1bmN0aW9uIChWZWxvY2l0eVN0YXRpYykge1xuICAgICAgLyoqXG4gICAgICAgKiBBY3Rpb25zIGNhbm5vdCBiZSByZXBsYWNlZCBpZiB0aGV5IGFyZSBpbnRlcm5hbCAoaGFzT3duUHJvcGVydHkgaXMgZmFsc2VcbiAgICAgICAqIGJ1dCB0aGV5IHN0aWxsIGV4aXN0KS4gT3RoZXJ3aXNlIHRoZXkgY2FuIGJlIHJlcGxhY2VkIGJ5IHVzZXJzLlxuICAgICAgICpcbiAgICAgICAqIEFsbCBleHRlcm5hbCBtZXRob2QgY2FsbHMgc2hvdWxkIGJlIHVzaW5nIGFjdGlvbnMgcmF0aGVyIHRoYW4gc3ViLWNhbGxzXG4gICAgICAgKiBvZiBWZWxvY2l0eSBpdHNlbGYuXG4gICAgICAgKi9cbiAgICAgIFZlbG9jaXR5U3RhdGljLkFjdGlvbnMgPSBBY3Rpb25zO1xuICAgICAgLyoqXG4gICAgICAgKiBPdXIga25vd24gZWFzaW5nIGZ1bmN0aW9ucy5cbiAgICAgICAqL1xuICAgICAgVmVsb2NpdHlTdGF0aWMuRWFzaW5ncyA9IEVhc2luZ3M7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBjdXJyZW50bHkgcmVnaXN0ZXJlZCBzZXF1ZW5jZXMuXG4gICAgICAgKi9cbiAgICAgIFZlbG9jaXR5U3RhdGljLlNlcXVlbmNlcyA9IFNlcXVlbmNlc09iamVjdDtcbiAgICAgIC8qKlxuICAgICAgICogQ3VycmVudCBpbnRlcm5hbCBzdGF0ZSBvZiBWZWxvY2l0eS5cbiAgICAgICAqL1xuICAgICAgVmVsb2NpdHlTdGF0aWMuU3RhdGUgPSBTdGF0ZTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuICAgICAgLyoqXG4gICAgICAgKiBWZWxvY2l0eSBvcHRpb24gZGVmYXVsdHMsIHdoaWNoIGNhbiBiZSBvdmVycmlkZW4gYnkgdGhlIHVzZXIuXG4gICAgICAgKi9cbiAgICAgIFZlbG9jaXR5U3RhdGljLmRlZmF1bHRzID0gZGVmYXVsdHMkMTtcbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBwYXRjaCBhbnkgb2JqZWN0IHRvIGFsbG93IFZlbG9jaXR5IGNoYWluaW5nLiBJbiBvcmRlciB0byBjaGFpbiBhblxuICAgICAgICogb2JqZWN0IG11c3QgZWl0aGVyIGJlIHRyZWF0YWJsZSBhcyBhbiBhcnJheSAtIHdpdGggYSA8Y29kZT4ubGVuZ3RoPC9jb2RlPlxuICAgICAgICogcHJvcGVydHksIGFuZCBlYWNoIG1lbWJlciBhIE5vZGUsIG9yIGEgTm9kZSBkaXJlY3RseS5cbiAgICAgICAqXG4gICAgICAgKiBCeSBkZWZhdWx0IFZlbG9jaXR5IHdpbGwgdHJ5IHRvIHBhdGNoIDxjb2RlPndpbmRvdzwvY29kZT4sXG4gICAgICAgKiA8Y29kZT5qUXVlcnk8L2NvZGU+LCA8Y29kZT5aZXB0bzwvY29kZT4sIGFuZCBzZXZlcmFsIGNsYXNzZXMgdGhhdCByZXR1cm5cbiAgICAgICAqIE5vZGVzIG9yIGxpc3RzIG9mIE5vZGVzLlxuICAgICAgICovXG4gICAgICBWZWxvY2l0eVN0YXRpYy5wYXRjaCA9IHBhdGNoO1xuICAgICAgLyoqXG4gICAgICAgKiBTZXQgdG8gdHJ1ZSwgMSBvciAyIChtb3N0IHZlcmJvc2UpIHRvIG91dHB1dCBkZWJ1ZyBpbmZvIHRvIGNvbnNvbGUuXG4gICAgICAgKi9cbiAgICAgIFZlbG9jaXR5U3RhdGljLmRlYnVnID0gZmFsc2U7XG4gICAgICAvKipcbiAgICAgICAqIEluIG1vY2sgbW9kZSwgYWxsIGFuaW1hdGlvbnMgYXJlIGZvcmNlZCB0byBjb21wbGV0ZSBpbW1lZGlhdGVseSB1cG9uIHRoZVxuICAgICAgICogbmV4dCByQUYgdGljay4gSWYgdGhlcmUgYXJlIGZ1cnRoZXIgYW5pbWF0aW9ucyBxdWV1ZWQgdGhlbiB0aGV5IHdpbGwgZWFjaFxuICAgICAgICogdGFrZSBvbmUgc2luZ2xlIGZyYW1lIGluIHR1cm4uIExvb3BzIGFuZCByZXBlYXRzIHdpbGwgYmUgZGlzYWJsZWQgd2hpbGVcbiAgICAgICAqIDxjb2RlPm1vY2sgPSB0cnVlPC9jb2RlPi5cbiAgICAgICAqL1xuICAgICAgVmVsb2NpdHlTdGF0aWMubW9jayA9IGZhbHNlO1xuICAgICAgLyoqXG4gICAgICAgKiBTYXZlIG91ciB2ZXJzaW9uIG51bWJlciBzb21ld2hlcmUgdmlzaWJsZS5cbiAgICAgICAqL1xuICAgICAgVmVsb2NpdHlTdGF0aWMudmVyc2lvbiA9IFZFUlNJT047XG4gICAgICAvKipcbiAgICAgICAqIEFkZGVkIGFzIGEgZmFsbGJhY2sgZm9yIFwiaW1wb3J0IHtWZWxvY2l0eX0gZnJvbSAndmVsb2NpdHktYW5pbWF0ZSc7XCIuXG4gICAgICAgKi9cbiAgICAgIFZlbG9jaXR5U3RhdGljLlZlbG9jaXR5ID0gVmVsb2NpdHkkMTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuICB9KShWZWxvY2l0eVN0YXRpYyB8fCAoVmVsb2NpdHlTdGF0aWMgPSB7fSkpO1xuICAvKiBJRSBkZXRlY3Rpb24uIEdpc3Q6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2p1bGlhbnNoYXBpcm8vOTA5ODYwOSAqL1xuICB2YXIgSUUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSB7XG4gICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50TW9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDc7IGkgPiA0OyBpLS0pIHtcbiAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBcIjwhXCIgKyBcIi0tXCIgKyBcIltpZiBJRSBcIiArIGkgKyBcIl0+PHNwYW4+PC9zcGFuPjwhW2VuZGlmXS0tPlwiO1xuICAgICAgICAgICAgICBpZiAoZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3BhblwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgIGRpdiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0oKTtcbiAgLyoqKioqKioqKioqKioqKioqKlxuICAgVW5zdXBwb3J0ZWRcbiAgICoqKioqKioqKioqKioqKioqKi9cbiAgaWYgKElFIDw9IDgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlZlbG9jaXR5SlMgY2Fubm90IHJ1biBvbiBJbnRlcm5ldCBFeHBsb3JlciA4IG9yIGVhcmxpZXJcIik7XG4gIH1cbiAgLyoqKioqKioqKioqKioqKioqKlxuICAgRnJhbWV3b3Jrc1xuICAgKioqKioqKioqKioqKioqKioqL1xuICBpZiAod2luZG93KSB7XG4gICAgICAvKlxuICAgICAgICogQm90aCBqUXVlcnkgYW5kIFplcHRvIGFsbG93IHRoZWlyICQuZm4gb2JqZWN0IHRvIGJlIGV4dGVuZGVkIHRvIGFsbG93XG4gICAgICAgKiB3cmFwcGVkIGVsZW1lbnRzIHRvIGJlIHN1YmplY3RlZCB0byBwbHVnaW4gY2FsbHMuIElmIGVpdGhlciBmcmFtZXdvcmsgaXNcbiAgICAgICAqIGxvYWRlZCwgcmVnaXN0ZXIgYSBcInZlbG9jaXR5XCIgZXh0ZW5zaW9uIHBvaW50aW5nIHRvIFZlbG9jaXR5J3MgY29yZVxuICAgICAgICogYW5pbWF0ZSgpIG1ldGhvZC4gVmVsb2NpdHkgYWxzbyByZWdpc3RlcnMgaXRzZWxmIG9udG8gYSBnbG9iYWwgY29udGFpbmVyXG4gICAgICAgKiAod2luZG93LmpRdWVyeSB8fCB3aW5kb3cuWmVwdG8gfHwgd2luZG93KSBzbyB0aGF0IGNlcnRhaW4gZmVhdHVyZXMgYXJlXG4gICAgICAgKiBhY2Nlc3NpYmxlIGJleW9uZCBqdXN0IGEgcGVyLWVsZW1lbnQgc2NvcGUuIEFjY29yZGluZ2x5LCBWZWxvY2l0eSBjYW5cbiAgICAgICAqIGJvdGggYWN0IG9uIHdyYXBwZWQgRE9NIGVsZW1lbnRzIGFuZCBzdGFuZCBhbG9uZSBmb3IgdGFyZ2V0aW5nIHJhdyBET01cbiAgICAgICAqIGVsZW1lbnRzLlxuICAgICAgICovXG4gICAgICB2YXIgalF1ZXJ5ID0gd2luZG93LmpRdWVyeSxcbiAgICAgICAgICBaZXB0byA9IHdpbmRvdy5aZXB0bztcbiAgICAgIHBhdGNoKHdpbmRvdywgdHJ1ZSk7XG4gICAgICBwYXRjaChFbGVtZW50ICYmIEVsZW1lbnQucHJvdG90eXBlKTtcbiAgICAgIHBhdGNoKE5vZGVMaXN0ICYmIE5vZGVMaXN0LnByb3RvdHlwZSk7XG4gICAgICBwYXRjaChIVE1MQ29sbGVjdGlvbiAmJiBIVE1MQ29sbGVjdGlvbi5wcm90b3R5cGUpO1xuICAgICAgcGF0Y2goalF1ZXJ5LCB0cnVlKTtcbiAgICAgIHBhdGNoKGpRdWVyeSAmJiBqUXVlcnkuZm4pO1xuICAgICAgcGF0Y2goWmVwdG8sIHRydWUpO1xuICAgICAgcGF0Y2goWmVwdG8gJiYgWmVwdG8uZm4pO1xuICB9XG4gIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSB2YWx1ZXMgd2l0aGluIFZlbG9jaXR5IGFyZSByZWFkLW9ubHkgYW5kIHVwYXRjaGFibGUuXG5cbiAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AocHJvcGVydHkpIHtcbiAgICAgIGlmIChWZWxvY2l0eVN0YXRpYy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wZXJ0eSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSQxKFZlbG9jaXR5JCQxLCBwcm9wZXJ0eSwge1xuICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVmVsb2NpdHlTdGF0aWNbcHJvcGVydHldO1xuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgVmVsb2NpdHlTdGF0aWNbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEoVmVsb2NpdHkkJDEsIHByb3BlcnR5LCBWZWxvY2l0eVN0YXRpY1twcm9wZXJ0eV0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9O1xuXG4gIGZvciAodmFyIHByb3BlcnR5IGluIFZlbG9jaXR5U3RhdGljKSB7XG4gICAgICBfbG9vcChwcm9wZXJ0eSk7XG4gIH1cbiAgT2JqZWN0LmZyZWV6ZShWZWxvY2l0eSQkMSk7XG5cbiAgLy8gUHJvamVjdFxuICB2YXIgcnhQZXJjZW50cyA9IC8oXFxkKlxcLlxcZCt8XFxkK1xcLj98ZnJvbXx0bykvZztcbiAgZnVuY3Rpb24gZXhwYW5kU2VxdWVuY2UoYW5pbWF0aW9uLCBzZXF1ZW5jZSkge1xuICAgICAgdmFyIHR3ZWVucyA9IGFuaW1hdGlvbi50d2VlbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAgICAgIGVsZW1lbnQgPSBhbmltYXRpb24uZWxlbWVudDtcbiAgICAgIGZvciAodmFyIHByb3BlcnR5TmFtZSBpbiBzZXF1ZW5jZS50d2VlbnMpIHtcbiAgICAgICAgICBpZiAoc2VxdWVuY2UudHdlZW5zLmhhc093blByb3BlcnR5KHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICAgICAgdmFyIGZuID0gZ2V0Tm9ybWFsaXphdGlvbihlbGVtZW50LCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgICBpZiAoIWZuICYmIHByb3BlcnR5TmFtZSAhPT0gXCJ0d2VlblwiKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoVmVsb2NpdHkkJDEuZGVidWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNraXBwaW5nIFtcIiArIHByb3BlcnR5TmFtZSArIFwiXSBkdWUgdG8gYSBsYWNrIG9mIGJyb3dzZXIgc3VwcG9ydC5cIik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0d2VlbnNbcHJvcGVydHlOYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgIGZuOiBmbixcbiAgICAgICAgICAgICAgICAgIHNlcXVlbmNlOiBzZXF1ZW5jZS50d2VlbnNbcHJvcGVydHlOYW1lXVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogVXNlZCB0byByZWdpc3RlciBhIHNlcXVlbmNlLiBUaGlzIHNob3VsZCBuZXZlciBiZSBjYWxsZWQgYnkgdXNlcnNcbiAgICogZGlyZWN0bHksIGluc3RlYWQgaXQgc2hvdWxkIGJlIGNhbGxlZCB2aWEgYW4gYWN0aW9uOjxici8+XG4gICAqIDxjb2RlPlZlbG9jaXR5KFwicmVnaXN0ZXJTZXF1ZW5jZVwiLCBcIlwibmFtZVwiLCBWZWxvY2l0eVNlcXVlbmNlKTs8L2NvZGU+XG4gICAqL1xuICBmdW5jdGlvbiByZWdpc3RlclNlcXVlbmNlKGFyZ3MpIHtcbiAgICAgIGlmIChpc1BsYWluT2JqZWN0KGFyZ3NbMF0pKSB7XG4gICAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBhcmdzWzBdKSB7XG4gICAgICAgICAgICAgIGlmIChhcmdzWzBdLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICByZWdpc3RlclNlcXVlbmNlKFtuYW1lLCBhcmdzWzBdW25hbWVdXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKGFyZ3NbMF0pKSB7XG4gICAgICAgICAgdmFyIF9uYW1lID0gYXJnc1swXSxcbiAgICAgICAgICAgICAgc2VxdWVuY2UgPSBhcmdzWzFdO1xuICAgICAgICAgIGlmICghaXNTdHJpbmcoX25hbWUpKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3JlZ2lzdGVyU2VxdWVuY2UnIG5hbWUgdG8gYW4gaW52YWxpZCB2YWx1ZTpcIiwgX25hbWUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWlzUGxhaW5PYmplY3Qoc2VxdWVuY2UpKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFRyeWluZyB0byBzZXQgJ3JlZ2lzdGVyU2VxdWVuY2UnIHNlcXVlbmNlIHRvIGFuIGludmFsaWQgdmFsdWU6XCIsIF9uYW1lLCBzZXF1ZW5jZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKFNlcXVlbmNlc09iamVjdFtfbmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlZlbG9jaXR5SlM6IFJlcGxhY2luZyBuYW1lZCBzZXF1ZW5jZTpcIiwgX25hbWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciBwZXJjZW50cyA9IHt9LFxuICAgICAgICAgICAgICAgICAgc3RlcHMgPSBuZXcgQXJyYXkoMTAwKSxcbiAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMgPSBbXSxcbiAgICAgICAgICAgICAgICAgIHNlcXVlbmNlTGlzdCA9IFNlcXVlbmNlc09iamVjdFtfbmFtZV0gPSB7fSxcbiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gdmFsaWRhdGVEdXJhdGlvbihzZXF1ZW5jZS5kdXJhdGlvbik7XG4gICAgICAgICAgICAgIHNlcXVlbmNlTGlzdC50d2VlbnMgPSB7fTtcbiAgICAgICAgICAgICAgaWYgKGlzTnVtYmVyKGR1cmF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgc2VxdWVuY2VMaXN0LmR1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZm9yICh2YXIgcGFydCBpbiBzZXF1ZW5jZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlLmhhc093blByb3BlcnR5KHBhcnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGtleXMgPSBTdHJpbmcocGFydCkubWF0Y2gocnhQZXJjZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBrZXlzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwZXJjZW50ID0ga2V5ID09PSBcImZyb21cIiA/IDAgOiBrZXkgPT09IFwidG9cIiA/IDEwMCA6IHBhcnNlRmxvYXQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVyY2VudCA8IDAgfHwgcGVyY2VudCA+IDEwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBUcnlpbmcgdG8gdXNlIGFuIGludmFsaWQgdmFsdWUgYXMgYSBwZXJjZW50YWdlICgwIDw9IG4gPD0gMTAwKTpcIiwgX25hbWUsIHBlcmNlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNOYU4ocGVyY2VudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVmVsb2NpdHlKUzogVHJ5aW5nIHRvIHVzZSBhbiBpbnZhbGlkIG51bWJlciBhcyBhIHBlcmNlbnRhZ2U6XCIsIF9uYW1lLCBwYXJ0LCBrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGVyY2VudHNbU3RyaW5nKHBlcmNlbnQpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudHNbU3RyaW5nKHBlcmNlbnQpXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRzW1N0cmluZyhwZXJjZW50KV0ucHVzaChwYXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gc2VxdWVuY2VbcGFydF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJvcGVydGllcy5pbmNsdWRlcyhwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciBvcmRlcmVkUGVyY2VudHMgPSBPYmplY3Qua2V5cyhwZXJjZW50cykuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgdmFyIGExID0gcGFyc2VGbG9hdChhKSxcbiAgICAgICAgICAgICAgICAgICAgICBiMSA9IHBhcnNlRmxvYXQoYik7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYTEgPiBiMSA/IDEgOiBhMSA8IGIxID8gLTEgOiAwO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgb3JkZXJlZFBlcmNlbnRzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgc3RlcHMucHVzaC5hcHBseShwZXJjZW50c1trZXldKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IHByb3BlcnRpZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgX3Byb3BlcnR5ID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5TmFtZSA9IGNhbWVsQ2FzZShfcHJvcGVydHkpO1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gb3JkZXJlZFBlcmNlbnRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2tleSA9IF9zdGVwMy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I2ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I2ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjYgPSBwZXJjZW50c1tfa2V5XVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IChfc3RlcDYgPSBfaXRlcmF0b3I2Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3ZhbHVlID0gX3N0ZXA2LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGVwUHJvcGVydGllcyA9IHNlcXVlbmNlW192YWx1ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGVwUHJvcGVydGllc1twcm9wZXJ0eU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKGlzU3RyaW5nKHN0ZXBQcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0pID8gc3RlcFByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSA6IHN0ZXBQcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV1bMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I2ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjYgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgJiYgX2l0ZXJhdG9yNi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjYucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWFsU2VxdWVuY2UgPSBmaW5kUGF0dGVybihwYXJ0cywgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlYWxTZXF1ZW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNCA9IG9yZGVyZWRQZXJjZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IChfc3RlcDQgPSBfaXRlcmF0b3I0Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2tleTIgPSBfc3RlcDQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yNSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNSA9IHBlcmNlbnRzW19rZXkyXVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNTsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IChfc3RlcDUgPSBfaXRlcmF0b3I1Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IF9zdGVwNS52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbFByb3BlcnR5ID0gc2VxdWVuY2VbdmFsdWVdW3Byb3BlcnR5TmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsUHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3JpZ2luYWxQcm9wZXJ0eSkgJiYgb3JpZ2luYWxQcm9wZXJ0eS5sZW5ndGggPiAxICYmIChpc1N0cmluZyhvcmlnaW5hbFByb3BlcnR5WzFdKSB8fCBBcnJheS5pc0FycmF5KG9yaWdpbmFsUHJvcGVydHlbMV0pKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhbFNlcXVlbmNlW2luZGV4XS5lYXNpbmcgPSB2YWxpZGF0ZUVhc2luZyhvcmlnaW5hbFByb3BlcnR5WzFdLCBzZXF1ZW5jZUxpc3QuZHVyYXRpb24gfHwgREVGQVVMVF9EVVJBVElPTik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhbFNlcXVlbmNlW2luZGV4KytdLnBlcmNlbnQgPSBwYXJzZUZsb2F0KF9rZXkyKSAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I1ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNSA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSAmJiBfaXRlcmF0b3I1LnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I1LnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjQgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgJiYgX2l0ZXJhdG9yNC5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlTGlzdC50d2VlbnNbcHJvcGVydHlOYW1lXSA9IHJlYWxTZXF1ZW5jZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgcmVnaXN0ZXJBY3Rpb24oW1wicmVnaXN0ZXJTZXF1ZW5jZVwiLCByZWdpc3RlclNlcXVlbmNlXSwgdHJ1ZSk7XG5cbiAgLy8gUHJvamVjdFxuICB2YXIgZ2xvYmFsUHJvbWlzZSA9IHZvaWQgMDtcbiAgdHJ5IHtcbiAgICAgIGdsb2JhbFByb21pc2UgPSBQcm9taXNlO1xuICB9IGNhdGNoICggLyoqL19hKSB7LyoqL31cbiAgdmFyIG5vUHJvbWlzZU9wdGlvbiA9IFwiLCBpZiB0aGF0IGlzIGRlbGliZXJhdGUgdGhlbiBwYXNzIGBwcm9taXNlUmVqZWN0RW1wdHk6ZmFsc2VgIGFzIGFuIG9wdGlvblwiO1xuICAvKipcbiAgICogUGF0Y2ggYSBWZWxvY2l0eVJlc3VsdCB3aXRoIGEgUHJvbWlzZS5cbiAgICovXG4gIGZ1bmN0aW9uIHBhdGNoUHJvbWlzZShwcm9taXNlT2JqZWN0LCByZXN1bHQpIHtcbiAgICAgIGRlZmluZVByb3BlcnR5JDEocmVzdWx0LCBcInByb21pc2VcIiwgcHJvbWlzZU9iamVjdCk7XG4gICAgICBkZWZpbmVQcm9wZXJ0eSQxKHJlc3VsdCwgXCJ0aGVuXCIsIHByb21pc2VPYmplY3QudGhlbi5iaW5kKHByb21pc2VPYmplY3QpKTtcbiAgICAgIGRlZmluZVByb3BlcnR5JDEocmVzdWx0LCBcImNhdGNoXCIsIHByb21pc2VPYmplY3QuY2F0Y2guYmluZChwcm9taXNlT2JqZWN0KSk7XG4gICAgICBpZiAocHJvbWlzZU9iamVjdC5maW5hbGx5KSB7XG4gICAgICAgICAgLy8gU2VtaS1zdGFuZGFyZFxuICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEocmVzdWx0LCBcImZpbmFsbHlcIiwgcHJvbWlzZU9iamVjdC5maW5hbGx5LmJpbmQocHJvbWlzZU9iamVjdCkpO1xuICAgICAgfVxuICB9XG4gIC8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG4gIGZ1bmN0aW9uIFZlbG9jaXR5JDEoKSB7XG4gICAgICB2YXJcbiAgICAgIC8qKlxuICAgICAgICogQSBzaG9ydGN1dCB0byB0aGUgZGVmYXVsdCBvcHRpb25zLlxuICAgICAgICovXG4gICAgICBkZWZhdWx0cyQkMSA9IGRlZmF1bHRzJDEsXG5cbiAgICAgIC8qKlxuICAgICAgICogQ2FjaGUgb2YgdGhlIGZpcnN0IGFyZ3VtZW50IC0gdGhpcyBpcyB1c2VkIG9mdGVuIGVub3VnaCB0byBiZSBzYXZlZC5cbiAgICAgICAqL1xuICAgICAgYXJnczAgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF0sXG5cbiAgICAgIC8qKlxuICAgICAgICogVG8gYWxsb3cgZm9yIGV4cHJlc3NpdmUgQ29mZmVlU2NyaXB0IGNvZGUsIFZlbG9jaXR5IHN1cHBvcnRzIGFuXG4gICAgICAgKiBhbHRlcm5hdGl2ZSBzeW50YXggaW4gd2hpY2ggXCJlbGVtZW50c1wiIChvciBcImVcIiksIFwicHJvcGVydGllc1wiIChvclxuICAgICAgICogXCJwXCIpLCBhbmQgXCJvcHRpb25zXCIgKG9yIFwib1wiKSBvYmplY3RzIGFyZSBkZWZpbmVkIG9uIGEgY29udGFpbmVyXG4gICAgICAgKiBvYmplY3QgdGhhdCdzIHBhc3NlZCBpbiBhcyBWZWxvY2l0eSdzIHNvbGUgYXJndW1lbnQuXG4gICAgICAgKlxuICAgICAgICogTm90ZTogU29tZSBicm93c2VycyBhdXRvbWF0aWNhbGx5IHBvcHVsYXRlIGFyZ3VtZW50cyB3aXRoIGFcbiAgICAgICAqIFwicHJvcGVydGllc1wiIG9iamVjdC4gV2UgZGV0ZWN0IGl0IGJ5IGNoZWNraW5nIGZvciBpdHMgZGVmYXVsdFxuICAgICAgICogXCJuYW1lc1wiIHByb3BlcnR5LlxuICAgICAgICovXG4gICAgICAvLyBUT0RPOiBDb25maXJtIHdoaWNoIGJyb3dzZXJzIC0gaWYgPD1JRTggdGhlIHdlIGNhbiBkcm9wIGNvbXBsZXRlbHlcbiAgICAgIHN5bnRhY3RpY1N1Z2FyID0gaXNQbGFpbk9iamVjdChhcmdzMCkgJiYgKGFyZ3MwLnAgfHwgaXNQbGFpbk9iamVjdChhcmdzMC5wcm9wZXJ0aWVzKSAmJiAhYXJnczAucHJvcGVydGllcy5uYW1lcyB8fCBpc1N0cmluZyhhcmdzMC5wcm9wZXJ0aWVzKSk7XG4gICAgICB2YXJcbiAgICAgIC8qKlxuICAgICAgICogIFdoZW4gVmVsb2NpdHkgaXMgY2FsbGVkIHZpYSB0aGUgdXRpbGl0eSBmdW5jdGlvbiAoVmVsb2NpdHkoKSksXG4gICAgICAgKiBlbGVtZW50cyBhcmUgZXhwbGljaXRseSBwYXNzZWQgaW4gYXMgdGhlIGZpcnN0IHBhcmFtZXRlci4gVGh1cyxcbiAgICAgICAqIGFyZ3VtZW50IHBvc2l0aW9uaW5nIHZhcmllcy5cbiAgICAgICAqL1xuICAgICAgYXJndW1lbnRJbmRleCA9IDAsXG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIGxpc3Qgb2YgZWxlbWVudHMsIGV4dGVuZGVkIHdpdGggUHJvbWlzZSBhbmQgVmVsb2NpdHkuXG4gICAgICAgKi9cbiAgICAgIGVsZW1lbnRzID0gdm9pZCAwLFxuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBwcm9wZXJ0aWVzIGJlaW5nIGFuaW1hdGVkLiBUaGlzIGNhbiBiZSBhIHN0cmluZywgaW4gd2hpY2ggY2FzZSBpdFxuICAgICAgICogaXMgZWl0aGVyIGEgZnVuY3Rpb24gZm9yIHRoZXNlIGVsZW1lbnRzLCBvciBpdCBpcyBhIFwibmFtZWRcIiBhbmltYXRpb25cbiAgICAgICAqIHNlcXVlbmNlIHRvIHVzZSBpbnN0ZWFkLiBOYW1lZCBzZXF1ZW5jZXMgc3RhcnQgd2l0aCBlaXRoZXIgXCJjYWxsb3V0LlwiXG4gICAgICAgKiBvciBcInRyYW5zaXRpb24uXCIuIFdoZW4gdXNlZCBhcyBhIGNhbGxvdXQgdGhlIHZhbHVlcyB3aWxsIGJlIHJlc2V0XG4gICAgICAgKiBhZnRlciBmaW5pc2hpbmcuIFdoZW4gdXNlZCBhcyBhIHRyYW5zdGl0aW9uIHRoZW4gdGhlcmUgaXMgbm8gc3BlY2lhbFxuICAgICAgICogaGFuZGxpbmcgYWZ0ZXIgZmluaXNoaW5nLlxuICAgICAgICovXG4gICAgICBwcm9wZXJ0aWVzTWFwID0gdm9pZCAwLFxuXG4gICAgICAvKipcbiAgICAgICAqIE9wdGlvbnMgc3VwcGxpZWQsIHRoaXMgd2lsbCBiZSBtYXBwZWQgYW5kIHZhbGlkYXRlZCBpbnRvXG4gICAgICAgKiA8Y29kZT5vcHRpb25zPC9jb2RlPi5cbiAgICAgICAqL1xuICAgICAgb3B0aW9uc01hcCA9IHZvaWQgMCxcblxuICAgICAgLyoqXG4gICAgICAgKiBJZiBjYWxsZWQgdmlhIGEgY2hhaW4gdGhlbiB0aGlzIGNvbnRhaW5zIHRoZSA8Yj5sYXN0PC9iPiBjYWxsc1xuICAgICAgICogYW5pbWF0aW9ucy4gSWYgdGhpcyBkb2VzIG5vdCBoYXZlIGEgdmFsdWUgdGhlbiBhbnkgYWNjZXNzIHRvIHRoZVxuICAgICAgICogZWxlbWVudCdzIGFuaW1hdGlvbnMgbmVlZHMgdG8gYmUgdG8gdGhlIGN1cnJlbnRseS1ydW5uaW5nIG9uZXMuXG4gICAgICAgKi9cbiAgICAgIGFuaW1hdGlvbnMgPSB2b2lkIDAsXG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIHByb21pc2UgdGhhdCBpcyByZXR1cm5lZC5cbiAgICAgICAqL1xuICAgICAgcHJvbWlzZSA9IHZvaWQgMCxcblxuICAgICAgLy8gVXNlZCB3aGVuIHRoZSBhbmltYXRpb24gaXMgZmluaXNoZWRcbiAgICAgIHJlc29sdmVyID0gdm9pZCAwLFxuXG4gICAgICAvLyBVc2VkIHdoZW4gdGhlcmUgd2FzIGFuIGlzc3VlIHdpdGggb25lIG9yIG1vcmUgb2YgdGhlIFZlbG9jaXR5IGFyZ3VtZW50c1xuICAgICAgcmVqZWN0ZXIgPSB2b2lkIDA7XG4gICAgICAvL2NvbnNvbGUubG9nKGBWZWxvY2l0eWAsIGFyZ3MpXG4gICAgICAvLyBGaXJzdCBnZXQgdGhlIGVsZW1lbnRzLCBhbmQgdGhlIGFuaW1hdGlvbnMgY29ubmVjdGVkIHRvIHRoZSBsYXN0IGNhbGwgaWZcbiAgICAgIC8vIHRoaXMgaXMgY2hhaW5lZC5cbiAgICAgIC8vIFRPRE86IENsZWFuIHRoaXMgdXAgYSBiaXRcbiAgICAgIC8vIFRPRE86IFRocm93IGVycm9yIGlmIHRoZSBjaGFpbiBpcyBjYWxsZWQgd2l0aCBlbGVtZW50cyBhcyB0aGUgZmlyc3QgYXJndW1lbnQuIGlzVmVsb2NpdHlSZXN1bHQodGhpcykgJiYgKCAoaXNOb2RlKGFyZzApIHx8IGlzV3JhcHBlZChhcmcwKSkgJiYgYXJnMCA9PSB0aGlzKVxuICAgICAgaWYgKGlzTm9kZSh0aGlzKSkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgZnJvbSBhIGNoYWluIHN1Y2ggYXMgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJcIikudmVsb2NpdHkoLi4uKVxuICAgICAgICAgIGVsZW1lbnRzID0gW3RoaXNdO1xuICAgICAgfSBlbHNlIGlmIChpc1dyYXBwZWQodGhpcykpIHtcbiAgICAgICAgICAvLyBUaGlzIG1pZ2h0IGJlIGEgY2hhaW4gZnJvbSBzb21ldGhpbmcgZWxzZSwgYnV0IGlmIGNoYWluZWQgZnJvbSBhXG4gICAgICAgICAgLy8gcHJldmlvdXMgVmVsb2NpdHkoKSBjYWxsIHRoZW4gZ3JhYiB0aGUgYW5pbWF0aW9ucyBpdCdzIHJlbGF0ZWQgdG8uXG4gICAgICAgICAgZWxlbWVudHMgPSBjbG9uZUFycmF5KHRoaXMpO1xuICAgICAgICAgIGlmIChpc1ZlbG9jaXR5UmVzdWx0KHRoaXMpKSB7XG4gICAgICAgICAgICAgIGFuaW1hdGlvbnMgPSB0aGlzLnZlbG9jaXR5LmFuaW1hdGlvbnM7XG4gICAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzeW50YWN0aWNTdWdhcikge1xuICAgICAgICAgIGVsZW1lbnRzID0gY2xvbmVBcnJheShhcmdzMC5lbGVtZW50cyB8fCBhcmdzMC5lKTtcbiAgICAgICAgICBhcmd1bWVudEluZGV4Kys7XG4gICAgICB9IGVsc2UgaWYgKGlzTm9kZShhcmdzMCkpIHtcbiAgICAgICAgICBlbGVtZW50cyA9IGNsb25lQXJyYXkoW2FyZ3MwXSk7XG4gICAgICAgICAgYXJndW1lbnRJbmRleCsrO1xuICAgICAgfSBlbHNlIGlmIChpc1dyYXBwZWQoYXJnczApKSB7XG4gICAgICAgICAgZWxlbWVudHMgPSBjbG9uZUFycmF5KGFyZ3MwKTtcbiAgICAgICAgICBhcmd1bWVudEluZGV4Kys7XG4gICAgICB9XG4gICAgICAvLyBBbGxvdyBlbGVtZW50cyB0byBiZSBjaGFpbmVkLlxuICAgICAgaWYgKGVsZW1lbnRzKSB7XG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShlbGVtZW50cywgXCJ2ZWxvY2l0eVwiLCBWZWxvY2l0eSQxLmJpbmQoZWxlbWVudHMpKTtcbiAgICAgICAgICBpZiAoYW5pbWF0aW9ucykge1xuICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSQxKGVsZW1lbnRzLnZlbG9jaXR5LCBcImFuaW1hdGlvbnNcIiwgYW5pbWF0aW9ucyk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gTmV4dCBnZXQgdGhlIHByb3BlcnRpZXNNYXAgYW5kIG9wdGlvbnMuXG4gICAgICBpZiAoc3ludGFjdGljU3VnYXIpIHtcbiAgICAgICAgICBwcm9wZXJ0aWVzTWFwID0gZ2V0VmFsdWUoYXJnczAucHJvcGVydGllcywgYXJnczAucCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBfcmVmO1xuXG4gICAgICAgICAgLy8gVE9ETzogU2hvdWxkIGJlIHBvc3NpYmxlIHRvIGNhbGwgVmVsb2NpdHkoXCJwYXVzZUFsbFwiKSAtIGN1cnJlbnRseSBub3QgcG9zc2libGVcbiAgICAgICAgICBwcm9wZXJ0aWVzTWFwID0gKF9yZWYgPSBhcmd1bWVudEluZGV4KyssIGFyZ3VtZW50cy5sZW5ndGggPD0gX3JlZiA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1tfcmVmXSk7XG4gICAgICB9XG4gICAgICAvLyBHZXQgYW55IG9wdGlvbnMgbWFwIHBhc3NlZCBpbiBhcyBhcmd1bWVudHMgZmlyc3QsIGV4cGFuZCBhbnkgZGlyZWN0XG4gICAgICAvLyBvcHRpb25zIGlmIHBvc3NpYmxlLlxuICAgICAgdmFyIGlzUmV2ZXJzZSA9IHByb3BlcnRpZXNNYXAgPT09IFwicmV2ZXJzZVwiLFxuICAgICAgICAgIGlzQWN0aW9uID0gIWlzUmV2ZXJzZSAmJiBpc1N0cmluZyhwcm9wZXJ0aWVzTWFwKSxcbiAgICAgICAgICBtYXliZVNlcXVlbmNlID0gaXNBY3Rpb24gJiYgU2VxdWVuY2VzT2JqZWN0W3Byb3BlcnRpZXNNYXBdLFxuICAgICAgICAgIG9wdHMgPSBzeW50YWN0aWNTdWdhciA/IGdldFZhbHVlKGFyZ3MwLm9wdGlvbnMsIGFyZ3MwLm8pIDogYXJndW1lbnRzLmxlbmd0aCA8PSBhcmd1bWVudEluZGV4ID8gdW5kZWZpbmVkIDogYXJndW1lbnRzW2FyZ3VtZW50SW5kZXhdO1xuICAgICAgaWYgKGlzUGxhaW5PYmplY3Qob3B0cykpIHtcbiAgICAgICAgICBvcHRpb25zTWFwID0gb3B0cztcbiAgICAgIH1cbiAgICAgIC8vIENyZWF0ZSB0aGUgcHJvbWlzZSBpZiBzdXBwb3J0ZWQgYW5kIHdhbnRlZC5cbiAgICAgIGlmIChnbG9iYWxQcm9taXNlICYmIGdldFZhbHVlKG9wdGlvbnNNYXAgJiYgb3B0aW9uc01hcC5wcm9taXNlLCBkZWZhdWx0cyQkMS5wcm9taXNlKSkge1xuICAgICAgICAgIHByb21pc2UgPSBuZXcgZ2xvYmFsUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgIHJlamVjdGVyID0gcmVqZWN0O1xuICAgICAgICAgICAgICAvLyBJTVBPUlRBTlQ6XG4gICAgICAgICAgICAgIC8vIElmIGEgcmVzb2x2ZXIgdHJpZXMgdG8gcnVuIG9uIGEgUHJvbWlzZSB0aGVuIGl0IHdpbGwgd2FpdCB1bnRpbFxuICAgICAgICAgICAgICAvLyB0aGF0IFByb21pc2UgcmVzb2x2ZXMgLSBidXQgaW4gdGhpcyBjYXNlIHdlJ3JlIHJ1bm5pbmcgb24gb3VyIG93blxuICAgICAgICAgICAgICAvLyBQcm9taXNlLCBzbyBuZWVkIHRvIG1ha2Ugc3VyZSBpdCdzIG5vdCBzZWVuIGFzIG9uZS4gUmVtb3ZpbmdcbiAgICAgICAgICAgICAgLy8gdGhlc2UgdmFsdWVzIGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIHJlc29sdmUuXG4gICAgICAgICAgICAgIC8vIER1ZSB0byBiZWluZyBhbiBhc3luYyBjYWxsLCB0aGV5IHNob3VsZCBiZSBiYWNrIHRvIFwibm9ybWFsXCJcbiAgICAgICAgICAgICAgLy8gYmVmb3JlIHRoZSA8Y29kZT4udGhlbigpPC9jb2RlPiBmdW5jdGlvbiBnZXRzIGNhbGxlZC5cbiAgICAgICAgICAgICAgcmVzb2x2ZXIgPSBmdW5jdGlvbiByZXNvbHZlcihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpc1ZlbG9jaXR5UmVzdWx0KHJlc3VsdCkgJiYgcmVzdWx0LnByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzdWx0LnRoZW47XG4gICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlc3VsdC5jYXRjaDtcbiAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzdWx0LmZpbmFsbHk7XG4gICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgIHBhdGNoUHJvbWlzZShyZXN1bHQucHJvbWlzZSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChlbGVtZW50cykge1xuICAgICAgICAgICAgICBwYXRjaFByb21pc2UocHJvbWlzZSwgZWxlbWVudHMpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9taXNlKSB7XG4gICAgICAgICAgdmFyIG9wdGlvblByb21pc2VSZWplY3RFbXB0eSA9IG9wdGlvbnNNYXAgJiYgb3B0aW9uc01hcC5wcm9taXNlUmVqZWN0RW1wdHksXG4gICAgICAgICAgICAgIHByb21pc2VSZWplY3RFbXB0eSA9IGdldFZhbHVlKG9wdGlvblByb21pc2VSZWplY3RFbXB0eSwgZGVmYXVsdHMkJDEucHJvbWlzZVJlamVjdEVtcHR5KTtcbiAgICAgICAgICBpZiAoIWVsZW1lbnRzICYmICFpc0FjdGlvbikge1xuICAgICAgICAgICAgICBpZiAocHJvbWlzZVJlamVjdEVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICByZWplY3RlcihcIlZlbG9jaXR5OiBObyBlbGVtZW50cyBzdXBwbGllZFwiICsgKGlzQm9vbGVhbihvcHRpb25Qcm9taXNlUmVqZWN0RW1wdHkpID8gXCJcIiA6IG5vUHJvbWlzZU9wdGlvbikgKyBcIi4gQWJvcnRpbmcuXCIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZXIoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoIXByb3BlcnRpZXNNYXApIHtcbiAgICAgICAgICAgICAgaWYgKHByb21pc2VSZWplY3RFbXB0eSkge1xuICAgICAgICAgICAgICAgICAgcmVqZWN0ZXIoXCJWZWxvY2l0eTogTm8gcHJvcGVydGllcyBzdXBwbGllZFwiICsgKGlzQm9vbGVhbihvcHRpb25Qcm9taXNlUmVqZWN0RW1wdHkpID8gXCJcIiA6IG5vUHJvbWlzZU9wdGlvbikgKyBcIi4gQWJvcnRpbmcuXCIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZXIoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghZWxlbWVudHMgJiYgIWlzQWN0aW9uIHx8ICFwcm9wZXJ0aWVzTWFwKSB7XG4gICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9XG4gICAgICAvLyBOT1RFOiBDYW4ndCB1c2UgaXNBY3Rpb24gaGVyZSBkdWUgdG8gdHlwZSBpbmZlcmVuY2UgLSB0aGVyZSBhcmUgY2FsbGJhY2tzXG4gICAgICAvLyBiZXR3ZWVuIHNvIHRoZSB0eXBlIGlzbid0IGNvbnNpZGVyZWQgc2FmZS5cbiAgICAgIGlmIChpc0FjdGlvbikge1xuICAgICAgICAgIHZhciBhY3Rpb25BcmdzID0gW10sXG4gICAgICAgICAgICAgIHByb21pc2VIYW5kbGVyID0gcHJvbWlzZSAmJiB7XG4gICAgICAgICAgICAgIF9wcm9taXNlOiBwcm9taXNlLFxuICAgICAgICAgICAgICBfcmVzb2x2ZXI6IHJlc29sdmVyLFxuICAgICAgICAgICAgICBfcmVqZWN0ZXI6IHJlamVjdGVyXG4gICAgICAgICAgfTtcbiAgICAgICAgICB3aGlsZSAoYXJndW1lbnRJbmRleCA8IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgdmFyIF9yZWYyO1xuXG4gICAgICAgICAgICAgIGFjdGlvbkFyZ3MucHVzaCgoX3JlZjIgPSBhcmd1bWVudEluZGV4KyssIGFyZ3VtZW50cy5sZW5ndGggPD0gX3JlZjIgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbX3JlZjJdKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFZlbG9jaXR5J3MgYmVoYXZpb3IgaXMgY2F0ZWdvcml6ZWQgaW50byBcImFjdGlvbnNcIi4gSWYgYSBzdHJpbmcgaXNcbiAgICAgICAgICAvLyBwYXNzZWQgaW4gaW5zdGVhZCBvZiBhIHByb3BlcnRpZXNNYXAgdGhlbiB0aGF0IHdpbGwgY2FsbCBhIGZ1bmN0aW9uXG4gICAgICAgICAgLy8gdG8gZG8gc29tZXRoaW5nIHNwZWNpYWwgdG8gdGhlIGFuaW1hdGlvbiBsaW5rZWQuXG4gICAgICAgICAgLy8gVGhlcmUgaXMgb25lIHNwZWNpYWwgY2FzZSAtIFwicmV2ZXJzZVwiIC0gd2hpY2ggaXMgaGFuZGxlZCBkaWZmZXJlbnRseSxcbiAgICAgICAgICAvLyBieSBiZWluZyBzdG9yZWQgb24gdGhlIGFuaW1hdGlvbiBhbmQgdGhlbiBleHBhbmRlZCB3aGVuIHRoZSBhbmltYXRpb25cbiAgICAgICAgICAvLyBzdGFydHMuXG4gICAgICAgICAgdmFyIGFjdGlvbiA9IHByb3BlcnRpZXNNYXAucmVwbGFjZSgvXFwuLiokLywgXCJcIiksXG4gICAgICAgICAgICAgIGNhbGxiYWNrID0gQWN0aW9uc1thY3Rpb25dO1xuICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2soYWN0aW9uQXJncywgZWxlbWVudHMsIHByb21pc2VIYW5kbGVyLCBwcm9wZXJ0aWVzTWFwKTtcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBlbGVtZW50cyB8fCBwcm9taXNlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIW1heWJlU2VxdWVuY2UpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlZlbG9jaXR5SlM6IEZpcnN0IGFyZ3VtZW50IChcIiArIHByb3BlcnRpZXNNYXAgKyBcIikgd2FzIG5vdCBhIHByb3BlcnR5IG1hcCwgYSBrbm93biBhY3Rpb24sIG9yIGEgcmVnaXN0ZXJlZCByZWRpcmVjdC4gQWJvcnRpbmcuXCIpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGhhc1ZhbGlkRHVyYXRpb24gPSB2b2lkIDA7XG4gICAgICBpZiAoaXNQbGFpbk9iamVjdChwcm9wZXJ0aWVzTWFwKSB8fCBpc1JldmVyc2UgfHwgbWF5YmVTZXF1ZW5jZSkge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFRoZSBvcHRpb25zIGZvciB0aGlzIHNldCBvZiBhbmltYXRpb25zLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHZhciBvcHRpb25zID0ge307XG4gICAgICAgICAgdmFyIGlzU3luYyA9IGRlZmF1bHRzJCQxLnN5bmM7XG4gICAgICAgICAgLy8gUHJpdmF0ZSBvcHRpb25zIGZpcnN0IC0gc2V0IGFzIG5vbi1lbnVtZXJhYmxlLCBhbmQgc3RhcnRpbmcgd2l0aCBhblxuICAgICAgICAgIC8vIHVuZGVyc2NvcmUgc28gd2UgY2FuIGZpbHRlciB0aGVtIG91dC5cbiAgICAgICAgICBpZiAocHJvbWlzZSkge1xuICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSQxKG9wdGlvbnMsIFwiX3Byb21pc2VcIiwgcHJvbWlzZSk7XG4gICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEob3B0aW9ucywgXCJfcmVqZWN0ZXJcIiwgcmVqZWN0ZXIpO1xuICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSQxKG9wdGlvbnMsIFwiX3Jlc29sdmVyXCIsIHJlc29sdmVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShvcHRpb25zLCBcIl9yZWFkeVwiLCAwKTtcbiAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSQxKG9wdGlvbnMsIFwiX3N0YXJ0ZWRcIiwgMCk7XG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShvcHRpb25zLCBcIl9jb21wbGV0ZWRcIiwgMCk7XG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShvcHRpb25zLCBcIl90b3RhbFwiLCAwKTtcbiAgICAgICAgICAvLyBOb3cgY2hlY2sgdGhlIG9wdGlvbnNNYXBcbiAgICAgICAgICBpZiAoaXNQbGFpbk9iamVjdChvcHRpb25zTWFwKSkge1xuICAgICAgICAgICAgICB2YXIgdmFsaWREdXJhdGlvbiA9IHZhbGlkYXRlRHVyYXRpb24ob3B0aW9uc01hcC5kdXJhdGlvbik7XG4gICAgICAgICAgICAgIGhhc1ZhbGlkRHVyYXRpb24gPSB2YWxpZER1cmF0aW9uICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSBnZXRWYWx1ZSh2YWxpZER1cmF0aW9uLCBkZWZhdWx0cyQkMS5kdXJhdGlvbik7XG4gICAgICAgICAgICAgIG9wdGlvbnMuZGVsYXkgPSBnZXRWYWx1ZSh2YWxpZGF0ZURlbGF5KG9wdGlvbnNNYXAuZGVsYXkpLCBkZWZhdWx0cyQkMS5kZWxheSk7XG4gICAgICAgICAgICAgIC8vIE5lZWQgdGhlIGV4dHJhIGZhbGxiYWNrIGhlcmUgaW4gY2FzZSBpdCBzdXBwbGllcyBhbiBpbnZhbGlkXG4gICAgICAgICAgICAgIC8vIGVhc2luZyB0aGF0IHdlIG5lZWQgdG8gb3ZlcnJyaWRlIHdpdGggdGhlIGRlZmF1bHQuXG4gICAgICAgICAgICAgIG9wdGlvbnMuZWFzaW5nID0gdmFsaWRhdGVFYXNpbmcoZ2V0VmFsdWUob3B0aW9uc01hcC5lYXNpbmcsIGRlZmF1bHRzJCQxLmVhc2luZyksIG9wdGlvbnMuZHVyYXRpb24pIHx8IHZhbGlkYXRlRWFzaW5nKGRlZmF1bHRzJCQxLmVhc2luZywgb3B0aW9ucy5kdXJhdGlvbik7XG4gICAgICAgICAgICAgIG9wdGlvbnMubG9vcCA9IGdldFZhbHVlKHZhbGlkYXRlTG9vcChvcHRpb25zTWFwLmxvb3ApLCBkZWZhdWx0cyQkMS5sb29wKTtcbiAgICAgICAgICAgICAgb3B0aW9ucy5yZXBlYXQgPSBvcHRpb25zLnJlcGVhdEFnYWluID0gZ2V0VmFsdWUodmFsaWRhdGVSZXBlYXQob3B0aW9uc01hcC5yZXBlYXQpLCBkZWZhdWx0cyQkMS5yZXBlYXQpO1xuICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcC5zcGVlZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBvcHRpb25zLnNwZWVkID0gZ2V0VmFsdWUodmFsaWRhdGVTcGVlZChvcHRpb25zTWFwLnNwZWVkKSwgMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGlzQm9vbGVhbihvcHRpb25zTWFwLnByb21pc2UpKSB7XG4gICAgICAgICAgICAgICAgICBvcHRpb25zLnByb21pc2UgPSBvcHRpb25zTWFwLnByb21pc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb3B0aW9ucy5xdWV1ZSA9IGdldFZhbHVlKHZhbGlkYXRlUXVldWUob3B0aW9uc01hcC5xdWV1ZSksIGRlZmF1bHRzJCQxLnF1ZXVlKTtcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbnNNYXAubW9iaWxlSEEgJiYgIVN0YXRlLmlzR2luZ2VyYnJlYWQpIHtcbiAgICAgICAgICAgICAgICAgIC8qIFdoZW4gc2V0IHRvIHRydWUsIGFuZCBpZiB0aGlzIGlzIGEgbW9iaWxlIGRldmljZSwgbW9iaWxlSEEgYXV0b21hdGljYWxseSBlbmFibGVzIGhhcmR3YXJlIGFjY2VsZXJhdGlvbiAodmlhIGEgbnVsbCB0cmFuc2Zvcm0gaGFjaylcbiAgICAgICAgICAgICAgICAgICBvbiBhbmltYXRpbmcgZWxlbWVudHMuIEhBIGlzIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudCBhdCB0aGUgY29tcGxldGlvbiBvZiBpdHMgYW5pbWF0aW9uLiAqL1xuICAgICAgICAgICAgICAgICAgLyogTm90ZTogQW5kcm9pZCBHaW5nZXJicmVhZCBkb2Vzbid0IHN1cHBvcnQgSEEuIElmIGEgbnVsbCB0cmFuc2Zvcm0gaGFjayAobW9iaWxlSEEpIGlzIGluIGZhY3Qgc2V0LCBpdCB3aWxsIHByZXZlbnQgb3RoZXIgdHJhbmZvcm0gc3VicHJvcGVydGllcyBmcm9tIHRha2luZyBlZmZlY3QuICovXG4gICAgICAgICAgICAgICAgICAvKiBOb3RlOiBZb3UgY2FuIHJlYWQgbW9yZSBhYm91dCB0aGUgdXNlIG9mIG1vYmlsZUhBIGluIFZlbG9jaXR5J3MgZG9jdW1lbnRhdGlvbjogdmVsb2NpdHktYW5pbWF0ZS8jbW9iaWxlSEEuICovXG4gICAgICAgICAgICAgICAgICBvcHRpb25zLm1vYmlsZUhBID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcC5kcmFnID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICBvcHRpb25zLmRyYWcgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChpc051bWJlcihvcHRpb25zTWFwLnN0YWdnZXIpIHx8IGlzRnVuY3Rpb24ob3B0aW9uc01hcC5zdGFnZ2VyKSkge1xuICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zdGFnZ2VyID0gb3B0aW9uc01hcC5zdGFnZ2VyO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghaXNSZXZlcnNlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcFtcImRpc3BsYXlcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXNNYXAuZGlzcGxheSA9IG9wdGlvbnNNYXBbXCJkaXNwbGF5XCJdO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJEZXByZWNhdGVkIFxcXCJvcHRpb25zLmRpc3BsYXlcXFwiIHVzZWQsIHRoaXMgaXMgbm93IGEgcHJvcGVydHk6XCIsIG9wdGlvbnNNYXBbXCJkaXNwbGF5XCJdKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zTWFwW1widmlzaWJpbGl0eVwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllc01hcC52aXNpYmlsaXR5ID0gb3B0aW9uc01hcFtcInZpc2liaWxpdHlcIl07XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkRlcHJlY2F0ZWQgXFxcIm9wdGlvbnMudmlzaWJpbGl0eVxcXCIgdXNlZCwgdGhpcyBpcyBub3cgYSBwcm9wZXJ0eTpcIiwgb3B0aW9uc01hcFtcInZpc2liaWxpdHlcIl0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIFRPRE86IEFsbG93IGZ1bmN0aW9uYWwgb3B0aW9ucyBmb3IgZGlmZmVyZW50IG9wdGlvbnMgcGVyIGVsZW1lbnRcbiAgICAgICAgICAgICAgdmFyIG9wdGlvbnNCZWdpbiA9IHZhbGlkYXRlQmVnaW4ob3B0aW9uc01hcC5iZWdpbiksXG4gICAgICAgICAgICAgICAgICBvcHRpb25zQ29tcGxldGUgPSB2YWxpZGF0ZUNvbXBsZXRlKG9wdGlvbnNNYXAuY29tcGxldGUpLFxuICAgICAgICAgICAgICAgICAgb3B0aW9uc1Byb2dyZXNzID0gdmFsaWRhdGVQcm9ncmVzcyhvcHRpb25zTWFwLnByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnNTeW5jID0gdmFsaWRhdGVTeW5jKG9wdGlvbnNNYXAuc3luYyk7XG4gICAgICAgICAgICAgIGlmIChvcHRpb25zQmVnaW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgb3B0aW9ucy5iZWdpbiA9IG9wdGlvbnNCZWdpbjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAob3B0aW9uc0NvbXBsZXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY29tcGxldGUgPSBvcHRpb25zQ29tcGxldGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKG9wdGlvbnNQcm9ncmVzcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBvcHRpb25zLnByb2dyZXNzID0gb3B0aW9uc1Byb2dyZXNzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChvcHRpb25zU3luYyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBpc1N5bmMgPSBvcHRpb25zU3luYztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoIXN5bnRhY3RpY1N1Z2FyKSB7XG4gICAgICAgICAgICAgIC8vIEV4cGFuZCBhbnkgZGlyZWN0IG9wdGlvbnMgaWYgcG9zc2libGUuXG4gICAgICAgICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gdmFsaWRhdGVEdXJhdGlvbihhcmd1bWVudHMubGVuZ3RoIDw9IGFyZ3VtZW50SW5kZXggPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbYXJndW1lbnRJbmRleF0sIHRydWUpO1xuICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kdXJhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gZGVmYXVsdHMkJDEuZHVyYXRpb247XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBoYXNWYWxpZER1cmF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghaXNGdW5jdGlvbihhcmd1bWVudHMubGVuZ3RoIDw9IGFyZ3VtZW50SW5kZXggKyBvZmZzZXQgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbYXJndW1lbnRJbmRleCArIG9mZnNldF0pKSB7XG4gICAgICAgICAgICAgICAgICAvLyBEZXNwaXRlIGNvbWluZyBiZWZvcmUgQ29tcGxldGUsIHdlIGNhbid0IHBhc3MgYSBmbiBlYXNpbmdcbiAgICAgICAgICAgICAgICAgIHZhciBlYXNpbmcgPSB2YWxpZGF0ZUVhc2luZyhhcmd1bWVudHMubGVuZ3RoIDw9IGFyZ3VtZW50SW5kZXggKyBvZmZzZXQgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbYXJndW1lbnRJbmRleCArIG9mZnNldF0sIGdldFZhbHVlKG9wdGlvbnMgJiYgdmFsaWRhdGVEdXJhdGlvbihvcHRpb25zLmR1cmF0aW9uKSwgZGVmYXVsdHMkJDEuZHVyYXRpb24pLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgIGlmIChlYXNpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZWFzaW5nID0gZWFzaW5nO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciBjb21wbGV0ZSA9IHZhbGlkYXRlQ29tcGxldGUoYXJndW1lbnRzLmxlbmd0aCA8PSBhcmd1bWVudEluZGV4ICsgb2Zmc2V0ID8gdW5kZWZpbmVkIDogYXJndW1lbnRzW2FyZ3VtZW50SW5kZXggKyBvZmZzZXRdLCB0cnVlKTtcbiAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY29tcGxldGUgPSBjb21wbGV0ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvcHRpb25zLmRlbGF5ID0gZGVmYXVsdHMkJDEuZGVsYXk7XG4gICAgICAgICAgICAgIG9wdGlvbnMubG9vcCA9IGRlZmF1bHRzJCQxLmxvb3A7XG4gICAgICAgICAgICAgIG9wdGlvbnMucmVwZWF0ID0gb3B0aW9ucy5yZXBlYXRBZ2FpbiA9IGRlZmF1bHRzJCQxLnJlcGVhdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzUmV2ZXJzZSAmJiBvcHRpb25zLnF1ZXVlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWZWxvY2l0eUpTOiBDYW5ub3QgcmV2ZXJzZSBhIHF1ZXVlOmZhbHNlIGFuaW1hdGlvbi5cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghaGFzVmFsaWREdXJhdGlvbiAmJiBtYXliZVNlcXVlbmNlICYmIG1heWJlU2VxdWVuY2UuZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgb3B0aW9ucy5kdXJhdGlvbiA9IG1heWJlU2VxdWVuY2UuZHVyYXRpb247XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFdoZW4gYSBzZXQgb2YgZWxlbWVudHMgaXMgdGFyZ2V0ZWQgYnkgYSBWZWxvY2l0eSBjYWxsLCB0aGUgc2V0IGlzXG4gICAgICAgICAgLy8gYnJva2VuIHVwIGFuZCBlYWNoIGVsZW1lbnQgaGFzIHRoZSBjdXJyZW50IFZlbG9jaXR5IGNhbGwgaW5kaXZpZHVhbGx5XG4gICAgICAgICAgLy8gcXVldWVkIG9udG8gaXQuIEluIHRoaXMgd2F5LCBlYWNoIGVsZW1lbnQncyBleGlzdGluZyBxdWV1ZSBpc1xuICAgICAgICAgIC8vIHJlc3BlY3RlZDsgc29tZSBlbGVtZW50cyBtYXkgYWxyZWFkeSBiZSBhbmltYXRpbmcgYW5kIGFjY29yZGluZ2x5XG4gICAgICAgICAgLy8gc2hvdWxkIG5vdCBoYXZlIHRoaXMgY3VycmVudCBWZWxvY2l0eSBjYWxsIHRyaWdnZXJlZCBpbW1lZGlhdGVseVxuICAgICAgICAgIC8vIHVubGVzcyB0aGUgc3luYzp0cnVlIG9wdGlvbiBpcyB1c2VkLlxuICAgICAgICAgIHZhciByb290QW5pbWF0aW9uID0ge1xuICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAgICAgICBlbGVtZW50czogZWxlbWVudHMsXG4gICAgICAgICAgICAgIF9wcmV2OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIF9uZXh0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIF9mbGFnczogaXNTeW5jID8gMzIgLyogU1lOQyAqLyA6IDAsXG4gICAgICAgICAgICAgIHBlcmNlbnRDb21wbGV0ZTogMCxcbiAgICAgICAgICAgICAgZWxsYXBzZWRUaW1lOiAwLFxuICAgICAgICAgICAgICB0aW1lU3RhcnQ6IDBcbiAgICAgICAgICB9O1xuICAgICAgICAgIGFuaW1hdGlvbnMgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgZWxlbWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZWxlbWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICB2YXIgZmxhZ3MgPSAwO1xuICAgICAgICAgICAgICBpZiAoaXNOb2RlKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAvLyBUT0RPOiBUaGlzIG5lZWRzIHRvIGNoZWNrIGZvciB2YWxpZCBhbmltYXRpb24gdGFyZ2V0cywgbm90IGp1c3QgRWxlbWVudHNcbiAgICAgICAgICAgICAgICAgIGlmIChpc1JldmVyc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdEFuaW1hdGlvbiA9IERhdGEoZWxlbWVudCkubGFzdEFuaW1hdGlvbkxpc3Rbb3B0aW9ucy5xdWV1ZV07XG4gICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllc01hcCA9IGxhc3RBbmltYXRpb24gJiYgbGFzdEFuaW1hdGlvbi50d2VlbnM7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0aWVzTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJWZWxvY2l0eUpTOiBBdHRlbXB0aW5nIHRvIHJldmVyc2UgYW4gYW5pbWF0aW9uIG9uIGFuIGVsZW1lbnQgd2l0aCBubyBwcmV2aW91cyBhbmltYXRpb246XCIsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgZmxhZ3MgfD0gNjQgLyogUkVWRVJTRSAqLyAmIH4obGFzdEFuaW1hdGlvbi5fZmxhZ3MgJiA2NCAvKiBSRVZFUlNFICovKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1iaXR3aXNlXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gT2JqZWN0LmFzc2lnbih7fSwgcm9vdEFuaW1hdGlvbiwgeyBlbGVtZW50OiBlbGVtZW50LCBfZmxhZ3M6IHJvb3RBbmltYXRpb24uX2ZsYWdzIHwgZmxhZ3MgfSk7XG4gICAgICAgICAgICAgICAgICBvcHRpb25zLl90b3RhbCsrO1xuICAgICAgICAgICAgICAgICAgYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbik7XG4gICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zdGFnZ2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5zdGFnZ2VyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnVtID0gb3B0aW9uQ2FsbGJhY2sob3B0aW9ucy5zdGFnZ2VyLCBlbGVtZW50LCBpbmRleCwgZWxlbWVudHMubGVuZ3RoLCBlbGVtZW50cywgXCJzdGFnZ2VyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOdW1iZXIobnVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLmRlbGF5ID0gb3B0aW9ucy5kZWxheSArIG51bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5kZWxheSA9IG9wdGlvbnMuZGVsYXkgKyBvcHRpb25zLnN0YWdnZXIgKiBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kcmFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLmR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiAtIG9wdGlvbnMuZHVyYXRpb24gKiBNYXRoLm1heCgxIC0gKGluZGV4ICsgMSkgLyBlbGVtZW50cy5sZW5ndGgsIDAuNzUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKG1heWJlU2VxdWVuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICBleHBhbmRTZXF1ZW5jZShhbmltYXRpb24sIG1heWJlU2VxdWVuY2UpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1JldmVyc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBJbiB0aGlzIGNhc2Ugd2UncmUgdXNpbmcgdGhlIHByZXZpb3VzIGFuaW1hdGlvbiwgc29cbiAgICAgICAgICAgICAgICAgICAgICAvLyBpdCB3aWxsIGJlIGV4cGFuZGVkIGNvcnJlY3RseSB3aGVuIHRoYXQgb25lIHJ1bnMuXG4gICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLnR3ZWVucyA9IHByb3BlcnRpZXNNYXA7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi50d2VlbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgIGV4cGFuZFByb3BlcnRpZXMoYW5pbWF0aW9uLCBwcm9wZXJ0aWVzTWFwKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHF1ZXVlJDEoZWxlbWVudCwgYW5pbWF0aW9uLCBvcHRpb25zLnF1ZXVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoU3RhdGUuaXNUaWNraW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAvLyBJZiB0aGUgYW5pbWF0aW9uIHRpY2sgaXNuJ3QgcnVubmluZywgc3RhcnQgaXQuIChWZWxvY2l0eSBzaHV0cyBpdFxuICAgICAgICAgICAgICAvLyBvZmYgd2hlbiB0aGVyZSBhcmUgbm8gYWN0aXZlIGNhbGxzIHRvIHByb2Nlc3MuKVxuICAgICAgICAgICAgICB0aWNrKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGFuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShlbGVtZW50cy52ZWxvY2l0eSwgXCJhbmltYXRpb25zXCIsIGFuaW1hdGlvbnMpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qKioqKioqKioqKioqKipcbiAgICAgICBDaGFpbmluZ1xuICAgICAgICoqKioqKioqKioqKioqKi9cbiAgICAgIC8qIFJldHVybiB0aGUgZWxlbWVudHMgYmFjayB0byB0aGUgY2FsbCBjaGFpbiwgd2l0aCB3cmFwcGVkIGVsZW1lbnRzIHRha2luZyBwcmVjZWRlbmNlIGluIGNhc2UgVmVsb2NpdHkgd2FzIGNhbGxlZCB2aWEgdGhlICQuZm4uIGV4dGVuc2lvbi4gKi9cbiAgICAgIHJldHVybiBlbGVtZW50cyB8fCBwcm9taXNlO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsIGFuIG9wdGlvbiBjYWxsYmFjayBpbiBhIHRyeS9jYXRjaCBibG9jayBhbmQgcmVwb3J0IGFuIGVycm9yIGlmIG5lZWRlZC5cbiAgICovXG4gIGZ1bmN0aW9uIG9wdGlvbkNhbGxiYWNrKGZuLCBlbGVtZW50LCBpbmRleCwgbGVuZ3RoLCBlbGVtZW50cywgb3B0aW9uKSB7XG4gICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBmbi5jYWxsKGVsZW1lbnQsIGluZGV4LCBsZW5ndGgsIGVsZW1lbnRzLCBvcHRpb24pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJWZWxvY2l0eUpTOiBFeGNlcHRpb24gd2hlbiBjYWxsaW5nICdcIiArIG9wdGlvbiArIFwiJyBjYWxsYmFjazpcIiwgZSk7XG4gICAgICB9XG4gIH1cblxuICAvLyBQcm9qZWN0XG4gIC8qKlxuICAgKiBVc2VkIHRvIHBhdGNoIGFueSBvYmplY3QgdG8gYWxsb3cgVmVsb2NpdHkgY2hhaW5pbmcuIEluIG9yZGVyIHRvIGNoYWluIGFuXG4gICAqIG9iamVjdCBtdXN0IGVpdGhlciBiZSB0cmVhdGFibGUgYXMgYW4gYXJyYXkgLSB3aXRoIGEgPGNvZGU+Lmxlbmd0aDwvY29kZT5cbiAgICogcHJvcGVydHksIGFuZCBlYWNoIG1lbWJlciBhIE5vZGUsIG9yIGEgTm9kZSBkaXJlY3RseS5cbiAgICpcbiAgICogQnkgZGVmYXVsdCBWZWxvY2l0eSB3aWxsIHRyeSB0byBwYXRjaCA8Y29kZT53aW5kb3c8L2NvZGU+LFxuICAgKiA8Y29kZT5qUXVlcnk8L2NvZGU+LCA8Y29kZT5aZXB0bzwvY29kZT4sIGFuZCBzZXZlcmFsIGNsYXNzZXMgdGhhdCByZXR1cm5cbiAgICogTm9kZXMgb3IgbGlzdHMgb2YgTm9kZXMuXG4gICAqL1xuICBmdW5jdGlvbiBwYXRjaChwcm90bywgZ2xvYmFsKSB7XG4gICAgICB0cnkge1xuICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEocHJvdG8sIChnbG9iYWwgPyBcIlZcIiA6IFwidlwiKSArIFwiZWxvY2l0eVwiLCBWZWxvY2l0eSQxKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJWZWxvY2l0eUpTOiBFcnJvciB3aGVuIHRyeWluZyB0byBhZGQgcHJvdG90eXBlLlwiLCBlKTtcbiAgICAgIH1cbiAgfVxuXG4gIC8vIFByb2plY3RcbiAgdmFyIFZlbG9jaXR5JDIgPSBWZWxvY2l0eSQxO1xuICAvKipcbiAgICogVGhlc2UgcGFydHMgb2YgVmVsb2NpdHkgYWJzb2x1dGVseSBtdXN0IGJlIGluY2x1ZGVkLCBldmVuIGlmIHRoZXkncmUgdW51c2VkIVxuICAgKi9cbiAgdmFyIFZlbG9jaXR5U3RhdGljJDE7XG4gIChmdW5jdGlvbiAoVmVsb2NpdHlTdGF0aWMpIHtcbiAgICAgIC8qKlxuICAgICAgICogQWN0aW9ucyBjYW5ub3QgYmUgcmVwbGFjZWQgaWYgdGhleSBhcmUgaW50ZXJuYWwgKGhhc093blByb3BlcnR5IGlzIGZhbHNlXG4gICAgICAgKiBidXQgdGhleSBzdGlsbCBleGlzdCkuIE90aGVyd2lzZSB0aGV5IGNhbiBiZSByZXBsYWNlZCBieSB1c2Vycy5cbiAgICAgICAqXG4gICAgICAgKiBBbGwgZXh0ZXJuYWwgbWV0aG9kIGNhbGxzIHNob3VsZCBiZSB1c2luZyBhY3Rpb25zIHJhdGhlciB0aGFuIHN1Yi1jYWxsc1xuICAgICAgICogb2YgVmVsb2NpdHkgaXRzZWxmLlxuICAgICAgICovXG4gICAgICBWZWxvY2l0eVN0YXRpYy5BY3Rpb25zID0gQWN0aW9ucztcbiAgICAgIC8qKlxuICAgICAgICogT3VyIGtub3duIGVhc2luZyBmdW5jdGlvbnMuXG4gICAgICAgKi9cbiAgICAgIFZlbG9jaXR5U3RhdGljLkVhc2luZ3MgPSBFYXNpbmdzO1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgY3VycmVudGx5IHJlZ2lzdGVyZWQgc2VxdWVuY2VzLlxuICAgICAgICovXG4gICAgICBWZWxvY2l0eVN0YXRpYy5TZXF1ZW5jZXMgPSBTZXF1ZW5jZXNPYmplY3Q7XG4gICAgICAvKipcbiAgICAgICAqIEN1cnJlbnQgaW50ZXJuYWwgc3RhdGUgb2YgVmVsb2NpdHkuXG4gICAgICAgKi9cbiAgICAgIFZlbG9jaXR5U3RhdGljLlN0YXRlID0gU3RhdGU7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tc2hhZG93ZWQtdmFyaWFibGVcbiAgICAgIC8qKlxuICAgICAgICogVmVsb2NpdHkgb3B0aW9uIGRlZmF1bHRzLCB3aGljaCBjYW4gYmUgb3ZlcnJpZGVuIGJ5IHRoZSB1c2VyLlxuICAgICAgICovXG4gICAgICBWZWxvY2l0eVN0YXRpYy5kZWZhdWx0cyA9IGRlZmF1bHRzJDE7XG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gcGF0Y2ggYW55IG9iamVjdCB0byBhbGxvdyBWZWxvY2l0eSBjaGFpbmluZy4gSW4gb3JkZXIgdG8gY2hhaW4gYW5cbiAgICAgICAqIG9iamVjdCBtdXN0IGVpdGhlciBiZSB0cmVhdGFibGUgYXMgYW4gYXJyYXkgLSB3aXRoIGEgPGNvZGU+Lmxlbmd0aDwvY29kZT5cbiAgICAgICAqIHByb3BlcnR5LCBhbmQgZWFjaCBtZW1iZXIgYSBOb2RlLCBvciBhIE5vZGUgZGlyZWN0bHkuXG4gICAgICAgKlxuICAgICAgICogQnkgZGVmYXVsdCBWZWxvY2l0eSB3aWxsIHRyeSB0byBwYXRjaCA8Y29kZT53aW5kb3c8L2NvZGU+LFxuICAgICAgICogPGNvZGU+alF1ZXJ5PC9jb2RlPiwgPGNvZGU+WmVwdG88L2NvZGU+LCBhbmQgc2V2ZXJhbCBjbGFzc2VzIHRoYXQgcmV0dXJuXG4gICAgICAgKiBOb2RlcyBvciBsaXN0cyBvZiBOb2Rlcy5cbiAgICAgICAqL1xuICAgICAgVmVsb2NpdHlTdGF0aWMucGF0Y2ggPSBwYXRjaDtcbiAgICAgIC8qKlxuICAgICAgICogU2V0IHRvIHRydWUsIDEgb3IgMiAobW9zdCB2ZXJib3NlKSB0byBvdXRwdXQgZGVidWcgaW5mbyB0byBjb25zb2xlLlxuICAgICAgICovXG4gICAgICBWZWxvY2l0eVN0YXRpYy5kZWJ1ZyA9IGZhbHNlO1xuICAgICAgLyoqXG4gICAgICAgKiBJbiBtb2NrIG1vZGUsIGFsbCBhbmltYXRpb25zIGFyZSBmb3JjZWQgdG8gY29tcGxldGUgaW1tZWRpYXRlbHkgdXBvbiB0aGVcbiAgICAgICAqIG5leHQgckFGIHRpY2suIElmIHRoZXJlIGFyZSBmdXJ0aGVyIGFuaW1hdGlvbnMgcXVldWVkIHRoZW4gdGhleSB3aWxsIGVhY2hcbiAgICAgICAqIHRha2Ugb25lIHNpbmdsZSBmcmFtZSBpbiB0dXJuLiBMb29wcyBhbmQgcmVwZWF0cyB3aWxsIGJlIGRpc2FibGVkIHdoaWxlXG4gICAgICAgKiA8Y29kZT5tb2NrID0gdHJ1ZTwvY29kZT4uXG4gICAgICAgKi9cbiAgICAgIFZlbG9jaXR5U3RhdGljLm1vY2sgPSBmYWxzZTtcbiAgICAgIC8qKlxuICAgICAgICogU2F2ZSBvdXIgdmVyc2lvbiBudW1iZXIgc29tZXdoZXJlIHZpc2libGUuXG4gICAgICAgKi9cbiAgICAgIFZlbG9jaXR5U3RhdGljLnZlcnNpb24gPSBWRVJTSU9OO1xuICAgICAgLyoqXG4gICAgICAgKiBBZGRlZCBhcyBhIGZhbGxiYWNrIGZvciBcImltcG9ydCB7VmVsb2NpdHl9IGZyb20gJ3ZlbG9jaXR5LWFuaW1hdGUnO1wiLlxuICAgICAgICovXG4gICAgICBWZWxvY2l0eVN0YXRpYy5WZWxvY2l0eSA9IFZlbG9jaXR5JDE7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tc2hhZG93ZWQtdmFyaWFibGVcbiAgfSkoVmVsb2NpdHlTdGF0aWMkMSB8fCAoVmVsb2NpdHlTdGF0aWMkMSA9IHt9KSk7XG4gIC8qIElFIGRldGVjdGlvbi4gR2lzdDogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vanVsaWFuc2hhcGlyby85MDk4NjA5ICovXG4gIHZhciBJRSQxID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50TW9kZSkge1xuICAgICAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudE1vZGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAodmFyIGkgPSA3OyBpID4gNDsgaS0tKSB7XG4gICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gXCI8IVwiICsgXCItLVwiICsgXCJbaWYgSUUgXCIgKyBpICsgXCJdPjxzcGFuPjwvc3Bhbj48IVtlbmRpZl0tLT5cIjtcbiAgICAgICAgICAgICAgaWYgKGRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNwYW5cIikubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICBkaXYgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9KCk7XG4gIC8qKioqKioqKioqKioqKioqKipcbiAgIFVuc3VwcG9ydGVkXG4gICAqKioqKioqKioqKioqKioqKiovXG4gIGlmIChJRSQxIDw9IDgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlZlbG9jaXR5SlMgY2Fubm90IHJ1biBvbiBJbnRlcm5ldCBFeHBsb3JlciA4IG9yIGVhcmxpZXJcIik7XG4gIH1cbiAgLyoqKioqKioqKioqKioqKioqKlxuICAgRnJhbWV3b3Jrc1xuICAgKioqKioqKioqKioqKioqKioqL1xuICBpZiAod2luZG93KSB7XG4gICAgICAvKlxuICAgICAgICogQm90aCBqUXVlcnkgYW5kIFplcHRvIGFsbG93IHRoZWlyICQuZm4gb2JqZWN0IHRvIGJlIGV4dGVuZGVkIHRvIGFsbG93XG4gICAgICAgKiB3cmFwcGVkIGVsZW1lbnRzIHRvIGJlIHN1YmplY3RlZCB0byBwbHVnaW4gY2FsbHMuIElmIGVpdGhlciBmcmFtZXdvcmsgaXNcbiAgICAgICAqIGxvYWRlZCwgcmVnaXN0ZXIgYSBcInZlbG9jaXR5XCIgZXh0ZW5zaW9uIHBvaW50aW5nIHRvIFZlbG9jaXR5J3MgY29yZVxuICAgICAgICogYW5pbWF0ZSgpIG1ldGhvZC4gVmVsb2NpdHkgYWxzbyByZWdpc3RlcnMgaXRzZWxmIG9udG8gYSBnbG9iYWwgY29udGFpbmVyXG4gICAgICAgKiAod2luZG93LmpRdWVyeSB8fCB3aW5kb3cuWmVwdG8gfHwgd2luZG93KSBzbyB0aGF0IGNlcnRhaW4gZmVhdHVyZXMgYXJlXG4gICAgICAgKiBhY2Nlc3NpYmxlIGJleW9uZCBqdXN0IGEgcGVyLWVsZW1lbnQgc2NvcGUuIEFjY29yZGluZ2x5LCBWZWxvY2l0eSBjYW5cbiAgICAgICAqIGJvdGggYWN0IG9uIHdyYXBwZWQgRE9NIGVsZW1lbnRzIGFuZCBzdGFuZCBhbG9uZSBmb3IgdGFyZ2V0aW5nIHJhdyBET01cbiAgICAgICAqIGVsZW1lbnRzLlxuICAgICAgICovXG4gICAgICB2YXIgalF1ZXJ5JDEgPSB3aW5kb3cualF1ZXJ5LFxuICAgICAgICAgIFplcHRvJDEgPSB3aW5kb3cuWmVwdG87XG4gICAgICBwYXRjaCh3aW5kb3csIHRydWUpO1xuICAgICAgcGF0Y2goRWxlbWVudCAmJiBFbGVtZW50LnByb3RvdHlwZSk7XG4gICAgICBwYXRjaChOb2RlTGlzdCAmJiBOb2RlTGlzdC5wcm90b3R5cGUpO1xuICAgICAgcGF0Y2goSFRNTENvbGxlY3Rpb24gJiYgSFRNTENvbGxlY3Rpb24ucHJvdG90eXBlKTtcbiAgICAgIHBhdGNoKGpRdWVyeSQxLCB0cnVlKTtcbiAgICAgIHBhdGNoKGpRdWVyeSQxICYmIGpRdWVyeSQxLmZuKTtcbiAgICAgIHBhdGNoKFplcHRvJDEsIHRydWUpO1xuICAgICAgcGF0Y2goWmVwdG8kMSAmJiBaZXB0byQxLmZuKTtcbiAgfVxuICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgdmFsdWVzIHdpdGhpbiBWZWxvY2l0eSBhcmUgcmVhZC1vbmx5IGFuZCB1cGF0Y2hhYmxlLlxuXG4gIHZhciBfbG9vcCQxID0gZnVuY3Rpb24gX2xvb3AocHJvcGVydHkpIHtcbiAgICAgIGlmIChWZWxvY2l0eVN0YXRpYyQxLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHByb3BlcnR5ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YocHJvcGVydHkpKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5JDEoVmVsb2NpdHkkMiwgcHJvcGVydHksIHtcbiAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFZlbG9jaXR5U3RhdGljJDFbcHJvcGVydHldO1xuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgVmVsb2NpdHlTdGF0aWMkMVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkkMShWZWxvY2l0eSQyLCBwcm9wZXJ0eSwgVmVsb2NpdHlTdGF0aWMkMVtwcm9wZXJ0eV0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9O1xuXG4gIGZvciAodmFyIHByb3BlcnR5JDEgaW4gVmVsb2NpdHlTdGF0aWMkMSkge1xuICAgICAgX2xvb3AkMShwcm9wZXJ0eSQxKTtcbiAgfVxuICBPYmplY3QuZnJlZXplKFZlbG9jaXR5JDIpO1xuXG4gIHJldHVybiBWZWxvY2l0eSQyO1xuXG59KSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVsb2NpdHkuanMubWFwXG4iXX0=
